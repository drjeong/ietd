"use strict";import H from"../Core/Globals.js";const{doc,isMS,win}=H;function isHighContrastModeActive(){const isEdge=/(Edg)/.test(win.navigator.userAgent);if(win.matchMedia&&isEdge){return win.matchMedia("(-ms-high-contrast: active)").matches}if(isMS&&win.getComputedStyle){const testDiv=doc.createElement("div");const imageSrc="data:image/gif;base64,"+"R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";testDiv.style.backgroundImage=`url(${imageSrc})`;doc.body.appendChild(testDiv);const bi=(testDiv.currentStyle||win.getComputedStyle(testDiv)).backgroundImage;doc.body.removeChild(testDiv);return bi==="none"}return win.matchMedia&&win.matchMedia("(forced-colors: active)").matches}function setHighContrastTheme(chart){chart.highContrastModeActive=true;const theme=chart.options.accessibility.highContrastTheme;chart.update(theme,false);const hasCustomColors=theme.colors?.length>1;chart.series.forEach(function(s){const plotOpts=theme.plotOptions[s.type]||{};const fillColor=hasCustomColors&&s.colorIndex!==void 0?theme.colors[s.colorIndex]:plotOpts.color||"window";const seriesOptions={color:plotOpts.color||"windowText",colors:hasCustomColors?theme.colors:[plotOpts.color||"windowText"],borderColor:plotOpts.borderColor||"window",fillColor:fillColor};s.update(seriesOptions,false);if(s.points){s.points.forEach(function(p){if(p.options&&p.options.color){p.update({color:plotOpts.color||"windowText",borderColor:plotOpts.borderColor||"window"},false)}})}});chart.redraw()}const whcm={isHighContrastModeActive:isHighContrastModeActive,setHighContrastTheme:setHighContrastTheme};export default whcm;