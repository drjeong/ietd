"use strict";import AST from"../../Core/Renderer/HTML/AST.js";import NoDataDefaults from"./NoDataDefaults.js";import U from"../../Core/Utilities.js";const{addEvent,extend,merge}=U;function chartHasData(){const chart=this,series=chart.series||[];let i=series.length;while(i--){if(series[i].hasData()&&!series[i].options.isInternal){return true}}return chart.loadingShown}function chartHideNoData(){const chart=this;if(chart.noDataLabel){chart.noDataLabel=chart.noDataLabel.destroy()}}function chartShowNoData(str){const chart=this,options=chart.options,text=str||options&&options.lang.noData||"",noDataOptions=options&&(options.noData||{});if(chart.renderer){if(!chart.noDataLabel){chart.noDataLabel=chart.renderer.label(text,0,0,void 0,void 0,void 0,noDataOptions.useHTML,void 0,"no-data").add()}if(!chart.styledMode){chart.noDataLabel.attr(AST.filterUserAttributes(noDataOptions.attr||{})).css(noDataOptions.style||{})}chart.noDataLabel.align(extend(chart.noDataLabel.getBBox(),noDataOptions.position||{}),false,"plotBox")}}function compose(ChartClass,highchartsDefaultOptions){const chartProto=ChartClass.prototype;if(!chartProto.showNoData){chartProto.hasData=chartHasData;chartProto.hideNoData=chartHideNoData;chartProto.showNoData=chartShowNoData;addEvent(ChartClass,"render",onChartRender);merge(true,highchartsDefaultOptions,NoDataDefaults)}}function onChartRender(){const chart=this;if(chart.hasData()){chart.hideNoData()}else{chart.showNoData()}}const NoDataToDisplay={compose:compose};export default NoDataToDisplay;