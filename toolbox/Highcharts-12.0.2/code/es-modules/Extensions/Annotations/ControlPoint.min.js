"use strict";import EventEmitter from"./EventEmitter.js";import U from"../../Core/Utilities.js";const{merge,pick}=U;class ControlPoint extends EventEmitter{constructor(chart,target,options,index){super();this.nonDOMEvents=["drag"];this.chart=chart;this.target=target;this.options=options;this.index=pick(options.index,index)}destroy(){super.destroy();if(this.graphic){this.graphic=this.graphic.destroy()}this.chart=null;this.target=null;this.options=null}redraw(animation){this.graphic[animation?"animate":"attr"](this.options.positioner.call(this,this.target))}render(){const chart=this.chart,options=this.options;this.graphic=chart.renderer.symbol(options.symbol,0,0,options.width,options.height).add(chart.controlPointsGroup).css(options.style);this.setVisibility(options.visible);this.addEvents()}setVisibility(visible){this.graphic[visible?"show":"hide"]();this.options.visible=visible}update(userOptions){const chart=this.chart,target=this.target,index=this.index,options=merge(true,this.options,userOptions);this.destroy();this.constructor(chart,target,options,index);this.render(chart.controlPointsGroup);this.redraw()}}export default ControlPoint;"";