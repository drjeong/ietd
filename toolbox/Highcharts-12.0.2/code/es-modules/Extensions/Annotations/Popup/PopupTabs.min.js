"use strict";import H from"../../../Core/Globals.js";const{doc}=H;import U from"../../../Core/Utilities.js";const{addEvent,createElement}=U;function addContentItem(){const popupDiv=this.container;return createElement("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,popupDiv)}function addMenuItem(tabName,disableTab){const popupDiv=this.container,lang=this.lang;let className="highcharts-tab-item";if(disableTab===0){className+=" highcharts-tab-disabled"}const menuItem=createElement("button",{className:className},void 0,popupDiv);menuItem.appendChild(doc.createTextNode(lang[tabName+"Button"]||tabName));menuItem.setAttribute("highcharts-data-tab-type",tabName);return menuItem}function deselectAll(){const popupDiv=this.container,tabs=popupDiv.querySelectorAll(".highcharts-tab-item"),tabsContent=popupDiv.querySelectorAll(".highcharts-tab-item-content");for(let i=0;i<tabs.length;i++){tabs[i].classList.remove("highcharts-tab-item-active");tabsContent[i].classList.remove("highcharts-tab-item-show")}}function init(chart){if(!chart){return}const indicatorsCount=this.indicators.getAmount.call(chart);const firstTab=addMenuItem.call(this,"add");addMenuItem.call(this,"edit",indicatorsCount);addContentItem.call(this);addContentItem.call(this);switchTabs.call(this,indicatorsCount);selectTab.call(this,firstTab,0)}function selectTab(tab,index){const allTabs=this.container.querySelectorAll(".highcharts-tab-item-content");tab.className+=" highcharts-tab-item-active";allTabs[index].className+=" highcharts-tab-item-show"}function switchTabs(disableTab){const popup=this,popupDiv=this.container,tabs=popupDiv.querySelectorAll(".highcharts-tab-item");tabs.forEach((tab,i)=>{if(disableTab===0&&tab.getAttribute("highcharts-data-tab-type")==="edit"){return}["click","touchstart"].forEach(eventName=>{addEvent(tab,eventName,function(){deselectAll.call(popup);selectTab.call(popup,this,i)})})})}const PopupTabs={init:init};export default PopupTabs;