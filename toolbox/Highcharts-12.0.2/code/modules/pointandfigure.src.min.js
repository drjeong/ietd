(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"],root["_Highcharts"]["RendererRegistry"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/pointandfigure",["highcharts/highcharts"],function(amd1){return factory(amd1,amd1["SeriesRegistry"],amd1["RendererRegistry"])});else if(typeof exports==="object")exports["highcharts/modules/pointandfigure"]=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"],root["_Highcharts"]["RendererRegistry"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["SeriesRegistry"],root["Highcharts"]["RendererRegistry"])})(typeof window==="undefined"?this:window,(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__512__,__WEBPACK_EXTERNAL_MODULE__608__)=>{return(()=>{"use strict";var __webpack_modules__={608:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__608__},512:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}(()=>{__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module["default"]:()=>module;__webpack_require__.d(getter,{a:getter});return getter}})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:()=>pointandfigure_src});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);const{seriesTypes:{scatter:{prototype:{pointClass:ScatterPoint}}}}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default();class PointAndFigurePoint extends ScatterPoint{resolveMarker(){const seriesOptions=this.series.options;this.marker=this.options.marker=this.upTrend?seriesOptions.markerUp:seriesOptions.marker;this.color=this.options.marker.lineColor}resolveColor(){super.resolveColor();this.resolveMarker()}getClassName(){return super.getClassName.call(this)+(this.upTrend?" highcharts-point-up":" highcharts-point-down")}}const PointAndFigure_PointAndFigurePoint=PointAndFigurePoint;const PointAndFigureSeriesDefaults={boxSize:"1%",reversalAmount:3,tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> '+"<b> {series.name}</b><br/>"+"Close: {point.y:.2f}<br/>",headerFormat:""},turboThreshold:0,groupPadding:.2,pointPadding:.1,pointRange:null,dataGrouping:{enabled:false},markerUp:{symbol:"cross",lineColor:"#00FF00",lineWidth:2},marker:{symbol:"circle",fillColor:"transparent",lineColor:"#FF0000",lineWidth:2},legendSymbol:"lineMarker"};"";const PointAndFigure_PointAndFigureSeriesDefaults=PointAndFigureSeriesDefaults;var highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_=__webpack_require__(608);var highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_default=__webpack_require__.n(highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_);var PointAndFigureSymbols;(function(PointAndFigureSymbols){const modifiedMembers=[];function compose(SVGRendererClass){if(modifiedMembers.indexOf(SVGRendererClass)===-1){modifiedMembers.push(SVGRendererClass);const symbols=SVGRendererClass.prototype.symbols;symbols.cross=cross}const RendererClass=highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_default().getRendererType();if(modifiedMembers.indexOf(RendererClass)){modifiedMembers.push(RendererClass)}}PointAndFigureSymbols.compose=compose;function cross(x,y,w,h){return[["M",x,y],["L",x+w,y+h],["M",x+w,y],["L",x,y+h],["Z"]]}})(PointAndFigureSymbols||(PointAndFigureSymbols={}));const PointAndFigure_PointAndFigureSymbols=PointAndFigureSymbols;const{composed}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{scatter:ScatterSeries,column:{prototype:columnProto}}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{extend,merge,pushUnique,isNumber,relativeLength}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class PointAndFigureSeries extends ScatterSeries{constructor(){super(...arguments);this.allowDG=false}static compose(SVGRendererClass){if(pushUnique(composed,"pointandfigure")){PointAndFigure_PointAndFigureSymbols.compose(SVGRendererClass)}}init(){super.init.apply(this,arguments);this.pnfDataGroups=[]}getProcessedData(){if(!this.pnfDataGroups){return{modified:this.dataTable.modified,cropped:false,cropStart:0,closestPointRange:1}}const series=this,modified=this.dataTable.modified,options=series.options,xData=series.getColumn("x",true),yData=series.getColumn("y",true),boxSize=options.boxSize,calculatedBoxSize=isNumber(boxSize)?boxSize:relativeLength(boxSize,yData[0]),pnfDataGroups=series.pnfDataGroups,reversal=calculatedBoxSize*options.reversalAmount;series.calculatedBoxSize=calculatedBoxSize;let upTrend;function getLastPoint(pnfDataGroups){const y=pnfDataGroups[pnfDataGroups.length-1].y;return y[y.length-1]}function pushNewPoint(y,upTrend,lastPoint){const currPointGroup=pnfDataGroups[pnfDataGroups.length-1],flipFactor=upTrend?1:-1,times=Math.floor(flipFactor*(y-lastPoint)/calculatedBoxSize);for(let i=1;i<=times;i++){const newPoint=lastPoint+flipFactor*(calculatedBoxSize*i);currPointGroup.y.push(newPoint)}}if(this.isDirtyData||pnfDataGroups.length===0){this.pnfDataGroups.length=0;for(let i=0;i<yData.length;i++){const x=xData[i],close=yData[i],firstPoint=yData[0];if(close-firstPoint>=calculatedBoxSize){upTrend=true;pnfDataGroups.push({x:x,y:[close],upTrend:upTrend});break}if(firstPoint-close>=calculatedBoxSize){upTrend=false;pnfDataGroups.push({x:x,y:[close],upTrend:upTrend});break}}yData.forEach((close,i)=>{const x=xData[i],lastPoint=getLastPoint(pnfDataGroups);if(upTrend){if(close-lastPoint>=calculatedBoxSize){pushNewPoint(close,upTrend,lastPoint)}if(lastPoint-close>=reversal){upTrend=false;pnfDataGroups.push({x:x,y:[],upTrend:upTrend});pushNewPoint(close,upTrend,lastPoint)}}if(!upTrend){if(lastPoint-close>=calculatedBoxSize){pushNewPoint(close,upTrend,lastPoint)}if(close-lastPoint>=reversal){upTrend=true;pnfDataGroups.push({x:x,y:[],upTrend:upTrend});pushNewPoint(close,upTrend,lastPoint)}}})}const finalData=[];const processedXData=[];const processedYData=[];pnfDataGroups.forEach(point=>{const x=point.x,upTrend=point.upTrend;point.y.forEach(y=>{processedXData.push(x);processedYData.push(y);finalData.push({x:x,y:y,upTrend:upTrend})})});modified.setColumn("x",processedXData);modified.setColumn("y",processedYData);series.pnfDataGroups=pnfDataGroups;series.processedData=finalData;return{modified:modified,cropped:false,cropStart:0,closestPointRange:1}}markerAttribs(point){const series=this,options=series.options,attribs={},pos=point.pos();attribs.width=series.markerWidth;attribs.height=series.markerHeight;if(pos&&attribs.width&&attribs.height){attribs.x=pos[0]-Math.round(attribs.width)/2;attribs.y=pos[1]-Math.round(attribs.height)/2}if(options.crisp&&attribs.x){attribs.x=Math.floor(attribs.x)}return attribs}translate(){const metrics=this.getColumnMetrics(),calculatedBoxSize=this.calculatedBoxSize;this.markerWidth=metrics.width+metrics.paddedWidth+metrics.offset;this.markerHeight=this.yAxis.toPixels(0)-this.yAxis.toPixels(calculatedBoxSize);super.translate()}}PointAndFigureSeries.defaultOptions=merge(ScatterSeries.defaultOptions,PointAndFigure_PointAndFigureSeriesDefaults);extend(PointAndFigureSeries.prototype,{takeOrdinalPosition:true,pnfDataGroups:[],getColumnMetrics:columnProto.getColumnMetrics,pointClass:PointAndFigure_PointAndFigurePoint,sorted:true});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("pointandfigure",PointAndFigureSeries);const PointAndFigure_PointAndFigureSeries=PointAndFigureSeries;const G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();PointAndFigure_PointAndFigureSeries.compose(G.Renderer);const pointandfigure_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__})()});