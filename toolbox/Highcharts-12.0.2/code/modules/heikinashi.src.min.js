(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/heikinashi",["highcharts/highcharts"],function(amd1){return factory(amd1,amd1["SeriesRegistry"])});else if(typeof exports==="object")exports["highcharts/modules/heikinashi"]=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["SeriesRegistry"])})(typeof window==="undefined"?this:window,(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__512__)=>{return(()=>{"use strict";var __webpack_modules__={512:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}(()=>{__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module["default"]:()=>module;__webpack_require__.d(getter,{a:getter});return getter}})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:()=>heikinashi_src});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);const{candlestick:{prototype:{pointClass:CandlestickPoint}},hlc:{prototype:{pointClass:HLCPoint}}}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;class HeikinAshiPoint extends CandlestickPoint{}const HeikinAshi_HeikinAshiPoint=HeikinAshiPoint;const HeikinAshiDefaults={dataGrouping:{groupAll:true}};"";const HeikinAshiSeriesDefaults=HeikinAshiDefaults;const{composed}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{candlestick:CandlestickSeries}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{addEvent,merge,pushUnique}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function onAxisPostProcessData(){const series=this.series;series.forEach(series=>{if(series.is("heikinashi")){const heikinashiSeries=series;heikinashiSeries.heikiashiData.length=0;heikinashiSeries.getHeikinashiData()}})}function onHeikinAshiSeriesAfterTranslate(){const series=this,points=series.points,heikiashiData=series.heikiashiData,cropStart=series.cropStart||0;for(let i=0;i<points.length;i++){const point=points[i],heikiashiDataPoint=heikiashiData[i+cropStart];point.open=heikiashiDataPoint[0];point.high=heikiashiDataPoint[1];point.low=heikiashiDataPoint[2];point.close=heikiashiDataPoint[3]}}function onHeikinAshiSeriesUpdatedData(){if(this.heikiashiData.length){this.heikiashiData.length=0}}class HeikinAshiSeries extends CandlestickSeries{constructor(){super(...arguments);this.heikiashiData=[]}static compose(SeriesClass,AxisClass){CandlestickSeries.compose(SeriesClass);if(pushUnique(composed,"HeikinAshi")){addEvent(AxisClass,"postProcessData",onAxisPostProcessData);addEvent(HeikinAshiSeries,"afterTranslate",onHeikinAshiSeriesAfterTranslate);addEvent(HeikinAshiSeries,"updatedData",onHeikinAshiSeriesUpdatedData)}}getHeikinashiData(){const series=this,table=series.allGroupedTable||series.dataTable,dataLength=table.rowCount,heikiashiData=series.heikiashiData;if(!heikiashiData.length&&dataLength){this.modifyFirstPointValue(table.getRow(0,this.pointArrayMap));for(let i=1;i<dataLength;i++){this.modifyDataPoint(table.getRow(i,this.pointArrayMap),heikiashiData[i-1])}}series.heikiashiData=heikiashiData}init(){super.init.apply(this,arguments);this.heikiashiData=[]}modifyFirstPointValue(dataPoint){const open=(dataPoint[0]+dataPoint[1]+dataPoint[2]+dataPoint[3])/4,close=(dataPoint[0]+dataPoint[3])/2;this.heikiashiData.push([open,dataPoint[1],dataPoint[2],close])}modifyDataPoint(dataPoint,previousDataPoint){const newOpen=(previousDataPoint[0]+previousDataPoint[3])/2,newClose=(dataPoint[0]+dataPoint[1]+dataPoint[2]+dataPoint[3])/4,newHigh=Math.max(dataPoint[1],newClose,newOpen),newLow=Math.min(dataPoint[2],newClose,newOpen);this.heikiashiData.push([newOpen,newHigh,newLow,newClose])}}HeikinAshiSeries.defaultOptions=merge(CandlestickSeries.defaultOptions,HeikinAshiSeriesDefaults);HeikinAshiSeries.prototype.pointClass=HeikinAshi_HeikinAshiPoint;highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("heikinashi",HeikinAshiSeries);const HeikinAshi_HeikinAshiSeries=HeikinAshiSeries;const G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();HeikinAshi_HeikinAshiSeries.compose(G.Series,G.Axis);const heikinashi_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__})()});