(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(root["_Highcharts"],root["_Highcharts"]["Templating"],root["_Highcharts"]["AST"],root["_Highcharts"]["Legend"],root["_Highcharts"]["Axis"],root["_Highcharts"]["Color"],root["_Highcharts"]["SeriesRegistry"],root["_Highcharts"]["RendererRegistry"],root["_Highcharts"]["SVGRenderer"],root["_Highcharts"]["Point"],root["_Highcharts"]["Series"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/accessibility",["highcharts/highcharts"],function(amd1){return factory(amd1,amd1["Templating"],amd1["AST"],amd1["Legend"],amd1["Axis"],amd1["Color"],amd1["SeriesRegistry"],amd1["RendererRegistry"],amd1["SVGRenderer"],amd1["Point"],amd1["Series"])});else if(typeof exports==="object")exports["highcharts/modules/accessibility"]=factory(root["_Highcharts"],root["_Highcharts"]["Templating"],root["_Highcharts"]["AST"],root["_Highcharts"]["Legend"],root["_Highcharts"]["Axis"],root["_Highcharts"]["Color"],root["_Highcharts"]["SeriesRegistry"],root["_Highcharts"]["RendererRegistry"],root["_Highcharts"]["SVGRenderer"],root["_Highcharts"]["Point"],root["_Highcharts"]["Series"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["Templating"],root["Highcharts"]["AST"],root["Highcharts"]["Legend"],root["Highcharts"]["Axis"],root["Highcharts"]["Color"],root["Highcharts"]["SeriesRegistry"],root["Highcharts"]["RendererRegistry"],root["Highcharts"]["SVGRenderer"],root["Highcharts"]["Point"],root["Highcharts"]["Series"])})(typeof window==="undefined"?this:window,(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__984__,__WEBPACK_EXTERNAL_MODULE__660__,__WEBPACK_EXTERNAL_MODULE__632__,__WEBPACK_EXTERNAL_MODULE__532__,__WEBPACK_EXTERNAL_MODULE__620__,__WEBPACK_EXTERNAL_MODULE__512__,__WEBPACK_EXTERNAL_MODULE__608__,__WEBPACK_EXTERNAL_MODULE__540__,__WEBPACK_EXTERNAL_MODULE__260__,__WEBPACK_EXTERNAL_MODULE__820__)=>{return(()=>{"use strict";var __webpack_modules__={660:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__660__},532:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__532__},620:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__620__},632:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__632__},260:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__260__},608:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__608__},540:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__540__},820:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__820__},512:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__512__},984:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__984__},944:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}(()=>{__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module["default"]:()=>module;__webpack_require__.d(getter,{a:getter});return getter}})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:()=>accessibility_src});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);const{doc,win}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{css}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const simulatedEventTarget=win.EventTarget&&new win.EventTarget||"none";function addClass(el,className){if(el.classList){el.classList.add(className)}else if(el.className.indexOf(className)<0){el.className+=" "+className}}function removeClass(el,className){if(el.classList){el.classList.remove(className)}else{el.className=el.className.replace(new RegExp(className,"g"),"")}}function cloneMouseEvent(e){if(typeof win.MouseEvent==="function"){return new win.MouseEvent(e.type,e)}if(doc.createEvent){const evt=doc.createEvent("MouseEvent");if(evt.initMouseEvent){evt.initMouseEvent(e.type,e.bubbles,e.cancelable,e.view||win,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);return evt}}return getFakeMouseEvent(e.type)}function cloneTouchEvent(e){const touchListToTouchArray=l=>{const touchArray=[];for(let i=0;i<l.length;++i){const item=l.item(i);if(item){touchArray.push(item)}}return touchArray};if(typeof win.TouchEvent==="function"){const newEvent=new win.TouchEvent(e.type,{touches:touchListToTouchArray(e.touches),targetTouches:touchListToTouchArray(e.targetTouches),changedTouches:touchListToTouchArray(e.changedTouches),ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed,detail:e.detail,view:e.view});if(e.defaultPrevented){newEvent.preventDefault()}return newEvent}const fakeEvt=cloneMouseEvent(e);fakeEvt.touches=e.touches;fakeEvt.changedTouches=e.changedTouches;fakeEvt.targetTouches=e.targetTouches;return fakeEvt}function escapeStringForHTML(str){return str.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function getElement(id){return doc.getElementById(id)}function getFakeMouseEvent(type,position,relatedTarget){const pos=position||{x:0,y:0};if(typeof win.MouseEvent==="function"){return new win.MouseEvent(type,{bubbles:true,cancelable:true,composed:true,button:0,buttons:1,relatedTarget:relatedTarget||simulatedEventTarget,view:win,detail:type==="click"?1:0,screenX:pos.x,screenY:pos.y,clientX:pos.x,clientY:pos.y})}if(doc.createEvent){const evt=doc.createEvent("MouseEvent");if(evt.initMouseEvent){evt.initMouseEvent(type,true,true,win,type==="click"?1:0,pos.x,pos.y,pos.x,pos.y,false,false,false,false,0,null);return evt}}return{type:type}}function getHeadingTagNameForElement(element){const getIncreasedHeadingLevel=tagName=>{const headingLevel=parseInt(tagName.slice(1),10),newLevel=Math.min(6,headingLevel+1);return"h"+newLevel};const isHeading=tagName=>/^H[1-6]$/i.test(tagName);const getPreviousSiblingsHeading=el=>{let sibling=el;while(sibling=sibling.previousSibling){const tagName=sibling.tagName||"";if(isHeading(tagName)){return tagName}}return""};const getHeadingRecursive=el=>{const prevSiblingsHeading=getPreviousSiblingsHeading(el);if(prevSiblingsHeading){return getIncreasedHeadingLevel(prevSiblingsHeading)}const parent=el.parentElement;if(!parent){return"h6"}const parentTagName=parent.tagName;if(isHeading(parentTagName)){return getIncreasedHeadingLevel(parentTagName)}return getHeadingRecursive(parent)};return getHeadingRecursive(element)}function removeElement(element){if(element&&element.parentNode){element.parentNode.removeChild(element)}}function removeChildNodes(element){while(element.lastChild){element.removeChild(element.lastChild)}}function reverseChildNodes(node){let i=node.childNodes.length;while(i--){node.appendChild(node.childNodes[i])}}function stripHTMLTagsFromString(str,isForExport=false){return typeof str==="string"?isForExport?str.replace(/<\/?[^>]+(>|$)/g,""):str.replace(/<\/?(?!\s)[^>]+(>|$)/g,""):str}function visuallyHideElement(element){css(element,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}const HTMLUtilities={addClass:addClass,cloneMouseEvent:cloneMouseEvent,cloneTouchEvent:cloneTouchEvent,escapeStringForHTML:escapeStringForHTML,getElement:getElement,getFakeMouseEvent:getFakeMouseEvent,getHeadingTagNameForElement:getHeadingTagNameForElement,removeChildNodes:removeChildNodes,removeClass:removeClass,removeElement:removeElement,reverseChildNodes:reverseChildNodes,simulatedEventTarget:simulatedEventTarget,stripHTMLTagsFromString:stripHTMLTagsFromString,visuallyHideElement:visuallyHideElement};const Utils_HTMLUtilities=HTMLUtilities;var highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_=__webpack_require__(984);var highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_default=__webpack_require__.n(highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_);const{format}=highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_default();const{getNestedProperty,pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();var A11yI18nComposition;(function(A11yI18nComposition){function compose(ChartClass){const chartProto=ChartClass.prototype;if(!chartProto.langFormat){chartProto.langFormat=langFormat}}A11yI18nComposition.compose=compose;function formatExtendedStatement(statement,ctx){const eachStart=statement.indexOf("#each("),pluralStart=statement.indexOf("#plural("),indexStart=statement.indexOf("["),indexEnd=statement.indexOf("]");let arr,result;if(eachStart>-1){const eachEnd=statement.slice(eachStart).indexOf(")")+eachStart,preEach=statement.substring(0,eachStart),postEach=statement.substring(eachEnd+1),eachStatement=statement.substring(eachStart+6,eachEnd),eachArguments=eachStatement.split(",");let lenArg=Number(eachArguments[1]),len;result="";arr=getNestedProperty(eachArguments[0],ctx);if(arr){lenArg=isNaN(lenArg)?arr.length:lenArg;len=lenArg<0?arr.length+lenArg:Math.min(lenArg,arr.length);for(let i=0;i<len;++i){result+=preEach+arr[i]+postEach}}return result.length?result:""}if(pluralStart>-1){const pluralEnd=statement.slice(pluralStart).indexOf(")")+pluralStart,pluralStatement=statement.substring(pluralStart+8,pluralEnd),pluralArguments=pluralStatement.split(","),num=Number(getNestedProperty(pluralArguments[0],ctx));switch(num){case 0:result=pick(pluralArguments[4],pluralArguments[1]);break;case 1:result=pick(pluralArguments[2],pluralArguments[1]);break;case 2:result=pick(pluralArguments[3],pluralArguments[1]);break;default:result=pluralArguments[1]}return result?stringTrim(result):""}if(indexStart>-1){const arrayName=statement.substring(0,indexStart),ix=Number(statement.substring(indexStart+1,indexEnd));let val;arr=getNestedProperty(arrayName,ctx);if(!isNaN(ix)&&arr){if(ix<0){val=arr[arr.length+ix];if(typeof val==="undefined"){val=arr[0]}}else{val=arr[ix];if(typeof val==="undefined"){val=arr[arr.length-1]}}}return typeof val!=="undefined"?val:""}return"{"+statement+"}"}function i18nFormat(formatString,context,chart){const getFirstBracketStatement=(sourceStr,offset)=>{const str=sourceStr.slice(offset||0),startBracket=str.indexOf("{"),endBracket=str.indexOf("}");if(startBracket>-1&&endBracket>startBracket){return{statement:str.substring(startBracket+1,endBracket),begin:offset+startBracket+1,end:offset+endBracket}}},tokens=[];let bracketRes,constRes,cursor=0;do{bracketRes=getFirstBracketStatement(formatString,cursor);constRes=formatString.substring(cursor,bracketRes&&bracketRes.begin-1);if(constRes.length){tokens.push({value:constRes,type:"constant"})}if(bracketRes){tokens.push({value:bracketRes.statement,type:"statement"})}cursor=bracketRes?bracketRes.end+1:cursor+1}while(bracketRes);tokens.forEach(token=>{if(token.type==="statement"){token.value=formatExtendedStatement(token.value,context)}});return format(tokens.reduce((acc,cur)=>acc+cur.value,""),context,chart)}A11yI18nComposition.i18nFormat=i18nFormat;function langFormat(langKey,context){const keys=langKey.split(".");let formatString=this.options.lang,i=0;for(;i<keys.length;++i){formatString=formatString&&formatString[keys[i]]}return typeof formatString==="string"?i18nFormat(formatString,context,this):""}function stringTrim(str){return str.trim&&str.trim()||str.replace(/^\s+|\s+$/g,"")}})(A11yI18nComposition||(A11yI18nComposition={}));const A11yI18n=A11yI18nComposition;const{doc:ChartUtilities_doc}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{stripHTMLTagsFromString:stripHTMLTags}=Utils_HTMLUtilities;const{defined,find,fireEvent}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function fireEventOnWrappedOrUnwrappedElement(el,eventObject){const type=eventObject.type;const hcEvents=el.hcEvents;if(!!ChartUtilities_doc.createEvent&&(el.dispatchEvent||el.fireEvent)){if(el.dispatchEvent){el.dispatchEvent(eventObject)}else{el.fireEvent(type,eventObject)}}else if(hcEvents&&hcEvents[type]){fireEvent(el,type,eventObject)}else if(el.element){fireEventOnWrappedOrUnwrappedElement(el.element,eventObject)}}function getChartTitle(chart){return stripHTMLTags(chart.options.title.text||chart.langFormat("accessibility.defaultChartTitle",{chart:chart}),chart.renderer.forExport)}function getAxisDescription(axis){return axis&&(axis.options.accessibility?.description||axis.axisTitle?.textStr||axis.options.id||axis.categories&&"categories"||axis.dateTime&&"Time"||"values")}function getAxisRangeDescription(axis){const axisOptions=axis.options||{};if(axisOptions.accessibility&&typeof axisOptions.accessibility.rangeDescription!=="undefined"){return axisOptions.accessibility.rangeDescription}if(axis.categories){return getCategoryAxisRangeDesc(axis)}if(axis.dateTime&&(axis.min===0||axis.dataMin===0)){return getAxisTimeLengthDesc(axis)}return getAxisFromToDescription(axis)}function getCategoryAxisRangeDesc(axis){const chart=axis.chart;if(axis.dataMax&&axis.dataMin){return chart.langFormat("accessibility.axis.rangeCategories",{chart:chart,axis:axis,numCategories:axis.dataMax-axis.dataMin+1})}return""}function getAxisTimeLengthDesc(axis){const chart=axis.chart,range={},min=axis.dataMin||axis.min||0,max=axis.dataMax||axis.max||0;let rangeUnit="Seconds";range.Seconds=(max-min)/1e3;range.Minutes=range.Seconds/60;range.Hours=range.Minutes/60;range.Days=range.Hours/24;["Minutes","Hours","Days"].forEach(function(unit){if(range[unit]>2){rangeUnit=unit}});const rangeValue=range[rangeUnit].toFixed(rangeUnit!=="Seconds"&&rangeUnit!=="Minutes"?1:0);return chart.langFormat("accessibility.axis.timeRange"+rangeUnit,{chart:chart,axis:axis,range:rangeValue.replace(".0","")})}function getAxisFromToDescription(axis){const chart=axis.chart,options=chart.options,dateRangeFormat=options&&options.accessibility&&options.accessibility.screenReaderSection.axisRangeDateFormat||"",extremes={min:axis.dataMin||axis.min||0,max:axis.dataMax||axis.max||0},format=function(key){return axis.dateTime?chart.time.dateFormat(dateRangeFormat,extremes[key]):extremes[key].toString()};return chart.langFormat("accessibility.axis.rangeFromTo",{chart:chart,axis:axis,rangeFrom:format("min"),rangeTo:format("max")})}function getSeriesFirstPointElement(series){if(series.points&&series.points.length){const firstPointWithGraphic=find(series.points,p=>!!p.graphic);return firstPointWithGraphic&&firstPointWithGraphic.graphic&&firstPointWithGraphic.graphic.element}}function getSeriesA11yElement(series){const firstPointEl=getSeriesFirstPointElement(series);return firstPointEl&&firstPointEl.parentNode||series.graph&&series.graph.element||series.group&&series.group.element}function unhideChartElementFromAT(chart,element){element.setAttribute("aria-hidden",false);if(element===chart.renderTo||!element.parentNode||element.parentNode===ChartUtilities_doc.body){return}Array.prototype.forEach.call(element.parentNode.childNodes,function(node){if(!node.hasAttribute("aria-hidden")){node.setAttribute("aria-hidden",true)}});unhideChartElementFromAT(chart,element.parentNode)}function hideSeriesFromAT(series){const seriesEl=getSeriesA11yElement(series);if(seriesEl){seriesEl.setAttribute("aria-hidden",true)}}function getSeriesFromName(chart,name){if(!name){return chart.series}return(chart.series||[]).filter(function(s){return s.name===name})}function getPointFromXY(series,x,y){let i=series.length,res;while(i--){res=find(series[i].points||[],function(p){return p.x===x&&p.y===y});if(res){return res}}}function getRelativePointAxisPosition(axis,point){if(!defined(axis.dataMin)||!defined(axis.dataMax)){return 0}const axisStart=axis.toPixels(axis.dataMin),axisEnd=axis.toPixels(axis.dataMax),positionProp=axis.coll==="xAxis"?"x":"y",pointPos=axis.toPixels(point[positionProp]||0);return(pointPos-axisStart)/(axisEnd-axisStart)}function scrollAxisToPoint(point){const xAxis=point.series.xAxis,yAxis=point.series.yAxis,axis=xAxis&&xAxis.scrollbar?xAxis:yAxis,scrollbar=axis&&axis.scrollbar;if(scrollbar&&defined(scrollbar.to)&&defined(scrollbar.from)){const range=scrollbar.to-scrollbar.from;const pos=getRelativePointAxisPosition(axis,point);scrollbar.updatePosition(pos-range/2,pos+range/2);fireEvent(scrollbar,"changed",{from:scrollbar.from,to:scrollbar.to,trigger:"scrollbar",DOMEvent:null})}}const ChartUtilities={fireEventOnWrappedOrUnwrappedElement:fireEventOnWrappedOrUnwrappedElement,getChartTitle:getChartTitle,getAxisDescription:getAxisDescription,getAxisRangeDescription:getAxisRangeDescription,getPointFromXY:getPointFromXY,getSeriesFirstPointElement:getSeriesFirstPointElement,getSeriesFromName:getSeriesFromName,getSeriesA11yElement:getSeriesA11yElement,unhideChartElementFromAT:unhideChartElementFromAT,hideSeriesFromAT:hideSeriesFromAT,scrollAxisToPoint:scrollAxisToPoint};const Utils_ChartUtilities=ChartUtilities;const{doc:DOMElementProvider_doc}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{removeElement:DOMElementProvider_removeElement}=Utils_HTMLUtilities;class DOMElementProvider{constructor(){this.elements=[]}createElement(){const el=DOMElementProvider_doc.createElement.apply(DOMElementProvider_doc,arguments);this.elements.push(el);return el}removeElement(element){DOMElementProvider_removeElement(element);this.elements.splice(this.elements.indexOf(element),1)}destroyCreatedElements(){this.elements.forEach(function(element){DOMElementProvider_removeElement(element)});this.elements=[]}}const Utils_DOMElementProvider=DOMElementProvider;const{addEvent}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class EventProvider{constructor(){this.eventRemovers=[]}addEvent(){const remover=addEvent.apply(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default(),arguments);this.eventRemovers.push({element:arguments[0],remover:remover});return remover}removeEvent(event){const pos=this.eventRemovers.map(e=>e.remover).indexOf(event);this.eventRemovers[pos].remover();this.eventRemovers.splice(pos,1)}removeAddedEvents(){this.eventRemovers.map(e=>e.remover).forEach(remover=>remover());this.eventRemovers=[]}}const Utils_EventProvider=EventProvider;const{fireEventOnWrappedOrUnwrappedElement:AccessibilityComponent_fireEventOnWrappedOrUnwrappedElement}=Utils_ChartUtilities;const{getFakeMouseEvent:AccessibilityComponent_getFakeMouseEvent}=Utils_HTMLUtilities;class AccessibilityComponent{destroy(){}getKeyboardNavigation(){return[]}init(){}onChartRender(){}onChartUpdate(){}initBase(chart,proxyProvider){this.chart=chart;this.eventProvider=new Utils_EventProvider;this.domElementProvider=new Utils_DOMElementProvider;this.proxyProvider=proxyProvider;this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(el,type,fn,options){return this.eventProvider.addEvent(el,type,fn,options)}createElement(tagName,options){return this.domElementProvider.createElement(tagName,options)}fakeClickEvent(el){const fakeEvent=AccessibilityComponent_getFakeMouseEvent("click");AccessibilityComponent_fireEventOnWrappedOrUnwrappedElement(el,fakeEvent)}destroyBase(){this.domElementProvider.destroyCreatedElements();this.eventProvider.removeAddedEvents()}}const Accessibility_AccessibilityComponent=AccessibilityComponent;const{find:KeyboardNavigationHandler_find}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class KeyboardNavigationHandler{constructor(chart,options){this.chart=chart;this.keyCodeMap=options.keyCodeMap||[];this.validate=options.validate;this.init=options.init;this.terminate=options.terminate;this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(e){const keyCode=e.which||e.keyCode;let response=this.response.noHandler;const handlerCodeSet=KeyboardNavigationHandler_find(this.keyCodeMap,function(codeSet){return codeSet[0].indexOf(keyCode)>-1});if(handlerCodeSet){response=handlerCodeSet[1].call(this,keyCode,e)}else if(keyCode===9){response=this.response[e.shiftKey?"prev":"next"]}return response}}const Accessibility_KeyboardNavigationHandler=KeyboardNavigationHandler;"";const{unhideChartElementFromAT:ContainerComponent_unhideChartElementFromAT,getChartTitle:ContainerComponent_getChartTitle}=Utils_ChartUtilities;const{doc:ContainerComponent_doc}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{stripHTMLTagsFromString:ContainerComponent_stripHTMLTags}=Utils_HTMLUtilities;class ContainerComponent extends Accessibility_AccessibilityComponent{onChartUpdate(){this.handleSVGTitleElement();this.setSVGContainerLabel();this.setGraphicContainerAttrs();this.setRenderToAttrs();this.makeCreditsAccessible()}handleSVGTitleElement(){const chart=this.chart,titleId="highcharts-title-"+chart.index,titleContents=ContainerComponent_stripHTMLTags(chart.langFormat("accessibility.svgContainerTitle",{chartTitle:ContainerComponent_getChartTitle(chart)}));if(titleContents.length){const titleElement=this.svgTitleElement=this.svgTitleElement||ContainerComponent_doc.createElementNS("http://www.w3.org/2000/svg","title");titleElement.textContent=titleContents;titleElement.id=titleId;chart.renderTo.insertBefore(titleElement,chart.renderTo.firstChild)}}setSVGContainerLabel(){const chart=this.chart,svgContainerLabel=chart.langFormat("accessibility.svgContainerLabel",{chartTitle:ContainerComponent_getChartTitle(chart)});if(chart.renderer.box&&svgContainerLabel.length){chart.renderer.box.setAttribute("aria-label",svgContainerLabel)}}setGraphicContainerAttrs(){const chart=this.chart,label=chart.langFormat("accessibility.graphicContainerLabel",{chartTitle:ContainerComponent_getChartTitle(chart)});if(label.length){chart.container.setAttribute("aria-label",label)}}setRenderToAttrs(){const chart=this.chart,shouldHaveLandmark=chart.options.accessibility.landmarkVerbosity!=="disabled",containerLabel=chart.langFormat("accessibility.chartContainerLabel",{title:ContainerComponent_getChartTitle(chart),chart:chart});if(containerLabel){chart.renderTo.setAttribute("role",shouldHaveLandmark?"region":"group");chart.renderTo.setAttribute("aria-label",containerLabel)}}makeCreditsAccessible(){const chart=this.chart,credits=chart.credits;if(credits){if(credits.textStr){credits.element.setAttribute("aria-label",chart.langFormat("accessibility.credits",{creditsStr:ContainerComponent_stripHTMLTags(credits.textStr,chart.renderer.forExport)}))}ContainerComponent_unhideChartElementFromAT(chart,credits.element)}}getKeyboardNavigation(){const chart=this.chart;return new Accessibility_KeyboardNavigationHandler(chart,{keyCodeMap:[],validate:function(){return true},init:function(){const a11y=chart.accessibility;if(a11y){a11y.keyboardNavigation.tabindexContainer.focus()}}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",true)}}const Components_ContainerComponent=ContainerComponent;const{addEvent:FocusBorder_addEvent,pick:FocusBorder_pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();var FocusBorderComposition;(function(FocusBorderComposition){const svgElementBorderUpdateTriggers=["x","y","transform","width","height","r","d","stroke-width"];function compose(ChartClass,SVGElementClass){const chartProto=ChartClass.prototype,svgElementProto=SVGElementClass.prototype;if(!chartProto.renderFocusBorder){chartProto.renderFocusBorder=chartRenderFocusBorder;chartProto.setFocusToElement=chartSetFocusToElement}if(!svgElementProto.addFocusBorder){svgElementProto.addFocusBorder=svgElementAddFocusBorder;svgElementProto.removeFocusBorder=svgElementRemoveFocusBorder}}FocusBorderComposition.compose=compose;function chartRenderFocusBorder(){const focusElement=this.focusElement,focusBorderOptions=this.options.accessibility.keyboardNavigation.focusBorder;if(focusElement){focusElement.removeFocusBorder();if(focusBorderOptions.enabled){focusElement.addFocusBorder(focusBorderOptions.margin,{stroke:focusBorderOptions.style.color,strokeWidth:focusBorderOptions.style.lineWidth,r:focusBorderOptions.style.borderRadius})}}}function chartSetFocusToElement(svgElement,focusElement){const focusBorderOptions=this.options.accessibility.keyboardNavigation.focusBorder,browserFocusElement=focusElement||svgElement.element;if(browserFocusElement&&browserFocusElement.focus){if(!(browserFocusElement.hcEvents&&browserFocusElement.hcEvents.focusin)){FocusBorder_addEvent(browserFocusElement,"focusin",function(){})}browserFocusElement.focus();if(focusBorderOptions.hideBrowserFocusOutline){browserFocusElement.style.outline="none"}}if(this.focusElement){this.focusElement.removeFocusBorder()}this.focusElement=svgElement;this.renderFocusBorder()}function svgElementAddDestroyFocusBorderHook(el){if(el.focusBorderDestroyHook){return}const origDestroy=el.destroy;el.destroy=function(){if(el.focusBorder&&el.focusBorder.destroy){el.focusBorder.destroy()}return origDestroy.apply(el,arguments)};el.focusBorderDestroyHook=origDestroy}function svgElementAddFocusBorder(margin,attribs){if(this.focusBorder){this.removeFocusBorder()}const bb=this.getBBox(),pad=FocusBorder_pick(margin,3),parent=this.parentGroup,scaleX=this.scaleX||parent&&parent.scaleX,scaleY=this.scaleY||parent&&parent.scaleY,oneDefined=scaleX?!scaleY:scaleY,scaleBoth=oneDefined?Math.abs(scaleX||scaleY||1):(Math.abs(scaleX||1)+Math.abs(scaleY||1))/2,lineHeight=this.renderer.fontMetrics(this).h;bb.x+=this.translateX?this.translateX:0;bb.y+=this.translateY?this.translateY:0;let borderPosX=bb.x-pad,borderPosY=bb.y-pad,borderWidth=bb.width+2*pad,borderHeight=bb.height+2*pad;function getTextAnchorCorrection(text){let posXCorrection=0,posYCorrection=0;if(text.attr("text-anchor")==="middle"){posXCorrection=posYCorrection=.5}else if(!text.rotation){posYCorrection=.75}else{posXCorrection=.25}return{x:posXCorrection,y:posYCorrection}}const isLabel=!!this.text;if(this.element.nodeName==="text"||isLabel){const isRotated=!!this.rotation;const correction=!isLabel?getTextAnchorCorrection(this):{x:isRotated?1:0,y:0};const attrX=+this.attr("x");const attrY=+this.attr("y");if(!isNaN(attrX)){borderPosX=attrX-bb.width*correction.x-pad}if(!isNaN(attrY)){const dim=this.attr("text-anchor")==="start"?lineHeight:bb.height;borderPosY=attrY-dim*correction.y-pad}if(isLabel&&isRotated){const temp=borderWidth;borderWidth=borderHeight;borderHeight=temp;if(!isNaN(attrX)){borderPosX=attrX-bb.height*correction.x-pad}if(!isNaN(attrY)){borderPosY=attrY-bb.width*correction.y-pad}}}this.focusBorder=this.renderer.rect(borderPosX,borderPosY,borderWidth,borderHeight,parseInt((attribs&&attribs.r||0).toString(),10)/scaleBoth).addClass("highcharts-focus-border").attr({zIndex:99}).add(parent);if(!this.renderer.styledMode){this.focusBorder.attr({stroke:attribs&&attribs.stroke,"stroke-width":(attribs&&attribs.strokeWidth||0)/scaleBoth})}avgElementAddUpdateFocusBorderHooks(this,margin,attribs);svgElementAddDestroyFocusBorderHook(this)}function avgElementAddUpdateFocusBorderHooks(el,...updateParams){if(el.focusBorderUpdateHooks){return}el.focusBorderUpdateHooks={};svgElementBorderUpdateTriggers.forEach(trigger=>{const setterKey=trigger+"Setter";const origSetter=el[setterKey]||el._defaultSetter;el.focusBorderUpdateHooks[setterKey]=origSetter;el[setterKey]=function(){const ret=origSetter.apply(el,arguments);el.addFocusBorder.apply(el,updateParams);return ret}})}function svgElementRemoveDestroyFocusBorderHook(el){if(!el.focusBorderDestroyHook){return}el.destroy=el.focusBorderDestroyHook;delete el.focusBorderDestroyHook}function svgElementRemoveFocusBorder(){svgElementRemoveUpdateFocusBorderHooks(this);svgElementRemoveDestroyFocusBorderHook(this);if(this.focusBorder){this.focusBorder.destroy();delete this.focusBorder}}function svgElementRemoveUpdateFocusBorderHooks(el){if(!el.focusBorderUpdateHooks){return}Object.keys(el.focusBorderUpdateHooks).forEach(setterKey=>{const origSetter=el.focusBorderUpdateHooks[setterKey];if(origSetter===el._defaultSetter){delete el[setterKey]}else{el[setterKey]=origSetter}});delete el.focusBorderUpdateHooks}})(FocusBorderComposition||(FocusBorderComposition={}));const FocusBorder=FocusBorderComposition;var highcharts_AST_commonjs_highcharts_AST_commonjs2_highcharts_AST_root_Highcharts_AST_=__webpack_require__(660);var highcharts_AST_commonjs_highcharts_AST_commonjs2_highcharts_AST_root_Highcharts_AST_default=__webpack_require__.n(highcharts_AST_commonjs_highcharts_AST_commonjs2_highcharts_AST_root_Highcharts_AST_);const{doc:Announcer_doc}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addClass:Announcer_addClass,visuallyHideElement:Announcer_visuallyHideElement}=Utils_HTMLUtilities;const{attr}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class Announcer{constructor(chart,type){this.chart=chart;this.domElementProvider=new Utils_DOMElementProvider;this.announceRegion=this.addAnnounceRegion(type)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(message){highcharts_AST_commonjs_highcharts_AST_commonjs2_highcharts_AST_root_Highcharts_AST_default().setElementHTML(this.announceRegion,message);if(this.clearAnnouncementRegionTimer){clearTimeout(this.clearAnnouncementRegionTimer)}this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=highcharts_AST_commonjs_highcharts_AST_commonjs2_highcharts_AST_root_Highcharts_AST_default().emptyHTML;delete this.clearAnnouncementRegionTimer},3e3)}addAnnounceRegion(type){const chartContainer=this.chart.announcerContainer||this.createAnnouncerContainer(),div=this.domElementProvider.createElement("div");attr(div,{"aria-hidden":false,"aria-live":type,"aria-atomic":true});if(this.chart.styledMode){Announcer_addClass(div,"highcharts-visually-hidden")}else{Announcer_visuallyHideElement(div)}chartContainer.appendChild(div);return div}createAnnouncerContainer(){const chart=this.chart,container=Announcer_doc.createElement("div");attr(container,{"aria-hidden":false,class:"highcharts-announcer-container"});container.style.position="relative";chart.renderTo.insertBefore(container,chart.renderTo.firstChild);chart.announcerContainer=container;return container}}const Utils_Announcer=Announcer;const{escapeStringForHTML:AnnotationsA11y_escapeStringForHTML,stripHTMLTagsFromString:AnnotationsA11y_stripHTMLTagsFromString}=Utils_HTMLUtilities;function getChartAnnotationLabels(chart){const annotations=chart.annotations||[];return annotations.reduce((acc,cur)=>{if(cur.options&&cur.options.visible!==false){acc=acc.concat(cur.labels)}return acc},[])}function getLabelText(label){return label.options&&label.options.accessibility&&label.options.accessibility.description||label.graphic&&label.graphic.text&&label.graphic.text.textStr||""}function getAnnotationLabelDescription(label){const a11yDesc=label.options&&label.options.accessibility&&label.options.accessibility.description;if(a11yDesc){return a11yDesc}const chart=label.chart;const labelText=getLabelText(label);const points=label.points;const getAriaLabel=point=>point.graphic&&point.graphic.element&&point.graphic.element.getAttribute("aria-label")||"";const getValueDesc=point=>{const valDesc=point.accessibility&&point.accessibility.valueDescription||getAriaLabel(point);const seriesName=point&&point.series.name||"";return(seriesName?seriesName+", ":"")+"data point "+valDesc};const pointValueDescriptions=points.filter(p=>!!p.graphic).map(getValueDesc).filter(desc=>!!desc);const numPoints=pointValueDescriptions.length;const pointsSelector=numPoints>1?"MultiplePoints":numPoints?"SinglePoint":"NoPoints";const langFormatStr="accessibility.screenReaderSection.annotations.description"+pointsSelector;const context={annotationText:labelText,annotation:label,numPoints:numPoints,annotationPoint:pointValueDescriptions[0],additionalAnnotationPoints:pointValueDescriptions.slice(1)};return chart.langFormat(langFormatStr,context)}function getAnnotationListItems(chart){const labels=getChartAnnotationLabels(chart);return labels.map(label=>{const desc=AnnotationsA11y_escapeStringForHTML(AnnotationsA11y_stripHTMLTagsFromString(getAnnotationLabelDescription(label),chart.renderer.forExport));return desc?`<li>${desc}</li>`:""})}function getAnnotationsInfoHTML(chart){const annotations=chart.annotations;if(!(annotations&&annotations.length)){return""}const annotationItems=getAnnotationListItems(chart);return`<ul style="list-style-type: none">${annotationItems.join(" ")}</ul>`}function getPointAnnotationTexts(point){const labels=getChartAnnotationLabels(point.series.chart);const pointLabels=labels.filter(label=>label.points.indexOf(point)>-1);if(!pointLabels.length){return[]}return pointLabels.map(label=>`${getLabelText(label)}`)}const AnnotationsA11y={getAnnotationsInfoHTML:getAnnotationsInfoHTML,getAnnotationLabelDescription:getAnnotationLabelDescription,getAnnotationListItems:getAnnotationListItems,getPointAnnotationTexts:getPointAnnotationTexts};const Components_AnnotationsA11y=AnnotationsA11y;const{getAnnotationsInfoHTML:InfoRegionsComponent_getAnnotationsInfoHTML}=Components_AnnotationsA11y;const{getAxisDescription:InfoRegionsComponent_getAxisDescription,getAxisRangeDescription:InfoRegionsComponent_getAxisRangeDescription,getChartTitle:InfoRegionsComponent_getChartTitle,unhideChartElementFromAT:InfoRegionsComponent_unhideChartElementFromAT}=Utils_ChartUtilities;const{format:InfoRegionsComponent_format}=highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_default();const{doc:InfoRegionsComponent_doc}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addClass:InfoRegionsComponent_addClass,getElement:InfoRegionsComponent_getElement,getHeadingTagNameForElement:InfoRegionsComponent_getHeadingTagNameForElement,stripHTMLTagsFromString:InfoRegionsComponent_stripHTMLTagsFromString,visuallyHideElement:InfoRegionsComponent_visuallyHideElement}=Utils_HTMLUtilities;const{attr:InfoRegionsComponent_attr,pick:InfoRegionsComponent_pick,replaceNested}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function getTableSummary(chart){return chart.langFormat("accessibility.table.tableSummary",{chart:chart})}function getTypeDescForMapChart(chart,formatContext){return formatContext.mapTitle?chart.langFormat("accessibility.chartTypes.mapTypeDescription",formatContext):chart.langFormat("accessibility.chartTypes.unknownMap",formatContext)}function getTypeDescForCombinationChart(chart,formatContext){return chart.langFormat("accessibility.chartTypes.combinationChart",formatContext)}function getTypeDescForEmptyChart(chart,formatContext){return chart.langFormat("accessibility.chartTypes.emptyChart",formatContext)}function buildTypeDescriptionFromSeries(chart,types,context){const firstType=types[0],typeExplanation=chart.langFormat("accessibility.seriesTypeDescriptions."+firstType,context),multi=chart.series&&chart.series.length<2?"Single":"Multiple";return(chart.langFormat("accessibility.chartTypes."+firstType+multi,context)||chart.langFormat("accessibility.chartTypes.default"+multi,context))+(typeExplanation?" "+typeExplanation:"")}function getTypeDescription(chart,types){const firstType=types[0],firstSeries=chart.series&&chart.series[0]||{},mapTitle=chart.mapView&&chart.mapView.geoMap&&chart.mapView.geoMap.title,formatContext={numSeries:chart.series.length,numPoints:firstSeries.points&&firstSeries.points.length,chart:chart,mapTitle:mapTitle};if(!firstType){return getTypeDescForEmptyChart(chart,formatContext)}if(firstType==="map"||firstType==="tiledwebmap"){return getTypeDescForMapChart(chart,formatContext)}if(chart.types.length>1){return getTypeDescForCombinationChart(chart,formatContext)}return buildTypeDescriptionFromSeries(chart,types,formatContext)}function stripEmptyHTMLTags(str){return replaceNested(str,[/<([\w\-.:!]+)\b[^<>]*>\s*<\/\1>/g,""])}class InfoRegionsComponent extends Accessibility_AccessibilityComponent{constructor(){super(...arguments);this.screenReaderSections={}}init(){const chart=this.chart;const component=this;this.initRegionsDefinitions();this.addEvent(chart,"aftergetTableAST",function(e){component.onDataTableCreated(e)});this.addEvent(chart,"afterViewData",function(e){if(e.wasHidden){component.dataTableDiv=e.element;setTimeout(function(){component.focusDataTable()},300)}});this.addEvent(chart,"afterHideData",function(){if(component.viewDataTableButton){component.viewDataTableButton.setAttribute("aria-expanded","false")}});if(chart.exporting){this.addEvent(chart,"afterPrint",function(){component.updateAllScreenReaderSections()})}this.announcer=new Utils_Announcer(chart,"assertive")}initRegionsDefinitions(){const component=this,accessibilityOptions=this.chart.options.accessibility;this.screenReaderSections={before:{element:null,buildContent:function(chart){const formatter=accessibilityOptions.screenReaderSection.beforeChartFormatter;return formatter?formatter(chart):component.defaultBeforeChartFormatter(chart)},insertIntoDOM:function(el,chart){chart.renderTo.insertBefore(el,chart.renderTo.firstChild)},afterInserted:function(){if(typeof component.sonifyButtonId!=="undefined"){component.initSonifyButton(component.sonifyButtonId)}if(typeof component.dataTableButtonId!=="undefined"){component.initDataTableButton(component.dataTableButtonId)}}},after:{element:null,buildContent:function(chart){const formatter=accessibilityOptions.screenReaderSection.afterChartFormatter;return formatter?formatter(chart):component.defaultAfterChartFormatter()},insertIntoDOM:function(el,chart){chart.renderTo.insertBefore(el,chart.container.nextSibling)},afterInserted:function(){if(component.chart.accessibility&&accessibilityOptions.keyboardNavigation.enabled){component.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}}onChartRender(){this.linkedDescriptionElement=this.getLinkedDescriptionElement();this.setLinkedDescriptionAttrs();this.updateAllScreenReaderSections()}updateAllScreenReaderSections(){const component=this;Object.keys(this.screenReaderSections).forEach(function(regionKey){component.updateScreenReaderSection(regionKey)})}getLinkedDescriptionElement(){const chartOptions=this.chart.options,linkedDescOption=chartOptions.accessibility.linkedDescription;if(!linkedDescOption){return}if(typeof linkedDescOption!=="string"){return linkedDescOption}const query=InfoRegionsComponent_format(linkedDescOption,this.chart),queryMatch=InfoRegionsComponent_doc.querySelectorAll(query);if(queryMatch.length===1){return queryMatch[0]}}setLinkedDescriptionAttrs(){const el=this.linkedDescriptionElement;if(el){el.setAttribute("aria-hidden","true");InfoRegionsComponent_addClass(el,"highcharts-linked-description")}}updateScreenReaderSection(regionKey){const chart=this.chart;const region=this.screenReaderSections[regionKey];const content=region.buildContent(chart);const sectionDiv=region.element=region.element||this.createElement("div");const hiddenDiv=sectionDiv.firstChild||this.createElement("div");if(content){this.setScreenReaderSectionAttribs(sectionDiv,regionKey);highcharts_AST_commonjs_highcharts_AST_commonjs2_highcharts_AST_root_Highcharts_AST_default().setElementHTML(hiddenDiv,content);sectionDiv.appendChild(hiddenDiv);region.insertIntoDOM(sectionDiv,chart);if(chart.styledMode){InfoRegionsComponent_addClass(hiddenDiv,"highcharts-visually-hidden")}else{InfoRegionsComponent_visuallyHideElement(hiddenDiv)}InfoRegionsComponent_unhideChartElementFromAT(chart,hiddenDiv);if(region.afterInserted){region.afterInserted()}}else{if(sectionDiv.parentNode){sectionDiv.parentNode.removeChild(sectionDiv)}region.element=null}}setScreenReaderSectionAttribs(sectionDiv,regionKey){const chart=this.chart,labelText=chart.langFormat("accessibility.screenReaderSection."+regionKey+"RegionLabel",{chart:chart,chartTitle:InfoRegionsComponent_getChartTitle(chart)}),sectionId=`highcharts-screen-reader-region-${regionKey}-${chart.index}`;InfoRegionsComponent_attr(sectionDiv,{id:sectionId,"aria-label":labelText||void 0});sectionDiv.style.position="relative";if(labelText){sectionDiv.setAttribute("role",chart.options.accessibility.landmarkVerbosity==="all"?"region":"group")}}defaultBeforeChartFormatter(){const chart=this.chart,format=chart.options.accessibility.screenReaderSection.beforeChartFormat;if(!format){return""}const axesDesc=this.getAxesDescription(),shouldHaveSonifyBtn=chart.sonify&&chart.options.sonification&&chart.options.sonification.enabled,sonifyButtonId="highcharts-a11y-sonify-data-btn-"+chart.index,dataTableButtonId="hc-linkto-highcharts-data-table-"+chart.index,annotationsList=InfoRegionsComponent_getAnnotationsInfoHTML(chart),annotationsTitleStr=chart.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:chart}),context={headingTagName:InfoRegionsComponent_getHeadingTagNameForElement(chart.renderTo),chartTitle:InfoRegionsComponent_getChartTitle(chart),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:axesDesc.xAxis,yAxisDescription:axesDesc.yAxis,playAsSoundButton:shouldHaveSonifyBtn?this.getSonifyButtonText(sonifyButtonId):"",viewTableButton:chart.getCSV?this.getDataTableButtonText(dataTableButtonId):"",annotationsTitle:annotationsList?annotationsTitleStr:"",annotationsList:annotationsList},formattedString=A11yI18n.i18nFormat(format,context,chart);this.dataTableButtonId=dataTableButtonId;this.sonifyButtonId=sonifyButtonId;return stripEmptyHTMLTags(formattedString)}defaultAfterChartFormatter(){const chart=this.chart;const format=chart.options.accessibility.screenReaderSection.afterChartFormat;if(!format){return""}const context={endOfChartMarker:this.getEndOfChartMarkerText()};const formattedString=A11yI18n.i18nFormat(format,context,chart);return stripEmptyHTMLTags(formattedString)}getLinkedDescription(){const el=this.linkedDescriptionElement,content=el&&el.innerHTML||"";return InfoRegionsComponent_stripHTMLTagsFromString(content,this.chart.renderer.forExport)}getLongdescText(){const chartOptions=this.chart.options,captionOptions=chartOptions.caption,captionText=captionOptions&&captionOptions.text,linkedDescription=this.getLinkedDescription();return chartOptions.accessibility.description||linkedDescription||captionText||""}getTypeDescriptionText(){const chart=this.chart;return chart.types?chart.options.accessibility.typeDescription||getTypeDescription(chart,chart.types):""}getDataTableButtonText(buttonId){const chart=this.chart,buttonText=chart.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:chart,chartTitle:InfoRegionsComponent_getChartTitle(chart)});return'<button id="'+buttonId+'">'+buttonText+"</button>"}getSonifyButtonText(buttonId){const chart=this.chart;if(chart.options.sonification&&chart.options.sonification.enabled===false){return""}const buttonText=chart.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:chart,chartTitle:InfoRegionsComponent_getChartTitle(chart)});return'<button id="'+buttonId+'">'+buttonText+"</button>"}getSubtitleText(){const subtitle=this.chart.options.subtitle;return InfoRegionsComponent_stripHTMLTagsFromString(subtitle&&subtitle.text||"",this.chart.renderer.forExport)}getEndOfChartMarkerText(){const endMarkerId=`highcharts-end-of-chart-marker-${this.chart.index}`,endMarker=InfoRegionsComponent_getElement(endMarkerId);if(endMarker){return endMarker.outerHTML}const chart=this.chart,markerText=chart.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:chart}),id="highcharts-end-of-chart-marker-"+chart.index;return'<div id="'+id+'">'+markerText+"</div>"}onDataTableCreated(e){const chart=this.chart;if(chart.options.accessibility.enabled){if(this.viewDataTableButton){this.viewDataTableButton.setAttribute("aria-expanded","true")}const attributes=e.tree.attributes||{};attributes.tabindex=-1;attributes.summary=getTableSummary(chart);e.tree.attributes=attributes}}focusDataTable(){const tableDiv=this.dataTableDiv,table=tableDiv&&tableDiv.getElementsByTagName("table")[0];if(table&&table.focus){table.focus()}}initSonifyButton(sonifyButtonId){const el=this.sonifyButton=InfoRegionsComponent_getElement(sonifyButtonId);const chart=this.chart;const defaultHandler=e=>{if(el){el.setAttribute("aria-hidden","true");el.setAttribute("aria-label","")}e.preventDefault();e.stopPropagation();const announceMsg=chart.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:chart});this.announcer.announce(announceMsg);setTimeout(()=>{if(el){el.removeAttribute("aria-hidden");el.removeAttribute("aria-label")}if(chart.sonify){chart.sonify()}},1e3)};if(el&&chart){el.setAttribute("tabindex",-1);el.onclick=function(e){const onPlayAsSoundClick=chart.options.accessibility&&chart.options.accessibility.screenReaderSection.onPlayAsSoundClick;(onPlayAsSoundClick||defaultHandler).call(this,e,chart)}}}initDataTableButton(tableButtonId){const el=this.viewDataTableButton=InfoRegionsComponent_getElement(tableButtonId),chart=this.chart,tableId=tableButtonId.replace("hc-linkto-","");if(el){InfoRegionsComponent_attr(el,{tabindex:-1,"aria-expanded":!!InfoRegionsComponent_getElement(tableId)});el.onclick=chart.options.accessibility.screenReaderSection.onViewDataTableClick||function(){chart.viewData()}}}getAxesDescription(){const chart=this.chart,shouldDescribeColl=function(collectionKey,defaultCondition){const axes=chart[collectionKey];return axes.length>1||axes[0]&&InfoRegionsComponent_pick(axes[0].options.accessibility&&axes[0].options.accessibility.enabled,defaultCondition)},hasNoMap=!!chart.types&&chart.types.indexOf("map")<0&&chart.types.indexOf("treemap")<0&&chart.types.indexOf("tilemap")<0,hasCartesian=!!chart.hasCartesianSeries,showXAxes=shouldDescribeColl("xAxis",!chart.angular&&hasCartesian&&hasNoMap),showYAxes=shouldDescribeColl("yAxis",hasCartesian&&hasNoMap),desc={};if(showXAxes){desc.xAxis=this.getAxisDescriptionText("xAxis")}if(showYAxes){desc.yAxis=this.getAxisDescriptionText("yAxis")}return desc}getAxisDescriptionText(collectionKey){const chart=this.chart;const axes=chart[collectionKey];return chart.langFormat("accessibility.axis."+collectionKey+"Description"+(axes.length>1?"Plural":"Singular"),{chart:chart,names:axes.map(function(axis){return InfoRegionsComponent_getAxisDescription(axis)}),ranges:axes.map(function(axis){return InfoRegionsComponent_getAxisRangeDescription(axis)}),numAxes:axes.length})}destroy(){if(this.announcer){this.announcer.destroy()}}}const Components_InfoRegionsComponent=InfoRegionsComponent;const{attr:MenuComponent_attr}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{getChartTitle:MenuComponent_getChartTitle,unhideChartElementFromAT:MenuComponent_unhideChartElementFromAT}=Utils_ChartUtilities;const{getFakeMouseEvent:MenuComponent_getFakeMouseEvent}=Utils_HTMLUtilities;function getExportMenuButtonElement(chart){return chart.exportSVGElements&&chart.exportSVGElements[0]}function exportingShouldHaveA11y(chart){const exportingOpts=chart.options.exporting,exportButton=getExportMenuButtonElement(chart);return!!(exportingOpts&&exportingOpts.enabled!==false&&exportingOpts.accessibility&&exportingOpts.accessibility.enabled&&exportButton&&exportButton.element)}class MenuComponent extends Accessibility_AccessibilityComponent{init(){const chart=this.chart,component=this;this.addEvent(chart,"exportMenuShown",function(){component.onMenuShown()});this.addEvent(chart,"exportMenuHidden",function(){component.onMenuHidden()});this.createProxyGroup()}onMenuHidden(){const menu=this.chart.exportContextMenu;if(menu){menu.setAttribute("aria-hidden","true")}this.setExportButtonExpandedState("false")}onMenuShown(){const chart=this.chart,menu=chart.exportContextMenu;if(menu){this.addAccessibleContextMenuAttribs();MenuComponent_unhideChartElementFromAT(chart,menu)}this.setExportButtonExpandedState("true")}setExportButtonExpandedState(stateStr){if(this.exportButtonProxy){this.exportButtonProxy.innerElement.setAttribute("aria-expanded",stateStr)}}onChartRender(){const chart=this.chart,focusEl=chart.focusElement,a11y=chart.accessibility;this.proxyProvider.clearGroup("chartMenu");this.proxyMenuButton();if(this.exportButtonProxy&&focusEl&&focusEl===chart.exportingGroup){if(focusEl.focusBorder){chart.setFocusToElement(focusEl,this.exportButtonProxy.innerElement)}else if(a11y){a11y.keyboardNavigation.tabindexContainer.focus()}}}proxyMenuButton(){const chart=this.chart;const proxyProvider=this.proxyProvider;const buttonEl=getExportMenuButtonElement(chart);if(exportingShouldHaveA11y(chart)&&buttonEl){this.exportButtonProxy=proxyProvider.addProxyElement("chartMenu",{click:buttonEl},"button",{"aria-label":chart.langFormat("accessibility.exporting.menuButtonLabel",{chart:chart,chartTitle:MenuComponent_getChartTitle(chart)}),"aria-expanded":false,title:chart.options.lang.contextButtonTitle||null})}}createProxyGroup(){const chart=this.chart;if(chart&&this.proxyProvider){this.proxyProvider.addGroup("chartMenu")}}addAccessibleContextMenuAttribs(){const chart=this.chart,exportList=chart.exportDivElements;if(exportList&&exportList.length){exportList.forEach(item=>{if(item){if(item.tagName==="LI"&&!(item.children&&item.children.length)){item.setAttribute("tabindex",-1)}else{item.setAttribute("aria-hidden","true")}}});const parentDiv=exportList[0]&&exportList[0].parentNode;if(parentDiv){MenuComponent_attr(parentDiv,{"aria-hidden":void 0,"aria-label":chart.langFormat("accessibility.exporting.chartMenuLabel",{chart:chart}),role:"list"})}}}getKeyboardNavigation(){const keys=this.keyCodes,chart=this.chart,component=this;return new Accessibility_KeyboardNavigationHandler(chart,{keyCodeMap:[[[keys.left,keys.up],function(){return component.onKbdPrevious(this)}],[[keys.right,keys.down],function(){return component.onKbdNext(this)}],[[keys.enter,keys.space],function(){return component.onKbdClick(this)}]],validate:function(){return!!chart.exporting&&chart.options.exporting.enabled!==false&&chart.options.exporting.accessibility.enabled!==false},init:function(){const proxy=component.exportButtonProxy;const svgEl=component.chart.exportingGroup;if(proxy&&svgEl){chart.setFocusToElement(svgEl,proxy.innerElement)}},terminate:function(){chart.hideExportMenu()}})}onKbdPrevious(keyboardNavigationHandler){const chart=this.chart;const a11yOptions=chart.options.accessibility;const response=keyboardNavigationHandler.response;let i=chart.highlightedExportItemIx||0;while(i--){if(chart.highlightExportItem(i)){return response.success}}if(a11yOptions.keyboardNavigation.wrapAround){chart.highlightLastExportItem();return response.success}return response.prev}onKbdNext(keyboardNavigationHandler){const chart=this.chart;const a11yOptions=chart.options.accessibility;const response=keyboardNavigationHandler.response;for(let i=(chart.highlightedExportItemIx||0)+1;i<chart.exportDivElements.length;++i){if(chart.highlightExportItem(i)){return response.success}}if(a11yOptions.keyboardNavigation.wrapAround){chart.highlightExportItem(0);return response.success}return response.next}onKbdClick(keyboardNavigationHandler){const chart=this.chart;const curHighlightedItem=chart.exportDivElements[chart.highlightedExportItemIx];const exportButtonElement=getExportMenuButtonElement(chart).element;if(chart.openMenu){this.fakeClickEvent(curHighlightedItem)}else{this.fakeClickEvent(exportButtonElement);chart.highlightExportItem(0)}return keyboardNavigationHandler.response.success}}(function(MenuComponent){function compose(ChartClass){const chartProto=ChartClass.prototype;if(!chartProto.hideExportMenu){chartProto.hideExportMenu=chartHideExportMenu;chartProto.highlightExportItem=chartHighlightExportItem;chartProto.highlightLastExportItem=chartHighlightLastExportItem;chartProto.showExportMenu=chartShowExportMenu}}MenuComponent.compose=compose;function chartShowExportMenu(){const exportButton=getExportMenuButtonElement(this);if(exportButton){const el=exportButton.element;if(el.onclick){el.onclick(MenuComponent_getFakeMouseEvent("click"))}}}function chartHideExportMenu(){const chart=this,exportList=chart.exportDivElements;if(exportList&&chart.exportContextMenu&&chart.openMenu){exportList.forEach(el=>{if(el&&el.className==="highcharts-menu-item"&&el.onmouseout){el.onmouseout(MenuComponent_getFakeMouseEvent("mouseout"))}});chart.highlightedExportItemIx=0;chart.exportContextMenu.hideMenu();chart.container.focus()}}function chartHighlightExportItem(ix){const listItem=this.exportDivElements&&this.exportDivElements[ix];const curHighlighted=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(listItem&&listItem.tagName==="LI"&&!(listItem.children&&listItem.children.length)){const hasSVGFocusSupport=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;if(listItem.focus&&hasSVGFocusSupport){listItem.focus()}if(curHighlighted&&curHighlighted.onmouseout){curHighlighted.onmouseout(MenuComponent_getFakeMouseEvent("mouseout"))}if(listItem.onmouseover){listItem.onmouseover(MenuComponent_getFakeMouseEvent("mouseover"))}this.highlightedExportItemIx=ix;return true}return false}function chartHighlightLastExportItem(){const chart=this;if(chart.exportDivElements){let i=chart.exportDivElements.length;while(i--){if(chart.highlightExportItem(i)){return true}}}return false}})(MenuComponent||(MenuComponent={}));const Components_MenuComponent=MenuComponent;const{doc:KeyboardNavigation_doc,win:KeyboardNavigation_win}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addEvent:KeyboardNavigation_addEvent,defined:KeyboardNavigation_defined,fireEvent:KeyboardNavigation_fireEvent}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{getElement:KeyboardNavigation_getElement,simulatedEventTarget:KeyboardNavigation_simulatedEventTarget}=Utils_HTMLUtilities;class KeyboardNavigation{constructor(chart,components){this.currentModuleIx=NaN;this.modules=[];this.init(chart,components)}init(chart,components){const ep=this.eventProvider=new Utils_EventProvider;this.chart=chart;this.components=components;this.modules=[];this.currentModuleIx=0;this.update();ep.addEvent(this.tabindexContainer,"keydown",e=>this.onKeydown(e));ep.addEvent(this.tabindexContainer,"focus",e=>this.onFocus(e));["mouseup","touchend"].forEach(eventName=>ep.addEvent(KeyboardNavigation_doc,eventName,e=>this.onMouseUp(e)));["mousedown","touchstart"].forEach(eventName=>ep.addEvent(chart.renderTo,eventName,()=>{this.isClickingChart=true}))}update(order){const a11yOptions=this.chart.options.accessibility,keyboardOptions=a11yOptions&&a11yOptions.keyboardNavigation,components=this.components;this.updateContainerTabindex();if(keyboardOptions&&keyboardOptions.enabled&&order&&order.length){this.modules=order.reduce(function(modules,componentName){const navModules=components[componentName].getKeyboardNavigation();return modules.concat(navModules)},[]);this.updateExitAnchor()}else{this.modules=[];this.currentModuleIx=0;this.removeExitAnchor()}}updateExitAnchor(){const endMarkerId=`highcharts-end-of-chart-marker-${this.chart.index}`,endMarker=KeyboardNavigation_getElement(endMarkerId);this.removeExitAnchor();if(endMarker){this.makeElementAnExitAnchor(endMarker);this.exitAnchor=endMarker}else{this.createExitAnchor()}}move(direction){const curModule=this.modules&&this.modules[this.currentModuleIx];if(curModule&&curModule.terminate){curModule.terminate(direction)}if(this.chart.focusElement){this.chart.focusElement.removeFocusBorder()}this.currentModuleIx+=direction;const newModule=this.modules&&this.modules[this.currentModuleIx];if(newModule){if(newModule.validate&&!newModule.validate()){return this.move(direction)}if(newModule.init){newModule.init(direction);return true}}this.currentModuleIx=0;this.exiting=true;if(direction>0){this.exitAnchor&&this.exitAnchor.focus()}else{this.tabindexContainer.focus()}return false}onFocus(e){const chart=this.chart,focusComesFromChart=e.relatedTarget&&chart.container.contains(e.relatedTarget),a11yOptions=chart.options.accessibility,keyboardOptions=a11yOptions&&a11yOptions.keyboardNavigation,enabled=keyboardOptions&&keyboardOptions.enabled;if(enabled&&!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!focusComesFromChart){const ix=this.getFirstValidModuleIx();if(ix!==null){this.currentModuleIx=ix;this.modules[ix].init(1)}}this.keyboardReset=false;this.exiting=false}onMouseUp(e){delete this.isClickingChart;if(!this.keyboardReset&&e.relatedTarget!==KeyboardNavigation_simulatedEventTarget){const chart=this.chart;if(!e.target||!chart.container.contains(e.target)){const curMod=this.modules&&this.modules[this.currentModuleIx||0];if(curMod&&curMod.terminate){curMod.terminate()}this.currentModuleIx=0}if(chart.focusElement){chart.focusElement.removeFocusBorder();delete chart.focusElement}this.keyboardReset=true}}onKeydown(ev){const e=ev||KeyboardNavigation_win.event,curNavModule=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let preventDefault;const target=e.target;if(target&&target.nodeName==="INPUT"&&!target.classList.contains("highcharts-a11y-proxy-element")){return}this.keyboardReset=false;this.exiting=false;if(curNavModule){const response=curNavModule.run(e);if(response===curNavModule.response.success){preventDefault=true}else if(response===curNavModule.response.prev){preventDefault=this.move(-1)}else if(response===curNavModule.response.next){preventDefault=this.move(1)}if(preventDefault){e.preventDefault();e.stopPropagation()}}}updateContainerTabindex(){const a11yOptions=this.chart.options.accessibility,keyboardOptions=a11yOptions&&a11yOptions.keyboardNavigation,shouldHaveTabindex=!(keyboardOptions&&keyboardOptions.enabled===false),chart=this.chart,container=chart.container;let tabindexContainer;if(chart.renderTo.hasAttribute("tabindex")){container.removeAttribute("tabindex");tabindexContainer=chart.renderTo}else{tabindexContainer=container}this.tabindexContainer=tabindexContainer;const curTabindex=tabindexContainer.getAttribute("tabindex");if(shouldHaveTabindex&&!curTabindex){tabindexContainer.setAttribute("tabindex","0")}else if(!shouldHaveTabindex){chart.container.removeAttribute("tabindex")}}createExitAnchor(){const chart=this.chart,exitAnchor=this.exitAnchor=KeyboardNavigation_doc.createElement("div");chart.renderTo.appendChild(exitAnchor);this.makeElementAnExitAnchor(exitAnchor)}makeElementAnExitAnchor(el){const chartTabindex=this.tabindexContainer.getAttribute("tabindex")||0;el.setAttribute("class","highcharts-exit-anchor");el.setAttribute("tabindex",chartTabindex);el.setAttribute("aria-hidden",false);this.addExitAnchorEventsToEl(el)}removeExitAnchor(){if(this.exitAnchor){const el=this.eventProvider.eventRemovers.find(el=>el.element===this.exitAnchor);if(el&&KeyboardNavigation_defined(el.remover)){this.eventProvider.removeEvent(el.remover)}if(this.exitAnchor.parentNode){this.exitAnchor.parentNode.removeChild(this.exitAnchor)}delete this.exitAnchor}}addExitAnchorEventsToEl(element){const chart=this.chart,keyboardNavigation=this;this.eventProvider.addEvent(element,"focus",function(ev){const e=ev||KeyboardNavigation_win.event,focusComesFromChart=e.relatedTarget&&chart.container.contains(e.relatedTarget),comingInBackwards=!(focusComesFromChart||keyboardNavigation.exiting);if(chart.focusElement){delete chart.focusElement}if(comingInBackwards){keyboardNavigation.tabbingInBackwards=true;keyboardNavigation.tabindexContainer.focus();delete keyboardNavigation.tabbingInBackwards;e.preventDefault();if(keyboardNavigation.modules&&keyboardNavigation.modules.length){keyboardNavigation.currentModuleIx=keyboardNavigation.modules.length-1;const curModule=keyboardNavigation.modules[keyboardNavigation.currentModuleIx];if(curModule&&curModule.validate&&!curModule.validate()){keyboardNavigation.move(-1)}else if(curModule){curModule.init(-1)}}}else{keyboardNavigation.exiting=false}})}getFirstValidModuleIx(){const len=this.modules.length;for(let i=0;i<len;++i){const mod=this.modules[i];if(!mod.validate||mod.validate()){return i}}return null}destroy(){this.removeExitAnchor();this.eventProvider.removeAddedEvents();this.chart.container.removeAttribute("tabindex")}}(function(KeyboardNavigation){function compose(ChartClass){Components_MenuComponent.compose(ChartClass);const chartProto=ChartClass.prototype;if(!chartProto.dismissPopupContent){chartProto.dismissPopupContent=chartDismissPopupContent;KeyboardNavigation_addEvent(KeyboardNavigation_doc,"keydown",documentOnKeydown)}return ChartClass}KeyboardNavigation.compose=compose;function chartDismissPopupContent(){const chart=this;KeyboardNavigation_fireEvent(this,"dismissPopupContent",{},function(){if(chart.tooltip){chart.tooltip.hide(0)}chart.hideExportMenu()})}function documentOnKeydown(e){const keycode=e.which||e.keyCode;const esc=27;if(keycode===esc&&highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().charts){highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().charts.forEach(chart=>{if(chart&&chart.dismissPopupContent){chart.dismissPopupContent()}})}}})(KeyboardNavigation||(KeyboardNavigation={}));const Accessibility_KeyboardNavigation=KeyboardNavigation;var highcharts_Legend_commonjs_highcharts_Legend_commonjs2_highcharts_Legend_root_Highcharts_Legend_=__webpack_require__(632);var highcharts_Legend_commonjs_highcharts_Legend_commonjs2_highcharts_Legend_root_Highcharts_Legend_default=__webpack_require__.n(highcharts_Legend_commonjs_highcharts_Legend_commonjs2_highcharts_Legend_root_Highcharts_Legend_);const{animObject}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{doc:LegendComponent_doc}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addEvent:LegendComponent_addEvent,fireEvent:LegendComponent_fireEvent,isNumber,pick:LegendComponent_pick,syncTimeout}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{getChartTitle:LegendComponent_getChartTitle}=Utils_ChartUtilities;const{stripHTMLTagsFromString:LegendComponent_stripHTMLTags,addClass:LegendComponent_addClass,removeClass:LegendComponent_removeClass}=Utils_HTMLUtilities;function scrollLegendToItem(legend,itemIx){const itemPage=(legend.allItems[itemIx].legendItem||{}).pageIx,curPage=legend.currentPage;if(typeof itemPage!=="undefined"&&itemPage+1!==curPage){legend.scroll(1+itemPage-curPage)}}function shouldDoLegendA11y(chart){const items=chart.legend&&chart.legend.allItems,legendA11yOptions=chart.options.legend.accessibility||{},unsupportedColorAxis=chart.colorAxis&&chart.colorAxis.some(c=>!c.dataClasses||!c.dataClasses.length);return!!(items&&items.length&&!unsupportedColorAxis&&legendA11yOptions.enabled!==false)}function setLegendItemHoverState(hoverActive,item){const legendItem=item.legendItem||{};item.setState(hoverActive?"hover":"",true);for(const key of["group","label","symbol"]){const svgElement=legendItem[key];const element=svgElement&&svgElement.element||svgElement;if(element){LegendComponent_fireEvent(element,hoverActive?"mouseover":"mouseout")}}}class LegendComponent extends Accessibility_AccessibilityComponent{constructor(){super(...arguments);this.highlightedLegendItemIx=NaN;this.proxyGroup=null}init(){const component=this;this.recreateProxies();this.addEvent(highcharts_Legend_commonjs_highcharts_Legend_commonjs2_highcharts_Legend_root_Highcharts_Legend_default(),"afterScroll",function(){if(this.chart===component.chart){component.proxyProvider.updateGroupProxyElementPositions("legend");component.updateLegendItemProxyVisibility();if(component.highlightedLegendItemIx>-1){this.chart.highlightLegendItem(component.highlightedLegendItemIx)}}});this.addEvent(highcharts_Legend_commonjs_highcharts_Legend_commonjs2_highcharts_Legend_root_Highcharts_Legend_default(),"afterPositionItem",function(e){if(this.chart===component.chart&&this.chart.renderer){component.updateProxyPositionForItem(e.item)}});this.addEvent(highcharts_Legend_commonjs_highcharts_Legend_commonjs2_highcharts_Legend_root_Highcharts_Legend_default(),"afterRender",function(){if(this.chart===component.chart&&this.chart.renderer&&component.recreateProxies()){syncTimeout(()=>component.proxyProvider.updateGroupProxyElementPositions("legend"),animObject(LegendComponent_pick(this.chart.renderer.globalAnimation,true)).duration)}})}updateLegendItemProxyVisibility(){const chart=this.chart;const legend=chart.legend;const items=legend.allItems||[];const curPage=legend.currentPage||1;const clipHeight=legend.clipHeight||0;let legendItem;items.forEach(item=>{if(item.a11yProxyElement){const hasPages=legend.pages&&legend.pages.length;const proxyEl=item.a11yProxyElement.element;let hide=false;legendItem=item.legendItem||{};if(hasPages){const itemPage=legendItem.pageIx||0;const y=legendItem.y||0;const h=legendItem.label?Math.round(legendItem.label.getBBox().height):0;hide=y+h-legend.pages[itemPage]>clipHeight||itemPage!==curPage-1}if(hide){if(chart.styledMode){LegendComponent_addClass(proxyEl,"highcharts-a11y-invisible")}else{proxyEl.style.visibility="hidden"}}else{LegendComponent_removeClass(proxyEl,"highcharts-a11y-invisible");proxyEl.style.visibility=""}}})}onChartRender(){if(!shouldDoLegendA11y(this.chart)){this.removeProxies()}}highlightAdjacentLegendPage(direction){const chart=this.chart;const legend=chart.legend;const curPageIx=legend.currentPage||1;const newPageIx=curPageIx+direction;const pages=legend.pages||[];if(newPageIx>0&&newPageIx<=pages.length){let i=0,res;for(const item of legend.allItems){if(((item.legendItem||{}).pageIx||0)+1===newPageIx){res=chart.highlightLegendItem(i);if(res){this.highlightedLegendItemIx=i}}++i}}}updateProxyPositionForItem(item){if(item.a11yProxyElement){item.a11yProxyElement.refreshPosition()}}recreateProxies(){const focusedElement=LegendComponent_doc.activeElement;const proxyGroup=this.proxyGroup;const shouldRestoreFocus=focusedElement&&proxyGroup&&proxyGroup.contains(focusedElement);this.removeProxies();if(shouldDoLegendA11y(this.chart)){this.addLegendProxyGroup();this.proxyLegendItems();this.updateLegendItemProxyVisibility();this.updateLegendTitle();if(shouldRestoreFocus){this.chart.highlightLegendItem(this.highlightedLegendItemIx)}return true}return false}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){const chart=this.chart;const legendTitle=LegendComponent_stripHTMLTags((chart.legend&&chart.legend.options.title&&chart.legend.options.title.text||"").replace(/<br ?\/?>/g," "),chart.renderer.forExport);const legendLabel=chart.langFormat("accessibility.legend.legendLabel"+(legendTitle?"":"NoTitle"),{chart:chart,legendTitle:legendTitle,chartTitle:LegendComponent_getChartTitle(chart)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":legendLabel})}addLegendProxyGroup(){const a11yOptions=this.chart.options.accessibility;const groupRole=a11yOptions.landmarkVerbosity==="all"?"region":null;this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:groupRole})}proxyLegendItems(){const component=this,items=(this.chart.legend||{}).allItems||[];let legendItem;items.forEach(item=>{legendItem=item.legendItem||{};if(legendItem.label&&legendItem.label.element){component.proxyLegendItem(item)}})}proxyLegendItem(item){const legendItem=item.legendItem||{};if(!legendItem.label||!legendItem.group){return}const itemLabel=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:LegendComponent_stripHTMLTags(item.name,this.chart.renderer.forExport),item:item});const attribs={tabindex:-1,"aria-pressed":item.visible,"aria-label":itemLabel};const proxyPositioningElement=legendItem.group.div?legendItem.label:legendItem.group;item.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:legendItem.label,visual:proxyPositioningElement.element},"button",attribs)}getKeyboardNavigation(){const keys=this.keyCodes,component=this,chart=this.chart;return new Accessibility_KeyboardNavigationHandler(chart,{keyCodeMap:[[[keys.left,keys.right,keys.up,keys.down],function(keyCode){return component.onKbdArrowKey(this,keyCode)}],[[keys.enter,keys.space],function(){return component.onKbdClick(this)}],[[keys.pageDown,keys.pageUp],function(keyCode){const direction=keyCode===keys.pageDown?1:-1;component.highlightAdjacentLegendPage(direction);return this.response.success}]],validate:function(){return component.shouldHaveLegendNavigation()},init:function(){chart.highlightLegendItem(0);component.highlightedLegendItemIx=0},terminate:function(){component.highlightedLegendItemIx=-1;chart.legend.allItems.forEach(item=>setLegendItemHoverState(false,item))}})}onKbdArrowKey(keyboardNavigationHandler,key){const{keyCodes:{left,up},highlightedLegendItemIx,chart}=this,numItems=chart.legend.allItems.length,wrapAround=chart.options.accessibility.keyboardNavigation.wrapAround,direction=key===left||key===up?-1:1,res=chart.highlightLegendItem(highlightedLegendItemIx+direction);if(res){this.highlightedLegendItemIx+=direction}else if(wrapAround&&numItems>1){this.highlightedLegendItemIx=direction>0?0:numItems-1;chart.highlightLegendItem(this.highlightedLegendItemIx)}return keyboardNavigationHandler.response.success}onKbdClick(keyboardNavigationHandler){const legendItem=this.chart.legend.allItems[this.highlightedLegendItemIx];if(legendItem&&legendItem.a11yProxyElement){legendItem.a11yProxyElement.click()}return keyboardNavigationHandler.response.success}shouldHaveLegendNavigation(){if(!shouldDoLegendA11y(this.chart)){return false}const chart=this.chart,legendOptions=chart.options.legend||{},legendA11yOptions=legendOptions.accessibility||{};return!!(chart.legend.display&&legendA11yOptions.keyboardNavigation&&legendA11yOptions.keyboardNavigation.enabled)}destroy(){this.removeProxies()}}(function(LegendComponent){function chartHighlightLegendItem(ix){const items=this.legend.allItems;const oldIx=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;const itemToHighlight=items[ix],legendItem=itemToHighlight?.legendItem||{};if(itemToHighlight){if(isNumber(oldIx)&&items[oldIx]){setLegendItemHoverState(false,items[oldIx])}scrollLegendToItem(this.legend,ix);const legendItemProp=legendItem.label;const proxyBtn=itemToHighlight.a11yProxyElement&&itemToHighlight.a11yProxyElement.innerElement;if(legendItemProp&&legendItemProp.element&&proxyBtn){this.setFocusToElement(legendItemProp,proxyBtn)}setLegendItemHoverState(true,itemToHighlight);return true}return false}function compose(ChartClass,LegendClass){const chartProto=ChartClass.prototype;if(!chartProto.highlightLegendItem){chartProto.highlightLegendItem=chartHighlightLegendItem;LegendComponent_addEvent(LegendClass,"afterColorizeItem",legendOnAfterColorizeItem)}}LegendComponent.compose=compose;function legendOnAfterColorizeItem(e){const chart=this.chart,a11yOptions=chart.options.accessibility,legendItem=e.item;if(a11yOptions.enabled&&legendItem&&legendItem.a11yProxyElement){legendItem.a11yProxyElement.innerElement.setAttribute("aria-pressed",e.visible?"true":"false")}}})(LegendComponent||(LegendComponent={}));const Components_LegendComponent=LegendComponent;var highcharts_Axis_commonjs_highcharts_Axis_commonjs2_highcharts_Axis_root_Highcharts_Axis_=__webpack_require__(532);var highcharts_Axis_commonjs_highcharts_Axis_commonjs2_highcharts_Axis_root_Highcharts_Axis_default=__webpack_require__.n(highcharts_Axis_commonjs_highcharts_Axis_commonjs2_highcharts_Axis_root_Highcharts_Axis_);const{isTouchDevice}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addEvent:ChartNavigatorComposition_addEvent,merge,pick:ChartNavigatorComposition_pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const composedMembers=[];let NavigatorConstructor;function compose(ChartClass,NavigatorClass){if(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pushUnique(composedMembers,ChartClass)){const chartProto=ChartClass.prototype;NavigatorConstructor=NavigatorClass;chartProto.callbacks.push(onChartCallback);ChartNavigatorComposition_addEvent(ChartClass,"afterAddSeries",onChartAfterAddSeries);ChartNavigatorComposition_addEvent(ChartClass,"afterSetChartSize",onChartAfterSetChartSize);ChartNavigatorComposition_addEvent(ChartClass,"afterUpdate",onChartAfterUpdate);ChartNavigatorComposition_addEvent(ChartClass,"beforeRender",onChartBeforeRender);ChartNavigatorComposition_addEvent(ChartClass,"beforeShowResetZoom",onChartBeforeShowResetZoom);ChartNavigatorComposition_addEvent(ChartClass,"update",onChartUpdate)}}function onChartAfterAddSeries(){if(this.navigator){this.navigator.setBaseSeries(null,false)}}function onChartAfterSetChartSize(){const legend=this.legend,navigator=this.navigator;let legendOptions,xAxis,yAxis;if(navigator){legendOptions=legend&&legend.options;xAxis=navigator.xAxis;yAxis=navigator.yAxis;const{scrollbarHeight,scrollButtonSize}=navigator;if(this.inverted){navigator.left=navigator.opposite?this.chartWidth-scrollbarHeight-navigator.height:this.spacing[3]+scrollbarHeight;navigator.top=this.plotTop+scrollButtonSize}else{navigator.left=ChartNavigatorComposition_pick(xAxis.left,this.plotLeft+scrollButtonSize);navigator.top=navigator.navigatorOptions.top||this.chartHeight-navigator.height-scrollbarHeight-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(legendOptions&&legendOptions.verticalAlign==="bottom"&&legendOptions.layout!=="proximate"&&legendOptions.enabled&&!legendOptions.floating?legend.legendHeight+ChartNavigatorComposition_pick(legendOptions.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)}if(xAxis&&yAxis){if(this.inverted){xAxis.options.left=yAxis.options.left=navigator.left}else{xAxis.options.top=yAxis.options.top=navigator.top}xAxis.setAxisSize();yAxis.setAxisSize()}}}function onChartAfterUpdate(event){if(!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)){this.scroller=this.navigator=new NavigatorConstructor(this);if(ChartNavigatorComposition_pick(event.redraw,true)){this.redraw(event.animation)}}}function onChartBeforeRender(){const options=this.options;if(options.navigator.enabled||options.scrollbar.enabled){this.scroller=this.navigator=new NavigatorConstructor(this)}}function onChartBeforeShowResetZoom(){const chartOptions=this.options,navigator=chartOptions.navigator,rangeSelector=chartOptions.rangeSelector;if((navigator&&navigator.enabled||rangeSelector&&rangeSelector.enabled)&&(!isTouchDevice&&this.zooming.type==="x"||isTouchDevice&&this.zooming.pinchType==="x")){return false}}function onChartCallback(chart){const navigator=chart.navigator;if(navigator&&chart.xAxis[0]){const extremes=chart.xAxis[0].getExtremes();navigator.render(extremes.min,extremes.max)}}function onChartUpdate(e){const navigatorOptions=e.options.navigator||{},scrollbarOptions=e.options.scrollbar||{};if(!this.navigator&&!this.scroller&&(navigatorOptions.enabled||scrollbarOptions.enabled)){merge(true,this.options.navigator,navigatorOptions);merge(true,this.options.scrollbar,scrollbarOptions);delete e.options.navigator;delete e.options.scrollbar}}const ChartNavigatorComposition={compose:compose};const Navigator_ChartNavigatorComposition=ChartNavigatorComposition;const{isTouchDevice:NavigatorAxisComposition_isTouchDevice}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addEvent:NavigatorAxisComposition_addEvent,correctFloat,defined:NavigatorAxisComposition_defined,isNumber:NavigatorAxisComposition_isNumber,pick:NavigatorAxisComposition_pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function onAxisInit(){const axis=this;if(!axis.navigatorAxis){axis.navigatorAxis=new NavigatorAxisAdditions(axis)}}function onAxisSetExtremes(e){const axis=this,chart=axis.chart,chartOptions=chart.options,navigator=chartOptions.navigator,navigatorAxis=axis.navigatorAxis,pinchType=chart.zooming.pinchType,rangeSelector=chartOptions.rangeSelector,zoomType=chart.zooming.type;let zoomed;if(axis.isXAxis&&(navigator?.enabled||rangeSelector?.enabled)){if(zoomType==="y"&&e.trigger==="zoom"){zoomed=false}else if((e.trigger==="zoom"&&zoomType==="xy"||NavigatorAxisComposition_isTouchDevice&&pinchType==="xy")&&axis.options.range){const previousZoom=navigatorAxis.previousZoom;if(NavigatorAxisComposition_defined(e.min)){navigatorAxis.previousZoom=[axis.min,axis.max]}else if(previousZoom){e.min=previousZoom[0];e.max=previousZoom[1];navigatorAxis.previousZoom=void 0}}}if(typeof zoomed!=="undefined"){e.preventDefault()}}class NavigatorAxisAdditions{static compose(AxisClass){if(!AxisClass.keepProps.includes("navigatorAxis")){AxisClass.keepProps.push("navigatorAxis");NavigatorAxisComposition_addEvent(AxisClass,"init",onAxisInit);NavigatorAxisComposition_addEvent(AxisClass,"setExtremes",onAxisSetExtremes)}}constructor(axis){this.axis=axis}destroy(){this.axis=void 0}toFixedRange(pxMin,pxMax,fixedMin,fixedMax){const axis=this.axis,halfPointRange=(axis.pointRange||0)/2;let newMin=NavigatorAxisComposition_pick(fixedMin,axis.translate(pxMin,true,!axis.horiz)),newMax=NavigatorAxisComposition_pick(fixedMax,axis.translate(pxMax,true,!axis.horiz));if(!NavigatorAxisComposition_defined(fixedMin)){newMin=correctFloat(newMin+halfPointRange)}if(!NavigatorAxisComposition_defined(fixedMax)){newMax=correctFloat(newMax-halfPointRange)}if(!NavigatorAxisComposition_isNumber(newMin)||!NavigatorAxisComposition_isNumber(newMax)){newMin=newMax=void 0}return{min:newMin,max:newMax}}}const NavigatorAxisComposition=NavigatorAxisAdditions;var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_=__webpack_require__(620);var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default=__webpack_require__.n(highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);const{parse:color}=highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default();const{seriesTypes}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default();const NavigatorDefaults={height:40,margin:25,maskInside:true,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:true,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:color("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof seriesTypes.areaspline==="undefined"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:false},dataGrouping:{approximation:"average",enabled:true,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:false,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:false},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:false},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:false,endOnTick:false,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:false},crosshair:false,title:{text:null},tickLength:0,tickWidth:0}};const Navigator_NavigatorDefaults=NavigatorDefaults;"";const{defined:Symbols_defined,isNumber:Symbols_isNumber,pick:Symbols_pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function arc(cx,cy,w,h,options){const arc=[];if(options){const start=options.start||0,rx=Symbols_pick(options.r,w),ry=Symbols_pick(options.r,h||w),proximity=2e-4/(options.borderRadius?1:Math.max(rx,1)),fullCircle=Math.abs((options.end||0)-start-2*Math.PI)<proximity,end=(options.end||0)-(fullCircle?proximity:0),innerRadius=options.innerR,open=Symbols_pick(options.open,fullCircle),cosStart=Math.cos(start),sinStart=Math.sin(start),cosEnd=Math.cos(end),sinEnd=Math.sin(end),longArc=Symbols_pick(options.longArc,end-start-Math.PI<proximity?0:1);let arcSegment=["A",rx,ry,0,longArc,Symbols_pick(options.clockwise,1),cx+rx*cosEnd,cy+ry*sinEnd];arcSegment.params={start:start,end:end,cx:cx,cy:cy};arc.push(["M",cx+rx*cosStart,cy+ry*sinStart],arcSegment);if(Symbols_defined(innerRadius)){arcSegment=["A",innerRadius,innerRadius,0,longArc,Symbols_defined(options.clockwise)?1-options.clockwise:0,cx+innerRadius*cosStart,cy+innerRadius*sinStart];arcSegment.params={start:end,end:start,cx:cx,cy:cy};arc.push(open?["M",cx+innerRadius*cosEnd,cy+innerRadius*sinEnd]:["L",cx+innerRadius*cosEnd,cy+innerRadius*sinEnd],arcSegment)}if(!open){arc.push(["Z"])}}return arc}function callout(x,y,w,h,options){const arrowLength=6,halfDistance=6,r=Math.min(options&&options.r||0,w,h),safeDistance=r+halfDistance,anchorX=options&&options.anchorX,anchorY=options&&options.anchorY||0;const path=roundedRect(x,y,w,h,{r:r});if(!Symbols_isNumber(anchorX)){return path}if(anchorX<w&&anchorX>0&&anchorY<h&&anchorY>0){return path}if(x+anchorX>w-safeDistance){if(anchorY>y+safeDistance&&anchorY<y+h-safeDistance){path.splice(3,1,["L",x+w,anchorY-halfDistance],["L",x+w+arrowLength,anchorY],["L",x+w,anchorY+halfDistance],["L",x+w,y+h-r])}else{if(anchorX<w){const isTopCorner=anchorY<y+safeDistance,cornerY=isTopCorner?y:y+h,sliceStart=isTopCorner?2:5;path.splice(sliceStart,0,["L",anchorX,anchorY],["L",x+w-r,cornerY])}else{path.splice(3,1,["L",x+w,h/2],["L",anchorX,anchorY],["L",x+w,h/2],["L",x+w,y+h-r])}}}else if(x+anchorX<safeDistance){if(anchorY>y+safeDistance&&anchorY<y+h-safeDistance){path.splice(7,1,["L",x,anchorY+halfDistance],["L",x-arrowLength,anchorY],["L",x,anchorY-halfDistance],["L",x,y+r])}else{if(anchorX>0){const isTopCorner=anchorY<y+safeDistance,cornerY=isTopCorner?y:y+h,sliceStart=isTopCorner?1:6;path.splice(sliceStart,0,["L",anchorX,anchorY],["L",x+r,cornerY])}else{path.splice(7,1,["L",x,h/2],["L",anchorX,anchorY],["L",x,h/2],["L",x,y+r])}}}else if(anchorY>h&&anchorX<w-safeDistance){path.splice(5,1,["L",anchorX+halfDistance,y+h],["L",anchorX,y+h+arrowLength],["L",anchorX-halfDistance,y+h],["L",x+r,y+h])}else if(anchorY<0&&anchorX>safeDistance){path.splice(1,1,["L",anchorX-halfDistance,y],["L",anchorX,y-arrowLength],["L",anchorX+halfDistance,y],["L",w-r,y])}return path}function circle(x,y,w,h){return arc(x+w/2,y+h/2,w/2,h/2,{start:Math.PI*.5,end:Math.PI*2.5,open:false})}function diamond(x,y,w,h){return[["M",x+w/2,y],["L",x+w,y+h/2],["L",x+w/2,y+h],["L",x,y+h/2],["Z"]]}function rect(x,y,w,h,options){if(options&&options.r){return roundedRect(x,y,w,h,options)}return[["M",x,y],["L",x+w,y],["L",x+w,y+h],["L",x,y+h],["Z"]]}function roundedRect(x,y,w,h,options){const r=options?.r||0;return[["M",x+r,y],["L",x+w-r,y],["A",r,r,0,0,1,x+w,y+r],["L",x+w,y+h-r],["A",r,r,0,0,1,x+w-r,y+h],["L",x+r,y+h],["A",r,r,0,0,1,x,y+h-r],["L",x,y+r],["A",r,r,0,0,1,x+r,y],["Z"]]}function triangle(x,y,w,h){return[["M",x+w/2,y],["L",x+w,y+h],["L",x,y+h],["Z"]]}function triangleDown(x,y,w,h){return[["M",x,y],["L",x+w,y],["L",x+w/2,y+h],["Z"]]}const Symbols={arc:arc,callout:callout,circle:circle,diamond:diamond,rect:rect,roundedRect:roundedRect,square:rect,triangle:triangle,"triangle-down":triangleDown};const SVG_Symbols=Symbols;const{relativeLength}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function navigatorHandle(_x,_y,width,height,options={}){const halfWidth=options.width?options.width/2:width,markerPosition=1.5,r=relativeLength(options.borderRadius||0,Math.min(halfWidth*2,height));height=options.height||height;return[["M",-markerPosition,height/2-3.5],["L",-markerPosition,height/2+4.5],["M",markerPosition-1,height/2-3.5],["L",markerPosition-1,height/2+4.5],...SVG_Symbols.rect(-halfWidth-1,.5,halfWidth*2+1,height,{r:r})]}const NavigatorSymbols={"navigator-handle":navigatorHandle};const Navigator_NavigatorSymbols=NavigatorSymbols;var highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_=__webpack_require__(608);var highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_default=__webpack_require__.n(highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_);const{defined:StockUtilities_defined}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function setFixedRange(range){const xAxis=this.xAxis[0];if(StockUtilities_defined(xAxis.dataMax)&&StockUtilities_defined(xAxis.dataMin)&&range){this.fixedRange=Math.min(range,xAxis.dataMax-xAxis.dataMin)}else{this.fixedRange=range}}const StockUtilities={setFixedRange:setFixedRange};const Utilities_StockUtilities=StockUtilities;const{setOptions}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{composed}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{getRendererType}=highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_default();const{setFixedRange:NavigatorComposition_setFixedRange}=Utilities_StockUtilities;const{addEvent:NavigatorComposition_addEvent,extend,pushUnique}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function NavigatorComposition_compose(ChartClass,AxisClass,SeriesClass){NavigatorAxisComposition.compose(AxisClass);if(pushUnique(composed,"Navigator")){ChartClass.prototype.setFixedRange=NavigatorComposition_setFixedRange;extend(getRendererType().prototype.symbols,Navigator_NavigatorSymbols);NavigatorComposition_addEvent(SeriesClass,"afterUpdate",onSeriesAfterUpdate);setOptions({navigator:Navigator_NavigatorDefaults})}}function onSeriesAfterUpdate(){if(this.chart.navigator&&!this.options.isInternal){this.chart.navigator.setBaseSeries(null,false)}}const NavigatorComposition={compose:NavigatorComposition_compose};const Navigator_NavigatorComposition=NavigatorComposition;const{composed:ScrollbarAxis_composed}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addEvent:ScrollbarAxis_addEvent,defined:ScrollbarAxis_defined,pick:ScrollbarAxis_pick,pushUnique:ScrollbarAxis_pushUnique}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();var ScrollbarAxis;(function(ScrollbarAxis){let Scrollbar;function compose(AxisClass,ScrollbarClass){if(ScrollbarAxis_pushUnique(ScrollbarAxis_composed,"Axis.Scrollbar")){Scrollbar=ScrollbarClass;ScrollbarAxis_addEvent(AxisClass,"afterGetOffset",onAxisAfterGetOffset);ScrollbarAxis_addEvent(AxisClass,"afterInit",onAxisAfterInit);ScrollbarAxis_addEvent(AxisClass,"afterRender",onAxisAfterRender)}}ScrollbarAxis.compose=compose;function getExtremes(axis){const axisMin=ScrollbarAxis_pick(axis.options&&axis.options.min,axis.min);const axisMax=ScrollbarAxis_pick(axis.options&&axis.options.max,axis.max);return{axisMin:axisMin,axisMax:axisMax,scrollMin:ScrollbarAxis_defined(axis.dataMin)?Math.min(axisMin,axis.min,axis.dataMin,ScrollbarAxis_pick(axis.threshold,Infinity)):axisMin,scrollMax:ScrollbarAxis_defined(axis.dataMax)?Math.max(axisMax,axis.max,axis.dataMax,ScrollbarAxis_pick(axis.threshold,-Infinity)):axisMax}}function onAxisAfterGetOffset(){const axis=this,scrollbar=axis.scrollbar,opposite=scrollbar&&!scrollbar.options.opposite,index=axis.horiz?2:opposite?3:1;if(scrollbar){axis.chart.scrollbarsOffsets=[0,0];axis.chart.axisOffset[index]+=scrollbar.size+(scrollbar.options.margin||0)}}function onAxisAfterInit(){const axis=this;if(axis.options&&axis.options.scrollbar&&axis.options.scrollbar.enabled){axis.options.scrollbar.vertical=!axis.horiz;axis.options.startOnTick=axis.options.endOnTick=false;axis.scrollbar=new Scrollbar(axis.chart.renderer,axis.options.scrollbar,axis.chart);ScrollbarAxis_addEvent(axis.scrollbar,"changed",function(e){const{axisMin,axisMax,scrollMin:unitedMin,scrollMax:unitedMax}=getExtremes(axis),range=unitedMax-unitedMin;let to,from;if(!ScrollbarAxis_defined(axisMin)||!ScrollbarAxis_defined(axisMax)){return}if(axis.horiz&&!axis.reversed||!axis.horiz&&axis.reversed){to=unitedMin+range*this.to;from=unitedMin+range*this.from}else{to=unitedMin+range*(1-this.from);from=unitedMin+range*(1-this.to)}if(this.shouldUpdateExtremes(e.DOMType)){const animate=e.DOMType==="mousemove"||e.DOMType==="touchmove"?false:void 0;axis.setExtremes(from,to,true,animate,e)}else{this.setRange(this.from,this.to)}})}}function onAxisAfterRender(){const axis=this,{scrollMin,scrollMax}=getExtremes(axis),scrollbar=axis.scrollbar,offset=axis.axisTitleMargin+(axis.titleOffset||0),scrollbarsOffsets=axis.chart.scrollbarsOffsets,axisMargin=axis.options.margin||0;let offsetsIndex,from,to;if(scrollbar&&scrollbarsOffsets){if(axis.horiz){if(!axis.opposite){scrollbarsOffsets[1]+=offset}scrollbar.position(axis.left,axis.top+axis.height+2+scrollbarsOffsets[1]-(axis.opposite?axisMargin:0),axis.width,axis.height);if(!axis.opposite){scrollbarsOffsets[1]+=axisMargin}offsetsIndex=1}else{if(axis.opposite){scrollbarsOffsets[0]+=offset}let xPosition;if(!scrollbar.options.opposite){xPosition=axis.opposite?0:axisMargin}else{xPosition=axis.left+axis.width+2+scrollbarsOffsets[0]-(axis.opposite?0:axisMargin)}scrollbar.position(xPosition,axis.top,axis.width,axis.height);if(axis.opposite){scrollbarsOffsets[0]+=axisMargin}offsetsIndex=0}scrollbarsOffsets[offsetsIndex]+=scrollbar.size+(scrollbar.options.margin||0);if(isNaN(scrollMin)||isNaN(scrollMax)||!ScrollbarAxis_defined(axis.min)||!ScrollbarAxis_defined(axis.max)||axis.dataMin===axis.dataMax){scrollbar.setRange(0,1)}else if(axis.min===axis.max){const interval=axis.pointRange/(axis.dataMax+1);from=interval*axis.min;to=interval*(axis.max+1);scrollbar.setRange(from,to)}else{from=(axis.min-scrollMin)/(scrollMax-scrollMin);to=(axis.max-scrollMin)/(scrollMax-scrollMin);if(axis.horiz&&!axis.reversed||!axis.horiz&&axis.reversed){scrollbar.setRange(from,to)}else{scrollbar.setRange(1-to,1-from)}}}}})(ScrollbarAxis||(ScrollbarAxis={}));const Axis_ScrollbarAxis=ScrollbarAxis;const ScrollbarDefaults={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:false,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:true,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1};const Scrollbar_ScrollbarDefaults=ScrollbarDefaults;const{defaultOptions}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addEvent:Scrollbar_addEvent,correctFloat:Scrollbar_correctFloat,crisp,defined:Scrollbar_defined,destroyObjectProperties,fireEvent:Scrollbar_fireEvent,merge:Scrollbar_merge,pick:Scrollbar_pick,removeEvent}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class Scrollbar{static compose(AxisClass){Axis_ScrollbarAxis.compose(AxisClass,Scrollbar)}static swapXY(path,vertical){if(vertical){path.forEach(seg=>{const len=seg.length;let temp;for(let i=0;i<len;i+=2){temp=seg[i+1];if(typeof temp==="number"){seg[i+1]=seg[i+2];seg[i+2]=temp}}})}return path}constructor(renderer,options,chart){this._events=[];this.chartX=0;this.chartY=0;this.from=0;this.scrollbarButtons=[];this.scrollbarLeft=0;this.scrollbarStrokeWidth=1;this.scrollbarTop=0;this.size=0;this.to=0;this.trackBorderWidth=1;this.x=0;this.y=0;this.init(renderer,options,chart)}addEvents(){const buttonsOrder=this.options.inverted?[1,0]:[0,1],buttons=this.scrollbarButtons,bar=this.scrollbarGroup.element,track=this.track.element,mouseDownHandler=this.mouseDownHandler.bind(this),mouseMoveHandler=this.mouseMoveHandler.bind(this),mouseUpHandler=this.mouseUpHandler.bind(this);const _events=[[buttons[buttonsOrder[0]].element,"click",this.buttonToMinClick.bind(this)],[buttons[buttonsOrder[1]].element,"click",this.buttonToMaxClick.bind(this)],[track,"click",this.trackClick.bind(this)],[bar,"mousedown",mouseDownHandler],[bar.ownerDocument,"mousemove",mouseMoveHandler],[bar.ownerDocument,"mouseup",mouseUpHandler],[bar,"touchstart",mouseDownHandler],[bar.ownerDocument,"touchmove",mouseMoveHandler],[bar.ownerDocument,"touchend",mouseUpHandler]];_events.forEach(function(args){Scrollbar_addEvent.apply(null,args)});this._events=_events}buttonToMaxClick(e){const scroller=this;const range=(scroller.to-scroller.from)*Scrollbar_pick(scroller.options.step,.2);scroller.updatePosition(scroller.from+range,scroller.to+range);Scrollbar_fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMEvent:e})}buttonToMinClick(e){const scroller=this;const range=Scrollbar_correctFloat(scroller.to-scroller.from)*Scrollbar_pick(scroller.options.step,.2);scroller.updatePosition(Scrollbar_correctFloat(scroller.from-range),Scrollbar_correctFloat(scroller.to-range));Scrollbar_fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMEvent:e})}cursorToScrollbarPosition(normalizedEvent){const scroller=this,options=scroller.options,minWidthDifference=options.minWidth>scroller.calculatedWidth?options.minWidth:0;return{chartX:(normalizedEvent.chartX-scroller.x-scroller.xOffset)/(scroller.barWidth-minWidthDifference),chartY:(normalizedEvent.chartY-scroller.y-scroller.yOffset)/(scroller.barWidth-minWidthDifference)}}destroy(){const scroller=this,navigator=scroller.chart.scroller;scroller.removeEvents();["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(prop){if(scroller[prop]&&scroller[prop].destroy){scroller[prop]=scroller[prop].destroy()}});if(navigator&&scroller===navigator.scrollbar){navigator.scrollbar=null;destroyObjectProperties(navigator.scrollbarButtons)}}drawScrollbarButton(index){const scroller=this,renderer=scroller.renderer,scrollbarButtons=scroller.scrollbarButtons,options=scroller.options,size=scroller.size,group=renderer.g().add(scroller.group);scrollbarButtons.push(group);if(options.buttonsEnabled){const rect=renderer.rect().addClass("highcharts-scrollbar-button").add(group);if(!scroller.chart.styledMode){rect.attr({stroke:options.buttonBorderColor,"stroke-width":options.buttonBorderWidth,fill:options.buttonBackgroundColor})}rect.attr(rect.crisp({x:-.5,y:-.5,width:size,height:size,r:options.buttonBorderRadius},rect.strokeWidth()));const arrow=renderer.path(Scrollbar.swapXY([["M",size/2+(index?-1:1),size/2-3],["L",size/2+(index?-1:1),size/2+3],["L",size/2+(index?2:-2),size/2]],options.vertical)).addClass("highcharts-scrollbar-arrow").add(scrollbarButtons[index]);if(!scroller.chart.styledMode){arrow.attr({fill:options.buttonArrowColor})}}}init(renderer,options,chart){const scroller=this;scroller.scrollbarButtons=[];scroller.renderer=renderer;scroller.userOptions=options;scroller.options=Scrollbar_merge(Scrollbar_ScrollbarDefaults,defaultOptions.scrollbar,options);scroller.options.margin=Scrollbar_pick(scroller.options.margin,10);scroller.chart=chart;scroller.size=Scrollbar_pick(scroller.options.size,scroller.options.height);if(options.enabled){scroller.render();scroller.addEvents()}}mouseDownHandler(e){const scroller=this,normalizedEvent=scroller.chart.pointer?.normalize(e)||e,mousePosition=scroller.cursorToScrollbarPosition(normalizedEvent);scroller.chartX=mousePosition.chartX;scroller.chartY=mousePosition.chartY;scroller.initPositions=[scroller.from,scroller.to];scroller.grabbedCenter=true}mouseMoveHandler(e){const scroller=this,normalizedEvent=scroller.chart.pointer?.normalize(e)||e,options=scroller.options,direction=options.vertical?"chartY":"chartX",initPositions=scroller.initPositions||[];let scrollPosition,chartPosition,change;if(scroller.grabbedCenter&&(!e.touches||e.touches[0][direction]!==0)){chartPosition=scroller.cursorToScrollbarPosition(normalizedEvent)[direction];scrollPosition=scroller[direction];change=chartPosition-scrollPosition;scroller.hasDragged=true;scroller.updatePosition(initPositions[0]+change,initPositions[1]+change);if(scroller.hasDragged){Scrollbar_fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e})}}}mouseUpHandler(e){const scroller=this;if(scroller.hasDragged){Scrollbar_fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e})}scroller.grabbedCenter=scroller.hasDragged=scroller.chartX=scroller.chartY=null}position(x,y,width,height){const scroller=this,options=scroller.options,{buttonsEnabled,margin=0,vertical}=options,method=scroller.rendered?"animate":"attr";let xOffset=height,yOffset=0;scroller.group.show();scroller.x=x;scroller.y=y+this.trackBorderWidth;scroller.width=width;scroller.height=height;scroller.xOffset=xOffset;scroller.yOffset=yOffset;if(vertical){scroller.width=scroller.yOffset=width=yOffset=scroller.size;scroller.xOffset=xOffset=0;scroller.yOffset=yOffset=buttonsEnabled?scroller.size:0;scroller.barWidth=height-(buttonsEnabled?width*2:0);scroller.x=x=x+margin}else{scroller.height=height=scroller.size;scroller.xOffset=xOffset=buttonsEnabled?scroller.size:0;scroller.barWidth=width-(buttonsEnabled?height*2:0);scroller.y=scroller.y+margin}scroller.group[method]({translateX:x,translateY:scroller.y});scroller.track[method]({width:width,height:height});scroller.scrollbarButtons[1][method]({translateX:vertical?0:width-xOffset,translateY:vertical?height-yOffset:0})}removeEvents(){this._events.forEach(function(args){removeEvent.apply(null,args)});this._events.length=0}render(){const scroller=this,renderer=scroller.renderer,options=scroller.options,size=scroller.size,styledMode=scroller.chart.styledMode,group=renderer.g("scrollbar").attr({zIndex:options.zIndex}).hide().add();scroller.group=group;scroller.track=renderer.rect().addClass("highcharts-scrollbar-track").attr({r:options.trackBorderRadius||0,height:size,width:size}).add(group);if(!styledMode){scroller.track.attr({fill:options.trackBackgroundColor,stroke:options.trackBorderColor,"stroke-width":options.trackBorderWidth})}const trackBorderWidth=scroller.trackBorderWidth=scroller.track.strokeWidth();scroller.track.attr({x:-crisp(0,trackBorderWidth),y:-crisp(0,trackBorderWidth)});scroller.scrollbarGroup=renderer.g().add(group);scroller.scrollbar=renderer.rect().addClass("highcharts-scrollbar-thumb").attr({height:size-trackBorderWidth,width:size-trackBorderWidth,r:options.barBorderRadius||0}).add(scroller.scrollbarGroup);scroller.scrollbarRifles=renderer.path(Scrollbar.swapXY([["M",-3,size/4],["L",-3,2*size/3],["M",0,size/4],["L",0,2*size/3],["M",3,size/4],["L",3,2*size/3]],options.vertical)).addClass("highcharts-scrollbar-rifles").add(scroller.scrollbarGroup);if(!styledMode){scroller.scrollbar.attr({fill:options.barBackgroundColor,stroke:options.barBorderColor,"stroke-width":options.barBorderWidth});scroller.scrollbarRifles.attr({stroke:options.rifleColor,"stroke-width":1})}scroller.scrollbarStrokeWidth=scroller.scrollbar.strokeWidth();scroller.scrollbarGroup.translate(-crisp(0,scroller.scrollbarStrokeWidth),-crisp(0,scroller.scrollbarStrokeWidth));scroller.drawScrollbarButton(0);scroller.drawScrollbarButton(1)}setRange(from,to){const scroller=this,options=scroller.options,vertical=options.vertical,minWidth=options.minWidth,fullWidth=scroller.barWidth,method=this.rendered&&!this.hasDragged&&!(this.chart.navigator&&this.chart.navigator.hasDragged)?"animate":"attr";if(!Scrollbar_defined(fullWidth)){return}const toPX=fullWidth*Math.min(to,1);let fromPX,newSize;from=Math.max(from,0);fromPX=Math.ceil(fullWidth*from);scroller.calculatedWidth=newSize=Scrollbar_correctFloat(toPX-fromPX);if(newSize<minWidth){fromPX=(fullWidth-minWidth+newSize)*from;newSize=minWidth}const newPos=Math.floor(fromPX+scroller.xOffset+scroller.yOffset);const newRiflesPos=newSize/2-.5;scroller.from=from;scroller.to=to;if(!vertical){scroller.scrollbarGroup[method]({translateX:newPos});scroller.scrollbar[method]({width:newSize});scroller.scrollbarRifles[method]({translateX:newRiflesPos});scroller.scrollbarLeft=newPos;scroller.scrollbarTop=0}else{scroller.scrollbarGroup[method]({translateY:newPos});scroller.scrollbar[method]({height:newSize});scroller.scrollbarRifles[method]({translateY:newRiflesPos});scroller.scrollbarTop=newPos;scroller.scrollbarLeft=0}if(newSize<=12){scroller.scrollbarRifles.hide()}else{scroller.scrollbarRifles.show()}if(options.showFull===false){if(from<=0&&to>=1){scroller.group.hide()}else{scroller.group.show()}}scroller.rendered=true}shouldUpdateExtremes(eventType){return Scrollbar_pick(this.options.liveRedraw,highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().svg&&!highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isTouchDevice&&!this.chart.boosted)||eventType==="mouseup"||eventType==="touchend"||!Scrollbar_defined(eventType)}trackClick(e){const scroller=this;const normalizedEvent=scroller.chart.pointer?.normalize(e)||e,range=scroller.to-scroller.from,top=scroller.y+scroller.scrollbarTop,left=scroller.x+scroller.scrollbarLeft;if(scroller.options.vertical&&normalizedEvent.chartY>top||!scroller.options.vertical&&normalizedEvent.chartX>left){scroller.updatePosition(scroller.from+range,scroller.to+range)}else{scroller.updatePosition(scroller.from-range,scroller.to-range)}Scrollbar_fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMEvent:e})}update(options){this.destroy();this.init(this.chart.renderer,Scrollbar_merge(true,this.options,options),this.chart)}updatePosition(from,to){if(to>1){from=Scrollbar_correctFloat(1-Scrollbar_correctFloat(to-from));to=1}if(from<0){to=Scrollbar_correctFloat(to-from);from=0}this.from=from;this.to=to}}Scrollbar.defaultOptions=Scrollbar_ScrollbarDefaults;defaultOptions.scrollbar=Scrollbar_merge(true,Scrollbar.defaultOptions,defaultOptions.scrollbar);const Scrollbar_Scrollbar=Scrollbar;var highcharts_SVGRenderer_commonjs_highcharts_SVGRenderer_commonjs2_highcharts_SVGRenderer_root_Highcharts_SVGRenderer_=__webpack_require__(540);var highcharts_SVGRenderer_commonjs_highcharts_SVGRenderer_commonjs2_highcharts_SVGRenderer_root_Highcharts_SVGRenderer_default=__webpack_require__.n(highcharts_SVGRenderer_commonjs_highcharts_SVGRenderer_commonjs2_highcharts_SVGRenderer_root_Highcharts_SVGRenderer_);const{defaultOptions:Navigator_defaultOptions}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{isTouchDevice:Navigator_isTouchDevice}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{prototype:{symbols}}=highcharts_SVGRenderer_commonjs_highcharts_SVGRenderer_commonjs2_highcharts_SVGRenderer_root_Highcharts_SVGRenderer_default();const{addEvent:Navigator_addEvent,clamp,correctFloat:Navigator_correctFloat,defined:Navigator_defined,destroyObjectProperties:Navigator_destroyObjectProperties,erase,extend:Navigator_extend,find:Navigator_find,fireEvent:Navigator_fireEvent,isArray,isNumber:Navigator_isNumber,merge:Navigator_merge,pick:Navigator_pick,removeEvent:Navigator_removeEvent,splat}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function numExt(extreme,...args){const numbers=[].filter.call(args,Navigator_isNumber);if(numbers.length){return Math[extreme].apply(0,numbers)}}class Navigator{static compose(ChartClass,AxisClass,SeriesClass){Navigator_ChartNavigatorComposition.compose(ChartClass,Navigator);Navigator_NavigatorComposition.compose(ChartClass,AxisClass,SeriesClass)}constructor(chart){this.isDirty=false;this.scrollbarHeight=0;this.init(chart)}drawHandle(x,index,inverted,verb){const navigator=this,height=navigator.navigatorOptions.handles.height;navigator.handles[index][verb](inverted?{translateX:Math.round(navigator.left+navigator.height/2),translateY:Math.round(navigator.top+parseInt(x,10)+.5-height)}:{translateX:Math.round(navigator.left+parseInt(x,10)),translateY:Math.round(navigator.top+navigator.height/2-height/2-1)})}drawOutline(zoomedMin,zoomedMax,inverted,verb){const navigator=this,maskInside=navigator.navigatorOptions.maskInside,outlineWidth=navigator.outline.strokeWidth(),halfOutline=outlineWidth/2,outlineCorrection=outlineWidth%2/2,scrollButtonSize=navigator.scrollButtonSize,navigatorSize=navigator.size,navigatorTop=navigator.top,height=navigator.height,lineTop=navigatorTop-halfOutline,lineBtm=navigatorTop+height;let left=navigator.left,verticalMin,path;if(inverted){verticalMin=navigatorTop+zoomedMax+outlineCorrection;zoomedMax=navigatorTop+zoomedMin+outlineCorrection;path=[["M",left+height,navigatorTop-scrollButtonSize-outlineCorrection],["L",left+height,verticalMin],["L",left,verticalMin],["M",left,zoomedMax],["L",left+height,zoomedMax],["L",left+height,navigatorTop+navigatorSize+scrollButtonSize]];if(maskInside){path.push(["M",left+height,verticalMin-halfOutline],["L",left+height,zoomedMax+halfOutline])}}else{left-=scrollButtonSize;zoomedMin+=left+scrollButtonSize-outlineCorrection;zoomedMax+=left+scrollButtonSize-outlineCorrection;path=[["M",left,lineTop],["L",zoomedMin,lineTop],["L",zoomedMin,lineBtm],["M",zoomedMax,lineBtm],["L",zoomedMax,lineTop],["L",left+navigatorSize+scrollButtonSize*2,lineTop]];if(maskInside){path.push(["M",zoomedMin-halfOutline,lineTop],["L",zoomedMax+halfOutline,lineTop])}}navigator.outline[verb]({d:path})}drawMasks(zoomedMin,zoomedMax,inverted,verb){const navigator=this,left=navigator.left,top=navigator.top,navigatorHeight=navigator.height;let height,width,x,y;if(inverted){x=[left,left,left];y=[top,top+zoomedMin,top+zoomedMax];width=[navigatorHeight,navigatorHeight,navigatorHeight];height=[zoomedMin,zoomedMax-zoomedMin,navigator.size-zoomedMax]}else{x=[left,left+zoomedMin,left+zoomedMax];y=[top,top,top];width=[zoomedMin,zoomedMax-zoomedMin,navigator.size-zoomedMax];height=[navigatorHeight,navigatorHeight,navigatorHeight]}navigator.shades.forEach((shade,i)=>{shade[verb]({x:x[i],y:y[i],width:width[i],height:height[i]})})}renderElements(){const navigator=this,navigatorOptions=navigator.navigatorOptions,maskInside=navigatorOptions.maskInside,chart=navigator.chart,inverted=chart.inverted,renderer=chart.renderer,mouseCursor={cursor:inverted?"ns-resize":"ew-resize"},navigatorGroup=navigator.navigatorGroup??(navigator.navigatorGroup=renderer.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());[!maskInside,maskInside,!maskInside].forEach((hasMask,index)=>{const shade=navigator.shades[index]??(navigator.shades[index]=renderer.rect().addClass("highcharts-navigator-mask"+(index===1?"-inside":"-outside")).add(navigatorGroup));if(!chart.styledMode){shade.attr({fill:hasMask?navigatorOptions.maskFill:"rgba(0,0,0,0)"});if(index===1){shade.css(mouseCursor)}}});if(!navigator.outline){navigator.outline=renderer.path().addClass("highcharts-navigator-outline").add(navigatorGroup)}if(!chart.styledMode){navigator.outline.attr({"stroke-width":navigatorOptions.outlineWidth,stroke:navigatorOptions.outlineColor})}if(navigatorOptions.handles?.enabled){const handlesOptions=navigatorOptions.handles,{height,width}=handlesOptions;[0,1].forEach(index=>{const symbolName=handlesOptions.symbols[index];if(!navigator.handles[index]||navigator.handles[index].symbolUrl!==symbolName){navigator.handles[index]?.destroy();navigator.handles[index]=renderer.symbol(symbolName,-width/2-1,0,width,height,handlesOptions);navigator.handles[index].attr({zIndex:7-index}).addClass("highcharts-navigator-handle "+"highcharts-navigator-handle-"+["left","right"][index]).add(navigatorGroup);navigator.addMouseEvents()}else if(!navigator.handles[index].isImg&&navigator.handles[index].symbolName!==symbolName){const symbolFn=symbols[symbolName],path=symbolFn.call(symbols,-width/2-1,0,width,height);navigator.handles[index].attr({d:path});navigator.handles[index].symbolName=symbolName}if(chart.inverted){navigator.handles[index].attr({rotation:90,rotationOriginX:Math.floor(-width/2),rotationOriginY:(height+width)/2})}if(!chart.styledMode){navigator.handles[index].attr({fill:handlesOptions.backgroundColor,stroke:handlesOptions.borderColor,"stroke-width":handlesOptions.lineWidth,width:handlesOptions.width,height:handlesOptions.height,x:-width/2-1,y:0}).css(mouseCursor)}})}}update(options,redraw=false){const chart=this.chart,invertedUpdate=chart.options.chart.inverted!==chart.scrollbar?.options.vertical;Navigator_merge(true,chart.options.navigator,options);this.navigatorOptions=chart.options.navigator||{};this.setOpposite();if(Navigator_defined(options.enabled)||invertedUpdate){this.destroy();this.navigatorEnabled=options.enabled||this.navigatorEnabled;return this.init(chart)}if(this.navigatorEnabled){this.isDirty=true;if(options.adaptToUpdatedData===false){this.baseSeries.forEach(series=>{Navigator_removeEvent(series,"updatedData",this.updatedDataHandler)},this)}if(options.adaptToUpdatedData){this.baseSeries.forEach(series=>{series.eventsToUnbind.push(Navigator_addEvent(series,"updatedData",this.updatedDataHandler))},this)}if(options.series||options.baseSeries){this.setBaseSeries(void 0,false)}if(options.height||options.xAxis||options.yAxis){this.height=options.height??this.height;const offsets=this.getXAxisOffsets();this.xAxis.update({...options.xAxis,offsets:offsets,[chart.inverted?"width":"height"]:this.height,[chart.inverted?"height":"width"]:void 0},false);this.yAxis.update({...options.yAxis,[chart.inverted?"width":"height"]:this.height},false)}}if(redraw){chart.redraw()}}render(min,max,pxMin,pxMax){const navigator=this,chart=navigator.chart,xAxis=navigator.xAxis,pointRange=xAxis.pointRange||0,scrollbarXAxis=xAxis.navigatorAxis.fake?chart.xAxis[0]:xAxis,navigatorEnabled=navigator.navigatorEnabled,rendered=navigator.rendered,inverted=chart.inverted,minRange=chart.xAxis[0].minRange,maxRange=chart.xAxis[0].options.maxRange,scrollButtonSize=navigator.scrollButtonSize;let navigatorWidth,scrollbarLeft,scrollbarTop,scrollbarHeight=navigator.scrollbarHeight,navigatorSize,verb;if(this.hasDragged&&!Navigator_defined(pxMin)){return}if(this.isDirty){this.renderElements()}min=Navigator_correctFloat(min-pointRange/2);max=Navigator_correctFloat(max+pointRange/2);if(!Navigator_isNumber(min)||!Navigator_isNumber(max)){if(rendered){pxMin=0;pxMax=Navigator_pick(xAxis.width,scrollbarXAxis.width)}else{return}}navigator.left=Navigator_pick(xAxis.left,chart.plotLeft+scrollButtonSize+(inverted?chart.plotWidth:0));let zoomedMax=navigator.size=navigatorSize=Navigator_pick(xAxis.len,(inverted?chart.plotHeight:chart.plotWidth)-2*scrollButtonSize);if(inverted){navigatorWidth=scrollbarHeight}else{navigatorWidth=navigatorSize+2*scrollButtonSize}pxMin=Navigator_pick(pxMin,xAxis.toPixels(min,true));pxMax=Navigator_pick(pxMax,xAxis.toPixels(max,true));if(!Navigator_isNumber(pxMin)||Math.abs(pxMin)===Infinity){pxMin=0;pxMax=navigatorWidth}const newMin=xAxis.toValue(pxMin,true),newMax=xAxis.toValue(pxMax,true),currentRange=Math.abs(Navigator_correctFloat(newMax-newMin));if(currentRange<minRange){if(this.grabbedLeft){pxMin=xAxis.toPixels(newMax-minRange-pointRange,true)}else if(this.grabbedRight){pxMax=xAxis.toPixels(newMin+minRange+pointRange,true)}}else if(Navigator_defined(maxRange)&&Navigator_correctFloat(currentRange-pointRange)>maxRange){if(this.grabbedLeft){pxMin=xAxis.toPixels(newMax-maxRange-pointRange,true)}else if(this.grabbedRight){pxMax=xAxis.toPixels(newMin+maxRange+pointRange,true)}}navigator.zoomedMax=clamp(Math.max(pxMin,pxMax),0,zoomedMax);navigator.zoomedMin=clamp(navigator.fixedWidth?navigator.zoomedMax-navigator.fixedWidth:Math.min(pxMin,pxMax),0,zoomedMax);navigator.range=navigator.zoomedMax-navigator.zoomedMin;zoomedMax=Math.round(navigator.zoomedMax);const zoomedMin=Math.round(navigator.zoomedMin);if(navigatorEnabled){navigator.navigatorGroup.attr({visibility:"inherit"});verb=rendered&&!navigator.hasDragged?"animate":"attr";navigator.drawMasks(zoomedMin,zoomedMax,inverted,verb);navigator.drawOutline(zoomedMin,zoomedMax,inverted,verb);if(navigator.navigatorOptions.handles.enabled){navigator.drawHandle(zoomedMin,0,inverted,verb);navigator.drawHandle(zoomedMax,1,inverted,verb)}}if(navigator.scrollbar){if(inverted){scrollbarTop=navigator.top-scrollButtonSize;scrollbarLeft=navigator.left-scrollbarHeight+(navigatorEnabled||!scrollbarXAxis.opposite?0:(scrollbarXAxis.titleOffset||0)+scrollbarXAxis.axisTitleMargin);scrollbarHeight=navigatorSize+2*scrollButtonSize}else{scrollbarTop=navigator.top+(navigatorEnabled?navigator.height:-scrollbarHeight);scrollbarLeft=navigator.left-scrollButtonSize}navigator.scrollbar.position(scrollbarLeft,scrollbarTop,navigatorWidth,scrollbarHeight);navigator.scrollbar.setRange(navigator.zoomedMin/(navigatorSize||1),navigator.zoomedMax/(navigatorSize||1))}navigator.rendered=true;this.isDirty=false;Navigator_fireEvent(this,"afterRender")}addMouseEvents(){const navigator=this,chart=navigator.chart,container=chart.container;let eventsToUnbind=[],mouseMoveHandler,mouseUpHandler;navigator.mouseMoveHandler=mouseMoveHandler=function(e){navigator.onMouseMove(e)};navigator.mouseUpHandler=mouseUpHandler=function(e){navigator.onMouseUp(e)};eventsToUnbind=navigator.getPartsEvents("mousedown");eventsToUnbind.push(Navigator_addEvent(chart.renderTo,"mousemove",mouseMoveHandler),Navigator_addEvent(container.ownerDocument,"mouseup",mouseUpHandler),Navigator_addEvent(chart.renderTo,"touchmove",mouseMoveHandler),Navigator_addEvent(container.ownerDocument,"touchend",mouseUpHandler));eventsToUnbind.concat(navigator.getPartsEvents("touchstart"));navigator.eventsToUnbind=eventsToUnbind;if(navigator.series&&navigator.series[0]){eventsToUnbind.push(Navigator_addEvent(navigator.series[0].xAxis,"foundExtremes",function(){chart.navigator.modifyNavigatorAxisExtremes()}))}}getPartsEvents(eventName){const navigator=this,events=[];["shades","handles"].forEach(function(name){navigator[name].forEach(function(navigatorItem,index){events.push(Navigator_addEvent(navigatorItem.element,eventName,function(e){navigator[name+"Mousedown"](e,index)}))})});return events}shadesMousedown(e,index){e=this.chart.pointer?.normalize(e)||e;const navigator=this,chart=navigator.chart,xAxis=navigator.xAxis,zoomedMin=navigator.zoomedMin,navigatorSize=navigator.size,range=navigator.range;let navigatorPosition=navigator.left,chartX=e.chartX,fixedMax,fixedMin,ext,left;if(chart.inverted){chartX=e.chartY;navigatorPosition=navigator.top}if(index===1){navigator.grabbedCenter=chartX;navigator.fixedWidth=range;navigator.dragOffset=chartX-zoomedMin}else{left=chartX-navigatorPosition-range/2;if(index===0){left=Math.max(0,left)}else if(index===2&&left+range>=navigatorSize){left=navigatorSize-range;if(navigator.reversedExtremes){left-=range;fixedMin=navigator.getUnionExtremes().dataMin}else{fixedMax=navigator.getUnionExtremes().dataMax}}if(left!==zoomedMin){navigator.fixedWidth=range;ext=xAxis.navigatorAxis.toFixedRange(left,left+range,fixedMin,fixedMax);if(Navigator_defined(ext.min)){Navigator_fireEvent(this,"setRange",{min:Math.min(ext.min,ext.max),max:Math.max(ext.min,ext.max),redraw:true,eventArguments:{trigger:"navigator"}})}}}}handlesMousedown(e,index){e=this.chart.pointer?.normalize(e)||e;const navigator=this,chart=navigator.chart,baseXAxis=chart.xAxis[0],reverse=navigator.reversedExtremes;if(index===0){navigator.grabbedLeft=true;navigator.otherHandlePos=navigator.zoomedMax;navigator.fixedExtreme=reverse?baseXAxis.min:baseXAxis.max}else{navigator.grabbedRight=true;navigator.otherHandlePos=navigator.zoomedMin;navigator.fixedExtreme=reverse?baseXAxis.max:baseXAxis.min}chart.setFixedRange(void 0)}onMouseMove(e){const navigator=this,chart=navigator.chart,navigatorSize=navigator.navigatorSize,range=navigator.range,dragOffset=navigator.dragOffset,inverted=chart.inverted;let left=navigator.left,chartX;if(!e.touches||e.touches[0].pageX!==0){e=chart.pointer?.normalize(e)||e;chartX=e.chartX;if(inverted){left=navigator.top;chartX=e.chartY}if(navigator.grabbedLeft){navigator.hasDragged=true;navigator.render(0,0,chartX-left,navigator.otherHandlePos)}else if(navigator.grabbedRight){navigator.hasDragged=true;navigator.render(0,0,navigator.otherHandlePos,chartX-left)}else if(navigator.grabbedCenter){navigator.hasDragged=true;if(chartX<dragOffset){chartX=dragOffset}else if(chartX>navigatorSize+dragOffset-range){chartX=navigatorSize+dragOffset-range}navigator.render(0,0,chartX-dragOffset,chartX-dragOffset+range)}if(navigator.hasDragged&&navigator.scrollbar&&Navigator_pick(navigator.scrollbar.options.liveRedraw,!Navigator_isTouchDevice&&!this.chart.boosted)){e.DOMType=e.type;setTimeout(function(){navigator.onMouseUp(e)},0)}}}onMouseUp(e){const navigator=this,chart=navigator.chart,xAxis=navigator.xAxis,scrollbar=navigator.scrollbar,DOMEvent=e.DOMEvent||e,inverted=chart.inverted,verb=navigator.rendered&&!navigator.hasDragged?"animate":"attr";let zoomedMax,zoomedMin,unionExtremes,fixedMin,fixedMax,ext;if(navigator.hasDragged&&(!scrollbar||!scrollbar.hasDragged)||e.trigger==="scrollbar"){unionExtremes=navigator.getUnionExtremes();if(navigator.zoomedMin===navigator.otherHandlePos){fixedMin=navigator.fixedExtreme}else if(navigator.zoomedMax===navigator.otherHandlePos){fixedMax=navigator.fixedExtreme}if(navigator.zoomedMax===navigator.size){fixedMax=navigator.reversedExtremes?unionExtremes.dataMin:unionExtremes.dataMax}if(navigator.zoomedMin===0){fixedMin=navigator.reversedExtremes?unionExtremes.dataMax:unionExtremes.dataMin}ext=xAxis.navigatorAxis.toFixedRange(navigator.zoomedMin,navigator.zoomedMax,fixedMin,fixedMax);if(Navigator_defined(ext.min)){Navigator_fireEvent(this,"setRange",{min:Math.min(ext.min,ext.max),max:Math.max(ext.min,ext.max),redraw:true,animation:navigator.hasDragged?false:null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:DOMEvent}})}}if(e.DOMType!=="mousemove"&&e.DOMType!=="touchmove"){navigator.grabbedLeft=navigator.grabbedRight=navigator.grabbedCenter=navigator.fixedWidth=navigator.fixedExtreme=navigator.otherHandlePos=navigator.hasDragged=navigator.dragOffset=null}if(navigator.navigatorEnabled&&Navigator_isNumber(navigator.zoomedMin)&&Navigator_isNumber(navigator.zoomedMax)){zoomedMin=Math.round(navigator.zoomedMin);zoomedMax=Math.round(navigator.zoomedMax);if(navigator.shades){navigator.drawMasks(zoomedMin,zoomedMax,inverted,verb)}if(navigator.outline){navigator.drawOutline(zoomedMin,zoomedMax,inverted,verb)}if(navigator.navigatorOptions.handles.enabled&&Object.keys(navigator.handles).length===navigator.handles.length){navigator.drawHandle(zoomedMin,0,inverted,verb);navigator.drawHandle(zoomedMax,1,inverted,verb)}}}removeEvents(){if(this.eventsToUnbind){this.eventsToUnbind.forEach(function(unbind){unbind()});this.eventsToUnbind=void 0}this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const baseSeries=this.baseSeries||[];if(this.navigatorEnabled&&baseSeries[0]){if(this.navigatorOptions.adaptToUpdatedData!==false){baseSeries.forEach(function(series){Navigator_removeEvent(series,"updatedData",this.updatedDataHandler)},this)}if(baseSeries[0].xAxis){Navigator_removeEvent(baseSeries[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)}}}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(chart){const chartOptions=chart.options,navigatorOptions=chartOptions.navigator||{},navigatorEnabled=navigatorOptions.enabled,scrollbarOptions=chartOptions.scrollbar||{},scrollbarEnabled=scrollbarOptions.enabled,height=navigatorEnabled&&navigatorOptions.height||0,scrollbarHeight=scrollbarEnabled&&scrollbarOptions.height||0,scrollButtonSize=scrollbarOptions.buttonsEnabled&&scrollbarHeight||0;this.handles=[];this.shades=[];this.chart=chart;this.setBaseSeries();this.height=height;this.scrollbarHeight=scrollbarHeight;this.scrollButtonSize=scrollButtonSize;this.scrollbarEnabled=scrollbarEnabled;this.navigatorEnabled=navigatorEnabled;this.navigatorOptions=navigatorOptions;this.scrollbarOptions=scrollbarOptions;this.setOpposite();const navigator=this,baseSeries=navigator.baseSeries,xAxisIndex=chart.xAxis.length,yAxisIndex=chart.yAxis.length,baseXaxis=baseSeries&&baseSeries[0]&&baseSeries[0].xAxis||chart.xAxis[0]||{options:{}};chart.isDirtyBox=true;if(navigator.navigatorEnabled){const offsets=this.getXAxisOffsets();navigator.xAxis=new(highcharts_Axis_commonjs_highcharts_Axis_commonjs2_highcharts_Axis_root_Highcharts_Axis_default())(chart,Navigator_merge({breaks:baseXaxis.options.breaks,ordinal:baseXaxis.options.ordinal,overscroll:baseXaxis.options.overscroll},navigatorOptions.xAxis,{type:"datetime",yAxis:navigatorOptions.yAxis?.id,index:xAxisIndex,isInternal:true,offset:0,keepOrdinalPadding:true,startOnTick:false,endOnTick:false,minPadding:baseXaxis.options.ordinal?0:baseXaxis.options.minPadding,maxPadding:baseXaxis.options.ordinal?0:baseXaxis.options.maxPadding,zoomEnabled:false},chart.inverted?{offsets:offsets,width:height}:{offsets:offsets,height:height}),"xAxis");navigator.yAxis=new(highcharts_Axis_commonjs_highcharts_Axis_commonjs2_highcharts_Axis_root_Highcharts_Axis_default())(chart,Navigator_merge(navigatorOptions.yAxis,{alignTicks:false,offset:0,index:yAxisIndex,isInternal:true,reversed:Navigator_pick(navigatorOptions.yAxis&&navigatorOptions.yAxis.reversed,chart.yAxis[0]&&chart.yAxis[0].reversed,false),zoomEnabled:false},chart.inverted?{width:height}:{height:height}),"yAxis");if(baseSeries||navigatorOptions.series.data){navigator.updateNavigatorSeries(false)}else if(chart.series.length===0){navigator.unbindRedraw=Navigator_addEvent(chart,"beforeRedraw",function(){if(chart.series.length>0&&!navigator.series){navigator.setBaseSeries();navigator.unbindRedraw()}})}navigator.reversedExtremes=chart.inverted&&!navigator.xAxis.reversed||!chart.inverted&&navigator.xAxis.reversed;navigator.renderElements();navigator.addMouseEvents()}else{navigator.xAxis={chart:chart,navigatorAxis:{fake:true},translate:function(value,reverse){const axis=chart.xAxis[0],ext=axis.getExtremes(),scrollTrackWidth=axis.len-2*scrollButtonSize,min=numExt("min",axis.options.min,ext.dataMin),valueRange=numExt("max",axis.options.max,ext.dataMax)-min;return reverse?value*valueRange/scrollTrackWidth+min:scrollTrackWidth*(value-min)/valueRange},toPixels:function(value){return this.translate(value)},toValue:function(value){return this.translate(value,true)}};navigator.xAxis.navigatorAxis.axis=navigator.xAxis;navigator.xAxis.navigatorAxis.toFixedRange=NavigatorAxisComposition.prototype.toFixedRange.bind(navigator.xAxis.navigatorAxis)}if(chart.options.scrollbar.enabled){const options=Navigator_merge(chart.options.scrollbar,{vertical:chart.inverted});if(!Navigator_isNumber(options.margin)&&navigator.navigatorEnabled){options.margin=chart.inverted?-3:3}chart.scrollbar=navigator.scrollbar=new Scrollbar_Scrollbar(chart.renderer,options,chart);Navigator_addEvent(navigator.scrollbar,"changed",function(e){const range=navigator.size,to=range*this.to,from=range*this.from;navigator.hasDragged=navigator.scrollbar.hasDragged;navigator.render(0,0,from,to);if(this.shouldUpdateExtremes(e.DOMType)){setTimeout(function(){navigator.onMouseUp(e)})}})}navigator.addBaseSeriesEvents();navigator.addChartEvents()}setOpposite(){const navigatorOptions=this.navigatorOptions,navigatorEnabled=this.navigatorEnabled,chart=this.chart;this.opposite=Navigator_pick(navigatorOptions.opposite,Boolean(!navigatorEnabled&&chart.inverted))}getUnionExtremes(returnFalseOnNoBaseSeries){const baseAxis=this.chart.xAxis[0],time=this.chart.time,navAxis=this.xAxis,navAxisOptions=navAxis.options,baseAxisOptions=baseAxis.options;let ret;if(!returnFalseOnNoBaseSeries||baseAxis.dataMin!==null){ret={dataMin:Navigator_pick(time.parse(navAxisOptions?.min),numExt("min",time.parse(baseAxisOptions.min),baseAxis.dataMin,navAxis.dataMin,navAxis.min)),dataMax:Navigator_pick(time.parse(navAxisOptions?.max),numExt("max",time.parse(baseAxisOptions.max),baseAxis.dataMax,navAxis.dataMax,navAxis.max))}}return ret}setBaseSeries(baseSeriesOptions,redraw){const chart=this.chart,baseSeries=this.baseSeries=[];baseSeriesOptions=baseSeriesOptions||chart.options&&chart.options.navigator.baseSeries||(chart.series.length?Navigator_find(chart.series,s=>!s.options.isInternal).index:0);(chart.series||[]).forEach((series,i)=>{if(!series.options.isInternal&&(series.options.showInNavigator||(i===baseSeriesOptions||series.options.id===baseSeriesOptions)&&series.options.showInNavigator!==false)){baseSeries.push(series)}});if(this.xAxis&&!this.xAxis.navigatorAxis.fake){this.updateNavigatorSeries(true,redraw)}}updateNavigatorSeries(addEvents,redraw){const navigator=this,chart=navigator.chart,baseSeries=navigator.baseSeries,navSeriesMixin={enableMouseTracking:false,index:null,linkedTo:null,group:"nav",padXAxis:false,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:false,stacking:void 0,isInternal:true,states:{inactive:{opacity:1}}},navigatorSeries=navigator.series=(navigator.series||[]).filter(navSeries=>{const base=navSeries.baseSeries;if(baseSeries.indexOf(base)<0){if(base){Navigator_removeEvent(base,"updatedData",navigator.updatedDataHandler);delete base.navigatorSeries}if(navSeries.chart){navSeries.destroy()}return false}return true});let baseOptions,mergedNavSeriesOptions,chartNavigatorSeriesOptions=navigator.navigatorOptions.series,baseNavigatorOptions;if(baseSeries&&baseSeries.length){baseSeries.forEach(base=>{const linkedNavSeries=base.navigatorSeries,userNavOptions=Navigator_extend({color:base.color,visible:base.visible},!isArray(chartNavigatorSeriesOptions)?chartNavigatorSeriesOptions:Navigator_defaultOptions.navigator.series);if(linkedNavSeries&&navigator.navigatorOptions.adaptToUpdatedData===false){return}navSeriesMixin.name="Navigator "+baseSeries.length;baseOptions=base.options||{};baseNavigatorOptions=baseOptions.navigatorOptions||{};userNavOptions.dataLabels=splat(userNavOptions.dataLabels);mergedNavSeriesOptions=Navigator_merge(baseOptions,navSeriesMixin,userNavOptions,baseNavigatorOptions);mergedNavSeriesOptions.pointRange=Navigator_pick(userNavOptions.pointRange,baseNavigatorOptions.pointRange,Navigator_defaultOptions.plotOptions[mergedNavSeriesOptions.type||"line"].pointRange);const navigatorSeriesData=baseNavigatorOptions.data||userNavOptions.data;navigator.hasNavigatorData=navigator.hasNavigatorData||!!navigatorSeriesData;mergedNavSeriesOptions.data=navigatorSeriesData||baseOptions.data?.slice(0);if(linkedNavSeries&&linkedNavSeries.options){linkedNavSeries.update(mergedNavSeriesOptions,redraw)}else{base.navigatorSeries=chart.initSeries(mergedNavSeriesOptions);chart.setSortedData();base.navigatorSeries.baseSeries=base;navigatorSeries.push(base.navigatorSeries)}})}if(chartNavigatorSeriesOptions.data&&!(baseSeries&&baseSeries.length)||isArray(chartNavigatorSeriesOptions)){navigator.hasNavigatorData=false;chartNavigatorSeriesOptions=splat(chartNavigatorSeriesOptions);chartNavigatorSeriesOptions.forEach((userSeriesOptions,i)=>{navSeriesMixin.name="Navigator "+(navigatorSeries.length+1);mergedNavSeriesOptions=Navigator_merge(Navigator_defaultOptions.navigator.series,{color:chart.series[i]&&!chart.series[i].options.isInternal&&chart.series[i].color||chart.options.colors[i]||chart.options.colors[0]},navSeriesMixin,userSeriesOptions);mergedNavSeriesOptions.data=userSeriesOptions.data;if(mergedNavSeriesOptions.data){navigator.hasNavigatorData=true;navigatorSeries.push(chart.initSeries(mergedNavSeriesOptions))}})}if(addEvents){this.addBaseSeriesEvents()}}addBaseSeriesEvents(){const navigator=this,baseSeries=navigator.baseSeries||[];if(baseSeries[0]&&baseSeries[0].xAxis){baseSeries[0].eventsToUnbind.push(Navigator_addEvent(baseSeries[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}baseSeries.forEach(base=>{base.eventsToUnbind.push(Navigator_addEvent(base,"show",function(){if(this.navigatorSeries){this.navigatorSeries.setVisible(true,false)}}));base.eventsToUnbind.push(Navigator_addEvent(base,"hide",function(){if(this.navigatorSeries){this.navigatorSeries.setVisible(false,false)}}));if(this.navigatorOptions.adaptToUpdatedData!==false){if(base.xAxis){base.eventsToUnbind.push(Navigator_addEvent(base,"updatedData",this.updatedDataHandler))}}base.eventsToUnbind.push(Navigator_addEvent(base,"remove",function(){if(baseSeries){erase(baseSeries,base)}if(this.navigatorSeries&&navigator.series){erase(navigator.series,this.navigatorSeries);if(Navigator_defined(this.navigatorSeries.options)){this.navigatorSeries.remove(false)}delete this.navigatorSeries}}))})}getBaseSeriesMin(currentSeriesMin){return this.baseSeries.reduce(function(min,series){return Math.min(min,series.getColumn("x")[0]??min)},currentSeriesMin)}modifyNavigatorAxisExtremes(){const xAxis=this.xAxis;if(typeof xAxis.getExtremes!=="undefined"){const unionExtremes=this.getUnionExtremes(true);if(unionExtremes&&(unionExtremes.dataMin!==xAxis.min||unionExtremes.dataMax!==xAxis.max)){xAxis.min=unionExtremes.dataMin;xAxis.max=unionExtremes.dataMax}}}modifyBaseAxisExtremes(){const baseXAxis=this,navigator=baseXAxis.chart.navigator,baseExtremes=baseXAxis.getExtremes(),baseMin=baseExtremes.min,baseMax=baseExtremes.max,baseDataMin=baseExtremes.dataMin,baseDataMax=baseExtremes.dataMax,range=baseMax-baseMin,stickToMin=navigator.stickToMin,stickToMax=navigator.stickToMax,overscroll=Navigator_pick(baseXAxis.ordinal?.convertOverscroll(baseXAxis.options.overscroll),0),navigatorSeries=navigator.series&&navigator.series[0],hasSetExtremes=!!baseXAxis.setExtremes,unmutable=baseXAxis.eventArgs&&baseXAxis.eventArgs.trigger==="rangeSelectorButton";let newMax,newMin;if(!unmutable){if(stickToMin){newMin=baseDataMin;newMax=newMin+range}if(stickToMax){newMax=baseDataMax+overscroll;if(!stickToMin){newMin=Math.max(baseDataMin,newMax-range,navigator.getBaseSeriesMin(navigatorSeries&&navigatorSeries.xData?navigatorSeries.xData[0]:-Number.MAX_VALUE))}}if(hasSetExtremes&&(stickToMin||stickToMax)){if(Navigator_isNumber(newMin)){baseXAxis.min=baseXAxis.userMin=newMin;baseXAxis.max=baseXAxis.userMax=newMax}}}navigator.stickToMin=navigator.stickToMax=null}updatedDataHandler(){const navigator=this.chart.navigator,baseSeries=this,navigatorSeries=this.navigatorSeries,shouldStickToMax=navigator.reversedExtremes?Math.round(navigator.zoomedMin)===0:Math.round(navigator.zoomedMax)>=Math.round(navigator.size);navigator.stickToMax=Navigator_pick(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,shouldStickToMax);navigator.stickToMin=navigator.shouldStickToMin(baseSeries,navigator);if(navigatorSeries&&!navigator.hasNavigatorData){navigatorSeries.options.pointStart=baseSeries.getColumn("x")[0];navigatorSeries.setData(baseSeries.options.data,false,null,false)}}shouldStickToMin(baseSeries,navigator){const xDataMin=navigator.getBaseSeriesMin(baseSeries.getColumn("x")[0]),xAxis=baseSeries.xAxis,max=xAxis.max,min=xAxis.min,range=xAxis.options.range;let stickToMin=true;if(Navigator_isNumber(max)&&Navigator_isNumber(min)){if(range&&max-xDataMin>0){stickToMin=max-xDataMin<range}else{stickToMin=min<=xDataMin}}else{stickToMin=false}return stickToMin}addChartEvents(){if(!this.eventsToUnbind){this.eventsToUnbind=[]}this.eventsToUnbind.push(Navigator_addEvent(this.chart,"redraw",function(){const navigator=this.navigator,xAxis=navigator&&(navigator.baseSeries&&navigator.baseSeries[0]&&navigator.baseSeries[0].xAxis||this.xAxis[0]);if(xAxis){navigator.render(xAxis.min,xAxis.max)}}),Navigator_addEvent(this.chart,"getMargins",function(){const chart=this,navigator=chart.navigator;let marginName=navigator.opposite?"plotTop":"marginBottom";if(chart.inverted){marginName=navigator.opposite?"marginRight":"plotLeft"}chart[marginName]=(chart[marginName]||0)+(navigator.navigatorEnabled||!chart.inverted?navigator.height+navigator.scrollbarHeight:0)+navigator.navigatorOptions.margin}),Navigator_addEvent(Navigator,"setRange",function(e){this.chart.xAxis[0].setExtremes(e.min,e.max,e.redraw,e.animation,e.eventArguments)}))}destroy(){this.removeEvents();if(this.xAxis){erase(this.chart.xAxis,this.xAxis);erase(this.chart.axes,this.xAxis)}if(this.yAxis){erase(this.chart.yAxis,this.yAxis);erase(this.chart.axes,this.yAxis)}(this.series||[]).forEach(s=>{if(s.destroy){s.destroy()}});["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(prop=>{if(this[prop]&&this[prop].destroy){this[prop].destroy()}this[prop]=null});[this.handles].forEach(coll=>{Navigator_destroyObjectProperties(coll)});this.navigatorEnabled=false}}const Navigator_Navigator=Navigator;const{animObject:NavigatorComponent_animObject}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{format:NavigatorComponent_format}=highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_default();const{clamp:NavigatorComponent_clamp,pick:NavigatorComponent_pick,syncTimeout:NavigatorComponent_syncTimeout}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{getFakeMouseEvent:NavigatorComponent_getFakeMouseEvent}=Utils_HTMLUtilities;const{getAxisRangeDescription:NavigatorComponent_getAxisRangeDescription,fireEventOnWrappedOrUnwrappedElement:NavigatorComponent_fireEventOnWrappedOrUnwrappedElement}=Utils_ChartUtilities;class NavigatorComponent extends Accessibility_AccessibilityComponent{init(){const chart=this.chart,component=this;this.announcer=new Utils_Announcer(chart,"polite");this.addEvent(Navigator_Navigator,"afterRender",function(){if(this.chart===component.chart&&this.chart.renderer){NavigatorComponent_syncTimeout(()=>{component.proxyProvider.updateGroupProxyElementPositions("navigator");component.updateHandleValues()},NavigatorComponent_animObject(NavigatorComponent_pick(this.chart.renderer.globalAnimation,true)).duration)}})}onChartUpdate(){const chart=this.chart,options=chart.options,navigator=options.navigator;if(navigator.enabled&&navigator.accessibility?.enabled){const verbosity=options.accessibility.landmarkVerbosity,groupFormatStr=options.lang.accessibility?.navigator.groupLabel;this.proxyProvider.removeGroup("navigator");this.proxyProvider.addGroup("navigator","div",{role:verbosity==="all"?"region":"group","aria-label":NavigatorComponent_format(groupFormatStr,{chart:chart},chart)});const handleFormatStr=options.lang.accessibility?.navigator.handleLabel;[0,1].forEach(n=>{const handle=this.getHandleByIx(n);if(handle){const proxyEl=this.proxyProvider.addProxyElement("navigator",{click:handle},"input",{type:"range","aria-label":NavigatorComponent_format(handleFormatStr,{handleIx:n,chart:chart},chart)});this[n?"maxHandleProxy":"minHandleProxy"]=proxyEl.innerElement;proxyEl.innerElement.style.pointerEvents="none";proxyEl.innerElement.oninput=()=>this.updateNavigator()}});this.updateHandleValues()}else{this.proxyProvider.removeGroup("navigator")}}getNavigatorHandleNavigation(handleIx){const component=this,chart=this.chart,proxyEl=handleIx?this.maxHandleProxy:this.minHandleProxy,keys=this.keyCodes;return new Accessibility_KeyboardNavigationHandler(chart,{keyCodeMap:[[[keys.left,keys.right,keys.up,keys.down],function(keyCode){if(proxyEl){const delta=keyCode===keys.left||keyCode===keys.up?-1:1;proxyEl.value=""+NavigatorComponent_clamp(parseFloat(proxyEl.value)+delta,0,100);component.updateNavigator(()=>{const handle=component.getHandleByIx(handleIx);if(handle){chart.setFocusToElement(handle,proxyEl)}})}return this.response.success}]],init:()=>{chart.setFocusToElement(this.getHandleByIx(handleIx),proxyEl)},validate:()=>!!(this.getHandleByIx(handleIx)&&proxyEl&&chart.options.navigator.accessibility?.enabled)})}getKeyboardNavigation(){return[this.getNavigatorHandleNavigation(0),this.getNavigatorHandleNavigation(1)]}destroy(){if(this.updateNavigatorThrottleTimer){clearTimeout(this.updateNavigatorThrottleTimer)}this.proxyProvider.removeGroup("navigator");if(this.announcer){this.announcer.destroy()}}updateHandleValues(){const navigator=this.chart.navigator;if(navigator&&this.minHandleProxy&&this.maxHandleProxy){const length=navigator.size;this.minHandleProxy.value=""+Math.round(navigator.zoomedMin/length*100);this.maxHandleProxy.value=""+Math.round(navigator.zoomedMax/length*100)}}getHandleByIx(ix){const navigator=this.chart.navigator;return navigator&&navigator.handles&&navigator.handles[ix]}updateNavigator(beforeAnnounce){const performUpdate=beforeAnnounce=>{const chart=this.chart,{navigator,pointer}=chart;if(navigator&&pointer&&this.minHandleProxy&&this.maxHandleProxy){const chartPos=pointer.getChartPosition(),minNewX=parseFloat(this.minHandleProxy.value)/100*navigator.size,maxNewX=parseFloat(this.maxHandleProxy.value)/100*navigator.size;[[0,"mousedown",navigator.zoomedMin],[0,"mousemove",minNewX],[0,"mouseup",minNewX],[1,"mousedown",navigator.zoomedMax],[1,"mousemove",maxNewX],[1,"mouseup",maxNewX]].forEach(([handleIx,type,x])=>{const handle=this.getHandleByIx(handleIx)?.element;if(handle){NavigatorComponent_fireEventOnWrappedOrUnwrappedElement(handle,NavigatorComponent_getFakeMouseEvent(type,{x:chartPos.left+navigator.left+x,y:chartPos.top+navigator.top},handle))}});if(beforeAnnounce){beforeAnnounce()}const announceFormatStr=chart.options.lang.accessibility?.navigator.changeAnnouncement,axisRangeDescription=NavigatorComponent_getAxisRangeDescription(chart.xAxis[0]);this.announcer.announce(NavigatorComponent_format(announceFormatStr,{axisRangeDescription:axisRangeDescription,chart:chart},chart))}};if(this.updateNavigatorThrottleTimer){clearTimeout(this.updateNavigatorThrottleTimer)}this.updateNavigatorThrottleTimer=setTimeout(performUpdate.bind(this,beforeAnnounce),20)}}const Components_NavigatorComponent=NavigatorComponent;const{getPointAnnotationTexts:SeriesDescriber_getPointAnnotationTexts}=Components_AnnotationsA11y;const{getAxisDescription:SeriesDescriber_getAxisDescription,getSeriesFirstPointElement:SeriesDescriber_getSeriesFirstPointElement,getSeriesA11yElement:SeriesDescriber_getSeriesA11yElement,unhideChartElementFromAT:SeriesDescriber_unhideChartElementFromAT}=Utils_ChartUtilities;const{format:SeriesDescriber_format,numberFormat}=highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_default();const{reverseChildNodes:SeriesDescriber_reverseChildNodes,stripHTMLTagsFromString:SeriesDescriber_stripHTMLTags}=Utils_HTMLUtilities;const{find:SeriesDescriber_find,isNumber:SeriesDescriber_isNumber,isString,pick:SeriesDescriber_pick,defined:SeriesDescriber_defined}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function findFirstPointWithGraphic(point){const sourcePointIndex=point.index;if(!point.series||!point.series.data||!SeriesDescriber_defined(sourcePointIndex)){return null}return SeriesDescriber_find(point.series.data,function(p){return!!(p&&typeof p.index!=="undefined"&&p.index>sourcePointIndex&&p.graphic&&p.graphic.element)})||null}function shouldAddMockPoint(point){const series=point.series,chart=series&&series.chart,isSunburst=series&&series.is("sunburst"),isNull=point.isNull,shouldDescribeNull=chart&&chart.options.accessibility.point.describeNull;return isNull&&!isSunburst&&shouldDescribeNull}function makeMockElement(point,pos){const renderer=point.series.chart.renderer,mock=renderer.rect(pos.x,pos.y,1,1);mock.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0});return mock}function addMockPointElement(point){const series=point.series,firstPointWithGraphic=findFirstPointWithGraphic(point),firstGraphic=firstPointWithGraphic&&firstPointWithGraphic.graphic,parentGroup=firstGraphic?firstGraphic.parentGroup:series.graph||series.group,mockPos=firstPointWithGraphic?{x:SeriesDescriber_pick(point.plotX,firstPointWithGraphic.plotX,0),y:SeriesDescriber_pick(point.plotY,firstPointWithGraphic.plotY,0)}:{x:SeriesDescriber_pick(point.plotX,0),y:SeriesDescriber_pick(point.plotY,0)},mockElement=makeMockElement(point,mockPos);if(parentGroup&&parentGroup.element){point.graphic=mockElement;point.hasMockGraphic=true;mockElement.add(parentGroup);parentGroup.element.insertBefore(mockElement.element,firstGraphic?firstGraphic.element:null);return mockElement.element}}function hasMorePointsThanDescriptionThreshold(series){const chartA11yOptions=series.chart.options.accessibility,threshold=chartA11yOptions.series.pointDescriptionEnabledThreshold;return!!(threshold!==false&&series.points&&series.points.length>=+threshold)}function shouldSetScreenReaderPropsOnPoints(series){const seriesA11yOptions=series.options.accessibility||{};return!hasMorePointsThanDescriptionThreshold(series)&&!seriesA11yOptions.exposeAsGroupOnly}function shouldSetKeyboardNavPropsOnPoints(series){const chartA11yOptions=series.chart.options.accessibility,seriesNavOptions=chartA11yOptions.keyboardNavigation.seriesNavigation;return!!(series.points&&(series.points.length<+seriesNavOptions.pointNavigationEnabledThreshold||seriesNavOptions.pointNavigationEnabledThreshold===false))}function shouldDescribeSeriesElement(series){const chart=series.chart,chartOptions=chart.options.chart,chartHas3d=chartOptions.options3d&&chartOptions.options3d.enabled,hasMultipleSeries=chart.series.length>1,describeSingleSeriesOption=chart.options.accessibility.series.describeSingleSeries,exposeAsGroupOnlyOption=(series.options.accessibility||{}).exposeAsGroupOnly,noDescribe3D=chartHas3d&&hasMultipleSeries;return!noDescribe3D&&(hasMultipleSeries||describeSingleSeriesOption||exposeAsGroupOnlyOption||hasMorePointsThanDescriptionThreshold(series))}function pointNumberToString(point,value){const series=point.series,chart=series.chart,a11yPointOptions=chart.options.accessibility.point||{},seriesA11yPointOptions=series.options.accessibility&&series.options.accessibility.point||{},tooltipOptions=series.tooltipOptions||{},lang=chart.options.lang;if(SeriesDescriber_isNumber(value)){return numberFormat(value,seriesA11yPointOptions.valueDecimals||a11yPointOptions.valueDecimals||tooltipOptions.valueDecimals||-1,lang.decimalPoint,lang.accessibility.thousandsSep||lang.thousandsSep)}return value}function getSeriesDescriptionText(series){const seriesA11yOptions=series.options.accessibility||{},descOpt=seriesA11yOptions.description;return descOpt&&series.chart.langFormat("accessibility.series.description",{description:descOpt,series:series})||""}function getSeriesAxisDescriptionText(series,axisCollection){const axis=series[axisCollection];return series.chart.langFormat("accessibility.series."+axisCollection+"Description",{name:SeriesDescriber_getAxisDescription(axis),series:series})}function getPointA11yTimeDescription(point){const series=point.series,chart=series.chart,seriesA11yOptions=series.options.accessibility&&series.options.accessibility.point||{},a11yOptions=chart.options.accessibility.point||{},dateXAxis=series.xAxis&&series.xAxis.dateTime;if(dateXAxis){const tooltipDateFormat=dateXAxis.getXDateFormat(point.x||0,chart.options.tooltip.dateTimeLabelFormats),dateFormat=seriesA11yOptions.dateFormatter&&seriesA11yOptions.dateFormatter(point)||a11yOptions.dateFormatter&&a11yOptions.dateFormatter(point)||seriesA11yOptions.dateFormat||a11yOptions.dateFormat||tooltipDateFormat;return chart.time.dateFormat(dateFormat,point.x||0,void 0)}}function getPointXDescription(point){const timeDesc=getPointA11yTimeDescription(point),xAxis=point.series.xAxis||{},pointCategory=xAxis.categories&&SeriesDescriber_defined(point.category)&&(""+point.category).replace("<br/>"," "),canUseId=SeriesDescriber_defined(point.id)&&(""+point.id).indexOf("highcharts-")<0,fallback="x, "+point.x;return point.name||timeDesc||pointCategory||(canUseId?point.id:fallback)}function getPointArrayMapValueDescription(point,prefix,suffix){const pre=prefix||"",suf=suffix||"",keyToValStr=function(key){const num=pointNumberToString(point,SeriesDescriber_pick(point[key],point.options[key]));return num!==void 0?key+": "+pre+num+suf:num},pointArrayMap=point.series.pointArrayMap;return pointArrayMap.reduce(function(desc,key){const propDesc=keyToValStr(key);return propDesc?desc+(desc.length?", ":"")+propDesc:desc},"")}function getPointValue(point){const series=point.series,a11yPointOpts=series.chart.options.accessibility.point||{},seriesA11yPointOpts=series.chart.options.accessibility&&series.chart.options.accessibility.point||{},tooltipOptions=series.tooltipOptions||{},valuePrefix=seriesA11yPointOpts.valuePrefix||a11yPointOpts.valuePrefix||tooltipOptions.valuePrefix||"",valueSuffix=seriesA11yPointOpts.valueSuffix||a11yPointOpts.valueSuffix||tooltipOptions.valueSuffix||"",fallbackKey=typeof point.value!=="undefined"?"value":"y",fallbackDesc=pointNumberToString(point,point[fallbackKey]);if(point.isNull){return series.chart.langFormat("accessibility.series.nullPointValue",{point:point})}if(series.pointArrayMap){return getPointArrayMapValueDescription(point,valuePrefix,valueSuffix)}return valuePrefix+fallbackDesc+valueSuffix}function getPointAnnotationDescription(point){const chart=point.series.chart;const langKey="accessibility.series.pointAnnotationsDescription";const annotations=SeriesDescriber_getPointAnnotationTexts(point);const context={point:point,annotations:annotations};return annotations.length?chart.langFormat(langKey,context):""}function getPointValueDescription(point){const series=point.series,chart=series.chart,seriesA11yOptions=series.options.accessibility,seriesValueDescFormat=seriesA11yOptions&&seriesA11yOptions.point&&seriesA11yOptions.point.valueDescriptionFormat,pointValueDescriptionFormat=seriesValueDescFormat||chart.options.accessibility.point.valueDescriptionFormat,showXDescription=SeriesDescriber_pick(series.xAxis&&series.xAxis.options.accessibility&&series.xAxis.options.accessibility.enabled,!chart.angular&&series.type!=="flowmap"),xDesc=showXDescription?getPointXDescription(point):"",context={point:point,index:SeriesDescriber_defined(point.index)?point.index+1:"",xDescription:xDesc,value:getPointValue(point),separator:showXDescription?", ":""};return SeriesDescriber_format(pointValueDescriptionFormat,context,chart)}function defaultPointDescriptionFormatter(point){const series=point.series,shouldExposeSeriesName=series.chart.series.length>1||series.options.name,valText=getPointValueDescription(point),description=point.options&&point.options.accessibility&&point.options.accessibility.description,userDescText=description?" "+description:"",seriesNameText=shouldExposeSeriesName?" "+series.name+".":"",annotationsDesc=getPointAnnotationDescription(point),pointAnnotationsText=annotationsDesc?" "+annotationsDesc:"";point.accessibility=point.accessibility||{};point.accessibility.valueDescription=valText;return valText+userDescText+seriesNameText+pointAnnotationsText}function setPointScreenReaderAttribs(point,pointElement){const series=point.series,seriesPointA11yOptions=series.options.accessibility?.point||{},a11yPointOptions=series.chart.options.accessibility.point||{},label=SeriesDescriber_stripHTMLTags(isString(seriesPointA11yOptions.descriptionFormat)&&SeriesDescriber_format(seriesPointA11yOptions.descriptionFormat,point,series.chart)||seriesPointA11yOptions.descriptionFormatter?.(point)||isString(a11yPointOptions.descriptionFormat)&&SeriesDescriber_format(a11yPointOptions.descriptionFormat,point,series.chart)||a11yPointOptions.descriptionFormatter?.(point)||defaultPointDescriptionFormatter(point),series.chart.renderer.forExport);pointElement.setAttribute("role","img");pointElement.setAttribute("aria-label",label)}function describePointsInSeries(series){const setScreenReaderProps=shouldSetScreenReaderPropsOnPoints(series),setKeyboardProps=shouldSetKeyboardNavPropsOnPoints(series),shouldDescribeNullPoints=series.chart.options.accessibility.point.describeNull;if(setScreenReaderProps||setKeyboardProps){series.points.forEach(point=>{const pointEl=point.graphic&&point.graphic.element||shouldAddMockPoint(point)&&addMockPointElement(point),pointA11yDisabled=point.options&&point.options.accessibility&&point.options.accessibility.enabled===false;if(pointEl){if(point.isNull&&!shouldDescribeNullPoints){pointEl.setAttribute("aria-hidden",true);return}pointEl.setAttribute("tabindex","-1");if(!series.chart.styledMode){pointEl.style.outline="none"}if(setScreenReaderProps&&!pointA11yDisabled){setPointScreenReaderAttribs(point,pointEl)}else{pointEl.setAttribute("aria-hidden",true)}}})}}function defaultSeriesDescriptionFormatter(series){const chart=series.chart,chartTypes=chart.types||[],description=getSeriesDescriptionText(series),shouldDescribeAxis=function(coll){return chart[coll]&&chart[coll].length>1&&series[coll]},seriesNumber=series.index+1,xAxisInfo=getSeriesAxisDescriptionText(series,"xAxis"),yAxisInfo=getSeriesAxisDescriptionText(series,"yAxis"),summaryContext={seriesNumber:seriesNumber,series:series,chart:chart},combinationSuffix=chartTypes.length>1?"Combination":"",summary=chart.langFormat("accessibility.series.summary."+series.type+combinationSuffix,summaryContext)||chart.langFormat("accessibility.series.summary.default"+combinationSuffix,summaryContext),axisDescription=(shouldDescribeAxis("yAxis")?" "+yAxisInfo+".":"")+(shouldDescribeAxis("xAxis")?" "+xAxisInfo+".":""),formatStr=SeriesDescriber_pick(series.options.accessibility&&series.options.accessibility.descriptionFormat,chart.options.accessibility.series.descriptionFormat,"");return SeriesDescriber_format(formatStr,{seriesDescription:summary,authorDescription:description?" "+description:"",axisDescription:axisDescription,series:series,chart:chart,seriesNumber:seriesNumber},void 0)}function describeSeriesElement(series,seriesElement){const seriesA11yOptions=series.options.accessibility||{},a11yOptions=series.chart.options.accessibility,landmarkVerbosity=a11yOptions.landmarkVerbosity;if(seriesA11yOptions.exposeAsGroupOnly){seriesElement.setAttribute("role","img")}else if(landmarkVerbosity==="all"){seriesElement.setAttribute("role","region")}else{seriesElement.setAttribute("role","group")}seriesElement.setAttribute("tabindex","-1");if(!series.chart.styledMode){seriesElement.style.outline="none"}seriesElement.setAttribute("aria-label",SeriesDescriber_stripHTMLTags(a11yOptions.series.descriptionFormatter&&a11yOptions.series.descriptionFormatter(series)||defaultSeriesDescriptionFormatter(series),series.chart.renderer.forExport))}function describeSeries(series){const chart=series.chart,firstPointEl=SeriesDescriber_getSeriesFirstPointElement(series),seriesEl=SeriesDescriber_getSeriesA11yElement(series),is3d=chart.is3d&&chart.is3d();if(seriesEl){if(seriesEl.lastChild===firstPointEl&&!is3d){SeriesDescriber_reverseChildNodes(seriesEl)}describePointsInSeries(series);SeriesDescriber_unhideChartElementFromAT(chart,seriesEl);if(shouldDescribeSeriesElement(series)){describeSeriesElement(series,seriesEl)}else{seriesEl.removeAttribute("aria-label")}}}const SeriesDescriber={defaultPointDescriptionFormatter:defaultPointDescriptionFormatter,defaultSeriesDescriptionFormatter:defaultSeriesDescriptionFormatter,describeSeries:describeSeries};const SeriesComponent_SeriesDescriber=SeriesDescriber;const{composed:NewDataAnnouncer_composed}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addEvent:NewDataAnnouncer_addEvent,defined:NewDataAnnouncer_defined,pushUnique:NewDataAnnouncer_pushUnique}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{getChartTitle:NewDataAnnouncer_getChartTitle}=Utils_ChartUtilities;const{defaultPointDescriptionFormatter:NewDataAnnouncer_defaultPointDescriptionFormatter,defaultSeriesDescriptionFormatter:NewDataAnnouncer_defaultSeriesDescriptionFormatter}=SeriesComponent_SeriesDescriber;function chartHasAnnounceEnabled(chart){return!!chart.options.accessibility.announceNewData.enabled}function findPointInDataArray(point){const candidates=point.series.data.filter(candidate=>point.x===candidate.x&&point.y===candidate.y);return candidates.length===1?candidates[0]:point}function getUniqueSeries(arrayA,arrayB){const uniqueSeries=(arrayA||[]).concat(arrayB||[]).reduce((acc,cur)=>{acc[cur.name+cur.index]=cur;return acc},{});return Object.keys(uniqueSeries).map(ix=>uniqueSeries[ix])}class NewDataAnnouncer{constructor(chart){this.dirty={allSeries:{}};this.lastAnnouncementTime=0;this.chart=chart}init(){const chart=this.chart;const announceOptions=chart.options.accessibility.announceNewData;const announceType=announceOptions.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0;this.dirty={allSeries:{}};this.eventProvider=new Utils_EventProvider;this.announcer=new Utils_Announcer(chart,announceType);this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents();this.announcer.destroy()}addEventListeners(){const announcer=this,chart=this.chart,e=this.eventProvider;e.addEvent(chart,"afterApplyDrilldown",function(){announcer.lastAnnouncementTime=0});e.addEvent(chart,"afterAddSeries",function(e){announcer.onSeriesAdded(e.series)});e.addEvent(chart,"redraw",function(){announcer.announceDirtyData()})}onSeriesAdded(series){if(chartHasAnnounceEnabled(this.chart)){this.dirty.hasDirty=true;this.dirty.allSeries[series.name+series.index]=series;this.dirty.newSeries=NewDataAnnouncer_defined(this.dirty.newSeries)?void 0:series}}announceDirtyData(){const chart=this.chart,announcer=this;if(chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let newPoint=this.dirty.newPoint;if(newPoint){newPoint=findPointInDataArray(newPoint)}this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(ix=>announcer.dirty.allSeries[ix]),this.dirty.newSeries,newPoint);this.dirty={allSeries:{}}}}queueAnnouncement(dirtySeries,newSeries,newPoint){const chart=this.chart;const annOptions=chart.options.accessibility.announceNewData;if(annOptions.enabled){const now=+new Date;const dTime=now-this.lastAnnouncementTime;const time=Math.max(0,annOptions.minAnnounceInterval-dTime);const allSeries=getUniqueSeries(this.queuedAnnouncement&&this.queuedAnnouncement.series,dirtySeries);const message=this.buildAnnouncementMessage(allSeries,newSeries,newPoint);if(message){if(this.queuedAnnouncement){clearTimeout(this.queuedAnnouncementTimer)}this.queuedAnnouncement={time:now,message:message,series:allSeries};this.queuedAnnouncementTimer=setTimeout(()=>{if(this&&this.announcer){this.lastAnnouncementTime=+new Date;this.announcer.announce(this.queuedAnnouncement.message);delete this.queuedAnnouncement;delete this.queuedAnnouncementTimer}},time)}}}buildAnnouncementMessage(dirtySeries,newSeries,newPoint){const chart=this.chart,annOptions=chart.options.accessibility.announceNewData;if(annOptions.announcementFormatter){const formatterRes=annOptions.announcementFormatter(dirtySeries,newSeries,newPoint);if(formatterRes!==false){return formatterRes.length?formatterRes:null}}const multiple=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().charts&&highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().charts.length>1?"Multiple":"Single",langKey=newSeries?"newSeriesAnnounce"+multiple:newPoint?"newPointAnnounce"+multiple:"newDataAnnounce",chartTitle=NewDataAnnouncer_getChartTitle(chart);return chart.langFormat("accessibility.announceNewData."+langKey,{chartTitle:chartTitle,seriesDesc:newSeries?NewDataAnnouncer_defaultSeriesDescriptionFormatter(newSeries):null,pointDesc:newPoint?NewDataAnnouncer_defaultPointDescriptionFormatter(newPoint):null,point:newPoint,series:newSeries})}}(function(NewDataAnnouncer){function compose(SeriesClass){if(NewDataAnnouncer_pushUnique(NewDataAnnouncer_composed,"A11y.NDA")){NewDataAnnouncer_addEvent(SeriesClass,"addPoint",seriesOnAddPoint);NewDataAnnouncer_addEvent(SeriesClass,"updatedData",seriesOnUpdatedData)}}NewDataAnnouncer.compose=compose;function seriesOnAddPoint(e){const chart=this.chart,newDataAnnouncer=chart.accessibility?.components.series.newDataAnnouncer;if(newDataAnnouncer&&newDataAnnouncer.chart===chart&&chartHasAnnounceEnabled(chart)){newDataAnnouncer.dirty.newPoint=NewDataAnnouncer_defined(newDataAnnouncer.dirty.newPoint)?void 0:e.point}}function seriesOnUpdatedData(){const chart=this.chart,newDataAnnouncer=chart.accessibility?.components.series.newDataAnnouncer;if(newDataAnnouncer&&newDataAnnouncer.chart===chart&&chartHasAnnounceEnabled(chart)){newDataAnnouncer.dirty.hasDirty=true;newDataAnnouncer.dirty.allSeries[this.name+this.index]=this}}})(NewDataAnnouncer||(NewDataAnnouncer={}));const SeriesComponent_NewDataAnnouncer=NewDataAnnouncer;const{doc:ProxyElement_doc}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{attr:ProxyElement_attr,css:ProxyElement_css,merge:ProxyElement_merge}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{fireEventOnWrappedOrUnwrappedElement:ProxyElement_fireEventOnWrappedOrUnwrappedElement}=Utils_ChartUtilities;const{cloneMouseEvent:ProxyElement_cloneMouseEvent,cloneTouchEvent:ProxyElement_cloneTouchEvent,getFakeMouseEvent:ProxyElement_getFakeMouseEvent,removeElement:ProxyElement_removeElement}=Utils_HTMLUtilities;class ProxyElement{constructor(chart,target,proxyElementType="button",wrapperElementType,attributes){this.chart=chart;this.target=target;this.eventProvider=new Utils_EventProvider;const innerEl=this.innerElement=ProxyElement_doc.createElement(proxyElementType),wrapperEl=this.element=wrapperElementType?ProxyElement_doc.createElement(wrapperElementType):innerEl;if(!chart.styledMode){this.hideElementVisually(innerEl)}if(wrapperElementType){if(wrapperElementType==="li"&&!chart.styledMode){wrapperEl.style.listStyle="none"}wrapperEl.appendChild(innerEl);this.element=wrapperEl}this.updateTarget(target,attributes)}click(){const pos=this.getTargetPosition();pos.x+=pos.width/2;pos.y+=pos.height/2;const fakeEventObject=ProxyElement_getFakeMouseEvent("click",pos);ProxyElement_fireEventOnWrappedOrUnwrappedElement(this.target.click,fakeEventObject)}updateTarget(target,attributes){this.target=target;this.updateCSSClassName();const attrs=attributes||{};Object.keys(attrs).forEach(a=>{if(attrs[a]===null){delete attrs[a]}});const targetAriaLabel=this.getTargetAttr(target.click,"aria-label");ProxyElement_attr(this.innerElement,ProxyElement_merge(targetAriaLabel?{"aria-label":targetAriaLabel}:{},attrs));this.eventProvider.removeAddedEvents();this.addProxyEventsToElement(this.innerElement,target.click);this.refreshPosition()}refreshPosition(){const bBox=this.getTargetPosition();ProxyElement_css(this.innerElement,{width:(bBox.width||1)+"px",height:(bBox.height||1)+"px",left:(Math.round(bBox.x)||0)+"px",top:(Math.round(bBox.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents();ProxyElement_removeElement(this.element)}updateCSSClassName(){const stringHasNoTooltip=s=>s.indexOf("highcharts-no-tooltip")>-1;const legend=this.chart.legend;const groupDiv=legend.group&&legend.group.div;const noTooltipOnGroup=stringHasNoTooltip(groupDiv&&groupDiv.className||"");const targetClassName=this.getTargetAttr(this.target.click,"class")||"";const noTooltipOnTarget=stringHasNoTooltip(targetClassName);this.innerElement.className=noTooltipOnGroup||noTooltipOnTarget?"highcharts-a11y-proxy-element highcharts-no-tooltip":"highcharts-a11y-proxy-element"}addProxyEventsToElement(element,target){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(evtType=>{const isTouchEvent=evtType.indexOf("touch")===0;this.eventProvider.addEvent(element,evtType,e=>{const clonedEvent=isTouchEvent?ProxyElement_cloneTouchEvent(e):ProxyElement_cloneMouseEvent(e);if(target){ProxyElement_fireEventOnWrappedOrUnwrappedElement(target,clonedEvent)}e.stopPropagation();if(!isTouchEvent){e.preventDefault()}},{passive:false})})}hideElementVisually(el){ProxyElement_css(el,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){const clickTarget=this.target.click;const clickTargetElement=clickTarget.element?clickTarget.element:clickTarget;const posElement=this.target.visual||clickTargetElement;const chartDiv=this.chart.renderTo,pointer=this.chart.pointer;if(chartDiv&&posElement?.getBoundingClientRect&&pointer){const rectEl=posElement.getBoundingClientRect(),chartPos=pointer.getChartPosition();return{x:(rectEl.left-chartPos.left)/chartPos.scaleX,y:(rectEl.top-chartPos.top)/chartPos.scaleY,width:rectEl.right/chartPos.scaleX-rectEl.left/chartPos.scaleX,height:rectEl.bottom/chartPos.scaleY-rectEl.top/chartPos.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(target,key){if(target.element){return target.element.getAttribute(key)}return target.getAttribute(key)}}const Accessibility_ProxyElement=ProxyElement;const{doc:ProxyProvider_doc}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{attr:ProxyProvider_attr,css:ProxyProvider_css}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{unhideChartElementFromAT:ProxyProvider_unhideChartElementFromAT}=Utils_ChartUtilities;const{removeChildNodes:ProxyProvider_removeChildNodes}=Utils_HTMLUtilities;class ProxyProvider{constructor(chart){this.chart=chart;this.domElementProvider=new Utils_DOMElementProvider;this.groups={};this.groupOrder=[];this.beforeChartProxyPosContainer=this.createProxyPosContainer("before");this.afterChartProxyPosContainer=this.createProxyPosContainer("after");this.update()}addProxyElement(groupKey,target,proxyElementType="button",attributes){const group=this.groups[groupKey];if(!group){throw new Error("ProxyProvider.addProxyElement: Invalid group key "+groupKey)}const wrapperElementType=group.type==="ul"||group.type==="ol"?"li":void 0,proxy=new Accessibility_ProxyElement(this.chart,target,proxyElementType,wrapperElementType,attributes);group.proxyContainerElement.appendChild(proxy.element);group.proxyElements.push(proxy);return proxy}addGroup(groupKey,groupElementType="div",attributes){const existingGroup=this.groups[groupKey];if(existingGroup){return existingGroup.groupElement}const proxyContainer=this.domElementProvider.createElement(groupElementType);let groupElement;if(attributes&&attributes.role&&groupElementType!=="div"){groupElement=this.domElementProvider.createElement("div");groupElement.appendChild(proxyContainer)}else{groupElement=proxyContainer}groupElement.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+groupKey.replace(/\W/g,"-");this.groups[groupKey]={proxyContainerElement:proxyContainer,groupElement:groupElement,type:groupElementType,proxyElements:[]};ProxyProvider_attr(groupElement,attributes||{});if(groupElementType==="ul"){proxyContainer.setAttribute("role","list")}this.afterChartProxyPosContainer.appendChild(groupElement);this.updateGroupOrder(this.groupOrder);return groupElement}updateGroupAttrs(groupKey,attributes){const group=this.groups[groupKey];if(!group){throw new Error("ProxyProvider.updateGroupAttrs: Invalid group key "+groupKey)}ProxyProvider_attr(group.groupElement,attributes)}updateGroupOrder(groupKeys){this.groupOrder=groupKeys.slice();if(this.isDOMOrderGroupOrder()){return}const seriesIx=groupKeys.indexOf("series");const beforeKeys=seriesIx>-1?groupKeys.slice(0,seriesIx):groupKeys;const afterKeys=seriesIx>-1?groupKeys.slice(seriesIx+1):[];const activeElement=ProxyProvider_doc.activeElement;["before","after"].forEach(pos=>{const posContainer=this[pos==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];const keys=pos==="before"?beforeKeys:afterKeys;ProxyProvider_removeChildNodes(posContainer);keys.forEach(groupKey=>{const group=this.groups[groupKey];if(group){posContainer.appendChild(group.groupElement)}})});if((this.beforeChartProxyPosContainer.contains(activeElement)||this.afterChartProxyPosContainer.contains(activeElement))&&activeElement&&activeElement.focus){activeElement.focus()}}clearGroup(groupKey){const group=this.groups[groupKey];if(!group){throw new Error("ProxyProvider.clearGroup: Invalid group key "+groupKey)}ProxyProvider_removeChildNodes(group.proxyContainerElement)}removeGroup(groupKey){const group=this.groups[groupKey];if(group){this.domElementProvider.removeElement(group.groupElement);if(group.groupElement!==group.proxyContainerElement){this.domElementProvider.removeElement(group.proxyContainerElement)}delete this.groups[groupKey]}}update(){this.updatePosContainerPositions();this.updateGroupOrder(this.groupOrder);this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(groupKey){const group=this.groups[groupKey];if(group){group.proxyElements.forEach(el=>el.refreshPosition())}}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(classNamePostfix){const el=this.domElementProvider.createElement("div");el.setAttribute("aria-hidden","false");el.className="highcharts-a11y-proxy-container"+(classNamePostfix?"-"+classNamePostfix:"");ProxyProvider_css(el,{top:"0",left:"0"});if(!this.chart.styledMode){el.style.whiteSpace="nowrap";el.style.position="absolute"}return el}getCurrentGroupOrderInDOM(){const getGroupKeyFromElement=el=>{const allGroups=Object.keys(this.groups);let i=allGroups.length;while(i--){const groupKey=allGroups[i];const group=this.groups[groupKey];if(group&&el===group.groupElement){return groupKey}}};const getChildrenGroupOrder=el=>{const childrenOrder=[];const children=el.children;for(let i=0;i<children.length;++i){const groupKey=getGroupKeyFromElement(children[i]);if(groupKey){childrenOrder.push(groupKey)}}return childrenOrder};const before=getChildrenGroupOrder(this.beforeChartProxyPosContainer);const after=getChildrenGroupOrder(this.afterChartProxyPosContainer);before.push("series");return before.concat(after)}isDOMOrderGroupOrder(){const domOrder=this.getCurrentGroupOrderInDOM();const groupOrderWithGroups=this.groupOrder.filter(x=>x==="series"||!!this.groups[x]);let i=domOrder.length;if(i!==groupOrderWithGroups.length){return false}while(i--){if(domOrder[i]!==groupOrderWithGroups[i]){return false}}return true}updatePosContainerPositions(){const chart=this.chart;if(chart.renderer.forExport){return}const rendererSVGEl=chart.renderer.box;chart.container.insertBefore(this.afterChartProxyPosContainer,rendererSVGEl.nextSibling);chart.container.insertBefore(this.beforeChartProxyPosContainer,rendererSVGEl);ProxyProvider_unhideChartElementFromAT(this.chart,this.afterChartProxyPosContainer);ProxyProvider_unhideChartElementFromAT(this.chart,this.beforeChartProxyPosContainer)}}const Accessibility_ProxyProvider=ProxyProvider;const{unhideChartElementFromAT:RangeSelectorComponent_unhideChartElementFromAT,getAxisRangeDescription:RangeSelectorComponent_getAxisRangeDescription}=Utils_ChartUtilities;const{addEvent:RangeSelectorComponent_addEvent,attr:RangeSelectorComponent_attr}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function shouldRunInputNavigation(chart){return Boolean(chart.rangeSelector&&chart.rangeSelector.inputGroup&&chart.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&chart.options.rangeSelector.inputEnabled!==false&&chart.rangeSelector.minInput&&chart.rangeSelector.maxInput)}class RangeSelectorComponent extends Accessibility_AccessibilityComponent{init(){const chart=this.chart;this.announcer=new Utils_Announcer(chart,"polite")}onChartUpdate(){const chart=this.chart,component=this,rangeSelector=chart.rangeSelector;if(!rangeSelector){return}this.updateSelectorVisibility();this.setDropdownAttrs();if(rangeSelector.buttons&&rangeSelector.buttons.length){rangeSelector.buttons.forEach(button=>{component.setRangeButtonAttrs(button)})}if(rangeSelector.maxInput&&rangeSelector.minInput){["minInput","maxInput"].forEach(function(key,i){const input=rangeSelector[key];if(input){RangeSelectorComponent_unhideChartElementFromAT(chart,input);component.setRangeInputAttrs(input,"accessibility.rangeSelector."+(i?"max":"min")+"InputLabel")}})}}updateSelectorVisibility(){const chart=this.chart;const rangeSelector=chart.rangeSelector;const dropdown=rangeSelector&&rangeSelector.dropdown;const buttons=rangeSelector&&rangeSelector.buttons||[];const hideFromAT=el=>el.setAttribute("aria-hidden",true);if(rangeSelector&&rangeSelector.hasVisibleDropdown&&dropdown){RangeSelectorComponent_unhideChartElementFromAT(chart,dropdown);buttons.forEach(btn=>hideFromAT(btn.element))}else{if(dropdown){hideFromAT(dropdown)}buttons.forEach(btn=>RangeSelectorComponent_unhideChartElementFromAT(chart,btn.element))}}setDropdownAttrs(){const chart=this.chart;const dropdown=chart.rangeSelector&&chart.rangeSelector.dropdown;if(dropdown){const label=chart.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:chart.options.lang.rangeSelectorZoom});dropdown.setAttribute("aria-label",label);dropdown.setAttribute("tabindex",-1)}}setRangeButtonAttrs(button){RangeSelectorComponent_attr(button.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(input,langKey){const chart=this.chart;RangeSelectorComponent_attr(input,{tabindex:-1,"aria-label":chart.langFormat(langKey,{chart:chart})})}onButtonNavKbdArrowKey(keyboardNavigationHandler,keyCode){const response=keyboardNavigationHandler.response,keys=this.keyCodes,chart=this.chart,wrapAround=chart.options.accessibility.keyboardNavigation.wrapAround,direction=keyCode===keys.left||keyCode===keys.up?-1:1,didHighlight=chart.highlightRangeSelectorButton(chart.highlightedRangeSelectorItemIx+direction);if(!didHighlight){if(wrapAround){keyboardNavigationHandler.init(direction);return response.success}return response[direction>0?"next":"prev"]}return response.success}onButtonNavKbdClick(keyboardNavigationHandler){const response=keyboardNavigationHandler.response,chart=this.chart,wasDisabled=chart.oldRangeSelectorItemState===3;if(!wasDisabled){this.fakeClickEvent(chart.rangeSelector.buttons[chart.highlightedRangeSelectorItemIx].element)}return response.success}onAfterBtnClick(){const chart=this.chart;const axisRangeDescription=RangeSelectorComponent_getAxisRangeDescription(chart.xAxis[0]);const announcement=chart.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:chart,axisRangeDescription:axisRangeDescription});if(announcement){this.announcer.announce(announcement)}}onInputKbdMove(direction){const chart=this.chart;const rangeSel=chart.rangeSelector;const newIx=chart.highlightedInputRangeIx=(chart.highlightedInputRangeIx||0)+direction;const newIxOutOfRange=newIx>1||newIx<0;if(newIxOutOfRange){if(chart.accessibility){chart.accessibility.keyboardNavigation.exiting=true;chart.accessibility.keyboardNavigation.tabindexContainer.focus();return chart.accessibility.keyboardNavigation.move(direction)}}else if(rangeSel){const svgEl=rangeSel[newIx?"maxDateBox":"minDateBox"];const inputEl=rangeSel[newIx?"maxInput":"minInput"];if(svgEl&&inputEl){chart.setFocusToElement(svgEl,inputEl)}}return true}onInputNavInit(direction){const component=this;const chart=this.chart;const buttonIxToHighlight=direction>0?0:1;const rangeSel=chart.rangeSelector;const svgEl=rangeSel&&rangeSel[buttonIxToHighlight?"maxDateBox":"minDateBox"];const minInput=rangeSel&&rangeSel.minInput;const maxInput=rangeSel&&rangeSel.maxInput;const inputEl=buttonIxToHighlight?maxInput:minInput;chart.highlightedInputRangeIx=buttonIxToHighlight;if(svgEl&&minInput&&maxInput){chart.setFocusToElement(svgEl,inputEl);if(this.removeInputKeydownHandler){this.removeInputKeydownHandler()}const keydownHandler=e=>{const isTab=(e.which||e.keyCode)===this.keyCodes.tab;if(isTab&&component.onInputKbdMove(e.shiftKey?-1:1)){e.preventDefault();e.stopPropagation()}};const minRemover=RangeSelectorComponent_addEvent(minInput,"keydown",keydownHandler);const maxRemover=RangeSelectorComponent_addEvent(maxInput,"keydown",keydownHandler);this.removeInputKeydownHandler=()=>{minRemover();maxRemover()}}}onInputNavTerminate(){const rangeSel=this.chart.rangeSelector||{};if(rangeSel.maxInput){rangeSel.hideInput("max")}if(rangeSel.minInput){rangeSel.hideInput("min")}if(this.removeInputKeydownHandler){this.removeInputKeydownHandler();delete this.removeInputKeydownHandler}}initDropdownNav(){const chart=this.chart;const rangeSelector=chart.rangeSelector;const dropdown=rangeSelector&&rangeSelector.dropdown;if(rangeSelector&&dropdown){chart.setFocusToElement(rangeSelector.buttonGroup,dropdown);if(this.removeDropdownKeydownHandler){this.removeDropdownKeydownHandler()}this.removeDropdownKeydownHandler=RangeSelectorComponent_addEvent(dropdown,"keydown",e=>{const isTab=(e.which||e.keyCode)===this.keyCodes.tab,a11y=chart.accessibility;if(isTab){e.preventDefault();e.stopPropagation();if(a11y){a11y.keyboardNavigation.move(e.shiftKey?-1:1)}}})}}getRangeSelectorButtonNavigation(){const chart=this.chart;const keys=this.keyCodes;const component=this;return new Accessibility_KeyboardNavigationHandler(chart,{keyCodeMap:[[[keys.left,keys.right,keys.up,keys.down],function(keyCode){return component.onButtonNavKbdArrowKey(this,keyCode)}],[[keys.enter,keys.space],function(){return component.onButtonNavKbdClick(this)}]],validate:function(){return!!(chart.rangeSelector&&chart.rangeSelector.buttons&&chart.rangeSelector.buttons.length)},init:function(direction){const rangeSelector=chart.rangeSelector;if(rangeSelector&&rangeSelector.hasVisibleDropdown){component.initDropdownNav()}else if(rangeSelector){const lastButtonIx=rangeSelector.buttons.length-1;chart.highlightRangeSelectorButton(direction>0?0:lastButtonIx)}},terminate:function(){if(component.removeDropdownKeydownHandler){component.removeDropdownKeydownHandler();delete component.removeDropdownKeydownHandler}}})}getRangeSelectorInputNavigation(){const chart=this.chart;const component=this;return new Accessibility_KeyboardNavigationHandler(chart,{keyCodeMap:[],validate:function(){return shouldRunInputNavigation(chart)},init:function(direction){component.onInputNavInit(direction)},terminate:function(){component.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){if(this.removeDropdownKeydownHandler){this.removeDropdownKeydownHandler()}if(this.removeInputKeydownHandler){this.removeInputKeydownHandler()}if(this.announcer){this.announcer.destroy()}}}(function(RangeSelectorComponent){function chartHighlightRangeSelectorButton(ix){const buttons=this.rangeSelector&&this.rangeSelector.buttons||[];const curHighlightedIx=this.highlightedRangeSelectorItemIx;const curSelectedIx=this.rangeSelector&&this.rangeSelector.selected;if(typeof curHighlightedIx!=="undefined"&&buttons[curHighlightedIx]&&curHighlightedIx!==curSelectedIx){buttons[curHighlightedIx].setState(this.oldRangeSelectorItemState||0)}this.highlightedRangeSelectorItemIx=ix;if(buttons[ix]){this.setFocusToElement(buttons[ix].box,buttons[ix].element);if(ix!==curSelectedIx){this.oldRangeSelectorItemState=buttons[ix].state;buttons[ix].setState(1)}return true}return false}function compose(ChartClass,RangeSelectorClass){const chartProto=ChartClass.prototype;if(!chartProto.highlightRangeSelectorButton){chartProto.highlightRangeSelectorButton=chartHighlightRangeSelectorButton;RangeSelectorComponent_addEvent(RangeSelectorClass,"afterBtnClick",rangeSelectorAfterBtnClick)}}RangeSelectorComponent.compose=compose;function rangeSelectorAfterBtnClick(){const a11y=this.chart.accessibility;if(a11y&&a11y.components.rangeSelector){return a11y.components.rangeSelector.onAfterBtnClick()}}})(RangeSelectorComponent||(RangeSelectorComponent={}));const Components_RangeSelectorComponent=RangeSelectorComponent;const{composed:ForcedMarkers_composed}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addEvent:ForcedMarkers_addEvent,merge:ForcedMarkers_merge,pushUnique:ForcedMarkers_pushUnique}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();var ForcedMarkersComposition;(function(ForcedMarkersComposition){function compose(SeriesClass){if(ForcedMarkers_pushUnique(ForcedMarkers_composed,"A11y.FM")){ForcedMarkers_addEvent(SeriesClass,"afterSetOptions",seriesOnAfterSetOptions);ForcedMarkers_addEvent(SeriesClass,"render",seriesOnRender);ForcedMarkers_addEvent(SeriesClass,"afterRender",seriesOnAfterRender);ForcedMarkers_addEvent(SeriesClass,"renderCanvas",seriesOnRenderCanvas)}}ForcedMarkersComposition.compose=compose;function forceZeroOpacityMarkerOptions(options){ForcedMarkers_merge(true,options,{marker:{enabled:true,states:{normal:{opacity:0}}}})}function getPointMarkerOpacity(pointOptions){return pointOptions.marker.states&&pointOptions.marker.states.normal&&pointOptions.marker.states.normal.opacity}function handleForcePointMarkers(series){let i=series.points.length;while(i--){const point=series.points[i];const pointOptions=point.options;const hadForcedMarker=point.hasForcedA11yMarker;delete point.hasForcedA11yMarker;if(pointOptions.marker){const isStillForcedMarker=hadForcedMarker&&getPointMarkerOpacity(pointOptions)===0;if(pointOptions.marker.enabled&&!isStillForcedMarker){unforcePointMarkerOptions(pointOptions);point.hasForcedA11yMarker=false}else if(pointOptions.marker.enabled===false){forceZeroOpacityMarkerOptions(pointOptions);point.hasForcedA11yMarker=true}}}}function hasIndividualPointMarkerOptions(series){return!!(series._hasPointMarkers&&series.points&&series.points.length)}function isWithinDescriptionThreshold(series){const a11yOptions=series.chart.options.accessibility;return series.points.length<a11yOptions.series.pointDescriptionEnabledThreshold||a11yOptions.series.pointDescriptionEnabledThreshold===false}function seriesOnAfterRender(){const series=this;if(series.chart.styledMode){if(series.markerGroup){series.markerGroup[series.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden")}if(hasIndividualPointMarkerOptions(series)){series.points.forEach(point=>{if(point.graphic){point.graphic[point.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden");point.graphic[point.hasForcedA11yMarker===false?"addClass":"removeClass"]("highcharts-a11y-marker-visible")}})}}}function seriesOnAfterSetOptions(e){this.resetA11yMarkerOptions=ForcedMarkers_merge(e.options.marker||{},this.userOptions.marker||{})}function seriesOnRender(){const series=this,options=series.options;if(shouldForceMarkers(series)){if(options.marker&&options.marker.enabled===false){series.a11yMarkersForced=true;forceZeroOpacityMarkerOptions(series.options)}if(hasIndividualPointMarkerOptions(series)){handleForcePointMarkers(series)}}else if(series.a11yMarkersForced){delete series.a11yMarkersForced;unforceSeriesMarkerOptions(series);delete series.resetA11yMarkerOptions}}function shouldForceMarkers(series){const chart=series.chart,chartA11yEnabled=chart.options.accessibility.enabled,seriesA11yEnabled=(series.options.accessibility&&series.options.accessibility.enabled)!==false;return chartA11yEnabled&&seriesA11yEnabled&&isWithinDescriptionThreshold(series)}function unforcePointMarkerOptions(pointOptions){ForcedMarkers_merge(true,pointOptions.marker,{states:{normal:{opacity:getPointMarkerOpacity(pointOptions)||1}}})}function unforceSeriesMarkerOptions(series){const resetMarkerOptions=series.resetA11yMarkerOptions;if(resetMarkerOptions){const originalOpacity=resetMarkerOptions.states&&resetMarkerOptions.states.normal&&resetMarkerOptions.states.normal.opacity;if(series.userOptions&&series.userOptions.marker){series.userOptions.marker.enabled=true}series.update({marker:{enabled:resetMarkerOptions.enabled,states:{normal:{opacity:originalOpacity}}}})}}function seriesOnRenderCanvas(){if(this.boosted&&this.a11yMarkersForced){ForcedMarkers_merge(true,this.options,{marker:{enabled:false}});delete this.a11yMarkersForced}}})(ForcedMarkersComposition||(ForcedMarkersComposition={}));const ForcedMarkers=ForcedMarkersComposition;var highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_=__webpack_require__(260);var highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_default=__webpack_require__.n(highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_);var highcharts_Series_commonjs_highcharts_Series_commonjs2_highcharts_Series_root_Highcharts_Series_=__webpack_require__(820);var highcharts_Series_commonjs_highcharts_Series_commonjs2_highcharts_Series_root_Highcharts_Series_default=__webpack_require__.n(highcharts_Series_commonjs_highcharts_Series_commonjs2_highcharts_Series_root_Highcharts_Series_);const{seriesTypes:SeriesKeyboardNavigation_seriesTypes}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default();const{doc:SeriesKeyboardNavigation_doc}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{defined:SeriesKeyboardNavigation_defined,fireEvent:SeriesKeyboardNavigation_fireEvent}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{getPointFromXY:SeriesKeyboardNavigation_getPointFromXY,getSeriesFromName:SeriesKeyboardNavigation_getSeriesFromName,scrollAxisToPoint:SeriesKeyboardNavigation_scrollAxisToPoint}=Utils_ChartUtilities;function getPointIndex(point){const index=point.index,points=point.series.points;let i=points.length;if(points[index]!==point){while(i--){if(points[i]===point){return i}}}else{return index}}function isSkipSeries(series){const a11yOptions=series.chart.options.accessibility,seriesNavOptions=a11yOptions.keyboardNavigation.seriesNavigation,seriesA11yOptions=series.options.accessibility||{},seriesKbdNavOptions=seriesA11yOptions.keyboardNavigation;return seriesKbdNavOptions&&seriesKbdNavOptions.enabled===false||seriesA11yOptions.enabled===false||series.options.enableMouseTracking===false||!series.visible||seriesNavOptions.pointNavigationEnabledThreshold&&+seriesNavOptions.pointNavigationEnabledThreshold<=series.points.length}function isSkipPoint(point){const a11yOptions=point.series.chart.options.accessibility;const pointA11yDisabled=point.options.accessibility&&point.options.accessibility.enabled===false;return point.isNull&&a11yOptions.keyboardNavigation.seriesNavigation.skipNullPoints||point.visible===false||point.isInside===false||pointA11yDisabled||isSkipSeries(point.series)}function getFirstValidPointInSeries(series){const points=series.points||[],len=points.length;for(let i=0;i<len;++i){if(!isSkipPoint(points[i])){return points[i]}}return null}function getFirstValidPointInChart(chart){const series=chart.series||[],len=series.length;for(let i=0;i<len;++i){if(!isSkipSeries(series[i])){const point=getFirstValidPointInSeries(series[i]);if(point){return point}}}return null}function highlightLastValidPointInChart(chart){const numSeries=chart.series.length;let i=numSeries,res=false;while(i--){chart.highlightedPoint=chart.series[i].points[chart.series[i].points.length-1];res=chart.series[i].highlightNextValidPoint();if(res){break}}return res}function updateChartFocusAfterDrilling(chart){const point=getFirstValidPointInChart(chart);if(point){point.highlight(false)}}function highlightFirstValidPointInChart(chart){delete chart.highlightedPoint;const point=getFirstValidPointInChart(chart);return point?point.highlight():false}class SeriesKeyboardNavigation{constructor(chart,keyCodes){this.keyCodes=keyCodes;this.chart=chart}init(){const keyboardNavigation=this,chart=this.chart,e=this.eventProvider=new Utils_EventProvider;e.addEvent(highcharts_Series_commonjs_highcharts_Series_commonjs2_highcharts_Series_root_Highcharts_Series_default(),"destroy",function(){return keyboardNavigation.onSeriesDestroy(this)});e.addEvent(chart,"afterApplyDrilldown",function(){updateChartFocusAfterDrilling(this)});e.addEvent(chart,"drilldown",function(e){const point=e.point,series=point.series;keyboardNavigation.lastDrilledDownPoint={x:point.x,y:point.y,seriesName:series?series.name:""}});e.addEvent(chart,"drillupall",function(){setTimeout(function(){keyboardNavigation.onDrillupAll()},10)});e.addEvent(highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_default(),"afterSetState",function(){const point=this;const pointEl=point.graphic&&point.graphic.element;const focusedElement=SeriesKeyboardNavigation_doc.activeElement;const focusedElClassName=focusedElement&&focusedElement.getAttribute("class");const isProxyFocused=focusedElClassName&&focusedElClassName.indexOf("highcharts-a11y-proxy-element")>-1;if(chart.highlightedPoint===point&&focusedElement!==pointEl&&!isProxyFocused&&pointEl&&pointEl.focus){pointEl.focus()}})}onDrillupAll(){const last=this.lastDrilledDownPoint,chart=this.chart,series=last&&SeriesKeyboardNavigation_getSeriesFromName(chart,last.seriesName);let point;if(last&&series&&SeriesKeyboardNavigation_defined(last.x)&&SeriesKeyboardNavigation_defined(last.y)){point=SeriesKeyboardNavigation_getPointFromXY(series,last.x,last.y)}point=point||getFirstValidPointInChart(chart);if(chart.container){chart.container.focus()}if(point&&point.highlight){point.highlight(false)}}getKeyboardNavigationHandler(){const keyboardNavigation=this,keys=this.keyCodes,chart=this.chart,inverted=chart.inverted;return new Accessibility_KeyboardNavigationHandler(chart,{keyCodeMap:[[inverted?[keys.up,keys.down]:[keys.left,keys.right],function(keyCode){return keyboardNavigation.onKbdSideways(this,keyCode)}],[inverted?[keys.left,keys.right]:[keys.up,keys.down],function(keyCode){return keyboardNavigation.onKbdVertical(this,keyCode)}],[[keys.enter,keys.space],function(keyCode,event){const point=chart.highlightedPoint;if(point){const{plotLeft,plotTop}=this.chart,{plotX=0,plotY=0}=point;event={...event,chartX:plotLeft+plotX,chartY:plotTop+plotY,point:point,target:point.graphic?.element||event.target};SeriesKeyboardNavigation_fireEvent(point.series,"click",event);point.firePointEvent("click",event)}return this.response.success}],[[keys.home],function(){highlightFirstValidPointInChart(chart);return this.response.success}],[[keys.end],function(){highlightLastValidPointInChart(chart);return this.response.success}],[[keys.pageDown,keys.pageUp],function(keyCode){chart.highlightAdjacentSeries(keyCode===keys.pageDown);return this.response.success}]],init:function(){return keyboardNavigation.onHandlerInit(this)},validate:function(){return!!getFirstValidPointInChart(chart)},terminate:function(){return keyboardNavigation.onHandlerTerminate()}})}onKbdSideways(handler,keyCode){const keys=this.keyCodes,isNext=keyCode===keys.right||keyCode===keys.down;return this.attemptHighlightAdjacentPoint(handler,isNext)}onHandlerInit(handler){const chart=this.chart,kbdNavOptions=chart.options.accessibility.keyboardNavigation;if(kbdNavOptions.seriesNavigation.rememberPointFocus&&chart.highlightedPoint){chart.highlightedPoint.highlight()}else{highlightFirstValidPointInChart(chart)}return handler.response.success}onKbdVertical(handler,keyCode){const chart=this.chart,keys=this.keyCodes,isNext=keyCode===keys.down||keyCode===keys.right,navOptions=chart.options.accessibility.keyboardNavigation.seriesNavigation;if(navOptions.mode&&navOptions.mode==="serialize"){return this.attemptHighlightAdjacentPoint(handler,isNext)}const highlightMethod=chart.highlightedPoint&&chart.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";chart[highlightMethod](isNext);return handler.response.success}onHandlerTerminate(){const chart=this.chart,kbdNavOptions=chart.options.accessibility.keyboardNavigation;if(chart.tooltip){chart.tooltip.hide(0)}const hoverSeries=chart.highlightedPoint&&chart.highlightedPoint.series;if(hoverSeries&&hoverSeries.onMouseOut){hoverSeries.onMouseOut()}if(chart.highlightedPoint&&chart.highlightedPoint.onMouseOut){chart.highlightedPoint.onMouseOut()}if(!kbdNavOptions.seriesNavigation.rememberPointFocus){delete chart.highlightedPoint}}attemptHighlightAdjacentPoint(handler,directionIsNext){const chart=this.chart,wrapAround=chart.options.accessibility.keyboardNavigation.wrapAround,highlightSuccessful=chart.highlightAdjacentPoint(directionIsNext);if(!highlightSuccessful){if(wrapAround&&(directionIsNext?highlightFirstValidPointInChart(chart):highlightLastValidPointInChart(chart))){return handler.response.success}return handler.response[directionIsNext?"next":"prev"]}return handler.response.success}onSeriesDestroy(series){const chart=this.chart,currentHighlightedPointDestroyed=chart.highlightedPoint&&chart.highlightedPoint.series===series;if(currentHighlightedPointDestroyed){delete chart.highlightedPoint;if(chart.focusElement){chart.focusElement.removeFocusBorder()}}}destroy(){this.eventProvider.removeAddedEvents()}}(function(SeriesKeyboardNavigation){function chartHighlightAdjacentPoint(next){const chart=this,series=chart.series,curPoint=chart.highlightedPoint,curPointIndex=curPoint&&getPointIndex(curPoint)||0,curPoints=curPoint&&curPoint.series.points||[],lastSeries=chart.series&&chart.series[chart.series.length-1],lastPoint=lastSeries&&lastSeries.points&&lastSeries.points[lastSeries.points.length-1];let newSeries,newPoint;if(!series[0]||!series[0].points){return false}if(!curPoint){newPoint=next?series[0].points[0]:lastPoint}else{newSeries=series[curPoint.series.index+(next?1:-1)];newPoint=curPoints[curPointIndex+(next?1:-1)];if(!newPoint&&newSeries){newPoint=newSeries.points[next?0:newSeries.points.length-1]}if(!newPoint){return false}}if(isSkipPoint(newPoint)){newSeries=newPoint.series;if(isSkipSeries(newSeries)){chart.highlightedPoint=next?newSeries.points[newSeries.points.length-1]:newSeries.points[0]}else{chart.highlightedPoint=newPoint}return chart.highlightAdjacentPoint(next)}return newPoint.highlight()}function chartHighlightAdjacentPointVertical(down){const curPoint=this.highlightedPoint;let minDistance=Infinity,bestPoint;if(!SeriesKeyboardNavigation_defined(curPoint.plotX)||!SeriesKeyboardNavigation_defined(curPoint.plotY)){return false}this.series.forEach(series=>{if(isSkipSeries(series)){return}series.points.forEach(point=>{if(!SeriesKeyboardNavigation_defined(point.plotY)||!SeriesKeyboardNavigation_defined(point.plotX)||point===curPoint){return}let yDistance=point.plotY-curPoint.plotY;const width=Math.abs(point.plotX-curPoint.plotX),distance=Math.abs(yDistance)*Math.abs(yDistance)+width*width*4;if(series.yAxis&&series.yAxis.reversed){yDistance*=-1}if(yDistance<=0&&down||yDistance>=0&&!down||distance<5||isSkipPoint(point)){return}if(distance<minDistance){minDistance=distance;bestPoint=point}})});return bestPoint?bestPoint.highlight():false}function chartHighlightAdjacentSeries(down){const chart=this,curPoint=chart.highlightedPoint,lastSeries=chart.series&&chart.series[chart.series.length-1],lastPoint=lastSeries&&lastSeries.points&&lastSeries.points[lastSeries.points.length-1];let newSeries,newPoint,adjacentNewPoint;if(!chart.highlightedPoint){newSeries=down?chart.series&&chart.series[0]:lastSeries;newPoint=down?newSeries&&newSeries.points&&newSeries.points[0]:lastPoint;return newPoint?newPoint.highlight():false}newSeries=chart.series[curPoint.series.index+(down?-1:1)];if(!newSeries){return false}newPoint=getClosestPoint(curPoint,newSeries,4);if(!newPoint){return false}if(isSkipSeries(newSeries)){newPoint.highlight();adjacentNewPoint=chart.highlightAdjacentSeries(down);if(!adjacentNewPoint){curPoint.highlight();return false}return adjacentNewPoint}newPoint.highlight();return newPoint.series.highlightNextValidPoint()}function compose(ChartClass,PointClass,SeriesClass){const chartProto=ChartClass.prototype,pointProto=PointClass.prototype,seriesProto=SeriesClass.prototype;if(!chartProto.highlightAdjacentPoint){chartProto.highlightAdjacentPoint=chartHighlightAdjacentPoint;chartProto.highlightAdjacentPointVertical=chartHighlightAdjacentPointVertical;chartProto.highlightAdjacentSeries=chartHighlightAdjacentSeries;pointProto.highlight=pointHighlight;seriesProto.keyboardMoveVertical=true;["column","gantt","pie"].forEach(type=>{if(SeriesKeyboardNavigation_seriesTypes[type]){SeriesKeyboardNavigation_seriesTypes[type].prototype.keyboardMoveVertical=false}});seriesProto.highlightNextValidPoint=seriesHighlightNextValidPoint}}SeriesKeyboardNavigation.compose=compose;function getClosestPoint(point,series,xWeight,yWeight){let minDistance=Infinity,dPoint,minIx,distance,i=series.points.length;const hasUndefinedPosition=point=>!(SeriesKeyboardNavigation_defined(point.plotX)&&SeriesKeyboardNavigation_defined(point.plotY));if(hasUndefinedPosition(point)){return}while(i--){dPoint=series.points[i];if(hasUndefinedPosition(dPoint)){continue}distance=(point.plotX-dPoint.plotX)*(point.plotX-dPoint.plotX)*(xWeight||1)+(point.plotY-dPoint.plotY)*(point.plotY-dPoint.plotY)*(yWeight||1);if(distance<minDistance){minDistance=distance;minIx=i}}return SeriesKeyboardNavigation_defined(minIx)?series.points[minIx]:void 0}function pointHighlight(highlightVisually=true){const chart=this.series.chart,tooltipElement=chart.tooltip?.label?.element;if(!this.isNull&&highlightVisually){this.onMouseOver()}else{if(chart.tooltip){chart.tooltip.hide(0)}}SeriesKeyboardNavigation_scrollAxisToPoint(this);if(this.graphic){chart.setFocusToElement(this.graphic);if(!highlightVisually&&chart.focusElement){chart.focusElement.removeFocusBorder()}}chart.highlightedPoint=this;const tooltipTop=tooltipElement?.getBoundingClientRect().top;if(tooltipElement&&tooltipTop&&tooltipTop<0){const scrollTop=window.scrollY,newScrollTop=scrollTop+tooltipTop;window.scrollTo({behavior:"smooth",top:newScrollTop})}return this}function seriesHighlightNextValidPoint(){const curPoint=this.chart.highlightedPoint,start=(curPoint&&curPoint.series)===this?getPointIndex(curPoint):0,points=this.points,len=points.length;if(points&&len){for(let i=start;i<len;++i){if(!isSkipPoint(points[i])){return points[i].highlight()}}for(let j=start;j>=0;--j){if(!isSkipPoint(points[j])){return points[j].highlight()}}}return false}})(SeriesKeyboardNavigation||(SeriesKeyboardNavigation={}));const SeriesComponent_SeriesKeyboardNavigation=SeriesKeyboardNavigation;const{hideSeriesFromAT:SeriesComponent_hideSeriesFromAT}=Utils_ChartUtilities;const{describeSeries:SeriesComponent_describeSeries}=SeriesComponent_SeriesDescriber;class SeriesComponent extends Accessibility_AccessibilityComponent{static compose(ChartClass,PointClass,SeriesClass){SeriesComponent_NewDataAnnouncer.compose(SeriesClass);ForcedMarkers.compose(SeriesClass);SeriesComponent_SeriesKeyboardNavigation.compose(ChartClass,PointClass,SeriesClass)}init(){this.newDataAnnouncer=new SeriesComponent_NewDataAnnouncer(this.chart);this.newDataAnnouncer.init();this.keyboardNavigation=new SeriesComponent_SeriesKeyboardNavigation(this.chart,this.keyCodes);this.keyboardNavigation.init();this.hideTooltipFromATWhenShown();this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const component=this;if(this.chart.tooltip){this.addEvent(this.chart.tooltip.constructor,"refresh",function(){if(this.chart===component.chart&&this.label&&this.label.element){this.label.element.setAttribute("aria-hidden",true)}})}}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(series){if(series.labelBySeries){series.labelBySeries.attr("aria-hidden",true)}})})}onChartRender(){const chart=this.chart;chart.series.forEach(function(series){const shouldDescribeSeries=(series.options.accessibility&&series.options.accessibility.enabled)!==false&&series.visible&&series.getPointsCollection().length!==0;if(shouldDescribeSeries){SeriesComponent_describeSeries(series)}else{SeriesComponent_hideSeriesFromAT(series)}})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy();this.keyboardNavigation.destroy()}}const SeriesComponent_SeriesComponent=SeriesComponent;const{unhideChartElementFromAT:ZoomComponent_unhideChartElementFromAT}=Utils_ChartUtilities;const{getFakeMouseEvent:ZoomComponent_getFakeMouseEvent}=Utils_HTMLUtilities;const{attr:ZoomComponent_attr,pick:ZoomComponent_pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function chartHasMapZoom(chart){return!!(chart.mapView&&chart.mapNavigation&&chart.mapNavigation.navButtons.length)}class ZoomComponent extends Accessibility_AccessibilityComponent{constructor(){super(...arguments);this.focusedMapNavButtonIx=-1}init(){const component=this,chart=this.chart;this.proxyProvider.addGroup("zoom","div");["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(eventType=>{component.addEvent(chart,eventType,function(){component.updateProxyOverlays()})})}onChartUpdate(){const chart=this.chart,component=this;if(chart.mapNavigation){chart.mapNavigation.navButtons.forEach((button,i)=>{ZoomComponent_unhideChartElementFromAT(chart,button.element);component.setMapNavButtonAttrs(button.element,"accessibility.zoom.mapZoom"+(i?"Out":"In"))})}}setMapNavButtonAttrs(button,labelFormatKey){const chart=this.chart,label=chart.langFormat(labelFormatKey,{chart:chart});ZoomComponent_attr(button,{tabindex:-1,role:"button","aria-label":label})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const chart=this.chart;this.proxyProvider.clearGroup("zoom");if(chart.resetZoomButton){this.createZoomProxyButton(chart.resetZoomButton,"resetZoomProxyButton",chart.langFormat("accessibility.zoom.resetZoomButton",{chart:chart}))}if(chart.drillUpButton&&chart.breadcrumbs&&chart.breadcrumbs.list){const lastBreadcrumb=chart.breadcrumbs.list[chart.breadcrumbs.list.length-1];this.createZoomProxyButton(chart.drillUpButton,"drillUpProxyButton",chart.langFormat("accessibility.drillUpButton",{chart:chart,buttonText:chart.breadcrumbs.getButtonText(lastBreadcrumb)}))}}createZoomProxyButton(buttonEl,buttonProp,label){this[buttonProp]=this.proxyProvider.addProxyElement("zoom",{click:buttonEl},"button",{"aria-label":label,tabindex:-1})}getMapZoomNavigation(){const keys=this.keyCodes,chart=this.chart,component=this;return new Accessibility_KeyboardNavigationHandler(chart,{keyCodeMap:[[[keys.up,keys.down,keys.left,keys.right],function(keyCode){return component.onMapKbdArrow(this,keyCode)}],[[keys.tab],function(_keyCode,e){return component.onMapKbdTab(this,e)}],[[keys.space,keys.enter],function(){return component.onMapKbdClick(this)}]],validate:function(){return chartHasMapZoom(chart)},init:function(direction){return component.onMapNavInit(direction)}})}onMapKbdArrow(keyboardNavigationHandler,keyCode){const chart=this.chart,keys=this.keyCodes,target=chart.container,isY=keyCode===keys.up||keyCode===keys.down,stepDirection=keyCode===keys.left||keyCode===keys.up?1:-1,granularity=10,diff=(isY?chart.plotHeight:chart.plotWidth)/granularity*stepDirection,r=Math.random()*10,startPos={x:target.offsetLeft+chart.plotLeft+chart.plotWidth/2+r,y:target.offsetTop+chart.plotTop+chart.plotHeight/2+r},endPos=isY?{x:startPos.x,y:startPos.y+diff}:{x:startPos.x+diff,y:startPos.y};[ZoomComponent_getFakeMouseEvent("mousedown",startPos),ZoomComponent_getFakeMouseEvent("mousemove",endPos),ZoomComponent_getFakeMouseEvent("mouseup",endPos)].forEach(e=>target.dispatchEvent(e));return keyboardNavigationHandler.response.success}onMapKbdTab(keyboardNavigationHandler,event){const chart=this.chart;const response=keyboardNavigationHandler.response;const isBackwards=event.shiftKey;const isMoveOutOfRange=isBackwards&&!this.focusedMapNavButtonIx||!isBackwards&&this.focusedMapNavButtonIx;chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0);if(isMoveOutOfRange){if(chart.mapView){chart.mapView.zoomBy()}return response[isBackwards?"prev":"next"]}this.focusedMapNavButtonIx+=isBackwards?-1:1;const button=chart.mapNavigation.navButtons[this.focusedMapNavButtonIx];chart.setFocusToElement(button.box,button.element);button.setState(2);return response.success}onMapKbdClick(keyboardNavigationHandler){const el=this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element;this.fakeClickEvent(el);return keyboardNavigationHandler.response.success}onMapNavInit(direction){const chart=this.chart,zoomIn=chart.mapNavigation.navButtons[0],zoomOut=chart.mapNavigation.navButtons[1],initialButton=direction>0?zoomIn:zoomOut;chart.setFocusToElement(initialButton.box,initialButton.element);initialButton.setState(2);this.focusedMapNavButtonIx=direction>0?0:1}simpleButtonNavigation(buttonProp,proxyProp,onClick){const keys=this.keyCodes,component=this,chart=this.chart;return new Accessibility_KeyboardNavigationHandler(chart,{keyCodeMap:[[[keys.tab,keys.up,keys.down,keys.left,keys.right],function(keyCode,e){const isBackwards=keyCode===keys.tab&&e.shiftKey||keyCode===keys.left||keyCode===keys.up;return this.response[isBackwards?"prev":"next"]}],[[keys.space,keys.enter],function(){const res=onClick(this,chart);return ZoomComponent_pick(res,this.response.success)}]],validate:function(){const hasButton=chart[buttonProp]&&chart[buttonProp].box&&component[proxyProp].innerElement;return hasButton},init:function(){chart.setFocusToElement(chart[buttonProp].box,component[proxyProp].innerElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(_handler,chart){chart.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(handler,chart){chart.drillUp();return handler.response.prev}),this.getMapZoomNavigation()]}}const Components_ZoomComponent=ZoomComponent;const{doc:HighContrastMode_doc,isMS,win:HighContrastMode_win}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function isHighContrastModeActive(){const isEdge=/(Edg)/.test(HighContrastMode_win.navigator.userAgent);if(HighContrastMode_win.matchMedia&&isEdge){return HighContrastMode_win.matchMedia("(-ms-high-contrast: active)").matches}if(isMS&&HighContrastMode_win.getComputedStyle){const testDiv=HighContrastMode_doc.createElement("div");const imageSrc="data:image/gif;base64,"+"R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";testDiv.style.backgroundImage=`url(${imageSrc})`;HighContrastMode_doc.body.appendChild(testDiv);const bi=(testDiv.currentStyle||HighContrastMode_win.getComputedStyle(testDiv)).backgroundImage;HighContrastMode_doc.body.removeChild(testDiv);return bi==="none"}return HighContrastMode_win.matchMedia&&HighContrastMode_win.matchMedia("(forced-colors: active)").matches}function setHighContrastTheme(chart){chart.highContrastModeActive=true;const theme=chart.options.accessibility.highContrastTheme;chart.update(theme,false);const hasCustomColors=theme.colors?.length>1;chart.series.forEach(function(s){const plotOpts=theme.plotOptions[s.type]||{};const fillColor=hasCustomColors&&s.colorIndex!==void 0?theme.colors[s.colorIndex]:plotOpts.color||"window";const seriesOptions={color:plotOpts.color||"windowText",colors:hasCustomColors?theme.colors:[plotOpts.color||"windowText"],borderColor:plotOpts.borderColor||"window",fillColor:fillColor};s.update(seriesOptions,false);if(s.points){s.points.forEach(function(p){if(p.options&&p.options.color){p.update({color:plotOpts.color||"windowText",borderColor:plotOpts.borderColor||"window"},false)}})}});chart.redraw()}const whcm={isHighContrastModeActive:isHighContrastModeActive,setHighContrastTheme:setHighContrastTheme};const HighContrastMode=whcm;const theme={chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[],dataClasses:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}};const HighContrastTheme=theme;const Options={accessibility:{enabled:true,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}>"+"<div>{typeDescription}</div>"+"<div>{chartSubtitle}</div>"+"<div>{chartLongdesc}</div>"+"<div>{playAsSoundButton}</div>"+"<div>{viewTableButton}</div>"+"<div>{xAxisDescription}</div>"+"<div>{yAxisDescription}</div>"+"<div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:false,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:true},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',highContrastMode:"auto",keyboardNavigation:{enabled:true,focusBorder:{enabled:true,hideBrowserFocusOutline:true,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","navigator","legend","chartMenu"],wrapAround:true,seriesNavigation:{skipNullPoints:true,pointNavigationEnabledThreshold:false,rememberPointFocus:false}},announceNewData:{enabled:false,minAnnounceInterval:5e3,interruptUser:false}},legend:{accessibility:{enabled:true,keyboardNavigation:{enabled:true}}},exporting:{accessibility:{enabled:true}},navigator:{accessibility:{enabled:true}}};const A11yDefaults=Options;const langOptions={accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}"+"{#each additionalAnnotationPoints}"+", also related to {this}"+"{/each}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},navigator:{handleLabel:"{#eq handleIx 0}Start, percent{else}End, percent{/eq}",groupLabel:"Axis zoom",changeAnnouncement:"{axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display "+"groups of statistical data. Each data point in the "+"chart can have up to 5 values: minimum, lower quartile, "+"median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a "+"range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a "+"range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data "+"point also has a size value.",columnrange:"Columnrange charts are column charts "+"displaying a range between a lower and higher value for "+"each point.",errorbar:"Errorbar series are used to display the "+"variability of the data.",funnel:"Funnel charts are used to display reduction of data "+"in stages.",pyramid:"Pyramid charts consist of a single pyramid with "+"item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each "+"column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data "+"{#eq numPoints 1}point{else}points{/eq}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data "+"{#eq numPoints 1}point{else}points{/eq}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data "+"{#eq numPoints 1}point{else}points{/eq}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} "+"{#eq numPoints 1}bar{else}bars{/eq}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} "+"{#eq numPoints 1}bar{else}bars{/eq}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} "+"{#eq numPoints 1}slice{else}slices{/eq}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} "+"{#eq numPoints 1}point{else}points{/eq}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} "+"{#eq numPoints 1}box{else}boxes{/eq}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} "+"{#eq numPoints 1}bubbles{else}bubble{/eq}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{#each annotations}"+"Annotation: {this}{/each}"}}};const LangDefaults=langOptions;const{error,pick:DeprecatedOptions_pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function traverseSetOption(root,optionAsArray,val){let opt=root,prop,i=0;for(;i<optionAsArray.length-1;++i){prop=optionAsArray[i];opt=opt[prop]=DeprecatedOptions_pick(opt[prop],{})}opt[optionAsArray[optionAsArray.length-1]]=val}function deprecateFromOptionsMap(chart,rootOldAsArray,rootNewAsArray,mapToNewOptions){function getChildProp(root,propAsArray){return propAsArray.reduce(function(acc,cur){return acc[cur]},root)}const rootOld=getChildProp(chart.options,rootOldAsArray),rootNew=getChildProp(chart.options,rootNewAsArray);Object.keys(mapToNewOptions).forEach(function(oldOptionKey){const val=rootOld[oldOptionKey];if(typeof val!=="undefined"){traverseSetOption(rootNew,mapToNewOptions[oldOptionKey],val);error(32,false,chart,{[rootOldAsArray.join(".")+"."+oldOptionKey]:rootNewAsArray.join(".")+"."+mapToNewOptions[oldOptionKey].join(".")})}})}function copyDeprecatedChartOptions(chart){const chartOptions=chart.options.chart,a11yOptions=chart.options.accessibility||{};["description","typeDescription"].forEach(function(prop){if(chartOptions[prop]){a11yOptions[prop]=chartOptions[prop];error(32,false,chart,{[`chart.${prop}`]:`use accessibility.${prop}`})}})}function copyDeprecatedAxisOptions(chart){chart.axes.forEach(function(axis){const opts=axis.options;if(opts&&opts.description){opts.accessibility=opts.accessibility||{};opts.accessibility.description=opts.description;error(32,false,chart,{"axis.description":"use axis.accessibility.description"})}})}function copyDeprecatedSeriesOptions(chart){const oldToNewSeriesOptions={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};chart.series.forEach(function(series){Object.keys(oldToNewSeriesOptions).forEach(function(oldOption){let optionVal=series.options[oldOption];if(oldOption==="accessibility.pointDescriptionFormatter"){optionVal=series.options.accessibility&&series.options.accessibility.pointDescriptionFormatter}if(typeof optionVal!=="undefined"){traverseSetOption(series.options,oldToNewSeriesOptions[oldOption],oldOption==="skipKeyboardNavigation"?!optionVal:optionVal);error(32,false,chart,{[`series.${oldOption}`]:"series."+oldToNewSeriesOptions[oldOption].join(".")})}})})}function copyDeprecatedTopLevelAccessibilityOptions(chart){deprecateFromOptionsMap(chart,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]})}function copyDeprecatedKeyboardNavigationOptions(chart){deprecateFromOptionsMap(chart,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]})}function copyDeprecatedLangOptions(chart){deprecateFromOptionsMap(chart,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}function copyDeprecatedOptions(chart){copyDeprecatedChartOptions(chart);copyDeprecatedAxisOptions(chart);if(chart.series){copyDeprecatedSeriesOptions(chart)}copyDeprecatedTopLevelAccessibilityOptions(chart);copyDeprecatedKeyboardNavigationOptions(chart);copyDeprecatedLangOptions(chart)}const DeprecatedOptions=copyDeprecatedOptions;const{defaultOptions:Accessibility_defaultOptions}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{doc:Accessibility_doc}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addEvent:Accessibility_addEvent,extend:Accessibility_extend,fireEvent:Accessibility_fireEvent,merge:Accessibility_merge}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{removeElement:Accessibility_removeElement}=Utils_HTMLUtilities;class Accessibility{constructor(chart){this.init(chart)}init(chart){this.chart=chart;if(!Accessibility_doc.addEventListener){this.zombie=true;this.components={};chart.renderTo.setAttribute("aria-hidden",true);return}DeprecatedOptions(chart);this.proxyProvider=new Accessibility_ProxyProvider(this.chart);this.initComponents();this.keyboardNavigation=new Accessibility_KeyboardNavigation(chart,this.components)}initComponents(){const chart=this.chart;const proxyProvider=this.proxyProvider;const a11yOptions=chart.options.accessibility;this.components={container:new Components_ContainerComponent,infoRegions:new Components_InfoRegionsComponent,legend:new Components_LegendComponent,chartMenu:new Components_MenuComponent,rangeSelector:new Components_RangeSelectorComponent,series:new SeriesComponent_SeriesComponent,zoom:new Components_ZoomComponent,navigator:new Components_NavigatorComponent};if(a11yOptions.customComponents){Accessibility_extend(this.components,a11yOptions.customComponents)}const components=this.components;this.getComponentOrder().forEach(function(componentName){components[componentName].initBase(chart,proxyProvider);components[componentName].init()})}getComponentOrder(){if(!this.components){return[]}if(!this.components.series){return Object.keys(this.components)}const componentsExceptSeries=Object.keys(this.components).filter(c=>c!=="series");return["series"].concat(componentsExceptSeries)}update(){const components=this.components,chart=this.chart,a11yOptions=chart.options.accessibility;Accessibility_fireEvent(chart,"beforeA11yUpdate");chart.types=this.getChartTypes();const kbdNavOrder=a11yOptions.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(kbdNavOrder);this.getComponentOrder().forEach(function(componentName){components[componentName].onChartUpdate();Accessibility_fireEvent(chart,"afterA11yComponentUpdate",{name:componentName,component:components[componentName]})});this.keyboardNavigation.update(kbdNavOrder);if(!chart.highContrastModeActive&&a11yOptions.highContrastMode!==false&&(HighContrastMode.isHighContrastModeActive()||a11yOptions.highContrastMode===true)){HighContrastMode.setHighContrastTheme(chart)}Accessibility_fireEvent(chart,"afterA11yUpdate",{accessibility:this})}destroy(){const chart=this.chart||{};const components=this.components;Object.keys(components).forEach(function(componentName){components[componentName].destroy();components[componentName].destroyBase()});if(this.proxyProvider){this.proxyProvider.destroy()}if(chart.announcerContainer){Accessibility_removeElement(chart.announcerContainer)}if(this.keyboardNavigation){this.keyboardNavigation.destroy()}if(chart.renderTo){chart.renderTo.setAttribute("aria-hidden",true)}if(chart.focusElement){chart.focusElement.removeFocusBorder()}}getChartTypes(){const types={};this.chart.series.forEach(function(series){types[series.type]=1});return Object.keys(types)}}(function(Accessibility){Accessibility.i18nFormat=A11yI18n.i18nFormat;function chartOnDestroy(){if(this.accessibility){this.accessibility.destroy()}}function chartOnRender(){if(this.a11yDirty&&this.renderTo){delete this.a11yDirty;this.updateA11yEnabled()}const a11y=this.accessibility;if(a11y&&!a11y.zombie){a11y.proxyProvider.updateProxyElementPositions();a11y.getComponentOrder().forEach(function(componentName){a11y.components[componentName].onChartRender()})}}function chartOnUpdate(e){const newOptions=e.options.accessibility;if(newOptions){if(newOptions.customComponents){this.options.accessibility.customComponents=newOptions.customComponents;delete newOptions.customComponents}Accessibility_merge(true,this.options.accessibility,newOptions);if(this.accessibility&&this.accessibility.destroy){this.accessibility.destroy();delete this.accessibility}}this.a11yDirty=true}function chartUpdateA11yEnabled(){let a11y=this.accessibility;const accessibilityOptions=this.options.accessibility,svg=this.renderer.boxWrapper.element,title=this.title;if(accessibilityOptions&&accessibilityOptions.enabled){if(a11y&&!a11y.zombie){a11y.update()}else{this.accessibility=a11y=new Accessibility(this);if(a11y&&!a11y.zombie){a11y.update()}if(svg.getAttribute("role")==="img"){svg.removeAttribute("role")}}}else if(a11y){if(a11y.destroy){a11y.destroy()}delete this.accessibility}else{this.renderTo.setAttribute("role","img");this.renderTo.setAttribute("aria-hidden",false);this.renderTo.setAttribute("aria-label",(title&&title.element.textContent||"").replace(/</g,"&lt;"));svg.setAttribute("aria-hidden",true);const description=document.getElementsByClassName("highcharts-description")[0];if(description){description.setAttribute("aria-hidden",false);description.classList.remove("highcharts-linked-description")}}}function compose(ChartClass,LegendClass,PointClass,SeriesClass,SVGElementClass,RangeSelectorClass){Accessibility_KeyboardNavigation.compose(ChartClass);SeriesComponent_NewDataAnnouncer.compose(SeriesClass);Components_LegendComponent.compose(ChartClass,LegendClass);Components_MenuComponent.compose(ChartClass);SeriesComponent_SeriesComponent.compose(ChartClass,PointClass,SeriesClass);A11yI18n.compose(ChartClass);FocusBorder.compose(ChartClass,SVGElementClass);if(RangeSelectorClass){Components_RangeSelectorComponent.compose(ChartClass,RangeSelectorClass)}const chartProto=ChartClass.prototype;if(!chartProto.updateA11yEnabled){chartProto.updateA11yEnabled=chartUpdateA11yEnabled;Accessibility_addEvent(ChartClass,"destroy",chartOnDestroy);Accessibility_addEvent(ChartClass,"render",chartOnRender);Accessibility_addEvent(ChartClass,"update",chartOnUpdate);["addSeries","init"].forEach(event=>{Accessibility_addEvent(ChartClass,event,function(){this.a11yDirty=true})});["afterApplyDrilldown","drillupall"].forEach(event=>{Accessibility_addEvent(ChartClass,event,function chartOnAfterDrilldown(){const a11y=this.accessibility;if(a11y&&!a11y.zombie){a11y.update()}})});Accessibility_addEvent(PointClass,"update",pointOnUpdate);["update","updatedData","remove"].forEach(event=>{Accessibility_addEvent(SeriesClass,event,function(){if(this.chart.accessibility){this.chart.a11yDirty=true}})})}}Accessibility.compose=compose;function pointOnUpdate(){if(this.series.chart.accessibility){this.series.chart.a11yDirty=true}}})(Accessibility||(Accessibility={}));Accessibility_merge(true,Accessibility_defaultOptions,A11yDefaults,{accessibility:{highContrastTheme:HighContrastTheme},lang:LangDefaults});const Accessibility_Accessibility=Accessibility;const G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();G.i18nFormat=Accessibility_Accessibility.i18nFormat;G.A11yChartUtilities=Utils_ChartUtilities;G.A11yHTMLUtilities=Utils_HTMLUtilities;G.AccessibilityComponent=Accessibility_AccessibilityComponent;G.KeyboardNavigationHandler=Accessibility_KeyboardNavigationHandler;G.SeriesAccessibilityDescriber=SeriesComponent_SeriesDescriber;Accessibility_Accessibility.compose(G.Chart,G.Legend,G.Point,G.Series,G.SVGElement,G.RangeSelector);const accessibility_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__})()});