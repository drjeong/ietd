(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"],root["_Highcharts"]["Color"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/tilemap",["highcharts/highcharts"],function(amd1){return factory(amd1,amd1["SeriesRegistry"],amd1["Color"])});else if(typeof exports==="object")exports["highcharts/modules/tilemap"]=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"],root["_Highcharts"]["Color"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["SeriesRegistry"],root["Highcharts"]["Color"])})(typeof window==="undefined"?this:window,(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__512__,__WEBPACK_EXTERNAL_MODULE__620__)=>{return(()=>{"use strict";var __webpack_modules__={620:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__620__},512:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}(()=>{__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module["default"]:()=>module;__webpack_require__.d(getter,{a:getter});return getter}})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:()=>tilemap_src});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_=__webpack_require__(620);var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default=__webpack_require__.n(highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_);const{parse:color}=highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default();const{addEvent,extend,merge,pick,splat}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();var ColorAxisComposition;(function(ColorAxisComposition){let ColorAxisConstructor;function compose(ColorAxisClass,ChartClass,FxClass,LegendClass,SeriesClass){const chartProto=ChartClass.prototype,fxProto=FxClass.prototype,seriesProto=SeriesClass.prototype;if(!chartProto.collectionsWithUpdate.includes("colorAxis")){ColorAxisConstructor=ColorAxisClass;chartProto.collectionsWithUpdate.push("colorAxis");chartProto.collectionsWithInit.colorAxis=[chartProto.addColorAxis];addEvent(ChartClass,"afterCreateAxes",onChartAfterCreateAxes);wrapChartCreateAxis(ChartClass);fxProto.fillSetter=wrapFxFillSetter;fxProto.strokeSetter=wrapFxStrokeSetter;addEvent(LegendClass,"afterGetAllItems",onLegendAfterGetAllItems);addEvent(LegendClass,"afterColorizeItem",onLegendAfterColorizeItem);addEvent(LegendClass,"afterUpdate",onLegendAfterUpdate);extend(seriesProto,{optionalAxis:"colorAxis",translateColors:seriesTranslateColors});extend(seriesProto.pointClass.prototype,{setVisible:pointSetVisible});addEvent(SeriesClass,"afterTranslate",onSeriesAfterTranslate,{order:1});addEvent(SeriesClass,"bindAxes",onSeriesBindAxes)}}ColorAxisComposition.compose=compose;function onChartAfterCreateAxes(){const{userOptions}=this;this.colorAxis=[];if(userOptions.colorAxis){userOptions.colorAxis=splat(userOptions.colorAxis);userOptions.colorAxis.map(axisOptions=>new ColorAxisConstructor(this,axisOptions))}}function onLegendAfterGetAllItems(e){const colorAxes=this.chart.colorAxis||[],destroyItem=item=>{const i=e.allItems.indexOf(item);if(i!==-1){this.destroyItem(e.allItems[i]);e.allItems.splice(i,1)}};let colorAxisItems=[],options,i;colorAxes.forEach(function(colorAxis){options=colorAxis.options;if(options&&options.showInLegend){if(options.dataClasses&&options.visible){colorAxisItems=colorAxisItems.concat(colorAxis.getDataClassLegendSymbols())}else if(options.visible){colorAxisItems.push(colorAxis)}colorAxis.series.forEach(function(series){if(!series.options.showInLegend||options.dataClasses){if(series.options.legendType==="point"){series.points.forEach(function(point){destroyItem(point)})}else{destroyItem(series)}}})}});i=colorAxisItems.length;while(i--){e.allItems.unshift(colorAxisItems[i])}}function onLegendAfterColorizeItem(e){if(e.visible&&e.item.legendColor){e.item.legendItem.symbol.attr({fill:e.item.legendColor})}}function onLegendAfterUpdate(e){this.chart.colorAxis?.forEach(colorAxis=>{colorAxis.update({},e.redraw)})}function onSeriesAfterTranslate(){if(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs){this.translateColors()}}function onSeriesBindAxes(){const axisTypes=this.axisTypes;if(!axisTypes){this.axisTypes=["colorAxis"]}else if(axisTypes.indexOf("colorAxis")===-1){axisTypes.push("colorAxis")}}function pointSetVisible(vis){const point=this,method=vis?"show":"hide";point.visible=point.options.visible=Boolean(vis);["graphic","dataLabel"].forEach(function(key){if(point[key]){point[key][method]()}});this.series.buildKDTree()}ColorAxisComposition.pointSetVisible=pointSetVisible;function seriesTranslateColors(){const series=this,points=this.getPointsCollection(),nullColor=this.options.nullColor,colorAxis=this.colorAxis,colorKey=this.colorKey;points.forEach(point=>{const value=point.getNestedProperty(colorKey),color=point.options.color||(point.isNull||point.value===null?nullColor:colorAxis&&typeof value!=="undefined"?colorAxis.toColor(value,point):point.color||series.color);if(color&&point.color!==color){point.color=color;if(series.options.legendType==="point"&&point.legendItem&&point.legendItem.label){series.chart.legend.colorizeItem(point,point.visible)}}})}function wrapChartCreateAxis(ChartClass){const superCreateAxis=ChartClass.prototype.createAxis;ChartClass.prototype.createAxis=function(type,options){const chart=this;if(type!=="colorAxis"){return superCreateAxis.apply(chart,arguments)}const axis=new ColorAxisConstructor(chart,merge(options.axis,{index:chart[type].length,isX:false}));chart.isDirtyLegend=true;chart.axes.forEach(axis=>{axis.series=[]});chart.series.forEach(series=>{series.bindAxes();series.isDirtyData=true});if(pick(options.redraw,true)){chart.redraw(options.animation)}return axis}}function wrapFxFillSetter(){this.elem.attr("fill",color(this.start).tweenTo(color(this.end),this.pos),void 0,true)}function wrapFxStrokeSetter(){this.elem.attr("stroke",color(this.start).tweenTo(color(this.end),this.pos),void 0,true)}})(ColorAxisComposition||(ColorAxisComposition={}));const Color_ColorAxisComposition=ColorAxisComposition;const{series:{prototype:{pointClass:Point}},seriesTypes:{heatmap:{prototype:{pointClass:HeatmapPoint}}}}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default();const{extend:TilemapPoint_extend}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class TilemapPoint extends HeatmapPoint{haloPath(){return this.series.tileShape.haloPath.apply(this,arguments)}}TilemapPoint_extend(TilemapPoint.prototype,{setState:Point.prototype.setState,setVisible:Color_ColorAxisComposition.pointSetVisible});const Tilemap_TilemapPoint=TilemapPoint;const TilemapSeriesDefaults={marker:null,states:{hover:{halo:{enabled:true,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"};"";const Tilemap_TilemapSeriesDefaults=TilemapSeriesDefaults;const{noop}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{heatmap:HeatmapSeries,scatter:ScatterSeries}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{clamp,pick:TilemapShapes_pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function tilePaddingFromTileSize(series,xDiv,yDiv){const options=series.options;return{xPad:(options.colsize||1)/-xDiv,yPad:(options.rowsize||1)/-yDiv}}const TilemapShapes={hexagon:{alignDataLabel:ScatterSeries.prototype.alignDataLabel,getSeriesPadding:function(series){return tilePaddingFromTileSize(series,3,2)},haloPath:function(size){if(!size){return[]}const hexagon=this.tileEdges;return[["M",hexagon.x2-size,hexagon.y1+size],["L",hexagon.x3+size,hexagon.y1+size],["L",hexagon.x4+size*1.5,hexagon.y2],["L",hexagon.x3+size,hexagon.y3-size],["L",hexagon.x2-size,hexagon.y3-size],["L",hexagon.x1-size*1.5,hexagon.y2],["Z"]]},translate:function(){const series=this,options=series.options,xAxis=series.xAxis,yAxis=series.yAxis,seriesPointPadding=options.pointPadding||0,xPad=(options.colsize||1)/3,yPad=(options.rowsize||1)/2;let yShift;series.generatePoints();for(const point of series.points){let x1=clamp(Math.floor(xAxis.len-xAxis.translate(point.x-xPad*2,0,1,0,1)),-xAxis.len,2*xAxis.len),x2=clamp(Math.floor(xAxis.len-xAxis.translate(point.x-xPad,0,1,0,1)),-xAxis.len,2*xAxis.len),x3=clamp(Math.floor(xAxis.len-xAxis.translate(point.x+xPad,0,1,0,1)),-xAxis.len,2*xAxis.len),x4=clamp(Math.floor(xAxis.len-xAxis.translate(point.x+xPad*2,0,1,0,1)),-xAxis.len,2*xAxis.len),y1=clamp(Math.floor(yAxis.translate(point.y-yPad,0,1,0,1)),-yAxis.len,2*yAxis.len),y2=clamp(Math.floor(yAxis.translate(point.y,0,1,0,1)),-yAxis.len,2*yAxis.len),y3=clamp(Math.floor(yAxis.translate(point.y+yPad,0,1,0,1)),-yAxis.len,2*yAxis.len);const pointPadding=point.pointPadding??seriesPointPadding,midPointPadding=pointPadding*Math.abs(x2-x1)/Math.abs(y3-y2),xMidPadding=xAxis.reversed?-midPointPadding:midPointPadding,xPointPadding=xAxis.reversed?-pointPadding:pointPadding,yPointPadding=yAxis.reversed?-pointPadding:pointPadding;if(point.x%2){yShift=yShift||Math.round(Math.abs(y3-y1)/2)*(yAxis.reversed?-1:1);y1+=yShift;y2+=yShift;y3+=yShift}point.plotX=point.clientX=(x2+x3)/2;point.plotY=y2;x1+=xMidPadding+xPointPadding;x2+=xPointPadding;x3-=xPointPadding;x4-=xMidPadding+xPointPadding;y1-=yPointPadding;y3+=yPointPadding;point.tileEdges={x1:x1,x2:x2,x3:x3,x4:x4,y1:y1,y2:y2,y3:y3};point.shapeType="path";point.shapeArgs={d:[["M",x2,y1],["L",x3,y1],["L",x4,y2],["L",x3,y3],["L",x2,y3],["L",x1,y2],["Z"]]}}series.translateColors()}},diamond:{alignDataLabel:ScatterSeries.prototype.alignDataLabel,getSeriesPadding:function(series){return tilePaddingFromTileSize(series,2,2)},haloPath:function(size){if(!size){return[]}const diamond=this.tileEdges;return[["M",diamond.x2,diamond.y1+size],["L",diamond.x3+size,diamond.y2],["L",diamond.x2,diamond.y3-size],["L",diamond.x1-size,diamond.y2],["Z"]]},translate:function(){const series=this,options=series.options,xAxis=series.xAxis,yAxis=series.yAxis,seriesPointPadding=options.pointPadding||0,xPad=options.colsize||1,yPad=(options.rowsize||1)/2;let yShift;series.generatePoints();for(const point of series.points){let x1=clamp(Math.round(xAxis.len-xAxis.translate(point.x-xPad,0,1,0,0)),-xAxis.len,2*xAxis.len),x3=clamp(Math.round(xAxis.len-xAxis.translate(point.x+xPad,0,1,0,0)),-xAxis.len,2*xAxis.len),y1=clamp(Math.round(yAxis.translate(point.y-yPad,0,1,0,0)),-yAxis.len,2*yAxis.len),y2=clamp(Math.round(yAxis.translate(point.y,0,1,0,0)),-yAxis.len,2*yAxis.len),y3=clamp(Math.round(yAxis.translate(point.y+yPad,0,1,0,0)),-yAxis.len,2*yAxis.len);const x2=clamp(Math.round(xAxis.len-xAxis.translate(point.x,0,1,0,0)),-xAxis.len,2*xAxis.len),pointPadding=TilemapShapes_pick(point.pointPadding,seriesPointPadding),midPointPadding=pointPadding*Math.abs(x2-x1)/Math.abs(y3-y2),xPointPadding=xAxis.reversed?-midPointPadding:midPointPadding,yPointPadding=yAxis.reversed?-pointPadding:pointPadding;if(point.x%2){yShift=Math.abs(y3-y1)/2*(yAxis.reversed?-1:1);y1+=yShift;y2+=yShift;y3+=yShift}point.plotX=point.clientX=x2;point.plotY=y2;x1+=xPointPadding;x3-=xPointPadding;y1-=yPointPadding;y3+=yPointPadding;point.tileEdges={x1:x1,x2:x2,x3:x3,y1:y1,y2:y2,y3:y3};point.shapeType="path";point.shapeArgs={d:[["M",x2,y1],["L",x3,y2],["L",x2,y3],["L",x1,y2],["Z"]]}}series.translateColors()}},circle:{alignDataLabel:ScatterSeries.prototype.alignDataLabel,getSeriesPadding:function(series){return tilePaddingFromTileSize(series,2,2)},haloPath:function(size){return ScatterSeries.prototype.pointClass.prototype.haloPath.call(this,size+(size&&this.radius))},translate:function(){const series=this,options=series.options,xAxis=series.xAxis,yAxis=series.yAxis,seriesPointPadding=options.pointPadding||0,yRadius=(options.rowsize||1)/2,colsize=options.colsize||1;let colsizePx,yRadiusPx,xRadiusPx,radius,forceNextRadiusCompute=false;series.generatePoints();for(const point of series.points){const x=clamp(Math.round(xAxis.len-xAxis.translate(point.x,0,1,0,0)),-xAxis.len,2*xAxis.len);let pointPadding=seriesPointPadding,hasPerPointPadding=false,y=clamp(Math.round(yAxis.translate(point.y,0,1,0,0)),-yAxis.len,2*yAxis.len);if(typeof point.pointPadding!=="undefined"){pointPadding=point.pointPadding;hasPerPointPadding=true;forceNextRadiusCompute=true}if(!radius||forceNextRadiusCompute){colsizePx=Math.abs(clamp(Math.floor(xAxis.len-xAxis.translate(point.x+colsize,0,1,0,0)),-xAxis.len,2*xAxis.len)-x);yRadiusPx=Math.abs(clamp(Math.floor(yAxis.translate(point.y+yRadius,0,1,0,0)),-yAxis.len,2*yAxis.len)-y);xRadiusPx=Math.floor(Math.sqrt(colsizePx*colsizePx+yRadiusPx*yRadiusPx)/2);radius=Math.min(colsizePx,xRadiusPx,yRadiusPx)-pointPadding;if(forceNextRadiusCompute&&!hasPerPointPadding){forceNextRadiusCompute=false}}if(point.x%2){y+=yRadiusPx*(yAxis.reversed?-1:1)}point.plotX=point.clientX=x;point.plotY=y;point.radius=radius;point.shapeType="circle";point.shapeArgs={x:x,y:y,r:radius}}series.translateColors()}},square:{alignDataLabel:HeatmapSeries.prototype.alignDataLabel,translate:HeatmapSeries.prototype.translate,getSeriesPadding:noop,haloPath:HeatmapSeries.prototype.pointClass.prototype.haloPath}};const Tilemap_TilemapShapes=TilemapShapes;const{composed,noop:TilemapSeries_noop}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{column:ColumnSeries,heatmap:TilemapSeries_HeatmapSeries,scatter:TilemapSeries_ScatterSeries}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{addEvent:TilemapSeries_addEvent,extend:TilemapSeries_extend,merge:TilemapSeries_merge,pushUnique}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function onAxisAfterSetAxisTranslation(){if(this.recomputingForTilemap||this.coll==="colorAxis"){return}const axis=this,seriesPadding=axis.series.map(function(series){return series.getSeriesPixelPadding&&series.getSeriesPixelPadding(axis)}).reduce(function(a,b){return(a&&a.padding)>(b&&b.padding)?a:b},void 0)||{padding:0,axisLengthFactor:1},lengthPadding=Math.round(seriesPadding.padding*seriesPadding.axisLengthFactor);if(seriesPadding.padding){axis.len-=lengthPadding;axis.recomputingForTilemap=true;axis.setAxisTranslation();delete axis.recomputingForTilemap;axis.minPixelPadding+=seriesPadding.padding;axis.len+=lengthPadding}}class TilemapSeries extends TilemapSeries_HeatmapSeries{static compose(AxisClass){if(pushUnique(composed,"TilemapSeries")){TilemapSeries_addEvent(AxisClass,"afterSetAxisTranslation",onAxisAfterSetAxisTranslation)}}alignDataLabel(){return this.tileShape.alignDataLabel.apply(this,arguments)}drawPoints(){ColumnSeries.prototype.drawPoints.call(this);for(const point of this.points){if(point.graphic){point.graphic[this.chart.styledMode?"css":"animate"](this.colorAttribs(point))}}}getSeriesPixelPadding(axis){const isX=axis.isXAxis,padding=this.tileShape.getSeriesPadding(this);if(!padding){return{padding:0,axisLengthFactor:1}}const coord1=Math.round(axis.translate(isX?padding.xPad*2:padding.yPad,0,1,0,1));const coord2=Math.round(axis.translate(isX?padding.xPad:0,0,1,0,1));return{padding:(axis.single?Math.abs(coord1-coord2)/2:Math.abs(coord1-coord2))||0,axisLengthFactor:isX?2:1.1}}setOptions(){const ret=super.setOptions.apply(this,arguments);this.tileShape=Tilemap_TilemapShapes[ret.tileShape];return ret}translate(){return this.tileShape.translate.apply(this,arguments)}}TilemapSeries.defaultOptions=TilemapSeries_merge(TilemapSeries_HeatmapSeries.defaultOptions,Tilemap_TilemapSeriesDefaults);TilemapSeries_extend(TilemapSeries.prototype,{getSymbol:TilemapSeries_noop,markerAttribs:TilemapSeries_ScatterSeries.prototype.markerAttribs,pointAttribs:ColumnSeries.prototype.pointAttribs,pointClass:Tilemap_TilemapPoint});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("tilemap",TilemapSeries);const Tilemap_TilemapSeries=TilemapSeries;"";const G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();Tilemap_TilemapSeries.compose(G.Axis);const tilemap_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__})()});