(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(root["_Highcharts"],root["_Highcharts"]["Color"],root["_Highcharts"]["RendererRegistry"],root["_Highcharts"]["SeriesRegistry"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/cylinder",["highcharts/highcharts"],function(amd1){return factory(amd1,amd1["Color"],amd1["RendererRegistry"],amd1["SeriesRegistry"])});else if(typeof exports==="object")exports["highcharts/modules/cylinder"]=factory(root["_Highcharts"],root["_Highcharts"]["Color"],root["_Highcharts"]["RendererRegistry"],root["_Highcharts"]["SeriesRegistry"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["Color"],root["Highcharts"]["RendererRegistry"],root["Highcharts"]["SeriesRegistry"])})(typeof window==="undefined"?this:window,(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__620__,__WEBPACK_EXTERNAL_MODULE__608__,__WEBPACK_EXTERNAL_MODULE__512__)=>{return(()=>{"use strict";var __webpack_modules__={620:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__620__},608:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__608__},512:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}(()=>{__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module["default"]:()=>module;__webpack_require__.d(getter,{a:getter});return getter}})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:()=>cylinder_src});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);const{deg2rad}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function rotate3D(x,y,z,angles){return{x:angles.cosB*x-angles.sinB*z,y:-angles.sinA*angles.sinB*x+angles.cosA*y-angles.cosB*angles.sinA*z,z:angles.cosA*angles.sinB*x+angles.sinA*y+angles.cosA*angles.cosB*z}}function perspective(points,chart,insidePlotArea,useInvertedPersp){const options3d=chart.options.chart.options3d,inverted=pick(useInvertedPersp,insidePlotArea?chart.inverted:false),origin={x:chart.plotWidth/2,y:chart.plotHeight/2,z:options3d.depth/2,vd:pick(options3d.depth,1)*pick(options3d.viewDistance,0)},scale=chart.scale3d||1,beta=deg2rad*options3d.beta*(inverted?-1:1),alpha=deg2rad*options3d.alpha*(inverted?-1:1),angles={cosA:Math.cos(alpha),cosB:Math.cos(-beta),sinA:Math.sin(alpha),sinB:Math.sin(-beta)};if(!insidePlotArea){origin.x+=chart.plotLeft;origin.y+=chart.plotTop}return points.map(function(point){const rotated=rotate3D((inverted?point.y:point.x)-origin.x,(inverted?point.x:point.y)-origin.y,(point.z||0)-origin.z,angles),coordinate=perspective3D(rotated,origin,origin.vd);coordinate.x=coordinate.x*scale+origin.x;coordinate.y=coordinate.y*scale+origin.y;coordinate.z=rotated.z*scale+origin.z;return{x:inverted?coordinate.y:coordinate.x,y:inverted?coordinate.x:coordinate.y,z:coordinate.z}})}function perspective3D(coordinate,origin,distance){const projection=distance>0&&distance<Number.POSITIVE_INFINITY?distance/(coordinate.z+origin.z+distance):1;return{x:coordinate.x*projection,y:coordinate.y*projection}}function pointCameraDistance(coordinates,chart){const options3d=chart.options.chart.options3d,cameraPosition={x:chart.plotWidth/2,y:chart.plotHeight/2,z:pick(options3d.depth,1)*pick(options3d.viewDistance,0)+options3d.depth},distance=Math.sqrt(Math.pow(cameraPosition.x-pick(coordinates.plotX,coordinates.x),2)+Math.pow(cameraPosition.y-pick(coordinates.plotY,coordinates.y),2)+Math.pow(cameraPosition.z-pick(coordinates.plotZ,coordinates.z),2));return distance}function shapeArea(vertexes){let area=0,i,j;for(i=0;i<vertexes.length;i++){j=(i+1)%vertexes.length;area+=vertexes[i].x*vertexes[j].y-vertexes[j].x*vertexes[i].y}return area/2}function shapeArea3D(vertexes,chart,insidePlotArea){return shapeArea(perspective(vertexes,chart,insidePlotArea))}const Math3D={perspective:perspective,perspective3D:perspective3D,pointCameraDistance:pointCameraDistance,shapeArea:shapeArea,shapeArea3D:shapeArea3D};const Core_Math3D=Math3D;var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_=__webpack_require__(620);var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default=__webpack_require__.n(highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_);var highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_=__webpack_require__(608);var highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_default=__webpack_require__.n(highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_);const{parse:color}=highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default();const{Element3D:SVGElement3D}=highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_default().getRendererType().prototype;class SVGElement3DCylinder extends SVGElement3D{constructor(){super(...arguments);this.parts=["top","bottom","front","back"];this.pathType="cylinder"}fillSetter(fill){this.singleSetterForParts("fill",null,{front:fill,back:fill,top:color(fill).brighten(.1).get(),bottom:color(fill).brighten(-.1).get()});this.color=this.fill=fill;return this}}const Cylinder_SVGElement3DCylinder=SVGElement3DCylinder;const{charts,deg2rad:CylinderComposition_deg2rad}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{perspective:CylinderComposition_perspective}=Core_Math3D;const{extend,pick:CylinderComposition_pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function compose(SVGRendererClass){const rendererProto=SVGRendererClass.prototype;if(!rendererProto.cylinder){rendererProto.Element3D.types.cylinder=Cylinder_SVGElement3DCylinder;extend(rendererProto,{cylinder:rendererCylinder,cylinderPath:rendererCylinderPath,getCurvedPath:rendererGetCurvedPath,getCylinderBack:rendererGetCylinderBack,getCylinderEnd:rendererGetCylinderEnd,getCylinderFront:rendererGetCylinderFront})}}function isSimplified(path){return!path.some(seg=>seg[0]==="C")}function rendererCylinder(shapeArgs){return this.element3d("cylinder",shapeArgs)}function rendererCylinderPath(shapeArgs){const renderer=this,chart=charts[renderer.chartIndex],cuboidData=this.cuboidPath(shapeArgs),isTopFirst=!cuboidData.isTop,isFronFirst=!cuboidData.isFront,top=renderer.getCylinderEnd(chart,shapeArgs),bottom=renderer.getCylinderEnd(chart,shapeArgs,true);return{front:renderer.getCylinderFront(top,bottom),back:renderer.getCylinderBack(top,bottom),top:top,bottom:bottom,zIndexes:{top:isTopFirst?3:0,bottom:isTopFirst?0:3,front:isFronFirst?2:1,back:isFronFirst?1:2,group:cuboidData.zIndexes.group}}}function rendererGetCurvedPath(points){const path=[["M",points[0].x,points[0].y]],limit=points.length-2;for(let i=1;i<limit;i+=3){path.push(["C",points[i].x,points[i].y,points[i+1].x,points[i+1].y,points[i+2].x,points[i+2].y])}return path}function rendererGetCylinderBack(topPath,bottomPath){const path=[];if(isSimplified(topPath)){const move=topPath[0],line2=topPath[2];if(move[0]==="M"&&line2[0]==="L"){path.push(["M",line2[1],line2[2]]);path.push(topPath[3]);path.push(["L",move[1],move[2]])}}else{if(topPath[2][0]==="C"){path.push(["M",topPath[2][5],topPath[2][6]])}path.push(topPath[3],topPath[4])}if(isSimplified(bottomPath)){const move=bottomPath[0];if(move[0]==="M"){path.push(["L",move[1],move[2]]);path.push(bottomPath[3]);path.push(bottomPath[2])}}else{const curve2=bottomPath[2],curve3=bottomPath[3],curve4=bottomPath[4];if(curve2[0]==="C"&&curve3[0]==="C"&&curve4[0]==="C"){path.push(["L",curve4[5],curve4[6]]);path.push(["C",curve4[3],curve4[4],curve4[1],curve4[2],curve3[5],curve3[6]]);path.push(["C",curve3[3],curve3[4],curve3[1],curve3[2],curve2[5],curve2[6]])}}path.push(["Z"]);return path}function rendererGetCylinderEnd(chart,shapeArgs,isBottom){const{width=0,height=0,alphaCorrection=0}=shapeArgs,depth=CylinderComposition_pick(shapeArgs.depth,width,0),radius=Math.min(width,depth)/2,angleOffset=CylinderComposition_deg2rad*(chart.options.chart.options3d.beta-90+alphaCorrection),y=(shapeArgs.y||0)+(isBottom?height:0),c=.5519*radius,centerX=width/2+(shapeArgs.x||0),centerZ=depth/2+(shapeArgs.z||0),points=[{x:0,y:y,z:radius},{x:c,y:y,z:radius},{x:radius,y:y,z:c},{x:radius,y:y,z:0},{x:radius,y:y,z:-c},{x:c,y:y,z:-radius},{x:0,y:y,z:-radius},{x:-c,y:y,z:-radius},{x:-radius,y:y,z:-c},{x:-radius,y:y,z:0},{x:-radius,y:y,z:c},{x:-c,y:y,z:radius},{x:0,y:y,z:radius}],cosTheta=Math.cos(angleOffset),sinTheta=Math.sin(angleOffset);let path,x,z;for(const point of points){x=point.x;z=point.z;point.x=x*cosTheta-z*sinTheta+centerX;point.z=z*cosTheta+x*sinTheta+centerZ}const perspectivePoints=CylinderComposition_perspective(points,chart,true);if(Math.abs(perspectivePoints[3].y-perspectivePoints[9].y)<2.5&&Math.abs(perspectivePoints[0].y-perspectivePoints[6].y)<2.5){path=this.toLinePath([perspectivePoints[0],perspectivePoints[3],perspectivePoints[6],perspectivePoints[9]],true)}else{path=this.getCurvedPath(perspectivePoints)}return path}function rendererGetCylinderFront(topPath,bottomPath){const path=topPath.slice(0,3);if(isSimplified(bottomPath)){const move=bottomPath[0];if(move[0]==="M"){path.push(bottomPath[2]);path.push(bottomPath[1]);path.push(["L",move[1],move[2]])}}else{const move=bottomPath[0],curve1=bottomPath[1],curve2=bottomPath[2];if(move[0]==="M"&&curve1[0]==="C"&&curve2[0]==="C"){path.push(["L",curve2[5],curve2[6]]);path.push(["C",curve2[3],curve2[4],curve2[1],curve2[2],curve1[5],curve1[6]]);path.push(["C",curve1[3],curve1[4],curve1[1],curve1[2],move[1],move[2]])}}path.push(["Z"]);return path}const CylinderComposition={compose:compose};const Cylinder_CylinderComposition=CylinderComposition;var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);const{column:{prototype:{pointClass:ColumnPoint}}}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{extend:CylinderPoint_extend}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class CylinderPoint extends ColumnPoint{}CylinderPoint_extend(CylinderPoint.prototype,{shapeType:"cylinder"});const Cylinder_CylinderPoint=CylinderPoint;const CylinderSeriesDefaults={};"";const Cylinder_CylinderSeriesDefaults=CylinderSeriesDefaults;const{column:ColumnSeries}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{extend:CylinderSeries_extend,merge}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class CylinderSeries extends ColumnSeries{}CylinderSeries.compose=Cylinder_CylinderComposition.compose;CylinderSeries.defaultOptions=merge(ColumnSeries.defaultOptions,Cylinder_CylinderSeriesDefaults);CylinderSeries_extend(CylinderSeries.prototype,{pointClass:Cylinder_CylinderPoint});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("cylinder",CylinderSeries);const Cylinder_CylinderSeries=CylinderSeries;Cylinder_CylinderSeries.compose(highcharts_RendererRegistry_commonjs_highcharts_RendererRegistry_commonjs2_highcharts_RendererRegistry_root_Highcharts_RendererRegistry_default().getRendererType());const cylinder_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__})()});