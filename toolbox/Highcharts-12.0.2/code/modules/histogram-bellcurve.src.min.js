(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(root["_Highcharts"],root["_Highcharts"]["Series"],root["_Highcharts"]["SeriesRegistry"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/histogram-bellcurve",["highcharts/highcharts"],function(amd1){return factory(amd1,amd1["Series"],amd1["SeriesRegistry"])});else if(typeof exports==="object")exports["highcharts/modules/histogram-bellcurve"]=factory(root["_Highcharts"],root["_Highcharts"]["Series"],root["_Highcharts"]["SeriesRegistry"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["Series"],root["Highcharts"]["SeriesRegistry"])})(typeof window==="undefined"?this:window,(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__820__,__WEBPACK_EXTERNAL_MODULE__512__)=>{return(()=>{"use strict";var __webpack_modules__={820:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__820__},512:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}(()=>{__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module["default"]:()=>module;__webpack_require__.d(getter,{a:getter});return getter}})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:()=>histogram_bellcurve_src});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var highcharts_Series_commonjs_highcharts_Series_commonjs2_highcharts_Series_root_Highcharts_Series_=__webpack_require__(820);var highcharts_Series_commonjs_highcharts_Series_commonjs2_highcharts_Series_root_Highcharts_Series_default=__webpack_require__.n(highcharts_Series_commonjs_highcharts_Series_commonjs2_highcharts_Series_root_Highcharts_Series_);const{noop}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{addEvent,defined}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();var DerivedComposition;(function(DerivedComposition){DerivedComposition.hasDerivedData=true;DerivedComposition.setDerivedData=noop;function compose(SeriesClass){const seriesProto=SeriesClass.prototype;seriesProto.addBaseSeriesEvents=addBaseSeriesEvents;seriesProto.addEvents=addEvents;seriesProto.destroy=destroy;seriesProto.init=init;seriesProto.setBaseSeries=setBaseSeries;return SeriesClass}DerivedComposition.compose=compose;function init(){highcharts_Series_commonjs_highcharts_Series_commonjs2_highcharts_Series_root_Highcharts_Series_default().prototype.init.apply(this,arguments);this.initialised=false;this.baseSeries=null;this.eventRemovers=[];this.addEvents()}DerivedComposition.init=init;function setBaseSeries(){const chart=this.chart,baseSeriesOptions=this.options.baseSeries,baseSeries=defined(baseSeriesOptions)&&(chart.series[baseSeriesOptions]||chart.get(baseSeriesOptions));this.baseSeries=baseSeries||null}DerivedComposition.setBaseSeries=setBaseSeries;function addEvents(){this.eventRemovers.push(addEvent(this.chart,"afterLinkSeries",()=>{this.setBaseSeries();if(this.baseSeries&&!this.initialised){this.setDerivedData();this.addBaseSeriesEvents();this.initialised=true}}))}DerivedComposition.addEvents=addEvents;function addBaseSeriesEvents(){this.eventRemovers.push(addEvent(this.baseSeries,"updatedData",()=>{this.setDerivedData()}),addEvent(this.baseSeries,"destroy",()=>{this.baseSeries=null;this.initialised=false}))}DerivedComposition.addBaseSeriesEvents=addBaseSeriesEvents;function destroy(){this.eventRemovers.forEach(remover=>{remover()});highcharts_Series_commonjs_highcharts_Series_commonjs2_highcharts_Series_root_Highcharts_Series_default().prototype.destroy.apply(this,arguments)}DerivedComposition.destroy=destroy})(DerivedComposition||(DerivedComposition={}));const Series_DerivedComposition=DerivedComposition;const HistogramSeriesDefaults={binsNumber:"square-root",binWidth:void 0,pointPadding:0,groupPadding:0,grouping:false,pointPlacement:"between",tooltip:{headerFormat:"",pointFormat:'<span style="font-size: 0.8em">{point.x} - {point.x2}'+"</span><br/>"+'<span style="color:{point.color}">‚óè</span>'+" {series.name} <b>{point.y}</b><br/>"}};"";const Histogram_HistogramSeriesDefaults=HistogramSeriesDefaults;var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);const{column:ColumnSeries}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{arrayMax,arrayMin,correctFloat,extend,isNumber,merge}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const binsNumberFormulas={"square-root":function(baseSeries){return Math.ceil(Math.sqrt(baseSeries.options.data.length))},sturges:function(baseSeries){return Math.ceil(Math.log(baseSeries.options.data.length)*Math.LOG2E)},rice:function(baseSeries){return Math.ceil(2*Math.pow(baseSeries.options.data.length,1/3))}};function fitToBinLeftClosed(bins){return function(y){let i=1;while(bins[i]<=y){i++}return bins[--i]}}class HistogramSeries extends ColumnSeries{binsNumber(){const binsNumberOption=this.options.binsNumber;const binsNumber=binsNumberFormulas[binsNumberOption]||typeof binsNumberOption==="function"&&binsNumberOption;return Math.ceil(binsNumber&&binsNumber(this.baseSeries)||(isNumber(binsNumberOption)?binsNumberOption:binsNumberFormulas["square-root"](this.baseSeries)))}derivedData(baseData,binsNumber,binWidth){const series=this,max=correctFloat(arrayMax(baseData)),min=correctFloat(arrayMin(baseData)),frequencies=[],bins={},data=[];let x;binWidth=series.binWidth=correctFloat(isNumber(binWidth)?binWidth||1:(max-min)/binsNumber);series.options.pointRange=Math.max(binWidth,0);for(x=min;x<max&&(series.userOptions.binWidth||correctFloat(max-x)>=binWidth||correctFloat(correctFloat(min+frequencies.length*binWidth)-x)<=0);x=correctFloat(x+binWidth)){frequencies.push(x);bins[x]=0}if(bins[min]!==0){frequencies.push(min);bins[min]=0}const fitToBin=fitToBinLeftClosed(frequencies.map(elem=>parseFloat(elem)));for(const y of baseData){bins[correctFloat(fitToBin(y))]++}for(const key of Object.keys(bins)){data.push({x:Number(key),y:bins[key],x2:correctFloat(Number(key)+binWidth)})}data.sort((a,b)=>a.x-b.x);data[data.length-1].x2=max;return data}setDerivedData(){const yData=this.baseSeries?.getColumn("y");if(!yData?.length){this.setData([]);return}const data=this.derivedData(yData,this.binsNumber(),this.options.binWidth);this.setData(data,false)}}HistogramSeries.defaultOptions=merge(ColumnSeries.defaultOptions,Histogram_HistogramSeriesDefaults);extend(HistogramSeries.prototype,{hasDerivedData:Series_DerivedComposition.hasDerivedData});Series_DerivedComposition.compose(HistogramSeries);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("histogram",HistogramSeries);const Histogram_HistogramSeries=null&&HistogramSeries;const BellcurveSeriesDefaults={intervals:3,pointsInInterval:3,marker:{enabled:false}};"";const Bellcurve_BellcurveSeriesDefaults=BellcurveSeriesDefaults;const{areaspline:AreaSplineSeries}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{correctFloat:BellcurveSeries_correctFloat,isNumber:BellcurveSeries_isNumber,merge:BellcurveSeries_merge}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class BellcurveSeries extends AreaSplineSeries{static mean(data){const length=data.length,sum=data.reduce(function(sum,value){return sum+=value},0);return length>0&&sum/length}static standardDeviation(data,average){const len=data.length;average=BellcurveSeries_isNumber(average)?average:BellcurveSeries.mean(data);const sum=data.reduce((sum,value)=>{const diff=value-average;return sum+=diff*diff},0);return len>1&&Math.sqrt(sum/(len-1))}static normalDensity(x,mean,standardDeviation){const translation=x-mean;return Math.exp(-(translation*translation)/(2*standardDeviation*standardDeviation))/(standardDeviation*Math.sqrt(2*Math.PI))}derivedData(mean,standardDeviation){const options=this.options,intervals=options.intervals,pointsInInterval=options.pointsInInterval,stop=intervals*pointsInInterval*2+1,increment=standardDeviation/pointsInInterval,data=[];let x=mean-intervals*standardDeviation;for(let i=0;i<stop;i++){data.push([x,BellcurveSeries.normalDensity(x,mean,standardDeviation)]);x+=increment}return data}setDerivedData(){const series=this;if(series.baseSeries?.getColumn("y").length||0>1){series.setMean();series.setStandardDeviation();series.setData(series.derivedData(series.mean||0,series.standardDeviation||0),false,void 0,false)}return void 0}setMean(){const series=this;series.mean=BellcurveSeries_correctFloat(BellcurveSeries.mean(series.baseSeries?.getColumn("y")||[]))}setStandardDeviation(){const series=this;series.standardDeviation=BellcurveSeries_correctFloat(BellcurveSeries.standardDeviation(series.baseSeries?.getColumn("y")||[],series.mean))}}BellcurveSeries.defaultOptions=BellcurveSeries_merge(AreaSplineSeries.defaultOptions,Bellcurve_BellcurveSeriesDefaults);Series_DerivedComposition.compose(BellcurveSeries);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("bellcurve",BellcurveSeries);const Bellcurve_BellcurveSeries=null&&BellcurveSeries;const histogram_bellcurve_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__})()});