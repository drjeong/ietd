(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"],root["_Highcharts"]["Point"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/timeline",["highcharts/highcharts"],function(amd1){return factory(amd1,amd1["SeriesRegistry"],amd1["Point"])});else if(typeof exports==="object")exports["highcharts/modules/timeline"]=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"],root["_Highcharts"]["Point"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["SeriesRegistry"],root["Highcharts"]["Point"])})(typeof window==="undefined"?this:window,(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__512__,__WEBPACK_EXTERNAL_MODULE__260__)=>{return(()=>{"use strict";var __webpack_modules__={260:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__260__},512:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}(()=>{__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module["default"]:()=>module;__webpack_require__.d(getter,{a:getter});return getter}})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:()=>timeline_src});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);var highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_=__webpack_require__(260);var highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_default=__webpack_require__.n(highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_);const{line:{prototype:{pointClass:LinePoint}},pie:{prototype:{pointClass:PiePoint}}}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{defined,isNumber,merge,objectEach,pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class TimelinePoint extends LinePoint{alignConnector(){const point=this,series=point.series,dataLabel=point.dataLabel,connector=dataLabel.connector,dlOptions=dataLabel.options||{},connectorWidth=dlOptions.connectorWidth||0,chart=point.series.chart,bBox=connector.getBBox(),plotPos={x:bBox.x+(dataLabel.translateX||0),y:bBox.y+(dataLabel.translateY||0)};if(chart.inverted){plotPos.y-=connectorWidth/2}else{plotPos.x+=connectorWidth/2}const isVisible=chart.isInsidePlot(plotPos.x,plotPos.y);connector[isVisible?"animate":"attr"]({d:point.getConnectorPath()});connector.addClass("highcharts-color-"+point.colorIndex);if(!series.chart.styledMode){connector.attr({stroke:dlOptions.connectorColor||point.color,"stroke-width":dlOptions.connectorWidth,opacity:dataLabel[defined(dataLabel.newOpacity)?"newOpacity":"opacity"]})}}drawConnector(){const point=this,{dataLabel,series}=point;if(dataLabel){if(!dataLabel.connector){dataLabel.connector=series.chart.renderer.path(point.getConnectorPath()).attr({zIndex:-1}).add(dataLabel)}if(point.series.chart.isInsidePlot(dataLabel.x||0,dataLabel.y||0)){point.alignConnector()}}}getConnectorPath(){const{plotX=0,plotY=0,series,dataLabel}=this,chart=series.chart,xAxisLen=series.xAxis.len,inverted=chart.inverted,direction=inverted?"x2":"y2";if(dataLabel){const targetDLPos=dataLabel.targetPosition,negativeDistance=(dataLabel.alignAttr||dataLabel)[direction[0]]<series.yAxis.len/2;let coords={x1:plotX,y1:plotY,x2:plotX,y2:isNumber(targetDLPos.y)?targetDLPos.y:dataLabel.y};if(inverted){coords={x1:plotY,y1:xAxisLen-plotX,x2:targetDLPos.x||dataLabel.x,y2:xAxisLen-plotX}}if(negativeDistance){coords[direction]+=dataLabel[inverted?"width":"height"]||0}objectEach(coords,(_coord,i)=>{coords[i]-=(dataLabel.alignAttr||dataLabel)[i[0]]});return chart.renderer.crispLine([["M",coords.x1,coords.y1],["L",coords.x2,coords.y2]],dataLabel.options?.connectorWidth||0)}return[]}constructor(series,options){super(series,options);this.name??(this.name="Event");this.y=1}isValid(){return this.options.y!==null}setState(){const proceed=super.setState;if(!this.isNull){proceed.apply(this,arguments)}}setVisible(visible,redraw){const point=this,series=point.series;redraw=pick(redraw,series.options.ignoreHiddenPoint);PiePoint.prototype.setVisible.call(point,visible,false);series.processData();if(redraw){series.chart.redraw()}}applyOptions(options,x){options=highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_default().prototype.optionsToObject.call(this,options);this.userDLOptions=merge(this.userDLOptions,options.dataLabels);return super.applyOptions(options,x)}}const Timeline_TimelinePoint=TimelinePoint;const TimelineSeriesDefaults={colorByPoint:true,stickyTracking:false,ignoreHiddenPoint:true,legendType:"point",lineWidth:4,tooltip:{headerFormat:'<span style="color:{point.color}">●</span> '+'<span style="font-size: 0.8em"> {point.key}</span><br/>',pointFormat:"{point.description}"},states:{hover:{lineWidthPlus:0}},dataLabels:{enabled:true,allowOverlap:true,alternate:true,backgroundColor:"#ffffff",borderWidth:1,borderColor:"#999999",borderRadius:3,color:"#333333",connectorWidth:1,distance:void 0,formatter:function(){let format;if(!this.series.chart.styledMode){format='<span style="color:'+this.point.color+'">● </span>'}else{format='<span class="highcharts-color-'+this.point.colorIndex+'">● </span>'}format+='<span class="highcharts-strong">'+(this.key||"")+"</span><br/>"+(this.label||"");return format},style:{textOutline:"none",fontWeight:"normal",fontSize:"0.8em"},shadow:false,verticalAlign:"middle"},marker:{enabledThreshold:0,symbol:"square",radius:6,lineWidth:2,height:15},showInLegend:false,colorKey:"x",legendSymbol:"rectangle"};"";const Timeline_TimelineSeriesDefaults=TimelineSeriesDefaults;const{column:ColumnSeries,line:LineSeries}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{addEvent,arrayMax,arrayMin,defined:TimelineSeries_defined,extend,merge:TimelineSeries_merge,pick:TimelineSeries_pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class TimelineSeries extends LineSeries{alignDataLabel(point,dataLabel,_options,_alignTo){const series=this,isInverted=series.chart.inverted,visiblePoints=series.visibilityMap.filter(point=>!!point),visiblePointsCount=series.visiblePointsCount||0,pointIndex=visiblePoints.indexOf(point),isFirstOrLast=!pointIndex||pointIndex===visiblePointsCount-1,dataLabelsOptions=series.options.dataLabels,userDLOptions=point.userDLOptions||{},multiplier=dataLabelsOptions.alternate?isFirstOrLast?1.5:2:1,availableSpace=Math.floor(series.xAxis.len/visiblePointsCount),pad=dataLabel.padding;let distance,targetDLWidth,styles;if(point.visible){distance=Math.abs(userDLOptions.x||point.options.dataLabels.x);if(isInverted){targetDLWidth=(distance-pad)*2-(point.itemHeight||0)/2;styles={width:TimelineSeries_pick(dataLabelsOptions.style?.width,`${series.yAxis.len*.4}px`),textOverflow:(dataLabel.width||0)/targetDLWidth*(dataLabel.height||0)/2>availableSpace*multiplier?"ellipsis":"none"}}else{styles={width:(userDLOptions.width||dataLabelsOptions.width||availableSpace*multiplier-pad*2)+"px"}}dataLabel.css(styles);if(!series.chart.styledMode){dataLabel.shadow(dataLabelsOptions.shadow)}}super.alignDataLabel.apply(series,arguments)}bindAxes(){const series=this;super.bindAxes();if(!series.xAxis.userOptions.type){series.xAxis.categories=series.xAxis.hasNames=true}}distributeDL(){const series=this,dataLabelsOptions=series.options.dataLabels,inverted=series.chart.inverted;let visibilityIndex=1;if(dataLabelsOptions){const distance=TimelineSeries_pick(dataLabelsOptions.distance,inverted?20:100);for(const point of series.points){const defaults={[inverted?"x":"y"]:dataLabelsOptions.alternate&&visibilityIndex%2?-distance:distance};if(inverted){defaults.align=dataLabelsOptions.alternate&&visibilityIndex%2?"right":"left"}point.options.dataLabels=TimelineSeries_merge(defaults,point.userDLOptions);visibilityIndex++}}}generatePoints(){super.generatePoints();const series=this,points=series.points,xData=series.getColumn("x");for(let i=0,iEnd=points.length;i<iEnd;++i){points[i].applyOptions({x:xData[i]},xData[i])}}getVisibilityMap(){const series=this,map=((series.data.length?series.data:series.options.data)||[]).map(point=>point&&point.visible!==false&&!point.isNull?point:false);return map}getXExtremes(xData){const series=this,filteredData=xData.filter((_x,i)=>series.points[i].isValid()&&series.points[i].visible);return{min:arrayMin(filteredData),max:arrayMax(filteredData)}}init(){const series=this;super.init.apply(series,arguments);series.eventsToUnbind.push(addEvent(series,"afterTranslate",function(){let lastPlotX,closestPointRangePx=Number.MAX_VALUE;for(const point of series.points){point.isInside=point.isInside&&point.visible;if(point.visible&&!point.isNull){if(TimelineSeries_defined(lastPlotX)){closestPointRangePx=Math.min(closestPointRangePx,Math.abs(point.plotX-lastPlotX))}lastPlotX=point.plotX}}series.closestPointRangePx=closestPointRangePx}));series.eventsToUnbind.push(addEvent(series,"drawDataLabels",function(){series.distributeDL()}));series.eventsToUnbind.push(addEvent(series,"afterDrawDataLabels",function(){let dataLabel;for(const point of series.points){dataLabel=point.dataLabel;if(dataLabel){dataLabel.animate=function(params){if(this.targetPosition){this.targetPosition=params}return this.renderer.Element.prototype.animate.apply(this,arguments)};if(!dataLabel.targetPosition){dataLabel.targetPosition={}}point.drawConnector()}}}));series.eventsToUnbind.push(addEvent(series.chart,"afterHideOverlappingLabel",function(){for(const p of series.points){if(p.dataLabel&&p.dataLabel.connector&&p.dataLabel.oldOpacity!==p.dataLabel.newOpacity){p.alignConnector()}}}))}markerAttribs(point,state){const series=this,seriesMarkerOptions=series.options.marker,pointMarkerOptions=point.marker||{},symbol=pointMarkerOptions.symbol||seriesMarkerOptions.symbol,width=TimelineSeries_pick(pointMarkerOptions.width,seriesMarkerOptions.width,series.closestPointRangePx),height=TimelineSeries_pick(pointMarkerOptions.height,seriesMarkerOptions.height);let seriesStateOptions,pointStateOptions,radius=0;if(series.xAxis.dateTime){return super.markerAttribs(point,state)}if(state){seriesStateOptions=seriesMarkerOptions.states[state]||{};pointStateOptions=pointMarkerOptions.states&&pointMarkerOptions.states[state]||{};radius=TimelineSeries_pick(pointStateOptions.radius,seriesStateOptions.radius,radius+(seriesStateOptions.radiusPlus||0))}point.hasImage=symbol&&symbol.indexOf("url")===0;const attribs={x:Math.floor(point.plotX)-width/2-radius/2,y:point.plotY-height/2-radius/2,width:width+radius,height:height+radius};return series.chart.inverted?{y:attribs.x&&attribs.width&&series.xAxis.len-attribs.x-attribs.width,x:attribs.y&&attribs.y,width:attribs.height,height:attribs.width}:attribs}}TimelineSeries.defaultOptions=TimelineSeries_merge(LineSeries.defaultOptions,Timeline_TimelineSeriesDefaults);addEvent(TimelineSeries,"afterProcessData",function(){const series=this,xData=series.getColumn("x");let visiblePoints=0;series.visibilityMap=series.getVisibilityMap();for(const point of series.visibilityMap){if(point){visiblePoints++}}series.visiblePointsCount=visiblePoints;this.dataTable.setColumn("y",new Array(xData.length).fill(1))});extend(TimelineSeries.prototype,{drawTracker:ColumnSeries.prototype.drawTracker,pointClass:Timeline_TimelinePoint,trackerGroups:["markerGroup","dataLabelsGroup"]});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("timeline",TimelineSeries);const Timeline_TimelineSeries=null&&TimelineSeries;const timeline_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__})()});