(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/variable-pie",["highcharts/highcharts"],function(amd1){return factory(amd1,amd1["SeriesRegistry"])});else if(typeof exports==="object")exports["highcharts/modules/variable-pie"]=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["SeriesRegistry"])})(typeof window==="undefined"?this:window,(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__512__)=>{return(()=>{"use strict";var __webpack_modules__={512:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}(()=>{__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module["default"]:()=>module;__webpack_require__.d(getter,{a:getter});return getter}})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:()=>variable_pie_src});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);const VariablePieSeriesDefaults={minPointSize:"10%",maxPointSize:"100%",zMin:void 0,zMax:void 0,sizeBy:"area",tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}<br/>Value: {point.y}<br/>Size: {point.z}<br/>'}};"";const VariablePie_VariablePieSeriesDefaults=VariablePieSeriesDefaults;const{pie:PieSeries}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{arrayMax,arrayMin,clamp,extend,fireEvent,merge,pick}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class VariablePieSeries extends PieSeries{calculateExtremes(){const series=this,chart=series.chart,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,seriesOptions=series.options,slicingRoom=2*(seriesOptions.slicedOffset||0),zData=series.getColumn("z"),smallestSize=Math.min(plotWidth,plotHeight)-slicingRoom,extremes={},positions=series.center||series.getCenter();let zMin,zMax;for(const prop of["minPointSize","maxPointSize"]){let length=seriesOptions[prop];const isPercent=/%$/.test(length);length=parseInt(length,10);extremes[prop]=isPercent?smallestSize*length/100:length*2}series.minPxSize=positions[3]+extremes.minPointSize;series.maxPxSize=clamp(positions[2],positions[3]+extremes.minPointSize,extremes.maxPointSize);if(zData.length){zMin=pick(seriesOptions.zMin,arrayMin(zData.filter(series.zValEval)));zMax=pick(seriesOptions.zMax,arrayMax(zData.filter(series.zValEval)));this.getRadii(zMin,zMax,series.minPxSize,series.maxPxSize)}}getRadii(zMin,zMax,minSize,maxSize){const zData=this.getColumn("z"),radii=[],options=this.options,sizeByArea=options.sizeBy!=="radius",zRange=zMax-zMin;let pos,value,radius;for(let i=0;i<zData.length;i++){value=this.zValEval(zData[i])?zData[i]:zMin;if(value<=zMin){radius=minSize/2}else if(value>=zMax){radius=maxSize/2}else{pos=zRange>0?(value-zMin)/zRange:.5;if(sizeByArea){pos=Math.sqrt(pos)}radius=Math.ceil(minSize+pos*(maxSize-minSize))/2}radii.push(radius)}this.radii=radii}redraw(){this.center=null;super.redraw()}getDataLabelPosition(point,distance){const{center,options}=this,angle=point.angle||0,r=this.radii[point.index],x=center[0]+Math.cos(angle)*r,y=center[1]+Math.sin(angle)*r,connectorOffset=(options.slicedOffset||0)+(options.borderWidth||0),finalConnectorOffset=Math.min(connectorOffset,distance/5);return{distance:distance,natural:{x:x+Math.cos(angle)*distance,y:y+Math.sin(angle)*distance},computed:{},alignment:point.half?"right":"left",connectorPosition:{breakAt:{x:x+Math.cos(angle)*finalConnectorOffset,y:y+Math.sin(angle)*finalConnectorOffset},touchingSliceAt:{x:x,y:y}}}}translate(positions){this.generatePoints();const series=this,precision=1e3,options=series.options,slicedOffset=options.slicedOffset,startAngle=options.startAngle||0,startAngleRad=Math.PI/180*(startAngle-90),endAngleRad=Math.PI/180*(pick(options.endAngle,startAngle+360)-90),circ=endAngleRad-startAngleRad,points=series.points,ignoreHiddenPoint=options.ignoreHiddenPoint;let cumulative=0,start,end,angle,radiusX,radiusY,point,pointRadii;series.startAngleRad=startAngleRad;series.endAngleRad=endAngleRad;series.calculateExtremes();if(!positions){series.center=positions=series.getCenter()}for(let i=0;i<points.length;i++){point=points[i];pointRadii=series.radii[i];start=startAngleRad+cumulative*circ;if(!ignoreHiddenPoint||point.visible){cumulative+=point.percentage/100}end=startAngleRad+cumulative*circ;point.shapeType="arc";point.shapeArgs={x:positions[0],y:positions[1],r:pointRadii,innerR:positions[3]/2,start:Math.round(start*precision)/precision,end:Math.round(end*precision)/precision};angle=(end+start)/2;if(angle>1.5*Math.PI){angle-=2*Math.PI}else if(angle<-Math.PI/2){angle+=2*Math.PI}point.slicedTranslation={translateX:Math.round(Math.cos(angle)*slicedOffset),translateY:Math.round(Math.sin(angle)*slicedOffset)};radiusX=Math.cos(angle)*positions[2]/2;radiusY=Math.sin(angle)*positions[2]/2;point.tooltipPos=[positions[0]+radiusX*.7,positions[1]+radiusY*.7];point.half=angle<-Math.PI/2||angle>Math.PI/2?1:0;point.angle=angle}fireEvent(series,"afterTranslate")}zValEval(zVal){if(typeof zVal==="number"&&!isNaN(zVal)){return true}return null}}VariablePieSeries.defaultOptions=merge(PieSeries.defaultOptions,VariablePie_VariablePieSeriesDefaults);extend(VariablePieSeries.prototype,{pointArrayMap:["y","z"],parallelArrays:["x","y","z"]});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("variablepie",VariablePieSeries);const VariablePie_VariablePieSeries=null&&VariablePieSeries;"";const variable_pie_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__})()});