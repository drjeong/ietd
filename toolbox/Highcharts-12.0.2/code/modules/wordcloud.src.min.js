(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/wordcloud",["highcharts/highcharts"],function(amd1){return factory(amd1,amd1["SeriesRegistry"])});else if(typeof exports==="object")exports["highcharts/modules/wordcloud"]=factory(root["_Highcharts"],root["_Highcharts"]["SeriesRegistry"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["SeriesRegistry"])})(typeof window==="undefined"?this:window,(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__512__)=>{return(()=>{"use strict";var __webpack_modules__={512:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}(()=>{__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module["default"]:()=>module;__webpack_require__.d(getter,{a:getter});return getter}})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:()=>wordcloud_src});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);function draw(point,params){const{animatableAttribs,onComplete,css,renderer}=params;const animation=point.series&&point.series.chart.hasRendered?void 0:point.series&&point.series.options.animation;let graphic=point.graphic;params.attribs={...params.attribs,class:point.getClassName()}||{};if(point.shouldDraw()){if(!graphic){if(params.shapeType==="text"){graphic=renderer.text()}else if(params.shapeType==="image"){graphic=renderer.image(params.imageUrl||"").attr(params.shapeArgs||{})}else{graphic=renderer[params.shapeType](params.shapeArgs||{})}point.graphic=graphic;graphic.add(params.group)}if(css){graphic.css(css)}graphic.attr(params.attribs).animate(animatableAttribs,params.isNew?false:animation,onComplete)}else if(graphic){const destroy=()=>{point.graphic=graphic=graphic&&graphic.destroy();if(typeof onComplete==="function"){onComplete()}};if(Object.keys(animatableAttribs).length){graphic.animate(animatableAttribs,void 0,()=>destroy())}else{destroy()}}}const DrawPointUtilities={draw:draw};const Series_DrawPointUtilities=DrawPointUtilities;var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);const{column:{prototype:{pointClass:ColumnPoint}}}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{extend}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();class WordcloudPoint extends ColumnPoint{isValid(){return true}}extend(WordcloudPoint.prototype,{weight:1});const Wordcloud_WordcloudPoint=WordcloudPoint;const WordcloudSeriesDefaults={allowExtendPlayingField:true,animation:{duration:500},borderWidth:0,clip:false,colorByPoint:true,cropThreshold:Infinity,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:false,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:true,pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.weight}</b><br/>'}};"";const Wordcloud_WordcloudSeriesDefaults=WordcloudSeriesDefaults;const{deg2rad}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{extend:WordcloudUtils_extend,find,isNumber,isObject,merge}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();function isRectanglesIntersecting(r1,r2){return!(r2.left>r1.right||r2.right<r1.left||r2.top>r1.bottom||r2.bottom<r1.top)}function getNormals(p1,p2){const dx=p2[0]-p1[0],dy=p2[1]-p1[1];return[[-dy,dx],[dy,-dx]]}function getAxesFromPolygon(polygon){let points,axes=polygon.axes||[];if(!axes.length){axes=[];points=points=polygon.concat([polygon[0]]);points.reduce((p1,p2)=>{const normals=getNormals(p1,p2),axis=normals[0];if(!find(axes,existing=>existing[0]===axis[0]&&existing[1]===axis[1])){axes.push(axis)}return p2});polygon.axes=axes}return axes}function project(polygon,target){const products=polygon.map(point=>{const ax=point[0],ay=point[1],bx=target[0],by=target[1];return ax*bx+ay*by});return{min:Math.min.apply(this,products),max:Math.max.apply(this,products)}}function isPolygonsOverlappingOnAxis(axis,polygon1,polygon2){const projection1=project(polygon1,axis),projection2=project(polygon2,axis),isOverlapping=!(projection2.min>projection1.max||projection2.max<projection1.min);return!isOverlapping}function isPolygonsColliding(polygon1,polygon2){const axes1=getAxesFromPolygon(polygon1),axes2=getAxesFromPolygon(polygon2),axes=axes1.concat(axes2),overlappingOnAllAxes=!find(axes,axis=>isPolygonsOverlappingOnAxis(axis,polygon1,polygon2));return overlappingOnAllAxes}function intersectsAnyWord(point,points){const rect=point.rect,polygon=point.polygon,lastCollidedWith=point.lastCollidedWith,isIntersecting=function(p){let result=isRectanglesIntersecting(rect,p.rect);if(result&&(point.rotation%90||p.rotation%90)){result=isPolygonsColliding(polygon,p.polygon)}return result};let intersects=false;if(lastCollidedWith){intersects=isIntersecting(lastCollidedWith);if(!intersects){delete point.lastCollidedWith}}if(!intersects){intersects=!!find(points,function(p){const result=isIntersecting(p);if(result){point.lastCollidedWith=p}return result})}return intersects}function archimedeanSpiral(attempt,params){const field=params.field,maxDelta=field.width*field.width+field.height*field.height,t=attempt*.8;let result=false;if(attempt<=1e4){result={x:t*Math.cos(t),y:t*Math.sin(t)};if(!(Math.min(Math.abs(result.x),Math.abs(result.y))<maxDelta)){result=false}}return result}function squareSpiral(attempt,params){const a=attempt*4,k=Math.ceil((Math.sqrt(a)-1)/2),isBoolean=x=>typeof x==="boolean";let t=2*k+1,m=Math.pow(t,2),result=false;t-=1;if(attempt<=1e4){if(isBoolean(result)&&a>=m-t){result={x:k-(m-a),y:-k}}m-=t;if(isBoolean(result)&&a>=m-t){result={x:-k,y:-k+(m-a)}}m-=t;if(isBoolean(result)){if(a>=m-t){result={x:-k+(m-a),y:k}}else{result={x:k,y:k-(m-a-t)}}}result.x*=5;result.y*=5}return result}function rectangularSpiral(attempt,params){const result=squareSpiral(attempt,params),field=params.field;if(result){result.x*=field.ratioX;result.y*=field.ratioY}return result}function getRandomPosition(size){return Math.round(size*(Math.random()+.5)/2)}function getScale(targetWidth,targetHeight,field){const height=Math.max(Math.abs(field.top),Math.abs(field.bottom))*2,width=Math.max(Math.abs(field.left),Math.abs(field.right))*2,scaleX=width>0?1/width*targetWidth:1,scaleY=height>0?1/height*targetHeight:1;return Math.min(scaleX,scaleY)}function getPlayingField(targetWidth,targetHeight,data){const info=data.reduce(function(obj,point){const dimensions=point.dimensions,x=Math.max(dimensions.width,dimensions.height);obj.maxHeight=Math.max(obj.maxHeight,dimensions.height);obj.maxWidth=Math.max(obj.maxWidth,dimensions.width);obj.area+=x*x;return obj},{maxHeight:0,maxWidth:0,area:0}),x=Math.max(info.maxHeight,info.maxWidth,Math.sqrt(info.area)*.85),ratioX=targetWidth>targetHeight?targetWidth/targetHeight:1,ratioY=targetHeight>targetWidth?targetHeight/targetWidth:1;return{width:x*ratioX,height:x*ratioY,ratioX:ratioX,ratioY:ratioY}}function getRotation(orientations,index,from,to){let result=false,range,intervals,orientation;if(isNumber(orientations)&&isNumber(index)&&isNumber(from)&&isNumber(to)&&orientations>0&&index>-1&&to>from){range=to-from;intervals=range/(orientations-1||1);orientation=index%orientations;result=from+orientation*intervals}return result}function getSpiral(fn,params){const length=1e4,arr=[];for(let i=1;i<length;i++){arr.push(fn(i,params))}return attempt=>attempt<=length?arr[attempt-1]:false}function outsidePlayingField(rect,field){const playingField={left:-(field.width/2),right:field.width/2,top:-(field.height/2),bottom:field.height/2};return!(playingField.left<rect.left&&playingField.right>rect.right&&playingField.top<rect.top&&playingField.bottom>rect.bottom)}function movePolygon(deltaX,deltaY,polygon){return polygon.map(function(point){return[point[0]+deltaX,point[1]+deltaY]})}function intersectionTesting(point,options){const placed=options.placed,field=options.field,rectangle=options.rectangle,polygon=options.polygon,spiral=options.spiral,rect=point.rect=WordcloudUtils_extend({},rectangle);let attempt=1,delta={x:0,y:0};point.polygon=polygon;point.rotation=options.rotation;while(delta!==false&&(intersectsAnyWord(point,placed)||outsidePlayingField(rect,field))){delta=spiral(attempt);if(isObject(delta)){rect.left=rectangle.left+delta.x;rect.right=rectangle.right+delta.x;rect.top=rectangle.top+delta.y;rect.bottom=rectangle.bottom+delta.y;point.polygon=movePolygon(delta.x,delta.y,polygon)}attempt++}return delta}function extendPlayingField(field,rectangle){let height,width,ratioX,ratioY,x,extendWidth,extendHeight,result;if(isObject(field)&&isObject(rectangle)){height=rectangle.bottom-rectangle.top;width=rectangle.right-rectangle.left;ratioX=field.ratioX;ratioY=field.ratioY;x=width*ratioX>height*ratioY?width:height;extendWidth=x*ratioX;extendHeight=x*ratioY;result=merge(field,{width:field.width+extendWidth*2,height:field.height+extendHeight*2})}else{result=field}return result}function updateFieldBoundaries(field,rectangle){if(!isNumber(field.left)||field.left>rectangle.left){field.left=rectangle.left}if(!isNumber(field.right)||field.right<rectangle.right){field.right=rectangle.right}if(!isNumber(field.top)||field.top>rectangle.top){field.top=rectangle.top}if(!isNumber(field.bottom)||field.bottom<rectangle.bottom){field.bottom=rectangle.bottom}return field}function correctFloat(number,precision){const p=isNumber(precision)?precision:14,magnitude=Math.pow(10,p);return Math.round(number*magnitude)/magnitude}function getBoundingBoxFromPolygon(points){return points.reduce(function(obj,point){const x=point[0],y=point[1];obj.left=Math.min(x,obj.left);obj.right=Math.max(x,obj.right);obj.bottom=Math.max(y,obj.bottom);obj.top=Math.min(y,obj.top);return obj},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})}function getPolygon(x,y,width,height,rotation){const origin=[x,y],left=x-width/2,right=x+width/2,top=y-height/2,bottom=y+height/2,polygon=[[left,top],[right,top],[right,bottom],[left,bottom]];return polygon.map(function(point){return rotate2DToPoint(point,origin,-rotation)})}function rotate2DToOrigin(point,angle){const x=point[0],y=point[1],rad=deg2rad*-angle,cosAngle=Math.cos(rad),sinAngle=Math.sin(rad);return[correctFloat(x*cosAngle-y*sinAngle),correctFloat(x*sinAngle+y*cosAngle)]}function rotate2DToPoint(point,origin,angle){const x=point[0]-origin[0],y=point[1]-origin[1],rotated=rotate2DToOrigin([x,y],angle);return[rotated[0]+origin[0],rotated[1]+origin[1]]}const WordcloudUtils={archimedeanSpiral:archimedeanSpiral,extendPlayingField:extendPlayingField,getBoundingBoxFromPolygon:getBoundingBoxFromPolygon,getPlayingField:getPlayingField,getPolygon:getPolygon,getRandomPosition:getRandomPosition,getRotation:getRotation,getScale:getScale,getSpiral:getSpiral,intersectionTesting:intersectionTesting,isPolygonsColliding:isPolygonsColliding,isRectanglesIntersecting:isRectanglesIntersecting,rectangularSpiral:rectangularSpiral,rotate2DToOrigin:rotate2DToOrigin,rotate2DToPoint:rotate2DToPoint,squareSpiral:squareSpiral,updateFieldBoundaries:updateFieldBoundaries};const Wordcloud_WordcloudUtils=WordcloudUtils;const{noop}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{column:ColumnSeries}=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes;const{extend:WordcloudSeries_extend,isArray,isNumber:WordcloudSeries_isNumber,isObject:WordcloudSeries_isObject,merge:WordcloudSeries_merge}=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();const{archimedeanSpiral:WordcloudSeries_archimedeanSpiral,extendPlayingField:WordcloudSeries_extendPlayingField,getBoundingBoxFromPolygon:WordcloudSeries_getBoundingBoxFromPolygon,getPlayingField:WordcloudSeries_getPlayingField,getPolygon:WordcloudSeries_getPolygon,getRandomPosition:WordcloudSeries_getRandomPosition,getRotation:WordcloudSeries_getRotation,getScale:WordcloudSeries_getScale,getSpiral:WordcloudSeries_getSpiral,intersectionTesting:WordcloudSeries_intersectionTesting,isPolygonsColliding:WordcloudSeries_isPolygonsColliding,rectangularSpiral:WordcloudSeries_rectangularSpiral,rotate2DToOrigin:WordcloudSeries_rotate2DToOrigin,rotate2DToPoint:WordcloudSeries_rotate2DToPoint,squareSpiral:WordcloudSeries_squareSpiral,updateFieldBoundaries:WordcloudSeries_updateFieldBoundaries}=Wordcloud_WordcloudUtils;class WordcloudSeries extends ColumnSeries{pointAttribs(point,state){const attribs=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().seriesTypes.column.prototype.pointAttribs.call(this,point,state);delete attribs.stroke;delete attribs["stroke-width"];return attribs}deriveFontSize(relativeWeight,maxFontSize,minFontSize){const weight=WordcloudSeries_isNumber(relativeWeight)?relativeWeight:0,max=WordcloudSeries_isNumber(maxFontSize)?maxFontSize:1,min=WordcloudSeries_isNumber(minFontSize)?minFontSize:1;return Math.floor(Math.max(min,weight*max))}drawPoints(){const series=this,hasRendered=series.hasRendered,xAxis=series.xAxis,yAxis=series.yAxis,chart=series.chart,group=series.group,options=series.options,animation=options.animation,allowExtendPlayingField=options.allowExtendPlayingField,renderer=chart.renderer,placed=[],placementStrategy=series.placementStrategy[options.placementStrategy],rotation=options.rotation,weights=series.points.map(function(p){return p.weight}),maxWeight=Math.max.apply(null,weights),points=series.points.concat().sort((a,b)=>b.weight-a.weight);let testElement=renderer.text().add(group),field;series.group.attr({scaleX:1,scaleY:1});for(const point of points){const relativeWeight=1/maxWeight*point.weight,fontSize=series.deriveFontSize(relativeWeight,options.maxFontSize,options.minFontSize),css=WordcloudSeries_extend({fontSize:fontSize+"px"},options.style);testElement.css(css).attr({x:0,y:0,text:point.name});const bBox=testElement.getBBox(true);point.dimensions={height:bBox.height,width:bBox.width}}field=WordcloudSeries_getPlayingField(xAxis.len,yAxis.len,points);const spiral=WordcloudSeries_getSpiral(series.spirals[options.spiral],{field:field});for(const point of points){const relativeWeight=1/maxWeight*point.weight,fontSize=series.deriveFontSize(relativeWeight,options.maxFontSize,options.minFontSize),css=WordcloudSeries_extend({fontSize:fontSize+"px"},options.style),placement=placementStrategy(point,{data:points,field:field,placed:placed,rotation:rotation}),attr=WordcloudSeries_extend(series.pointAttribs(point,point.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:placement.x,y:placement.y,text:point.name,rotation:WordcloudSeries_isNumber(placement.rotation)?placement.rotation:void 0}),polygon=WordcloudSeries_getPolygon(placement.x,placement.y,point.dimensions.width,point.dimensions.height,placement.rotation),rectangle=WordcloudSeries_getBoundingBoxFromPolygon(polygon);let delta=WordcloudSeries_intersectionTesting(point,{rectangle:rectangle,polygon:polygon,field:field,placed:placed,spiral:spiral,rotation:placement.rotation}),animate;if(!delta&&allowExtendPlayingField){field=WordcloudSeries_extendPlayingField(field,rectangle);delta=WordcloudSeries_intersectionTesting(point,{rectangle:rectangle,polygon:polygon,field:field,placed:placed,spiral:spiral,rotation:placement.rotation})}if(WordcloudSeries_isObject(delta)){attr.x=(attr.x||0)+delta.x;attr.y=(attr.y||0)+delta.y;rectangle.left+=delta.x;rectangle.right+=delta.x;rectangle.top+=delta.y;rectangle.bottom+=delta.y;field=WordcloudSeries_updateFieldBoundaries(field,rectangle);placed.push(point);point.isNull=false;point.isInside=true}else{point.isNull=true}if(animation){animate={x:attr.x,y:attr.y};if(!hasRendered){attr.x=0;attr.y=0}else{delete attr.x;delete attr.y}}Series_DrawPointUtilities.draw(point,{animatableAttribs:animate,attribs:attr,css:css,group:group,renderer:renderer,shapeArgs:void 0,shapeType:"text"})}testElement=testElement.destroy();const scale=WordcloudSeries_getScale(xAxis.len,yAxis.len,field);series.group.attr({scaleX:scale,scaleY:scale})}hasData(){const series=this;return WordcloudSeries_isObject(series)&&series.visible===true&&isArray(series.points)&&series.points.length>0}getPlotBox(){const series=this,chart=series.chart,inverted=chart.inverted,xAxis=series[inverted?"yAxis":"xAxis"],yAxis=series[inverted?"xAxis":"yAxis"],width=xAxis?xAxis.len:chart.plotWidth,height=yAxis?yAxis.len:chart.plotHeight,x=xAxis?xAxis.left:chart.plotLeft,y=yAxis?yAxis.top:chart.plotTop;return{translateX:x+width/2,translateY:y+height/2,scaleX:1,scaleY:1}}}WordcloudSeries.defaultOptions=WordcloudSeries_merge(ColumnSeries.defaultOptions,Wordcloud_WordcloudSeriesDefaults);WordcloudSeries_extend(WordcloudSeries.prototype,{animate:noop,animateDrilldown:noop,animateDrillupFrom:noop,isCartesian:false,pointClass:Wordcloud_WordcloudPoint,setClip:noop,placementStrategy:{random:function(point,options){const field=options.field,r=options.rotation;return{x:WordcloudSeries_getRandomPosition(field.width)-field.width/2,y:WordcloudSeries_getRandomPosition(field.height)-field.height/2,rotation:WordcloudSeries_getRotation(r.orientations,point.index,r.from,r.to)}},center:function(point,options){const r=options.rotation;return{x:0,y:0,rotation:WordcloudSeries_getRotation(r.orientations,point.index,r.from,r.to)}}},pointArrayMap:["weight"],spirals:{archimedean:WordcloudSeries_archimedeanSpiral,rectangular:WordcloudSeries_rectangularSpiral,square:WordcloudSeries_squareSpiral},utils:{extendPlayingField:WordcloudSeries_extendPlayingField,getRotation:WordcloudSeries_getRotation,isPolygonsColliding:WordcloudSeries_isPolygonsColliding,rotate2DToOrigin:WordcloudSeries_rotate2DToOrigin,rotate2DToPoint:WordcloudSeries_rotate2DToPoint}});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("wordcloud",WordcloudSeries);const Wordcloud_WordcloudSeries=null&&WordcloudSeries;const wordcloud_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__})()});