"use strict";import U from"../Core/Utilities.js";var addEvent=U.addEvent,defined=U.defined,isNumber=U.isNumber,pick=U.pick;function compose(AxisClass,ChartClass){var chartProto=ChartClass.prototype;if(!chartProto.adjustHeight){addEvent(AxisClass,"afterSetOptions",onAxisAfterSetOptions);chartProto.adjustHeight=chartAdjustHeight;addEvent(ChartClass,"render",chartProto.adjustHeight)}}function onAxisAfterSetOptions(){var chartOptions=this.chart.options.chart;if(!this.horiz&&isNumber(this.options.staticScale)&&(!chartOptions.height||chartOptions.scrollablePlotArea&&chartOptions.scrollablePlotArea.minHeight)){this.staticScale=this.options.staticScale}}function chartAdjustHeight(){var chart=this;if(chart.redrawTrigger!=="adjustHeight"){var _loop_1=function(axis){var chart_1=axis.chart,animate=!!chart_1.initiatedScale&&chart_1.options.animation,staticScale=axis.options.staticScale;if(axis.staticScale&&defined(axis.min)){var height=pick(axis.brokenAxis&&axis.brokenAxis.unitLength,axis.max+axis.tickInterval-axis.min)*staticScale;height=Math.max(height,staticScale);var diff=height-chart_1.plotHeight;if(!chart_1.scrollablePixelsY&&Math.abs(diff)>=1){chart_1.plotHeight=height;chart_1.redrawTrigger="adjustHeight";chart_1.setSize(void 0,chart_1.chartHeight+diff,animate)}axis.series.forEach(function(series){var clipRect=series.sharedClipKey&&chart_1.sharedClips[series.sharedClipKey];if(clipRect){clipRect.attr(chart_1.inverted?{width:chart_1.plotHeight}:{height:chart_1.plotHeight})}})}};for(var _i=0,_a=chart.axes||[];_i<_a.length;_i++){var axis=_a[_i];_loop_1(axis)}this.initiatedScale=true}this.redrawTrigger=null}var StaticScale={compose:compose};export default StaticScale;"";