"use strict";import U from"../../Core/Utilities.js";var addEvent=U.addEvent,isObject=U.isObject,pick=U.pick,defined=U.defined,merge=U.merge;import NBU from"../Annotations/NavigationBindingsUtilities.js";var getAssignedAxis=NBU.getAssignedAxis;var composedClasses=[],defaultOptions={enabled:true,sensitivity:1.1};var wheelTimer;var optionsToObject=function(options){if(!isObject(options)){options={enabled:options!==null&&options!==void 0?options:true}}return merge(defaultOptions,options)};var zoomBy=function(chart,howMuch,xAxis,yAxis,mouseX,mouseY,options){var type=pick(options.type,chart.zooming.type,"");var axes=[];if(type==="x"){axes=xAxis}else if(type==="y"){axes=yAxis}else if(type==="xy"){axes=chart.axes}var hasZoomed=chart.transform({axes:axes,to:{x:mouseX-5,y:mouseY-5,width:10,height:10},from:{x:mouseX-5*howMuch,y:mouseY-5*howMuch,width:10*howMuch,height:10*howMuch},trigger:"mousewheel"});if(hasZoomed){if(defined(wheelTimer)){clearTimeout(wheelTimer)}wheelTimer=setTimeout(function(){var _a;(_a=chart.pointer)===null||_a===void 0?void 0:_a.drop()},400)}return hasZoomed};function onAfterGetContainer(){var _this=this;var wheelZoomOptions=optionsToObject(this.zooming.mouseWheel);if(wheelZoomOptions.enabled){addEvent(this.container,"wheel",function(e){var _a,_b;e=((_a=_this.pointer)===null||_a===void 0?void 0:_a.normalize(e))||e;var pointer=_this.pointer,allowZoom=pointer&&!pointer.inClass(e.target,"highcharts-no-mousewheel");if(_this.isInsidePlot(e.chartX-_this.plotLeft,e.chartY-_this.plotTop)&&allowZoom){var wheelSensitivity=wheelZoomOptions.sensitivity||1.1,delta=e.detail||(e.deltaY||0)/120,xAxisCoords=getAssignedAxis(pointer.getCoordinates(e).xAxis),yAxisCoords=getAssignedAxis(pointer.getCoordinates(e).yAxis);var hasZoomed=zoomBy(_this,Math.pow(wheelSensitivity,delta),xAxisCoords?[xAxisCoords.axis]:_this.xAxis,yAxisCoords?[yAxisCoords.axis]:_this.yAxis,e.chartX,e.chartY,wheelZoomOptions);if(hasZoomed){(_b=e.preventDefault)===null||_b===void 0?void 0:_b.call(e)}}})}}function compose(ChartClass){if(composedClasses.indexOf(ChartClass)===-1){composedClasses.push(ChartClass);addEvent(ChartClass,"afterGetContainer",onAfterGetContainer)}}var MouseWheelZoomComposition={compose:compose};export default MouseWheelZoomComposition;"";