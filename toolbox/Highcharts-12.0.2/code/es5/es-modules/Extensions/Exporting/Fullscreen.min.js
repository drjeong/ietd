"use strict";import AST from"../../Core/Renderer/HTML/AST.js";import H from"../../Core/Globals.js";var composed=H.composed;import U from"../../Core/Utilities.js";var addEvent=U.addEvent,fireEvent=U.fireEvent,pushUnique=U.pushUnique;function onChartBeforeRender(){this.fullscreen=new Fullscreen(this)}var Fullscreen=function(){function Fullscreen(chart){this.chart=chart;this.isOpen=false;var container=chart.renderTo;if(!this.browserProps){if(typeof container.requestFullscreen==="function"){this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}}else if(container.mozRequestFullScreen){this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}}else if(container.webkitRequestFullScreen){this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}}else if(container.msRequestFullscreen){this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}}}}Fullscreen.compose=function(ChartClass){if(pushUnique(composed,"Fullscreen")){addEvent(ChartClass,"beforeRender",onChartBeforeRender)}};Fullscreen.prototype.close=function(){var fullscreen=this,chart=fullscreen.chart,optionsChart=chart.options.chart;fireEvent(chart,"fullscreenClose",null,function(){if(fullscreen.isOpen&&fullscreen.browserProps&&chart.container.ownerDocument instanceof Document){chart.container.ownerDocument[fullscreen.browserProps.exitFullscreen]()}if(fullscreen.unbindFullscreenEvent){fullscreen.unbindFullscreenEvent=fullscreen.unbindFullscreenEvent()}chart.setSize(fullscreen.origWidth,fullscreen.origHeight,false);fullscreen.origWidth=void 0;fullscreen.origHeight=void 0;optionsChart.width=fullscreen.origWidthOption;optionsChart.height=fullscreen.origHeightOption;fullscreen.origWidthOption=void 0;fullscreen.origHeightOption=void 0;fullscreen.isOpen=false;fullscreen.setButtonText()})};Fullscreen.prototype.open=function(){var fullscreen=this,chart=fullscreen.chart,optionsChart=chart.options.chart;fireEvent(chart,"fullscreenOpen",null,function(){if(optionsChart){fullscreen.origWidthOption=optionsChart.width;fullscreen.origHeightOption=optionsChart.height}fullscreen.origWidth=chart.chartWidth;fullscreen.origHeight=chart.chartHeight;if(fullscreen.browserProps){var unbindChange_1=addEvent(chart.container.ownerDocument,fullscreen.browserProps.fullscreenChange,function(){if(fullscreen.isOpen){fullscreen.isOpen=false;fullscreen.close()}else{chart.setSize(null,null,false);fullscreen.isOpen=true;fullscreen.setButtonText()}});var unbindDestroy_1=addEvent(chart,"destroy",unbindChange_1);fullscreen.unbindFullscreenEvent=function(){unbindChange_1();unbindDestroy_1()};var promise=chart.renderTo[fullscreen.browserProps.requestFullscreen]();if(promise){promise["catch"](function(){alert("Full screen is not supported inside a frame.")})}}})};Fullscreen.prototype.setButtonText=function(){var chart=this.chart,exportDivElements=chart.exportDivElements,exportingOptions=chart.options.exporting,menuItems=exportingOptions&&exportingOptions.buttons&&exportingOptions.buttons.contextButton.menuItems,lang=chart.options.lang;if(exportingOptions&&exportingOptions.menuItemDefinitions&&lang&&lang.exitFullscreen&&lang.viewFullscreen&&menuItems&&exportDivElements){var exportDivElement=exportDivElements[menuItems.indexOf("viewFullscreen")];if(exportDivElement){AST.setElementHTML(exportDivElement,!this.isOpen?exportingOptions.menuItemDefinitions.viewFullscreen.text||lang.viewFullscreen:lang.exitFullscreen)}}};Fullscreen.prototype.toggle=function(){var fullscreen=this;if(!fullscreen.isOpen){fullscreen.open()}else{fullscreen.close()}};return Fullscreen}();export default Fullscreen;"";"";