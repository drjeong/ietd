"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __spreadArray=this&&this.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};import BoostChart from"./BoostChart.js";import BoostSeries from"./BoostSeries.js";import H from"../../Core/Globals.js";var doc=H.doc,win=H.win;import NamedColors from"./NamedColors.js";import U from"../../Core/Utilities.js";var addEvent=U.addEvent,error=U.error;var contexts=["webgl","experimental-webgl","moz-webgl","webkit-3d"];function compose(ChartClass,AxisClass,SeriesClass,seriesTypes,ColorClass){var wglMode=hasWebGLSupport();if(!wglMode){if(typeof H.initCanvasBoost!=="undefined"){H.initCanvasBoost()}else{error(26)}}if(ColorClass&&!ColorClass.names.lightgoldenrodyellow){ColorClass.names=__assign(__assign({},ColorClass.names),NamedColors.defaultHTMLColorMap)}BoostChart.compose(ChartClass,wglMode);BoostSeries.compose(SeriesClass,seriesTypes,wglMode);addEvent(AxisClass,"setExtremes",function(e){var _a;var _b,_c;var renderTargets=__spreadArray([this.chart],this.series,true).map(function(item){return item.renderTarget}).filter(Boolean);for(var _i=0,renderTargets_1=renderTargets;_i<renderTargets_1.length;_i++){var renderTarget=renderTargets_1[_i];var _d=this,horiz=_d.horiz,pos=_d.pos,scaleKey=horiz?"scaleX":"scaleY",translateKey=horiz?"translateX":"translateY",lastScale=(_b=renderTarget===null||renderTarget===void 0?void 0:renderTarget[scaleKey])!==null&&_b!==void 0?_b:1;var scale=1,translate=0,opacity=1,filter="none";if(this.isPanning){scale=((_c=e.scale)!==null&&_c!==void 0?_c:1)*lastScale;translate=((renderTarget===null||renderTarget===void 0?void 0:renderTarget[translateKey])||0)-scale*(e.move||0)+lastScale*pos-scale*pos;opacity=.7;filter="blur(3px)"}renderTarget===null||renderTarget===void 0?void 0:renderTarget.attr((_a={},_a[scaleKey]=scale,_a[translateKey]=translate,_a)).css({transition:"250ms filter, 250ms opacity",filter:filter,opacity:opacity})}})}function hasWebGLSupport(){var canvas,gl=false;if(typeof win.WebGLRenderingContext!=="undefined"){canvas=doc.createElement("canvas");for(var i=0;i<contexts.length;++i){try{gl=canvas.getContext(contexts[i]);if(typeof gl!=="undefined"&&gl!==null){return true}}catch(e){}}}return false}var Boost={compose:compose,hasWebGLSupport:hasWebGLSupport};export default Boost;"";