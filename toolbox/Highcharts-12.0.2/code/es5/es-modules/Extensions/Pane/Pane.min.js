"use strict";import CU from"../../Series/CenteredUtilities.js";import PaneComposition from"./PaneComposition.js";import PaneDefaults from"./PaneDefaults.js";import U from"../../Core/Utilities.js";var extend=U.extend,merge=U.merge,splat=U.splat;var Pane=function(){function Pane(options,chart){this.coll="pane";this.init(options,chart)}Pane.prototype.init=function(options,chart){this.chart=chart;this.background=[];chart.pane.push(this);this.setOptions(options)};Pane.prototype.setOptions=function(options){this.options=options=merge(PaneDefaults.pane,this.chart.angular?{background:{}}:void 0,options)};Pane.prototype.render=function(){var options=this.options,renderer=this.chart.renderer;if(!this.group){this.group=renderer.g("pane-group").attr({zIndex:options.zIndex||0}).add()}this.updateCenter();var backgroundOption=this.options.background;if(backgroundOption){backgroundOption=splat(backgroundOption);var len=Math.max(backgroundOption.length,this.background.length||0);for(var i=0;i<len;i++){if(backgroundOption[i]&&this.axis){this.renderBackground(merge(PaneDefaults.background,backgroundOption[i]),i)}else if(this.background[i]){this.background[i]=this.background[i].destroy();this.background.splice(i,1)}}}};Pane.prototype.renderBackground=function(backgroundOptions,i){var attribs={class:"highcharts-pane "+(backgroundOptions.className||"")};var method="animate";if(!this.chart.styledMode){extend(attribs,{fill:backgroundOptions.backgroundColor,stroke:backgroundOptions.borderColor,"stroke-width":backgroundOptions.borderWidth})}if(!this.background[i]){this.background[i]=this.chart.renderer.path().add(this.group);method="attr"}this.background[i][method]({d:this.axis.getPlotBandPath(backgroundOptions.from,backgroundOptions.to,backgroundOptions)}).attr(attribs)};Pane.prototype.updateCenter=function(axis){this.center=(axis||this.axis||{}).center=CU.getCenter.call(this)};Pane.prototype.update=function(options,redraw){merge(true,this.options,options);this.setOptions(this.options);this.render();this.chart.axes.forEach(function(axis){if(axis.pane===this){axis.pane=null;axis.update({},redraw)}},this)};Pane.compose=PaneComposition.compose;return Pane}();export default Pane;"";