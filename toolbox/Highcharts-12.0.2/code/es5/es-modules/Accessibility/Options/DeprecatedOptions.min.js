"use strict";import U from"../../Core/Utilities.js";var error=U.error,pick=U.pick;function traverseSetOption(root,optionAsArray,val){var opt=root,prop,i=0;for(;i<optionAsArray.length-1;++i){prop=optionAsArray[i];opt=opt[prop]=pick(opt[prop],{})}opt[optionAsArray[optionAsArray.length-1]]=val}function deprecateFromOptionsMap(chart,rootOldAsArray,rootNewAsArray,mapToNewOptions){function getChildProp(root,propAsArray){return propAsArray.reduce(function(acc,cur){return acc[cur]},root)}var rootOld=getChildProp(chart.options,rootOldAsArray),rootNew=getChildProp(chart.options,rootNewAsArray);Object.keys(mapToNewOptions).forEach(function(oldOptionKey){var _a;var val=rootOld[oldOptionKey];if(typeof val!=="undefined"){traverseSetOption(rootNew,mapToNewOptions[oldOptionKey],val);error(32,false,chart,(_a={},_a[rootOldAsArray.join(".")+"."+oldOptionKey]=rootNewAsArray.join(".")+"."+mapToNewOptions[oldOptionKey].join("."),_a))}})}function copyDeprecatedChartOptions(chart){var chartOptions=chart.options.chart,a11yOptions=chart.options.accessibility||{};["description","typeDescription"].forEach(function(prop){var _a;if(chartOptions[prop]){a11yOptions[prop]=chartOptions[prop];error(32,false,chart,(_a={},_a["chart.".concat(prop)]="use accessibility.".concat(prop),_a))}})}function copyDeprecatedAxisOptions(chart){chart.axes.forEach(function(axis){var opts=axis.options;if(opts&&opts.description){opts.accessibility=opts.accessibility||{};opts.accessibility.description=opts.description;error(32,false,chart,{"axis.description":"use axis.accessibility.description"})}})}function copyDeprecatedSeriesOptions(chart){var oldToNewSeriesOptions={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};chart.series.forEach(function(series){Object.keys(oldToNewSeriesOptions).forEach(function(oldOption){var _a;var optionVal=series.options[oldOption];if(oldOption==="accessibility.pointDescriptionFormatter"){optionVal=series.options.accessibility&&series.options.accessibility.pointDescriptionFormatter}if(typeof optionVal!=="undefined"){traverseSetOption(series.options,oldToNewSeriesOptions[oldOption],oldOption==="skipKeyboardNavigation"?!optionVal:optionVal);error(32,false,chart,(_a={},_a["series.".concat(oldOption)]="series."+oldToNewSeriesOptions[oldOption].join("."),_a))}})})}function copyDeprecatedTopLevelAccessibilityOptions(chart){deprecateFromOptionsMap(chart,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]})}function copyDeprecatedKeyboardNavigationOptions(chart){deprecateFromOptionsMap(chart,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]})}function copyDeprecatedLangOptions(chart){deprecateFromOptionsMap(chart,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}function copyDeprecatedOptions(chart){copyDeprecatedChartOptions(chart);copyDeprecatedAxisOptions(chart);if(chart.series){copyDeprecatedSeriesOptions(chart)}copyDeprecatedTopLevelAccessibilityOptions(chart);copyDeprecatedKeyboardNavigationOptions(chart);copyDeprecatedLangOptions(chart)}export default copyDeprecatedOptions;