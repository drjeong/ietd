"use strict";import H from"../Core/Globals.js";var doc=H.doc,isMS=H.isMS,win=H.win;function isHighContrastModeActive(){var isEdge=/(Edg)/.test(win.navigator.userAgent);if(win.matchMedia&&isEdge){return win.matchMedia("(-ms-high-contrast: active)").matches}if(isMS&&win.getComputedStyle){var testDiv=doc.createElement("div");var imageSrc="data:image/gif;base64,"+"R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";testDiv.style.backgroundImage="url(".concat(imageSrc,")");doc.body.appendChild(testDiv);var bi=(testDiv.currentStyle||win.getComputedStyle(testDiv)).backgroundImage;doc.body.removeChild(testDiv);return bi==="none"}return win.matchMedia&&win.matchMedia("(forced-colors: active)").matches}function setHighContrastTheme(chart){var _a;chart.highContrastModeActive=true;var theme=chart.options.accessibility.highContrastTheme;chart.update(theme,false);var hasCustomColors=((_a=theme.colors)===null||_a===void 0?void 0:_a.length)>1;chart.series.forEach(function(s){var plotOpts=theme.plotOptions[s.type]||{};var fillColor=hasCustomColors&&s.colorIndex!==void 0?theme.colors[s.colorIndex]:plotOpts.color||"window";var seriesOptions={color:plotOpts.color||"windowText",colors:hasCustomColors?theme.colors:[plotOpts.color||"windowText"],borderColor:plotOpts.borderColor||"window",fillColor:fillColor};s.update(seriesOptions,false);if(s.points){s.points.forEach(function(p){if(p.options&&p.options.color){p.update({color:plotOpts.color||"windowText",borderColor:plotOpts.borderColor||"window"},false)}})}});chart.redraw()}var whcm={isHighContrastModeActive:isHighContrastModeActive,setHighContrastTheme:setHighContrastTheme};export default whcm;