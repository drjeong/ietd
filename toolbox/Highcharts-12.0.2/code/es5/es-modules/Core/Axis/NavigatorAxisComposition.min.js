"use strict";import H from"../Globals.js";var isTouchDevice=H.isTouchDevice;import U from"../Utilities.js";var addEvent=U.addEvent,correctFloat=U.correctFloat,defined=U.defined,isNumber=U.isNumber,pick=U.pick;function onAxisInit(){var axis=this;if(!axis.navigatorAxis){axis.navigatorAxis=new NavigatorAxisAdditions(axis)}}function onAxisSetExtremes(e){var axis=this,chart=axis.chart,chartOptions=chart.options,navigator=chartOptions.navigator,navigatorAxis=axis.navigatorAxis,pinchType=chart.zooming.pinchType,rangeSelector=chartOptions.rangeSelector,zoomType=chart.zooming.type;var zoomed;if(axis.isXAxis&&((navigator===null||navigator===void 0?void 0:navigator.enabled)||(rangeSelector===null||rangeSelector===void 0?void 0:rangeSelector.enabled))){if(zoomType==="y"&&e.trigger==="zoom"){zoomed=false}else if((e.trigger==="zoom"&&zoomType==="xy"||isTouchDevice&&pinchType==="xy")&&axis.options.range){var previousZoom=navigatorAxis.previousZoom;if(defined(e.min)){navigatorAxis.previousZoom=[axis.min,axis.max]}else if(previousZoom){e.min=previousZoom[0];e.max=previousZoom[1];navigatorAxis.previousZoom=void 0}}}if(typeof zoomed!=="undefined"){e.preventDefault()}}var NavigatorAxisAdditions=function(){function NavigatorAxisAdditions(axis){this.axis=axis}NavigatorAxisAdditions.compose=function(AxisClass){if(!AxisClass.keepProps.includes("navigatorAxis")){AxisClass.keepProps.push("navigatorAxis");addEvent(AxisClass,"init",onAxisInit);addEvent(AxisClass,"setExtremes",onAxisSetExtremes)}};NavigatorAxisAdditions.prototype.destroy=function(){this.axis=void 0};NavigatorAxisAdditions.prototype.toFixedRange=function(pxMin,pxMax,fixedMin,fixedMax){var axis=this.axis,halfPointRange=(axis.pointRange||0)/2;var newMin=pick(fixedMin,axis.translate(pxMin,true,!axis.horiz)),newMax=pick(fixedMax,axis.translate(pxMax,true,!axis.horiz));if(!defined(fixedMin)){newMin=correctFloat(newMin+halfPointRange)}if(!defined(fixedMax)){newMax=correctFloat(newMax-halfPointRange)}if(!isNumber(newMin)||!isNumber(newMax)){newMin=newMax=void 0}return{min:newMin,max:newMax}};return NavigatorAxisAdditions}();export default NavigatorAxisAdditions;