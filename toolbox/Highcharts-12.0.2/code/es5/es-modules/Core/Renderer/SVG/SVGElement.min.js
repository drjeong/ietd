"use strict";import A from"../../Animation/AnimationUtilities.js";var animate=A.animate,animObject=A.animObject,stop=A.stop;import Color from"../../Color/Color.js";import H from"../../Globals.js";var deg2rad=H.deg2rad,doc=H.doc,svg=H.svg,SVG_NS=H.SVG_NS,win=H.win,isFirefox=H.isFirefox;import U from"../../Utilities.js";var addEvent=U.addEvent,attr=U.attr,createElement=U.createElement,crisp=U.crisp,css=U.css,defined=U.defined,erase=U.erase,extend=U.extend,fireEvent=U.fireEvent,getAlignFactor=U.getAlignFactor,isArray=U.isArray,isFunction=U.isFunction,isNumber=U.isNumber,isObject=U.isObject,isString=U.isString,merge=U.merge,objectEach=U.objectEach,pick=U.pick,pInt=U.pInt,pushUnique=U.pushUnique,replaceNested=U.replaceNested,syncTimeout=U.syncTimeout,uniqueKey=U.uniqueKey;var SVGElement=function(){function SVGElement(renderer,nodeName){this.onEvents={};this.opacity=1;this.SVG_NS=SVG_NS;this.element=nodeName==="span"||nodeName==="body"?createElement(nodeName):doc.createElementNS(this.SVG_NS,nodeName);this.renderer=renderer;this.styles={};fireEvent(this,"afterInit")}SVGElement.prototype._defaultGetter=function(key){var ret=pick(this[key+"Value"],this[key],this.element?this.element.getAttribute(key):null,0);if(/^-?[\d\.]+$/.test(ret)){ret=parseFloat(ret)}return ret};SVGElement.prototype._defaultSetter=function(value,key,element){element.setAttribute(key,value)};SVGElement.prototype.add=function(parent){var renderer=this.renderer,element=this.element;var inserted;if(parent){this.parentGroup=parent}if(typeof this.textStr!=="undefined"&&this.element.nodeName==="text"){renderer.buildText(this)}this.added=true;if(!parent||parent.handleZ||this.zIndex){inserted=this.zIndexSetter()}if(!inserted){(parent?parent.element:renderer.box).appendChild(element)}if(this.onAdd){this.onAdd()}return this};SVGElement.prototype.addClass=function(className,replace){var currentClassName=replace?"":this.attr("class")||"";className=(className||"").split(/ /g).reduce(function(newClassName,name){if(currentClassName.indexOf(name)===-1){newClassName.push(name)}return newClassName},currentClassName?[currentClassName]:[]).join(" ");if(className!==currentClassName){this.attr("class",className)}return this};SVGElement.prototype.afterSetters=function(){if(this.doTransform){this.updateTransform();this.doTransform=false}};SVGElement.prototype.align=function(alignOptions,alignByTranslate,alignTo,redraw){if(redraw===void 0){redraw=true}var attribs={},renderer=this.renderer,alignedObjects=renderer.alignedObjects,initialAlignment=Boolean(alignOptions);if(alignOptions){this.alignOptions=alignOptions;this.alignByTranslate=alignByTranslate;this.alignTo=alignTo}else{alignOptions=this.alignOptions||{};alignByTranslate=this.alignByTranslate;alignTo=this.alignTo}var alignToKey=!alignTo||isString(alignTo)?alignTo||"renderer":void 0;if(alignToKey){if(initialAlignment){pushUnique(alignedObjects,this)}alignTo=void 0}var alignToBox=pick(alignTo,renderer[alignToKey],renderer),x=(alignToBox.x||0)+(alignOptions.x||0)+((alignToBox.width||0)-(alignOptions.width||0))*getAlignFactor(alignOptions.align),y=(alignToBox.y||0)+(alignOptions.y||0)+((alignToBox.height||0)-(alignOptions.height||0))*getAlignFactor(alignOptions.verticalAlign);attribs[alignByTranslate?"translateX":"x"]=Math.round(x);attribs[alignByTranslate?"translateY":"y"]=Math.round(y);if(redraw){this[this.placed?"animate":"attr"](attribs);this.placed=true}this.alignAttr=attribs;return this};SVGElement.prototype.alignSetter=function(value){var convert={left:"start",center:"middle",right:"end"};if(convert[value]){this.alignValue=value;this.element.setAttribute("text-anchor",convert[value])}};SVGElement.prototype.animate=function(params,options,complete){var _this=this;var animOptions=animObject(pick(options,this.renderer.globalAnimation,true)),deferTime=animOptions.defer;if(doc.hidden){animOptions.duration=0}if(animOptions.duration!==0){if(complete){animOptions.complete=complete}syncTimeout(function(){if(_this.element){animate(_this,params,animOptions)}},deferTime)}else{this.attr(params,void 0,complete||animOptions.complete);objectEach(params,function(val,prop){if(animOptions.step){animOptions.step.call(this,val,{prop:prop,pos:1,elem:this})}},this)}return this};SVGElement.prototype.applyTextOutline=function(textOutline){var elem=this.element,hasContrast=textOutline.indexOf("contrast")!==-1,styles={};if(hasContrast){styles.textOutline=textOutline=textOutline.replace(/contrast/g,this.renderer.getContrast(elem.style.fill))}var parts=textOutline.split(" ");var color=parts[parts.length-1];var strokeWidth=parts[0];if(strokeWidth&&strokeWidth!=="none"&&H.svg){this.fakeTS=true;strokeWidth=strokeWidth.replace(/(^[\d\.]+)(.*?)$/g,function(match,digit,unit){return 2*Number(digit)+unit});this.removeTextOutline();var outline_1=doc.createElementNS(SVG_NS,"tspan");attr(outline_1,{class:"highcharts-text-outline",fill:color,stroke:color,"stroke-width":strokeWidth,"stroke-linejoin":"round"});var parentElem=elem.querySelector("textPath")||elem;[].forEach.call(parentElem.childNodes,function(childNode){var clone=childNode.cloneNode(true);if(clone.removeAttribute){["fill","stroke","stroke-width","stroke"].forEach(function(prop){return clone.removeAttribute(prop)})}outline_1.appendChild(clone)});var totalHeight_1=0;[].forEach.call(parentElem.querySelectorAll("text tspan"),function(element){totalHeight_1+=Number(element.getAttribute("dy"))});var br=doc.createElementNS(SVG_NS,"tspan");br.textContent="â€‹";attr(br,{x:Number(elem.getAttribute("x")),dy:-totalHeight_1});outline_1.appendChild(br);parentElem.insertBefore(outline_1,parentElem.firstChild)}};SVGElement.prototype.attr=function(hash,val,complete,continueAnimation){var element=this.element,symbolCustomAttribs=SVGElement.symbolCustomAttribs;var key,hasSetSymbolSize,ret=this,skipAttr,setter;if(typeof hash==="string"&&typeof val!=="undefined"){key=hash;hash={};hash[key]=val}if(typeof hash==="string"){ret=(this[hash+"Getter"]||this._defaultGetter).call(this,hash,element)}else{objectEach(hash,function eachAttribute(val,key){skipAttr=false;if(!continueAnimation){stop(this,key)}if(this.symbolName&&symbolCustomAttribs.indexOf(key)!==-1){if(!hasSetSymbolSize){this.symbolAttr(hash);hasSetSymbolSize=true}skipAttr=true}if(this.rotation&&(key==="x"||key==="y")){this.doTransform=true}if(!skipAttr){setter=this[key+"Setter"]||this._defaultSetter;setter.call(this,val,key,element)}},this);this.afterSetters()}if(complete){complete.call(this)}return ret};SVGElement.prototype.clip=function(clipElem){if(clipElem&&!clipElem.clipPath){var id=uniqueKey()+"-",clipPath=this.renderer.createElement("clipPath").attr({id:id}).add(this.renderer.defs);extend(clipElem,{clipPath:clipPath,id:id,count:0});clipElem.add(clipPath)}return this.attr("clip-path",clipElem?"url(".concat(this.renderer.url,"#").concat(clipElem.id,")"):"none")};SVGElement.prototype.crisp=function(rect,strokeWidth){strokeWidth=Math.round(strokeWidth||rect.strokeWidth||0);var x1=rect.x||this.x||0,y1=rect.y||this.y||0,x2=(rect.width||this.width||0)+x1,y2=(rect.height||this.height||0)+y1,x=crisp(x1,strokeWidth),y=crisp(y1,strokeWidth),x2Crisp=crisp(x2,strokeWidth),y2Crisp=crisp(y2,strokeWidth);extend(rect,{x:x,y:y,width:x2Crisp-x,height:y2Crisp-y});if(defined(rect.strokeWidth)){rect.strokeWidth=strokeWidth}return rect};SVGElement.prototype.complexColor=function(colorOptions,prop,elem){var renderer=this.renderer;var colorObject,gradName,gradAttr,radAttr,gradients,stops,stopColor,stopOpacity,radialReference,id,key=[],value;fireEvent(this.renderer,"complexColor",{args:arguments},function(){if(colorOptions.radialGradient){gradName="radialGradient"}else if(colorOptions.linearGradient){gradName="linearGradient"}if(gradName){gradAttr=colorOptions[gradName];gradients=renderer.gradients;stops=colorOptions.stops;radialReference=elem.radialReference;if(isArray(gradAttr)){colorOptions[gradName]=gradAttr={x1:gradAttr[0],y1:gradAttr[1],x2:gradAttr[2],y2:gradAttr[3],gradientUnits:"userSpaceOnUse"}}if(gradName==="radialGradient"&&radialReference&&!defined(gradAttr.gradientUnits)){radAttr=gradAttr;gradAttr=merge(gradAttr,renderer.getRadialAttr(radialReference,radAttr),{gradientUnits:"userSpaceOnUse"})}objectEach(gradAttr,function(value,n){if(n!=="id"){key.push(n,value)}});objectEach(stops,function(val){key.push(val)});key=key.join(",");if(gradients[key]){id=gradients[key].attr("id")}else{gradAttr.id=id=uniqueKey();var gradientObject_1=gradients[key]=renderer.createElement(gradName).attr(gradAttr).add(renderer.defs);gradientObject_1.radAttr=radAttr;gradientObject_1.stops=[];stops.forEach(function(stop){if(stop[1].indexOf("rgba")===0){colorObject=Color.parse(stop[1]);stopColor=colorObject.get("rgb");stopOpacity=colorObject.get("a")}else{stopColor=stop[1];stopOpacity=1}var stopObject=renderer.createElement("stop").attr({offset:stop[0],"stop-color":stopColor,"stop-opacity":stopOpacity}).add(gradientObject_1);gradientObject_1.stops.push(stopObject)})}value="url("+renderer.url+"#"+id+")";elem.setAttribute(prop,value);elem.gradient=key;colorOptions.toString=function(){return value}}})};SVGElement.prototype.css=function(styles){var oldStyles=this.styles,newStyles={},elem=this.element;var textWidth,hasNew=!oldStyles;if(oldStyles){objectEach(styles,function(value,n){if(oldStyles&&oldStyles[n]!==value){newStyles[n]=value;hasNew=true}})}if(hasNew){if(oldStyles){styles=extend(oldStyles,newStyles)}if(styles.width===null||styles.width==="auto"){delete this.textWidth}else if(elem.nodeName.toLowerCase()==="text"&&styles.width){textWidth=this.textWidth=pInt(styles.width)}extend(this.styles,styles);if(textWidth&&(!svg&&this.renderer.forExport)){delete styles.width}var fontSize=isFirefox&&styles.fontSize||null;if(fontSize&&(isNumber(fontSize)||/^\d+$/.test(fontSize))){styles.fontSize+="px"}var stylesToApply_1=merge(styles);if(elem.namespaceURI===this.SVG_NS){["textOutline","textOverflow","whiteSpace","width"].forEach(function(key){return stylesToApply_1&&delete stylesToApply_1[key]});if(stylesToApply_1.color){stylesToApply_1.fill=stylesToApply_1.color}}css(elem,stylesToApply_1)}if(this.added){if(this.element.nodeName==="text"){this.renderer.buildText(this)}if(styles.textOutline){this.applyTextOutline(styles.textOutline)}}return this};SVGElement.prototype.dashstyleSetter=function(value){var i,strokeWidth=this["stroke-width"];if(strokeWidth==="inherit"){strokeWidth=1}value=value&&value.toLowerCase();if(value){var v=value.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");i=v.length;while(i--){v[i]=""+pInt(v[i])*pick(strokeWidth,NaN)}value=v.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",value)}};SVGElement.prototype.destroy=function(){var _a;var wrapper=this,element=wrapper.element||{},renderer=wrapper.renderer,ownerSVGElement=element.ownerSVGElement;var parentToClean=element.nodeName==="SPAN"&&wrapper.parentGroup||void 0,grandParent,i;element.onclick=element.onmouseout=element.onmouseover=element.onmousemove=element.point=null;stop(wrapper);if(wrapper.clipPath&&ownerSVGElement){var clipPath_1=wrapper.clipPath;[].forEach.call(ownerSVGElement.querySelectorAll("[clip-path],[CLIP-PATH]"),function(el){if(el.getAttribute("clip-path").indexOf(clipPath_1.element.id)>-1){el.removeAttribute("clip-path")}});wrapper.clipPath=clipPath_1.destroy()}wrapper.connector=(_a=wrapper.connector)===null||_a===void 0?void 0:_a.destroy();if(wrapper.stops){for(i=0;i<wrapper.stops.length;i++){wrapper.stops[i].destroy()}wrapper.stops.length=0;wrapper.stops=void 0}wrapper.safeRemoveChild(element);while(parentToClean&&parentToClean.div&&parentToClean.div.childNodes.length===0){grandParent=parentToClean.parentGroup;wrapper.safeRemoveChild(parentToClean.div);delete parentToClean.div;parentToClean=grandParent}if(wrapper.alignOptions){erase(renderer.alignedObjects,wrapper)}objectEach(wrapper,function(val,key){if(wrapper[key]&&wrapper[key].parentGroup===wrapper&&wrapper[key].destroy){wrapper[key].destroy()}delete wrapper[key]});return};SVGElement.prototype.dSetter=function(value,key,element){if(isArray(value)){if(typeof value[0]==="string"){value=this.renderer.pathToSegments(value)}this.pathArray=value;value=value.reduce(function(acc,seg,i){if(!seg||!seg.join){return(seg||"").toString()}return(i?acc+" ":"")+seg.join(" ")},"")}if(/(NaN| {2}|^$)/.test(value)){value="M 0 0"}if(this[key]!==value){element.setAttribute(key,value);this[key]=value}};SVGElement.prototype.fillSetter=function(value,key,element){if(typeof value==="string"){element.setAttribute(key,value)}else if(value){this.complexColor(value,key,element)}};SVGElement.prototype.hrefSetter=function(value,key,element){element.setAttributeNS("http://www.w3.org/1999/xlink",key,value)};SVGElement.prototype.getBBox=function(reload,rot){var wrapper=this,alignValue=wrapper.alignValue,element=wrapper.element,renderer=wrapper.renderer,styles=wrapper.styles,textStr=wrapper.textStr,cache=renderer.cache,cacheKeys=renderer.cacheKeys,isSVG=element.namespaceURI===wrapper.SVG_NS,rotation=pick(rot,wrapper.rotation,0),fontSize=renderer.styledMode?element&&SVGElement.prototype.getStyle.call(element,"font-size"):styles.fontSize;var bBox,height,toggleTextShadowShim,cacheKey;if(defined(textStr)){cacheKey=textStr.toString();if(cacheKey.indexOf("<")===-1){cacheKey=cacheKey.replace(/\d/g,"0")}cacheKey+=["",renderer.rootFontSize,fontSize,rotation,wrapper.textWidth,alignValue,styles.lineClamp,styles.textOverflow,styles.fontWeight].join(",")}if(cacheKey&&!reload){bBox=cache[cacheKey]}if(!bBox||bBox.polygon){if(isSVG||renderer.forExport){try{toggleTextShadowShim=this.fakeTS&&function(display){var outline=element.querySelector(".highcharts-text-outline");if(outline){css(outline,{display:display})}};if(isFunction(toggleTextShadowShim)){toggleTextShadowShim("none")}bBox=element.getBBox?extend({},element.getBBox()):{width:element.offsetWidth,height:element.offsetHeight,x:0,y:0};if(isFunction(toggleTextShadowShim)){toggleTextShadowShim("")}}catch(e){""}if(!bBox||bBox.width<0){bBox={x:0,y:0,width:0,height:0}}}else{bBox=wrapper.htmlGetBBox()}height=bBox.height;if(isSVG){bBox.height=height={"11px,17":14,"13px,20":16}["".concat(fontSize||"",",").concat(Math.round(height))]||height}if(rotation){bBox=this.getRotatedBox(bBox,rotation)}var e={bBox:bBox};fireEvent(this,"afterGetBBox",e);bBox=e.bBox}if(cacheKey&&(textStr===""||bBox.height>0)){while(cacheKeys.length>250){delete cache[cacheKeys.shift()]}if(!cache[cacheKey]){cacheKeys.push(cacheKey)}cache[cacheKey]=bBox}return bBox};SVGElement.prototype.getRotatedBox=function(box,rotation){var boxX=box.x,boxY=box.y,width=box.width,height=box.height,_a=this,alignValue=_a.alignValue,translateY=_a.translateY,_b=_a.rotationOriginX,rotationOriginX=_b===void 0?0:_b,_c=_a.rotationOriginY,rotationOriginY=_c===void 0?0:_c,alignFactor=getAlignFactor(alignValue),baseline=Number(this.element.getAttribute("y")||0)-(translateY?0:boxY),rad=rotation*deg2rad,rad90=(rotation-90)*deg2rad,cosRad=Math.cos(rad),sinRad=Math.sin(rad),wCosRad=width*cosRad,wSinRad=width*sinRad,cosRad90=Math.cos(rad90),sinRad90=Math.sin(rad90),_d=[rotationOriginX,rotationOriginY].map(function(rotOrigin){return[rotOrigin-rotOrigin*cosRad,rotOrigin*sinRad]}),_e=_d[0],xOriginCosRad=_e[0],xOriginSinRad=_e[1],_f=_d[1],yOriginCosRad=_f[0],yOriginSinRad=_f[1],pX=boxX+alignFactor*(width-wCosRad)+xOriginCosRad+yOriginSinRad,pY=boxY+baseline-alignFactor*wSinRad-xOriginSinRad+yOriginCosRad,aX=pX+baseline*cosRad90,bX=aX+wCosRad,cX=bX-height*cosRad90,dX=cX-wCosRad,aY=pY+baseline*sinRad90,bY=aY+wSinRad,cY=bY-height*sinRad90,dY=cY-wSinRad;var x=Math.min(aX,bX,cX,dX),y=Math.min(aY,bY,cY,dY),boxWidth=Math.max(aX,bX,cX,dX)-x,boxHeight=Math.max(aY,bY,cY,dY)-y;return{x:x,y:y,width:boxWidth,height:boxHeight,polygon:[[aX,aY],[bX,bY],[cX,cY],[dX,dY]]}};SVGElement.prototype.getStyle=function(prop){return win.getComputedStyle(this.element||this,"").getPropertyValue(prop)};SVGElement.prototype.hasClass=function(className){return(""+this.attr("class")).split(" ").indexOf(className)!==-1};SVGElement.prototype.hide=function(){return this.attr({visibility:"hidden"})};SVGElement.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}};SVGElement.prototype.on=function(eventType,handler){var onEvents=this.onEvents;if(onEvents[eventType]){onEvents[eventType]()}onEvents[eventType]=addEvent(this.element,eventType,handler);return this};SVGElement.prototype.opacitySetter=function(value,key,element){var opacity=Number(Number(value).toFixed(3));this.opacity=opacity;element.setAttribute(key,opacity)};SVGElement.prototype.reAlign=function(){var _a;if(((_a=this.alignOptions)===null||_a===void 0?void 0:_a.width)&&this.alignOptions.align!=="left"){this.alignOptions.width=this.getBBox().width;this.placed=false;this.align()}};SVGElement.prototype.removeClass=function(className){return this.attr("class",(""+this.attr("class")).replace(isString(className)?new RegExp("(^| )".concat(className,"( |$)")):className," ").replace(/ +/g," ").trim())};SVGElement.prototype.removeTextOutline=function(){var outline=this.element.querySelector("tspan.highcharts-text-outline");if(outline){this.safeRemoveChild(outline)}};SVGElement.prototype.safeRemoveChild=function(element){var parentNode=element.parentNode;if(parentNode){parentNode.removeChild(element)}};SVGElement.prototype.setRadialReference=function(coordinates){var existingGradient=this.element.gradient&&this.renderer.gradients[this.element.gradient];this.element.radialReference=coordinates;if(existingGradient&&existingGradient.radAttr){existingGradient.animate(this.renderer.getRadialAttr(coordinates,existingGradient.radAttr))}return this};SVGElement.prototype.shadow=function(shadowOptions){var _a;var renderer=this.renderer,options=merge(((_a=this.parentGroup)===null||_a===void 0?void 0:_a.rotation)===90?{offsetX:-1,offsetY:-1}:{},isObject(shadowOptions)?shadowOptions:{}),id=renderer.shadowDefinition(options);return this.attr({filter:shadowOptions?"url(".concat(renderer.url,"#").concat(id,")"):"none"})};SVGElement.prototype.show=function(inherit){if(inherit===void 0){inherit=true}return this.attr({visibility:inherit?"inherit":"visible"})};SVGElement.prototype["stroke-widthSetter"]=function(value,key,element){this[key]=value;element.setAttribute(key,value)};SVGElement.prototype.strokeWidth=function(){if(!this.renderer.styledMode){return this["stroke-width"]||0}var val=this.getStyle("stroke-width");var ret=0,tempElement;if(/px$/.test(val)){ret=pInt(val)}else if(val!==""){tempElement=doc.createElementNS(SVG_NS,"rect");attr(tempElement,{width:val,"stroke-width":0});this.element.parentNode.appendChild(tempElement);ret=tempElement.getBBox().width;tempElement.parentNode.removeChild(tempElement)}return ret};SVGElement.prototype.symbolAttr=function(hash){var wrapper=this;SVGElement.symbolCustomAttribs.forEach(function(key){wrapper[key]=pick(hash[key],wrapper[key])});wrapper.attr({d:wrapper.renderer.symbols[wrapper.symbolName](wrapper.x,wrapper.y,wrapper.width,wrapper.height,wrapper)})};SVGElement.prototype.textSetter=function(value){if(value!==this.textStr){delete this.textPxLength;this.textStr=value;if(this.added){this.renderer.buildText(this)}this.reAlign()}};SVGElement.prototype.titleSetter=function(value){var el=this.element;var titleNode=el.getElementsByTagName("title")[0]||doc.createElementNS(this.SVG_NS,"title");if(el.insertBefore){el.insertBefore(titleNode,el.firstChild)}else{el.appendChild(titleNode)}titleNode.textContent=replaceNested(pick(value,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")};SVGElement.prototype.toFront=function(){var element=this.element;element.parentNode.appendChild(element);return this};SVGElement.prototype.translate=function(x,y){return this.attr({translateX:x,translateY:y})};SVGElement.prototype.updateTransform=function(attrib){var _a;if(attrib===void 0){attrib="transform"}var _b=this,element=_b.element,matrix=_b.matrix,_c=_b.rotation,rotation=_c===void 0?0:_c,rotationOriginX=_b.rotationOriginX,rotationOriginY=_b.rotationOriginY,scaleX=_b.scaleX,scaleY=_b.scaleY,_d=_b.translateX,translateX=_d===void 0?0:_d,_e=_b.translateY,translateY=_e===void 0?0:_e;var transform=["translate("+translateX+","+translateY+")"];if(defined(matrix)){transform.push("matrix("+matrix.join(",")+")")}if(rotation){transform.push("rotate("+rotation+" "+pick(rotationOriginX,element.getAttribute("x"),0)+" "+pick(rotationOriginY,element.getAttribute("y")||0)+")");if(((_a=this.text)===null||_a===void 0?void 0:_a.element.tagName)==="SPAN"){this.text.attr({rotation:rotation,rotationOriginX:(rotationOriginX||0)-this.padding,rotationOriginY:(rotationOriginY||0)-this.padding})}}if(defined(scaleX)||defined(scaleY)){transform.push("scale("+pick(scaleX,1)+" "+pick(scaleY,1)+")")}if(transform.length&&!(this.text||this).textPath){element.setAttribute(attrib,transform.join(" "))}};SVGElement.prototype.visibilitySetter=function(value,key,element){if(value==="inherit"){element.removeAttribute(key)}else if(this[key]!==value){element.setAttribute(key,value)}this[key]=value};SVGElement.prototype.xGetter=function(key){if(this.element.nodeName==="circle"){if(key==="x"){key="cx"}else if(key==="y"){key="cy"}}return this._defaultGetter(key)};SVGElement.prototype.zIndexSetter=function(value,key){var renderer=this.renderer,parentGroup=this.parentGroup,parentWrapper=parentGroup||renderer,parentNode=parentWrapper.element||renderer.box,element=this.element,svgParent=parentNode===renderer.box;var childNodes,otherElement,otherZIndex,inserted=false,undefinedOtherZIndex,run=this.added,i;if(defined(value)){element.setAttribute("data-z-index",value);value=+value;if(this[key]===value){run=false}}else if(defined(this[key])){element.removeAttribute("data-z-index")}this[key]=value;if(run){value=this.zIndex;if(value&&parentGroup){parentGroup.handleZ=true}childNodes=parentNode.childNodes;for(i=childNodes.length-1;i>=0&&!inserted;i--){otherElement=childNodes[i];otherZIndex=otherElement.getAttribute("data-z-index");undefinedOtherZIndex=!defined(otherZIndex);if(otherElement!==element){if(value<0&&undefinedOtherZIndex&&!svgParent&&!i){parentNode.insertBefore(element,childNodes[i]);inserted=true}else if(pInt(otherZIndex)<=value||undefinedOtherZIndex&&(!defined(value)||value>=0)){parentNode.insertBefore(element,childNodes[i+1]);inserted=true}}}if(!inserted){parentNode.insertBefore(element,childNodes[svgParent?3:0]);inserted=true}}return inserted};SVGElement.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"];return SVGElement}();SVGElement.prototype.strokeSetter=SVGElement.prototype.fillSetter;SVGElement.prototype.yGetter=SVGElement.prototype.xGetter;SVGElement.prototype.matrixSetter=SVGElement.prototype.rotationOriginXSetter=SVGElement.prototype.rotationOriginYSetter=SVGElement.prototype.rotationSetter=SVGElement.prototype.scaleXSetter=SVGElement.prototype.scaleYSetter=SVGElement.prototype.translateXSetter=SVGElement.prototype.translateYSetter=SVGElement.prototype.verticalAlignSetter=function(value,key){this[key]=value;this.doTransform=true};export default SVGElement;"";