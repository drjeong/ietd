"use strict";import U from"../Core/Utilities.js";var error=U.error,merge=U.merge,pick=U.pick;var max=Math.max,min=Math.min;function calculateObstacleMargin(obstacles){var distances=[],len=obstacles.length;var obstacleDistance;for(var i=0;i<len;++i){for(var j=i+1;j<len;++j){obstacleDistance=distance(obstacles[i],obstacles[j]);if(obstacleDistance<80){distances.push(obstacleDistance)}}}distances.push(80);return max(Math.floor(distances.sort(function(a,b){return a-b})[Math.floor(distances.length/10)]/2-1),1)}function distance(a,b,bbMargin){var margin=pick(bbMargin,10),yOverlap=a.yMax+margin>b.yMin-margin&&a.yMin-margin<b.yMax+margin,xOverlap=a.xMax+margin>b.xMin-margin&&a.xMin-margin<b.xMax+margin,xDistance=yOverlap?a.xMin>b.xMax?a.xMin-b.xMax:b.xMin-a.xMax:Infinity,yDistance=xOverlap?a.yMin>b.yMax?a.yMin-b.yMax:b.yMin-a.yMax:Infinity;if(xOverlap&&yOverlap){return margin?distance(a,b,Math.floor(margin/2)):Infinity}return min(xDistance,yDistance)}function warnLegacy(chart){if(chart.options.pathfinder||chart.series.reduce(function(acc,series){if(series.options){merge(true,series.options.connectors=series.options.connectors||{},series.options.pathfinder)}return acc||series.options&&series.options.pathfinder},false)){merge(true,chart.options.connectors=chart.options.connectors||{},chart.options.pathfinder);error("WARNING: Pathfinder options have been renamed. "+'Use "chart.connectors" or "series.connectors" instead.')}}var legacy={calculateObstacleMargin:calculateObstacleMargin,distance:distance,warnLegacy:warnLegacy};export default legacy;