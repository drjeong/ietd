"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();import ColumnRangePoint from"./ColumnRangePoint.js";import H from"../../Core/Globals.js";var noop=H.noop;import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";var _a=SeriesRegistry.seriesTypes,AreaRangeSeries=_a.arearange,ColumnSeries=_a.column,columnProto=_a.column.prototype;import U from"../../Core/Utilities.js";var addEvent=U.addEvent,clamp=U.clamp,extend=U.extend,isNumber=U.isNumber,merge=U.merge,pick=U.pick;var columnRangeOptions={borderRadius:{where:"all"},pointRange:null,legendSymbol:"rectangle",marker:null,states:{hover:{halo:false}}};var ColumnRangeSeries=function(_super){__extends(ColumnRangeSeries,_super);function ColumnRangeSeries(){return _super!==null&&_super.apply(this,arguments)||this}ColumnRangeSeries.prototype.setOptions=function(){merge(true,arguments[0],{stacking:void 0});return AreaRangeSeries.prototype.setOptions.apply(this,arguments)};ColumnRangeSeries.prototype.translate=function(){return columnProto.translate.apply(this)};ColumnRangeSeries.prototype.pointAttribs=function(){return columnProto.pointAttribs.apply(this,arguments)};ColumnRangeSeries.prototype.translate3dPoints=function(){return columnProto.translate3dPoints.apply(this,arguments)};ColumnRangeSeries.prototype.translate3dShapes=function(){return columnProto.translate3dShapes.apply(this,arguments)};ColumnRangeSeries.prototype.afterColumnTranslate=function(){var _this=this;var yAxis=this.yAxis,xAxis=this.xAxis,startAngleRad=xAxis.startAngleRad,chart=this.chart,isRadial=this.xAxis.isRadial,safeDistance=Math.max(chart.chartWidth,chart.chartHeight)+999;var height,heightDifference,start,y;function safeBounds(pixelPos){return clamp(pixelPos,-safeDistance,safeDistance)}this.points.forEach(function(point){var shapeArgs=point.shapeArgs||{},minPointLength=_this.options.minPointLength,plotY=point.plotY,plotHigh=yAxis.translate(point.high,0,1,0,1);if(isNumber(plotHigh)&&isNumber(plotY)){point.plotHigh=safeBounds(plotHigh);point.plotLow=safeBounds(plotY);y=point.plotHigh;height=pick(point.rectPlotY,point.plotY)-point.plotHigh;if(Math.abs(height)<minPointLength){heightDifference=minPointLength-height;height+=heightDifference;y-=heightDifference/2}else if(height<0){height*=-1;y-=height}if(isRadial&&_this.polar){start=point.barX+startAngleRad;point.shapeType="arc";point.shapeArgs=_this.polar.arc(y+height,y,start,start+point.pointWidth)}else{shapeArgs.height=height;shapeArgs.y=y;var _a=shapeArgs.x,x=_a===void 0?0:_a,_b=shapeArgs.width,width=_b===void 0?0:_b;point.shapeArgs=merge(point.shapeArgs,_this.crispCol(x,y,width,height));point.tooltipPos=chart.inverted?[yAxis.len+yAxis.pos-chart.plotLeft-y-height/2,xAxis.len+xAxis.pos-chart.plotTop-x-width/2,height]:[xAxis.left-chart.plotLeft+x+width/2,yAxis.pos-chart.plotTop+y+height/2,height]}}})};ColumnRangeSeries.defaultOptions=merge(ColumnSeries.defaultOptions,AreaRangeSeries.defaultOptions,columnRangeOptions);return ColumnRangeSeries}(AreaRangeSeries);addEvent(ColumnRangeSeries,"afterColumnTranslate",function(){ColumnRangeSeries.prototype.afterColumnTranslate.apply(this)},{order:5});extend(ColumnRangeSeries.prototype,{directTouch:true,pointClass:ColumnRangePoint,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:columnProto.adjustForMissingColumns,animate:columnProto.animate,crispCol:columnProto.crispCol,drawGraph:noop,drawPoints:columnProto.drawPoints,getSymbol:noop,drawTracker:columnProto.drawTracker,getColumnMetrics:columnProto.getColumnMetrics});SeriesRegistry.registerSeriesType("columnrange",ColumnRangeSeries);export default ColumnRangeSeries;"";