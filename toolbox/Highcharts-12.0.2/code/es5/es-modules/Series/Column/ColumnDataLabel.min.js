"use strict";import DataLabel from"../../Core/Series/DataLabel.js";import H from"../../Core/Globals.js";var composed=H.composed;import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";var Series=SeriesRegistry.series;import U from"../../Core/Utilities.js";var merge=U.merge,pick=U.pick,pushUnique=U.pushUnique;var ColumnDataLabel;(function(ColumnDataLabel){function alignDataLabel(point,dataLabel,options,alignTo,isNew){var inverted=this.chart.inverted,series=point.series,xLen=(series.xAxis?series.xAxis.len:this.chart.plotSizeX)||0,yLen=(series.yAxis?series.yAxis.len:this.chart.plotSizeY)||0,dlBox=point.dlBox||point.shapeArgs,below=pick(point.below,point.plotY>pick(this.translatedThreshold,yLen)),inside=pick(options.inside,!!this.options.stacking);if(dlBox){alignTo=merge(dlBox);if(!(options.overflow==="allow"&&options.crop===false)){if(alignTo.y<0){alignTo.height+=alignTo.y;alignTo.y=0}var overshoot=alignTo.y+alignTo.height-yLen;if(overshoot>0&&overshoot<alignTo.height-1){alignTo.height-=overshoot}}if(inverted){alignTo={x:yLen-alignTo.y-alignTo.height,y:xLen-alignTo.x-alignTo.width,width:alignTo.height,height:alignTo.width}}if(!inside){if(inverted){alignTo.x+=below?0:alignTo.width;alignTo.width=0}else{alignTo.y+=below?alignTo.height:0;alignTo.height=0}}}options.align=pick(options.align,!inverted||inside?"center":below?"right":"left");options.verticalAlign=pick(options.verticalAlign,inverted||inside?"middle":below?"top":"bottom");Series.prototype.alignDataLabel.call(this,point,dataLabel,options,alignTo,isNew);if(options.inside&&point.contrastColor){dataLabel.css({color:point.contrastColor})}}function compose(ColumnSeriesClass){DataLabel.compose(Series);if(pushUnique(composed,"ColumnDataLabel")){ColumnSeriesClass.prototype.alignDataLabel=alignDataLabel}}ColumnDataLabel.compose=compose})(ColumnDataLabel||(ColumnDataLabel={}));export default ColumnDataLabel;