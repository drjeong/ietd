"use strict";import HeaderRow from"./HeaderRow.js";import Utils from"../../../Core/Utilities.js";var getStyle=Utils.getStyle;var TableHeader=function(){function TableHeader(viewport){var _a,_b;this.columns=[];this.rows=[];this.levels=1;this.viewport=viewport;this.columns=viewport.columns;if((_a=viewport.dataGrid.options)===null||_a===void 0?void 0:_a.header){this.levels=this.getRowLevels((_b=viewport.dataGrid.options)===null||_b===void 0?void 0:_b.header)}}TableHeader.prototype.render=function(){var vp=this.viewport;var dataGrid=vp.dataGrid;if(!dataGrid.enabledColumns){return}for(var i=0,iEnd=this.levels;i<iEnd;i++){var row=new HeaderRow(vp,i+1);row.renderMultipleLevel(i);this.rows.push(row)}};TableHeader.prototype.reflow=function(){var vp=this.viewport;if(!vp.theadElement){return}var _a=vp.tbodyElement,clientWidth=_a.clientWidth,offsetWidth=_a.offsetWidth;var header=vp.header;var rows=this.rows;var tableEl=header===null||header===void 0?void 0:header.viewport.dataGrid.tableElement;var theadEL=header===null||header===void 0?void 0:header.viewport.theadElement;var theadBorder=theadEL&&getStyle(theadEL,"border-right-width",true)||0;var tableBorder=tableEl&&getStyle(tableEl,"border-right-width",true)||0;var bordersWidth=offsetWidth-clientWidth-theadBorder-tableBorder;for(var _i=0,rows_1=rows;_i<rows_1.length;_i++){var row=rows_1[_i];row.reflow()}if(vp.rowsWidth){vp.theadElement.style.width=Math.max(vp.rowsWidth,clientWidth)+bordersWidth+"px"}if(header&&bordersWidth>0){var cells=header.rows[header.rows.length-1].cells;var cellHtmlElement=cells[cells.length-1].htmlElement;cellHtmlElement.style.width=cellHtmlElement.style.maxWidth=cellHtmlElement.offsetWidth+bordersWidth+"px"}};TableHeader.prototype.getRowLevels=function(scope){var maxDepth=0;for(var _i=0,scope_1=scope;_i<scope_1.length;_i++){var item=scope_1[_i];if(typeof item!=="string"&&item.columns){var depth=this.getRowLevels(item.columns);if(depth>maxDepth){maxDepth=depth}}}return maxDepth+1};TableHeader.prototype.scrollHorizontally=function(scrollLeft){var el=this.viewport.theadElement;if(!el){return}el.style.transform="translateX(".concat(-scrollLeft,"px)")};return TableHeader}();export default TableHeader;