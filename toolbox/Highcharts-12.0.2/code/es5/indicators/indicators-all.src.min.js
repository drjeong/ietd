(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("highcharts"),require("highcharts")["Chart"],require("highcharts")["SeriesRegistry"],require("highcharts")["dataGrouping"]["approximations"],require("highcharts")["Color"]);else if(typeof define==="function"&&define.amd)define("highcharts/indicators/indicators-all",[["highcharts/highcharts"],["highcharts/highcharts","Chart"],["highcharts/highcharts","SeriesRegistry"],["highcharts/highcharts","dataGrouping","approximations"],["highcharts/highcharts","Color"]],factory);else if(typeof exports==="object")exports["highcharts/indicators/indicators-all"]=factory(require("highcharts"),require("highcharts")["Chart"],require("highcharts")["SeriesRegistry"],require("highcharts")["dataGrouping"]["approximations"],require("highcharts")["Color"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["Chart"],root["Highcharts"]["SeriesRegistry"],root["Highcharts"]["dataGrouping"]["approximations"],root["Highcharts"]["Color"])})(this,function(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__960__,__WEBPACK_EXTERNAL_MODULE__512__,__WEBPACK_EXTERNAL_MODULE__956__,__WEBPACK_EXTERNAL_MODULE__620__){return function(){"use strict";var __webpack_modules__={960:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__960__},620:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__620__},512:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__512__},956:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__956__},944:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,{a:getter});return getter}}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return indicators_all_src}});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var highcharts_Chart_commonjs_highcharts_Chart_commonjs2_highcharts_Chart_root_Highcharts_Chart_=__webpack_require__(960);var highcharts_Chart_commonjs_highcharts_Chart_commonjs2_highcharts_Chart_root_Highcharts_Chart_default=__webpack_require__.n(highcharts_Chart_commonjs_highcharts_Chart_commonjs2_highcharts_Chart_root_Highcharts_Chart_);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);var __extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __assign=undefined&&undefined.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __spreadArray=undefined&&undefined.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var LineSeries=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.line;var addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,fireEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().fireEvent,error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;var tableToMultiYData=function(series,processed){var yData=[],pointArrayMap=series.pointArrayMap,table=processed&&series.dataTable.modified||series.dataTable;if(!pointArrayMap){return series.getColumn("y",processed)}var columns=pointArrayMap.map(function(key){return series.getColumn(key,processed)});var _loop_1=function(i){var values=pointArrayMap.map(function(key,colIndex){var _a;return((_a=columns[colIndex])===null||_a===void 0?void 0:_a[i])||0});yData.push(values)};for(var i=0;i<table.rowCount;i++){_loop_1(i)}return yData};var SMAIndicator=function(_super){__extends(SMAIndicator,_super);function SMAIndicator(){return _super!==null&&_super.apply(this,arguments)||this}SMAIndicator.prototype.destroy=function(){this.dataEventsToUnbind.forEach(function(unbinder){unbinder()});_super.prototype.destroy.apply(this,arguments)};SMAIndicator.prototype.getName=function(){var params=[];var name=this.name;if(!name){(this.nameComponents||[]).forEach(function(component,index){params.push(this.options.params[component]+pick(this.nameSuffixes[index],""))},this);name=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+params.join(", ")+")":"")}return name};SMAIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData||[],yVal=series.yData,yValLen=yVal.length,SMA=[],xData=[],yData=[];var i,index=-1,range=0,SMAPoint,sum=0;if(xVal.length<period){return}if(isArray(yVal[0])){index=params.index?params.index:0}while(range<period-1){sum+=index<0?yVal[range]:yVal[range][index];range++}for(i=range;i<yValLen;i++){sum+=index<0?yVal[i]:yVal[i][index];SMAPoint=[xVal[i],sum/period];SMA.push(SMAPoint);xData.push(SMAPoint[0]);yData.push(SMAPoint[1]);sum-=index<0?yVal[i-range]:yVal[i-range][index]}return{values:SMA,xData:xData,yData:yData}};SMAIndicator.prototype.init=function(chart,options){var indicator=this;_super.prototype.init.call(indicator,chart,options);var linkedSeriesUnbiner=addEvent(highcharts_Chart_commonjs_highcharts_Chart_commonjs2_highcharts_Chart_root_Highcharts_Chart_default(),"afterLinkSeries",function(_a){var isUpdating=_a.isUpdating;if(isUpdating){return}var hasEvents=!!indicator.dataEventsToUnbind.length;if(indicator.linkedParent){if(!hasEvents){indicator.dataEventsToUnbind.push(addEvent(indicator.linkedParent,"updatedData",function(){indicator.recalculateValues()}));if(indicator.calculateOn.xAxis){indicator.dataEventsToUnbind.push(addEvent(indicator.linkedParent.xAxis,indicator.calculateOn.xAxis,function(){indicator.recalculateValues()}))}}if(indicator.calculateOn.chart==="init"){if(!indicator.closestPointRange){indicator.recalculateValues()}}else if(!hasEvents){var unbinder_1=addEvent(indicator.chart,indicator.calculateOn.chart,function(){indicator.recalculateValues();unbinder_1()})}}else{return error("Series "+indicator.options.linkedTo+" not found! Check `linkedTo`.",false,chart)}},{order:0});indicator.dataEventsToUnbind=[];indicator.eventsToUnbind.push(linkedSeriesUnbiner)};SMAIndicator.prototype.recalculateValues=function(){var _this=this;var _a;var croppedDataValues=[],indicator=this,table=this.dataTable,oldData=indicator.points||[],oldDataLength=indicator.dataTable.rowCount,emptySet={values:[],xData:[],yData:[]};var overwriteData=true,oldFirstPointIndex,oldLastPointIndex,min,max;var yData=indicator.linkedParent.yData,processedYData=indicator.linkedParent.processedYData;indicator.linkedParent.xData=indicator.linkedParent.getColumn("x");indicator.linkedParent.yData=tableToMultiYData(indicator.linkedParent);indicator.linkedParent.processedYData=tableToMultiYData(indicator.linkedParent,true);var processedData=indicator.linkedParent.options&&indicator.linkedParent.dataTable.rowCount?indicator.getValues(indicator.linkedParent,indicator.options.params)||emptySet:emptySet;delete indicator.linkedParent.xData;indicator.linkedParent.yData=yData;indicator.linkedParent.processedYData=processedYData;var pointArrayMap=indicator.pointArrayMap||["y"],valueColumns={};processedData.yData.forEach(function(values){pointArrayMap.forEach(function(key,index){var column=valueColumns[key]||[];column.push(isArray(values)?values[index]:values);if(!valueColumns[key]){valueColumns[key]=column}})});if(oldDataLength&&!indicator.hasGroupedData&&indicator.visible&&indicator.points){if(indicator.cropped){if(indicator.xAxis){min=indicator.xAxis.min;max=indicator.xAxis.max}var croppedData=indicator.cropData(table,min,max);var keys=__spreadArray(["x"],indicator.pointArrayMap||["y"],true);var _loop_2=function(i){var values=keys.map(function(key){return _this.getColumn(key)[i]||0});croppedDataValues.push(values)};for(var i=0;i<(((_a=croppedData.modified)===null||_a===void 0?void 0:_a.rowCount)||0);i++){_loop_2(i)}var indicatorXData=indicator.getColumn("x");oldFirstPointIndex=processedData.xData.indexOf(indicatorXData[0]);oldLastPointIndex=processedData.xData.indexOf(indicatorXData[indicatorXData.length-1]);if(oldFirstPointIndex===-1&&oldLastPointIndex===processedData.xData.length-2){if(croppedDataValues[0][0]===oldData[0].x){croppedDataValues.shift()}}indicator.updateData(croppedDataValues)}else if(indicator.updateAllPoints||processedData.xData.length!==oldDataLength-1&&processedData.xData.length!==oldDataLength+1){overwriteData=false;indicator.updateData(processedData.values)}}if(overwriteData){table.setColumns(__assign(__assign({},valueColumns),{x:processedData.xData}));indicator.options.data=processedData.values}if(indicator.calculateOn.xAxis&&indicator.getColumn("x",true).length){indicator.isDirty=true;indicator.redraw()}indicator.isDirtyData=!!indicator.linkedSeries.length;fireEvent(indicator,"updatedData")};SMAIndicator.prototype.processData=function(){var series=this,compareToMain=series.options.compareToMain,linkedParent=series.linkedParent;_super.prototype.processData.apply(series,arguments);if(series.dataModify&&linkedParent&&linkedParent.dataModify&&linkedParent.dataModify.compareValue&&compareToMain){series.dataModify.compareValue=linkedParent.dataModify.compareValue}return};SMAIndicator.defaultOptions=merge(LineSeries.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:false,params:{index:3,period:14}});return SMAIndicator}(LineSeries);extend(SMAIndicator.prototype,{calculateOn:{chart:"init"},hasDerivedData:true,nameComponents:["period"],nameSuffixes:[],useCommonDataGrouping:true});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("sma",SMAIndicator);var SMA_SMAIndicator=null&&SMAIndicator;"";var EMAIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var EMAIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,EMAIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,EMAIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var EMAIndicator=function(_super){EMAIndicator_extends(EMAIndicator,_super);function EMAIndicator(){return _super!==null&&_super.apply(this,arguments)||this}EMAIndicator.prototype.accumulatePeriodPoints=function(period,index,yVal){var sum=0,i=0,y=0;while(i<period){y=index<0?yVal[i]:yVal[i][index];sum=sum+y;i++}return sum};EMAIndicator.prototype.calculateEma=function(xVal,yVal,i,EMApercent,calEMA,index,SMA){var x=xVal[i-1],yValue=index<0?yVal[i-1]:yVal[i-1][index],y=typeof calEMA==="undefined"?SMA:correctFloat(yValue*EMApercent+calEMA*(1-EMApercent));return[x,y]};EMAIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,EMApercent=2/(period+1),EMA=[],xData=[],yData=[];var calEMA,EMAPoint,i,index=-1,sum=0,SMA=0;if(yValLen<period){return}if(EMAIndicator_isArray(yVal[0])){index=params.index?params.index:0}sum=this.accumulatePeriodPoints(period,index,yVal);SMA=sum/period;for(i=period;i<yValLen+1;i++){EMAPoint=this.calculateEma(xVal,yVal,i,EMApercent,calEMA,index,SMA);EMA.push(EMAPoint);xData.push(EMAPoint[0]);yData.push(EMAPoint[1]);calEMA=EMAPoint[1]}return{values:EMA,xData:xData,yData:yData}};EMAIndicator.defaultOptions=EMAIndicator_merge(EMAIndicator_SMAIndicator.defaultOptions,{params:{index:3,period:9}});return EMAIndicator}(EMAIndicator_SMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("ema",EMAIndicator);var EMA_EMAIndicator=null&&EMAIndicator;"";var ADIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var ADIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var ADIndicator_error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,ADIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,ADIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var ADIndicator=function(_super){ADIndicator_extends(ADIndicator,_super);function ADIndicator(){return _super!==null&&_super.apply(this,arguments)||this}ADIndicator.populateAverage=function(xVal,yVal,yValVolume,i,_period){var high=yVal[i][1],low=yVal[i][2],close=yVal[i][3],volume=yValVolume[i],adY=close===high&&close===low||high===low?0:(2*close-low-high)/(high-low)*volume,adX=xVal[i];return[adX,adY]};ADIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,volumeSeriesID=params.volumeSeriesID,volumeSeries=series.chart.get(volumeSeriesID),yValVolume=volumeSeries===null||volumeSeries===void 0?void 0:volumeSeries.getColumn("y"),yValLen=yVal?yVal.length:0,AD=[],xData=[],yData=[];var len,i,ADPoint;if(xVal.length<=period&&yValLen&&yVal[0].length!==4){return}if(!volumeSeries){ADIndicator_error("Series "+volumeSeriesID+" not found! Check `volumeSeriesID`.",true,series.chart);return}for(i=period;i<yValLen;i++){len=AD.length;ADPoint=ADIndicator.populateAverage(xVal,yVal,yValVolume,i,period);if(len>0){ADPoint[1]+=AD[len-1][1]}AD.push(ADPoint);xData.push(ADPoint[0]);yData.push(ADPoint[1])}return{values:AD,xData:xData,yData:yData}};ADIndicator.defaultOptions=ADIndicator_merge(ADIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}});return ADIndicator}(ADIndicator_SMAIndicator);ADIndicator_extend(ADIndicator.prototype,{nameComponents:false,nameBase:"Accumulation/Distribution"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("ad",ADIndicator);var AD_ADIndicator=ADIndicator;"";var AOIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var noop=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().noop;var _a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes,columnProto=_a.column.prototype,AOIndicator_SMAIndicator=_a.sma;var AOIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,AOIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,AOIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,AOIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray;var AOIndicator=function(_super){AOIndicator_extends(AOIndicator,_super);function AOIndicator(){return _super!==null&&_super.apply(this,arguments)||this}AOIndicator.prototype.drawGraph=function(){var indicator=this,options=indicator.options,points=indicator.points,userColor=indicator.userOptions.color,positiveColor=options.greaterBarColor,negativeColor=options.lowerBarColor,firstPoint=points[0];var i;if(!userColor&&firstPoint){firstPoint.color=positiveColor;for(i=1;i<points.length;i++){if(points[i].y>points[i-1].y){points[i].color=positiveColor}else if(points[i].y<points[i-1].y){points[i].color=negativeColor}else{points[i].color=points[i-1].color}}}};AOIndicator.prototype.getValues=function(series){var shortPeriod=5,longPeriod=34,xVal=series.xData||[],yVal=series.yData||[],yValLen=yVal.length,AO=[],xData=[],yData=[],high=1,low=2;var shortSMA,longSMA,awesome,shortLastIndex,longLastIndex,price,i,j,longSum=0,shortSum=0;if(xVal.length<=longPeriod||!AOIndicator_isArray(yVal[0])||yVal[0].length!==4){return}for(i=0;i<longPeriod-1;i++){price=(yVal[i][high]+yVal[i][low])/2;if(i>=longPeriod-shortPeriod){shortSum=AOIndicator_correctFloat(shortSum+price)}longSum=AOIndicator_correctFloat(longSum+price)}for(j=longPeriod-1;j<yValLen;j++){price=(yVal[j][high]+yVal[j][low])/2;shortSum=AOIndicator_correctFloat(shortSum+price);longSum=AOIndicator_correctFloat(longSum+price);shortSMA=shortSum/shortPeriod;longSMA=longSum/longPeriod;awesome=AOIndicator_correctFloat(shortSMA-longSMA);AO.push([xVal[j],awesome]);xData.push(xVal[j]);yData.push(awesome);shortLastIndex=j+1-shortPeriod;longLastIndex=j+1-longPeriod;shortSum=AOIndicator_correctFloat(shortSum-(yVal[shortLastIndex][high]+yVal[shortLastIndex][low])/2);longSum=AOIndicator_correctFloat(longSum-(yVal[longLastIndex][high]+yVal[longLastIndex][low])/2)}return{values:AO,xData:xData,yData:yData}};AOIndicator.defaultOptions=AOIndicator_merge(AOIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:false,states:{hover:{halo:{size:0}}}});return AOIndicator}(AOIndicator_SMAIndicator);AOIndicator_extend(AOIndicator.prototype,{nameBase:"AO",nameComponents:void 0,markerAttribs:noop,getColumnMetrics:columnProto.getColumnMetrics,crispCol:columnProto.crispCol,translate:columnProto.translate,drawPoints:columnProto.drawPoints});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("ao",AOIndicator);var AO_AOIndicator=null&&AOIndicator;"";var smaProto=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype;var defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,MultipleLinesComposition_error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,MultipleLinesComposition_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var MultipleLinesComposition;(function(MultipleLinesComposition){var linesApiNames=["bottomLine"];var pointArrayMap=["top","bottom"];var areaLinesNames=["top"];var pointValKey="top";function compose(IndicatorClass){var proto=IndicatorClass.prototype;proto.linesApiNames=proto.linesApiNames||linesApiNames.slice();proto.pointArrayMap=proto.pointArrayMap||pointArrayMap.slice();proto.pointValKey=proto.pointValKey||pointValKey;proto.areaLinesNames=proto.areaLinesNames||areaLinesNames.slice();proto.drawGraph=indicatorDrawGraph;proto.getGraphPath=indicatorGetGraphPath;proto.toYData=indicatorToYData;proto.translate=indicatorTranslate;return IndicatorClass}MultipleLinesComposition.compose=compose;function getLineName(propertyName){return"plot"+propertyName.charAt(0).toUpperCase()+propertyName.slice(1)}function getTranslatedLinesNames(indicator,excludedValue){var translatedLines=[];(indicator.pointArrayMap||[]).forEach(function(propertyName){if(propertyName!==excludedValue){translatedLines.push(getLineName(propertyName))}});return translatedLines}function indicatorDrawGraph(){var indicator=this,pointValKey=indicator.pointValKey,linesApiNames=indicator.linesApiNames,areaLinesNames=indicator.areaLinesNames,mainLinePoints=indicator.points,mainLineOptions=indicator.options,mainLinePath=indicator.graph,gappedExtend={options:{gapSize:mainLineOptions.gapSize}},secondaryLines=[],secondaryLinesNames=getTranslatedLinesNames(indicator,pointValKey);var pointsLength=mainLinePoints.length,point;secondaryLinesNames.forEach(function(plotLine,index){secondaryLines[index]=[];while(pointsLength--){point=mainLinePoints[pointsLength];secondaryLines[index].push({x:point.x,plotX:point.plotX,plotY:point[plotLine],isNull:!defined(point[plotLine])})}pointsLength=mainLinePoints.length});if(indicator.userOptions.fillColor&&areaLinesNames.length){var index=secondaryLinesNames.indexOf(getLineName(areaLinesNames[0])),secondLinePoints=secondaryLines[index],firstLinePoints=areaLinesNames.length===1?mainLinePoints:secondaryLines[secondaryLinesNames.indexOf(getLineName(areaLinesNames[1]))],originalColor=indicator.color;indicator.points=firstLinePoints;indicator.nextPoints=secondLinePoints;indicator.color=indicator.userOptions.fillColor;indicator.options=MultipleLinesComposition_merge(mainLinePoints,gappedExtend);indicator.graph=indicator.area;indicator.fillGraph=true;smaProto.drawGraph.call(indicator);indicator.area=indicator.graph;delete indicator.nextPoints;delete indicator.fillGraph;indicator.color=originalColor}linesApiNames.forEach(function(lineName,i){if(secondaryLines[i]){indicator.points=secondaryLines[i];if(mainLineOptions[lineName]){indicator.options=MultipleLinesComposition_merge(mainLineOptions[lineName].styles,gappedExtend)}else{MultipleLinesComposition_error('Error: "There is no '+lineName+" in DOCS options declared. Check if linesApiNames"+' are consistent with your DOCS line names."')}indicator.graph=indicator["graph"+lineName];smaProto.drawGraph.call(indicator);indicator["graph"+lineName]=indicator.graph}else{MultipleLinesComposition_error('Error: "'+lineName+" doesn't have equivalent "+"in pointArrayMap. To many elements in linesApiNames "+'relative to pointArrayMap."')}});indicator.points=mainLinePoints;indicator.options=mainLineOptions;indicator.graph=mainLinePath;smaProto.drawGraph.call(indicator)}function indicatorGetGraphPath(points){var areaPath,path=[],higherAreaPath=[];points=points||this.points;if(this.fillGraph&&this.nextPoints){areaPath=smaProto.getGraphPath.call(this,this.nextPoints);if(areaPath&&areaPath.length){areaPath[0][0]="L";path=smaProto.getGraphPath.call(this,points);higherAreaPath=areaPath.slice(0,path.length);for(var i=higherAreaPath.length-1;i>=0;i--){path.push(higherAreaPath[i])}}}else{path=smaProto.getGraphPath.apply(this,arguments)}return path}function indicatorToYData(point){var pointColl=[];(this.pointArrayMap||[]).forEach(function(propertyName){pointColl.push(point[propertyName])});return pointColl}function indicatorTranslate(){var _this=this;var pointArrayMap=this.pointArrayMap;var LinesNames=[],value;LinesNames=getTranslatedLinesNames(this);smaProto.translate.apply(this,arguments);this.points.forEach(function(point){pointArrayMap.forEach(function(propertyName,i){value=point[propertyName];if(_this.dataModify){value=_this.dataModify.modifyValue(value)}if(value!==null){point[LinesNames[i]]=_this.yAxis.toPixels(value,true)}})})}})(MultipleLinesComposition||(MultipleLinesComposition={}));var Indicators_MultipleLinesComposition=MultipleLinesComposition;var AroonIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var AroonIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var AroonIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,AroonIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,AroonIndicator_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;function getExtremeIndexInArray(arr,extreme){var extremeValue=arr[0],valueIndex=0,i;for(i=1;i<arr.length;i++){if(extreme==="max"&&arr[i]>=extremeValue||extreme==="min"&&arr[i]<=extremeValue){extremeValue=arr[i];valueIndex=i}}return valueIndex}var AroonIndicator=function(_super){AroonIndicator_extends(AroonIndicator,_super);function AroonIndicator(){return _super!==null&&_super.apply(this,arguments)||this}AroonIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,AR=[],xData=[],yData=[],low=2,high=1;var aroonUp,aroonDown,xLow,xHigh,i,slicedY;for(i=period-1;i<yValLen;i++){slicedY=yVal.slice(i-period+1,i+2);xLow=getExtremeIndexInArray(slicedY.map(function(elem){return AroonIndicator_pick(elem[low],elem)}),"min");xHigh=getExtremeIndexInArray(slicedY.map(function(elem){return AroonIndicator_pick(elem[high],elem)}),"max");aroonUp=xHigh/period*100;aroonDown=xLow/period*100;if(xVal[i+1]){AR.push([xVal[i+1],aroonUp,aroonDown]);xData.push(xVal[i+1]);yData.push([aroonUp,aroonDown])}}return{values:AR,xData:xData,yData:yData}};AroonIndicator.defaultOptions=AroonIndicator_merge(AroonIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:false},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}});return AroonIndicator}(AroonIndicator_SMAIndicator);AroonIndicator_extend(AroonIndicator.prototype,{areaLinesNames:[],linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y"});Indicators_MultipleLinesComposition.compose(AroonIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("aroon",AroonIndicator);var Aroon_AroonIndicator=null&&AroonIndicator;"";var AroonOscillatorIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var AroonOscillatorIndicator_AroonIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.aroon;var AroonOscillatorIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,AroonOscillatorIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var AroonOscillatorIndicator=function(_super){AroonOscillatorIndicator_extends(AroonOscillatorIndicator,_super);function AroonOscillatorIndicator(){return _super!==null&&_super.apply(this,arguments)||this}AroonOscillatorIndicator.prototype.getValues=function(series,params){var ARO=[],xData=[],yData=[];var aroonUp,aroonDown,oscillator,i;var aroon=_super.prototype.getValues.call(this,series,params);for(i=0;i<aroon.yData.length;i++){aroonUp=aroon.yData[i][0];aroonDown=aroon.yData[i][1];oscillator=aroonUp-aroonDown;ARO.push([aroon.xData[i],oscillator]);xData.push(aroon.xData[i]);yData.push(oscillator)}return{values:ARO,xData:xData,yData:yData}};AroonOscillatorIndicator.defaultOptions=AroonOscillatorIndicator_merge(AroonOscillatorIndicator_AroonIndicator.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}});return AroonOscillatorIndicator}(AroonOscillatorIndicator_AroonIndicator);AroonOscillatorIndicator_extend(AroonOscillatorIndicator.prototype,{nameBase:"Aroon Oscillator",linesApiNames:[],pointArrayMap:["y"],pointValKey:"y"});Indicators_MultipleLinesComposition.compose(AroonOscillatorIndicator_AroonIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("aroonoscillator",AroonOscillatorIndicator);var AroonOscillator_AroonOscillatorIndicator=null&&AroonOscillatorIndicator;"";var ATRIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var ATRIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var ATRIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,ATRIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;function accumulateAverage(points,xVal,yVal,i){var xValue=xVal[i],yValue=yVal[i];points.push([xValue,yValue])}function getTR(currentPoint,prevPoint){var pointY=currentPoint,prevY=prevPoint,HL=pointY[1]-pointY[2],HCp=typeof prevY==="undefined"?0:Math.abs(pointY[1]-prevY[3]),LCp=typeof prevY==="undefined"?0:Math.abs(pointY[2]-prevY[3]),TR=Math.max(HL,HCp,LCp);return TR}function populateAverage(points,xVal,yVal,i,period,prevATR){var x=xVal[i-1],TR=getTR(yVal[i-1],yVal[i-2]),y=(prevATR*(period-1)+TR)/period;return[x,y]}var ATRIndicator=function(_super){ATRIndicator_extends(ATRIndicator,_super);function ATRIndicator(){return _super!==null&&_super.apply(this,arguments)||this}ATRIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,xValue=xVal[0],yValue=yVal[0],points=[[xValue,yValue]],ATR=[],xData=[],yData=[];var point,i,prevATR=0,range=1,TR=0;if(xVal.length<=period||!ATRIndicator_isArray(yVal[0])||yVal[0].length!==4){return}for(i=1;i<=yValLen;i++){accumulateAverage(points,xVal,yVal,i);if(period<range){point=populateAverage(points,xVal,yVal,i,period,prevATR);prevATR=point[1];ATR.push(point);xData.push(point[0]);yData.push(point[1])}else if(period===range){prevATR=TR/(i-1);ATR.push([xVal[i-1],prevATR]);xData.push(xVal[i-1]);yData.push(prevATR);range++}else{TR+=getTR(yVal[i-1],yVal[i-2]);range++}}return{values:ATR,xData:xData,yData:yData}};ATRIndicator.defaultOptions=ATRIndicator_merge(ATRIndicator_SMAIndicator.defaultOptions,{params:{index:void 0}});return ATRIndicator}(ATRIndicator_SMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("atr",ATRIndicator);var ATR_ATRIndicator=null&&ATRIndicator;"";var BBIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var BBIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var BBIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,BBIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,BBIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;function getStandardDeviation(arr,index,isOHLC,mean){var arrLen=arr.length;var i=0,std=0,value,variance=0;for(;i<arrLen;i++){value=(isOHLC?arr[i][index]:arr[i])-mean;variance+=value*value}variance=variance/(arrLen-1);std=Math.sqrt(variance);return std}var BBIndicator=function(_super){BBIndicator_extends(BBIndicator,_super);function BBIndicator(){return _super!==null&&_super.apply(this,arguments)||this}BBIndicator.prototype.init=function(){highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.init.apply(this,arguments);this.options=BBIndicator_merge({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)};BBIndicator.prototype.getValues=function(series,params){var period=params.period,standardDeviation=params.standardDeviation,xData=[],yData=[],xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,BB=[];var ML,TL,BL,date,slicedX,slicedY,stdDev,point,i;if(xVal.length<period){return}var isOHLC=BBIndicator_isArray(yVal[0]);for(i=period;i<=yValLen;i++){slicedX=xVal.slice(i-period,i);slicedY=yVal.slice(i-period,i);point=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.getValues.call(this,{xData:slicedX,yData:slicedY},params);date=point.xData[0];ML=point.yData[0];stdDev=getStandardDeviation(slicedY,params.index,isOHLC,ML);TL=ML+standardDeviation*stdDev;BL=ML-standardDeviation*stdDev;BB.push([date,TL,ML,BL]);xData.push(date);yData.push([TL,ML,BL])}return{values:BB,xData:xData,yData:yData}};BBIndicator.defaultOptions=BBIndicator_merge(BBIndicator_SMAIndicator.defaultOptions,{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:false},dataGrouping:{approximation:"averages"}});return BBIndicator}(BBIndicator_SMAIndicator);BBIndicator_extend(BBIndicator.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","standardDeviation"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"});Indicators_MultipleLinesComposition.compose(BBIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("bb",BBIndicator);var BB_BBIndicator=null&&BBIndicator;"";var CCIIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var CCIIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var CCIIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,CCIIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;function sumArray(array){return array.reduce(function(prev,cur){return prev+cur},0)}function meanDeviation(arr,sma){var len=arr.length;var sum=0,i;for(i=0;i<len;i++){sum+=Math.abs(sma-arr[i])}return sum}var CCIIndicator=function(_super){CCIIndicator_extends(CCIIndicator,_super);function CCIIndicator(){return _super!==null&&_super.apply(this,arguments)||this}CCIIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,TP=[],CCI=[],xData=[],yData=[];var CCIPoint,p,periodTP=[],len,range=1,smaTP,TPtemp,meanDev,i;if(xVal.length<=period||!CCIIndicator_isArray(yVal[0])||yVal[0].length!==4){return}while(range<period){p=yVal[range-1];TP.push((p[1]+p[2]+p[3])/3);range++}for(i=period;i<=yValLen;i++){p=yVal[i-1];TPtemp=(p[1]+p[2]+p[3])/3;len=TP.push(TPtemp);periodTP=TP.slice(len-period);smaTP=sumArray(periodTP)/period;meanDev=meanDeviation(periodTP,smaTP)/period;CCIPoint=(TPtemp-smaTP)/(.015*meanDev);CCI.push([xVal[i-1],CCIPoint]);xData.push(xVal[i-1]);yData.push(CCIPoint)}return{values:CCI,xData:xData,yData:yData}};CCIIndicator.defaultOptions=CCIIndicator_merge(CCIIndicator_SMAIndicator.defaultOptions,{params:{index:void 0}});return CCIIndicator}(CCIIndicator_SMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("cci",CCIIndicator);var CCI_CCIIndicator=null&&CCIIndicator;"";var CMFIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var CMFIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var CMFIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var CMFIndicator=function(_super){CMFIndicator_extends(CMFIndicator,_super);function CMFIndicator(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.nameBase="Chaikin Money Flow";return _this}CMFIndicator.prototype.isValid=function(){var _a;var chart=this.chart,options=this.options,series=this.linkedParent,volumeSeries=this.volumeSeries||(this.volumeSeries=chart.get(options.params.volumeSeriesID)),isSeriesOHLC=((_a=series===null||series===void 0?void 0:series.pointArrayMap)===null||_a===void 0?void 0:_a.length)===4;function isLengthValid(serie){return serie.dataTable.rowCount>=options.params.period}return!!(series&&volumeSeries&&isLengthValid(series)&&isLengthValid(volumeSeries)&&isSeriesOHLC)};CMFIndicator.prototype.getValues=function(series,params){if(!this.isValid()){return}return this.getMoneyFlow(series.xData,series.yData,this.volumeSeries.getColumn("y"),params.period)};CMFIndicator.prototype.getMoneyFlow=function(xData,seriesYData,volumeSeriesYData,period){var len=seriesYData.length,moneyFlowVolume=[],moneyFlowXData=[],moneyFlowYData=[],values=[];var i,point,nullIndex=-1,sumVolume=0,sumMoneyFlowVolume=0;function getMoneyFlowVolume(ohlc,volume){var high=ohlc[1],low=ohlc[2],close=ohlc[3],isValid=volume!==null&&high!==null&&low!==null&&close!==null&&high!==low;function getMoneyFlowMultiplier(h,l,c){return(c-l-(h-c))/(h-l)}return isValid?getMoneyFlowMultiplier(high,low,close)*volume:(nullIndex=i,null)}if(period>0&&period<=len){for(i=0;i<period;i++){moneyFlowVolume[i]=getMoneyFlowVolume(seriesYData[i],volumeSeriesYData[i]);sumVolume+=volumeSeriesYData[i];sumMoneyFlowVolume+=moneyFlowVolume[i]}moneyFlowXData.push(xData[i-1]);moneyFlowYData.push(i-nullIndex>=period&&sumVolume!==0?sumMoneyFlowVolume/sumVolume:null);values.push([moneyFlowXData[0],moneyFlowYData[0]]);for(;i<len;i++){moneyFlowVolume[i]=getMoneyFlowVolume(seriesYData[i],volumeSeriesYData[i]);sumVolume-=volumeSeriesYData[i-period];sumVolume+=volumeSeriesYData[i];sumMoneyFlowVolume-=moneyFlowVolume[i-period];sumMoneyFlowVolume+=moneyFlowVolume[i];point=[xData[i],i-nullIndex>=period?sumMoneyFlowVolume/sumVolume:null];moneyFlowXData.push(point[0]);moneyFlowYData.push(point[1]);values.push([point[0],point[1]])}}return{values:values,xData:moneyFlowXData,yData:moneyFlowYData}};CMFIndicator.defaultOptions=CMFIndicator_merge(CMFIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}});return CMFIndicator}(CMFIndicator_SMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("cmf",CMFIndicator);var CMF_CMFIndicator=null&&CMFIndicator;"";var DMIIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var DMIIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var DMIIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,DMIIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,DMIIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,DMIIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var DMIIndicator=function(_super){DMIIndicator_extends(DMIIndicator,_super);function DMIIndicator(){return _super!==null&&_super.apply(this,arguments)||this}DMIIndicator.prototype.calculateDM=function(yVal,i,isPositiveDM){var currentHigh=yVal[i][1],currentLow=yVal[i][2],previousHigh=yVal[i-1][1],previousLow=yVal[i-1][2];var DM;if(currentHigh-previousHigh>previousLow-currentLow){DM=isPositiveDM?Math.max(currentHigh-previousHigh,0):0}else{DM=!isPositiveDM?Math.max(previousLow-currentLow,0):0}return DMIIndicator_correctFloat(DM)};DMIIndicator.prototype.calculateDI=function(smoothedDM,tr){return smoothedDM/tr*100};DMIIndicator.prototype.calculateDX=function(plusDI,minusDI){return DMIIndicator_correctFloat(Math.abs(plusDI-minusDI)/Math.abs(plusDI+minusDI)*100)};DMIIndicator.prototype.smoothValues=function(accumulatedValues,currentValue,period){return DMIIndicator_correctFloat(accumulatedValues-accumulatedValues/period+currentValue)};DMIIndicator.prototype.getTR=function(currentPoint,prevPoint){return DMIIndicator_correctFloat(Math.max(currentPoint[1]-currentPoint[2],!prevPoint?0:Math.abs(currentPoint[1]-prevPoint[3]),!prevPoint?0:Math.abs(currentPoint[2]-prevPoint[3])))};DMIIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,DMI=[],xData=[],yData=[];if(xVal.length<=period||!DMIIndicator_isArray(yVal[0])||yVal[0].length!==4){return}var prevSmoothedPlusDM=0,prevSmoothedMinusDM=0,prevSmoothedTR=0,i;for(i=1;i<yValLen;i++){var smoothedPlusDM=void 0,smoothedMinusDM=void 0,smoothedTR=void 0,plusDM=void 0,minusDM=void 0,TR=void 0,plusDI=void 0,minusDI=void 0,DX=void 0;if(i<=period){plusDM=this.calculateDM(yVal,i,true);minusDM=this.calculateDM(yVal,i);TR=this.getTR(yVal[i],yVal[i-1]);prevSmoothedPlusDM+=plusDM;prevSmoothedMinusDM+=minusDM;prevSmoothedTR+=TR;if(i===period){plusDI=this.calculateDI(prevSmoothedPlusDM,prevSmoothedTR);minusDI=this.calculateDI(prevSmoothedMinusDM,prevSmoothedTR);DX=this.calculateDX(prevSmoothedPlusDM,prevSmoothedMinusDM);DMI.push([xVal[i],DX,plusDI,minusDI]);xData.push(xVal[i]);yData.push([DX,plusDI,minusDI])}}else{plusDM=this.calculateDM(yVal,i,true);minusDM=this.calculateDM(yVal,i);TR=this.getTR(yVal[i],yVal[i-1]);smoothedPlusDM=this.smoothValues(prevSmoothedPlusDM,plusDM,period);smoothedMinusDM=this.smoothValues(prevSmoothedMinusDM,minusDM,period);smoothedTR=this.smoothValues(prevSmoothedTR,TR,period);prevSmoothedPlusDM=smoothedPlusDM;prevSmoothedMinusDM=smoothedMinusDM;prevSmoothedTR=smoothedTR;plusDI=this.calculateDI(prevSmoothedPlusDM,prevSmoothedTR);minusDI=this.calculateDI(prevSmoothedMinusDM,prevSmoothedTR);DX=this.calculateDX(prevSmoothedPlusDM,prevSmoothedMinusDM);DMI.push([xVal[i],DX,plusDI,minusDI]);xData.push(xVal[i]);yData.push([DX,plusDI,minusDI])}}return{values:DMI,xData:xData,yData:yData}};DMIIndicator.defaultOptions=DMIIndicator_merge(DMIIndicator_SMAIndicator.defaultOptions,{params:{index:void 0},marker:{enabled:false},tooltip:{pointFormat:'<span style="color: {point.color}">'+"●</span><b> {series.name}</b><br/>"+'<span style="color: {point.color}">DX</span>: {point.y}<br/>'+'<span style="color: '+'{point.series.options.plusDILine.styles.lineColor}">'+"+DI</span>: {point.plusDI}<br/>"+'<span style="color: '+'{point.series.options.minusDILine.styles.lineColor}">'+"-DI</span>: {point.minusDI}<br/>"},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}});return DMIIndicator}(DMIIndicator_SMAIndicator);DMIIndicator_extend(DMIIndicator.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"});Indicators_MultipleLinesComposition.compose(DMIIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("dmi",DMIIndicator);var DMI_DMIIndicator=null&&DMIIndicator;"";var DPOIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var DPOIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var DPOIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,DPOIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,DPOIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,DPOIndicator_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;function accumulatePoints(sum,yVal,i,index,subtract){var price=DPOIndicator_pick(yVal[i][index],yVal[i]);if(subtract){return DPOIndicator_correctFloat(sum-price)}return DPOIndicator_correctFloat(sum+price)}var DPOIndicator=function(_super){DPOIndicator_extends(DPOIndicator,_super);function DPOIndicator(){return _super!==null&&_super.apply(this,arguments)||this}DPOIndicator.prototype.getValues=function(series,params){var period=params.period,index=params.index,offset=Math.floor(period/2+1),range=period+offset,xVal=series.xData||[],yVal=series.yData||[],yValLen=yVal.length,DPO=[],xData=[],yData=[];var oscillator,periodIndex,rangeIndex,price,i,j,sum=0;if(xVal.length<=range){return}for(i=0;i<period-1;i++){sum=accumulatePoints(sum,yVal,i,index)}for(j=0;j<=yValLen-range;j++){periodIndex=j+period-1;rangeIndex=j+range-1;sum=accumulatePoints(sum,yVal,periodIndex,index);price=DPOIndicator_pick(yVal[rangeIndex][index],yVal[rangeIndex]);oscillator=price-sum/period;sum=accumulatePoints(sum,yVal,j,index,true);DPO.push([xVal[rangeIndex],oscillator]);xData.push(xVal[rangeIndex]);yData.push(oscillator)}return{values:DPO,xData:xData,yData:yData}};DPOIndicator.defaultOptions=DPOIndicator_merge(DPOIndicator_SMAIndicator.defaultOptions,{params:{index:0,period:21}});return DPOIndicator}(DPOIndicator_SMAIndicator);DPOIndicator_extend(DPOIndicator.prototype,{nameBase:"DPO"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("dpo",DPOIndicator);var DPO_DPOIndicator=null&&DPOIndicator;"";var ChaikinIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var ChaikinIndicator_EMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.ema;var ChaikinIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,ChaikinIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,ChaikinIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,ChaikinIndicator_error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error;var ChaikinIndicator=function(_super){ChaikinIndicator_extends(ChaikinIndicator,_super);function ChaikinIndicator(){return _super!==null&&_super.apply(this,arguments)||this}ChaikinIndicator.prototype.getValues=function(series,params){var periods=params.periods,period=params.period,CHA=[],xData=[],yData=[];var oscillator,i;if(periods.length!==2||periods[1]<=periods[0]){ChaikinIndicator_error('Error: "Chaikin requires two periods. Notice, first '+'period should be lower than the second one."');return}var ADL=AD_ADIndicator.prototype.getValues.call(this,series,{volumeSeriesID:params.volumeSeriesID,period:period});if(!ADL){return}var SPE=_super.prototype.getValues.call(this,ADL,{period:periods[0]});var LPE=_super.prototype.getValues.call(this,ADL,{period:periods[1]});if(!SPE||!LPE){return}var periodsOffset=periods[1]-periods[0];for(i=0;i<LPE.yData.length;i++){oscillator=ChaikinIndicator_correctFloat(SPE.yData[i+periodsOffset]-LPE.yData[i]);CHA.push([LPE.xData[i],oscillator]);xData.push(LPE.xData[i]);yData.push(oscillator)}return{values:CHA,xData:xData,yData:yData}};ChaikinIndicator.defaultOptions=ChaikinIndicator_merge(ChaikinIndicator_EMAIndicator.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",period:9,periods:[3,10]}});return ChaikinIndicator}(ChaikinIndicator_EMAIndicator);ChaikinIndicator_extend(ChaikinIndicator.prototype,{nameBase:"Chaikin Osc",nameComponents:["periods"]});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("chaikin",ChaikinIndicator);var Chaikin_ChaikinIndicator=null&&ChaikinIndicator;"";var CMOIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var CMOIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,CMOIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var CMOIndicator=function(_super){CMOIndicator_extends(CMOIndicator,_super);function CMOIndicator(){return _super!==null&&_super.apply(this,arguments)||this}CMOIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,CMO=[],xData=[],yData=[];var i,index=params.index,values;if(xVal.length<period){return}if(isNumber(yVal[0])){values=yVal}else{index=Math.min(index,yVal[0].length-1);values=yVal.map(function(value){return value[index]})}var firstAddedSum=0,sumOfHigherValues=0,sumOfLowerValues=0,y;for(var j=period;j>0;j--){if(values[j]>values[j-1]){sumOfHigherValues+=values[j]-values[j-1]}else if(values[j]<values[j-1]){sumOfLowerValues+=values[j-1]-values[j]}}y=sumOfHigherValues+sumOfLowerValues>0?100*(sumOfHigherValues-sumOfLowerValues)/(sumOfHigherValues+sumOfLowerValues):0;xData.push(xVal[period]);yData.push(y);CMO.push([xVal[period],y]);for(i=period+1;i<yValLen;i++){firstAddedSum=Math.abs(values[i-period-1]-values[i-period]);if(values[i]>values[i-1]){sumOfHigherValues+=values[i]-values[i-1]}else if(values[i]<values[i-1]){sumOfLowerValues+=values[i-1]-values[i]}if(values[i-period]>values[i-period-1]){sumOfHigherValues-=firstAddedSum}else{sumOfLowerValues-=firstAddedSum}y=sumOfHigherValues+sumOfLowerValues>0?100*(sumOfHigherValues-sumOfLowerValues)/(sumOfHigherValues+sumOfLowerValues):0;xData.push(xVal[i]);yData.push(y);CMO.push([xVal[i],y])}return{values:CMO,xData:xData,yData:yData}};CMOIndicator.defaultOptions=CMOIndicator_merge(CMOIndicator_SMAIndicator.defaultOptions,{params:{period:20,index:3}});return CMOIndicator}(CMOIndicator_SMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("cmo",CMOIndicator);var CMO_CMOIndicator=null&&CMOIndicator;"";var DEMAIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var DEMAIndicator_EMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.ema;var DEMAIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,DEMAIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,DEMAIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var DEMAIndicator=function(_super){DEMAIndicator_extends(DEMAIndicator,_super);function DEMAIndicator(){return _super!==null&&_super.apply(this,arguments)||this}DEMAIndicator.prototype.getEMA=function(yVal,prevEMA,SMA,index,i,xVal){return _super.prototype.calculateEma.call(this,xVal||[],yVal,typeof i==="undefined"?1:i,this.EMApercent,prevEMA,typeof index==="undefined"?-1:index,SMA)};DEMAIndicator.prototype.getValues=function(series,params){var period=params.period,EMAvalues=[],doubledPeriod=2*period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,DEMA=[],xDataDema=[],yDataDema=[];var accumulatePeriodPoints=0,EMA=0,EMAlevel2,prevEMA,prevEMAlevel2,i,index=-1,DEMAPoint,SMA=0;this.EMApercent=2/(period+1);if(yValLen<2*period-1){return}if(DEMAIndicator_isArray(yVal[0])){index=params.index?params.index:0}accumulatePeriodPoints=_super.prototype.accumulatePeriodPoints.call(this,period,index,yVal);SMA=accumulatePeriodPoints/period;accumulatePeriodPoints=0;for(i=period;i<yValLen+2;i++){if(i<yValLen+1){EMA=this.getEMA(yVal,prevEMA,SMA,index,i)[1];EMAvalues.push(EMA)}prevEMA=EMA;if(i<doubledPeriod){accumulatePeriodPoints+=EMA}else{if(i===doubledPeriod){SMA=accumulatePeriodPoints/period}EMA=EMAvalues[i-period-1];EMAlevel2=this.getEMA([EMA],prevEMAlevel2,SMA)[1];DEMAPoint=[xVal[i-2],DEMAIndicator_correctFloat(2*EMA-EMAlevel2)];DEMA.push(DEMAPoint);xDataDema.push(DEMAPoint[0]);yDataDema.push(DEMAPoint[1]);prevEMAlevel2=EMAlevel2}}return{values:DEMA,xData:xDataDema,yData:yDataDema}};DEMAIndicator.defaultOptions=DEMAIndicator_merge(DEMAIndicator_EMAIndicator.defaultOptions);return DEMAIndicator}(DEMAIndicator_EMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("dema",DEMAIndicator);var DEMA_DEMAIndicator=null&&DEMAIndicator;"";var TEMAIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var TEMAIndicator_EMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.ema;var TEMAIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,TEMAIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,TEMAIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var TEMAIndicator=function(_super){TEMAIndicator_extends(TEMAIndicator,_super);function TEMAIndicator(){return _super!==null&&_super.apply(this,arguments)||this}TEMAIndicator.prototype.getEMA=function(yVal,prevEMA,SMA,index,i,xVal){return _super.prototype.calculateEma.call(this,xVal||[],yVal,typeof i==="undefined"?1:i,this.EMApercent,prevEMA,typeof index==="undefined"?-1:index,SMA)};TEMAIndicator.prototype.getTemaPoint=function(xVal,tripledPeriod,EMAlevels,i){var TEMAPoint=[xVal[i-3],TEMAIndicator_correctFloat(3*EMAlevels.level1-3*EMAlevels.level2+EMAlevels.level3)];return TEMAPoint};TEMAIndicator.prototype.getValues=function(series,params){var period=params.period,doubledPeriod=2*period,tripledPeriod=3*period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,tema=[],xDataTema=[],yDataTema=[],emaValues=[],emaLevel2Values=[],emaLevels={};var index=-1,accumulatePeriodPoints=0,sma=0,prevEMA,prevEMAlevel2,i,temaPoint;this.EMApercent=2/(period+1);if(yValLen<3*period-2){return}if(TEMAIndicator_isArray(yVal[0])){index=params.index?params.index:0}accumulatePeriodPoints=_super.prototype.accumulatePeriodPoints.call(this,period,index,yVal);sma=accumulatePeriodPoints/period;accumulatePeriodPoints=0;for(i=period;i<yValLen+3;i++){if(i<yValLen+1){emaLevels.level1=this.getEMA(yVal,prevEMA,sma,index,i)[1];emaValues.push(emaLevels.level1)}prevEMA=emaLevels.level1;if(i<doubledPeriod){accumulatePeriodPoints+=emaLevels.level1}else{if(i===doubledPeriod){sma=accumulatePeriodPoints/period;accumulatePeriodPoints=0}emaLevels.level1=emaValues[i-period-1];emaLevels.level2=this.getEMA([emaLevels.level1],prevEMAlevel2,sma)[1];emaLevel2Values.push(emaLevels.level2);prevEMAlevel2=emaLevels.level2;if(i<tripledPeriod){accumulatePeriodPoints+=emaLevels.level2}else{if(i===tripledPeriod){sma=accumulatePeriodPoints/period}if(i===yValLen+1){emaLevels.level1=emaValues[i-period-1];emaLevels.level2=this.getEMA([emaLevels.level1],prevEMAlevel2,sma)[1];emaLevel2Values.push(emaLevels.level2)}emaLevels.level1=emaValues[i-period-2];emaLevels.level2=emaLevel2Values[i-2*period-1];emaLevels.level3=this.getEMA([emaLevels.level2],emaLevels.prevLevel3,sma)[1];temaPoint=this.getTemaPoint(xVal,tripledPeriod,emaLevels,i);if(temaPoint){tema.push(temaPoint);xDataTema.push(temaPoint[0]);yDataTema.push(temaPoint[1])}emaLevels.prevLevel3=emaLevels.level3}}}return{values:tema,xData:xDataTema,yData:yDataTema}};TEMAIndicator.defaultOptions=TEMAIndicator_merge(TEMAIndicator_EMAIndicator.defaultOptions);return TEMAIndicator}(TEMAIndicator_EMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("tema",TEMAIndicator);var TEMA_TEMAIndicator=null&&TEMAIndicator;"";var TRIXIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var TRIXIndicator_TEMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.tema;var TRIXIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,TRIXIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var TRIXIndicator=function(_super){TRIXIndicator_extends(TRIXIndicator,_super);function TRIXIndicator(){return _super!==null&&_super.apply(this,arguments)||this}TRIXIndicator.prototype.getTemaPoint=function(xVal,tripledPeriod,EMAlevels,i){if(i>tripledPeriod){return[xVal[i-3],EMAlevels.prevLevel3!==0?TRIXIndicator_correctFloat(EMAlevels.level3-EMAlevels.prevLevel3)/EMAlevels.prevLevel3*100:null]}};TRIXIndicator.defaultOptions=TRIXIndicator_merge(TRIXIndicator_TEMAIndicator.defaultOptions);return TRIXIndicator}(TRIXIndicator_TEMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("trix",TRIXIndicator);var TRIX_TRIXIndicator=null&&TRIXIndicator;"";var APOIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var APOIndicator_EMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.ema;var APOIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,APOIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,APOIndicator_error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error;var APOIndicator=function(_super){APOIndicator_extends(APOIndicator,_super);function APOIndicator(){return _super!==null&&_super.apply(this,arguments)||this}APOIndicator.prototype.getValues=function(series,params){var periods=params.periods,index=params.index,APO=[],xData=[],yData=[];var oscillator,i;if(periods.length!==2||periods[1]<=periods[0]){APOIndicator_error('Error: "APO requires two periods. Notice, first period '+'should be lower than the second one."');return}var SPE=_super.prototype.getValues.call(this,series,{index:index,period:periods[0]});var LPE=_super.prototype.getValues.call(this,series,{index:index,period:periods[1]});if(!SPE||!LPE){return}var periodsOffset=periods[1]-periods[0];for(i=0;i<LPE.yData.length;i++){oscillator=SPE.yData[i+periodsOffset]-LPE.yData[i];APO.push([LPE.xData[i],oscillator]);xData.push(LPE.xData[i]);yData.push(oscillator)}return{values:APO,xData:xData,yData:yData}};APOIndicator.defaultOptions=APOIndicator_merge(APOIndicator_EMAIndicator.defaultOptions,{params:{period:void 0,periods:[10,20]}});return APOIndicator}(APOIndicator_EMAIndicator);APOIndicator_extend(APOIndicator.prototype,{nameBase:"APO",nameComponents:["periods"]});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("apo",APOIndicator);var APO_APOIndicator=null&&APOIndicator;"";var highcharts_dataGrouping_approximations_commonjs_highcharts_dataGrouping_approximations_commonjs2_highcharts_dataGrouping_approximations_root_Highcharts_dataGrouping_approximations_=__webpack_require__(956);var highcharts_dataGrouping_approximations_commonjs_highcharts_dataGrouping_approximations_commonjs2_highcharts_dataGrouping_approximations_root_Highcharts_dataGrouping_approximations_default=__webpack_require__.n(highcharts_dataGrouping_approximations_commonjs_highcharts_dataGrouping_approximations_commonjs2_highcharts_dataGrouping_approximations_root_Highcharts_dataGrouping_approximations_);var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_=__webpack_require__(620);var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default=__webpack_require__.n(highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_);var IKHIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var color=highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default().parse;var IKHIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var IKHIndicator_defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,IKHIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,IKHIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,IKHIndicator_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,getClosestDistance=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().getClosestDistance,IKHIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,objectEach=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().objectEach;function maxHigh(arr){return arr.reduce(function(max,res){return Math.max(max,res[1])},-Infinity)}function minLow(arr){return arr.reduce(function(min,res){return Math.min(min,res[2])},Infinity)}function highlowLevel(arr){return{high:maxHigh(arr),low:minLow(arr)}}function checkLineIntersection(a1,a2,b1,b2){if(a1&&a2&&b1&&b2){var saX=a2.plotX-a1.plotX,saY=a2.plotY-a1.plotY,sbX=b2.plotX-b1.plotX,sbY=b2.plotY-b1.plotY,sabX=a1.plotX-b1.plotX,sabY=a1.plotY-b1.plotY,u=(-saY*sabX+saX*sabY)/(-sbX*saY+saX*sbY),t=(sbX*sabY-sbY*sabX)/(-sbX*saY+saX*sbY);if(u>=0&&u<=1&&t>=0&&t<=1){return{plotX:a1.plotX+t*saX,plotY:a1.plotY+t*saY}}}}function drawSenkouSpan(opt){var indicator=opt.indicator;indicator.points=opt.points;indicator.nextPoints=opt.nextPoints;indicator.color=opt.color;indicator.options=IKHIndicator_merge(opt.options.senkouSpan.styles,opt.gap);indicator.graph=opt.graph;indicator.fillGraph=true;highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.drawGraph.call(indicator)}function ichimokuAverages(){var ret=[];var isEmptyRange;[].forEach.call(arguments,function(arr,i){ret.push(highcharts_dataGrouping_approximations_commonjs_highcharts_dataGrouping_approximations_commonjs2_highcharts_dataGrouping_approximations_root_Highcharts_dataGrouping_approximations_default().average(arr));isEmptyRange=!isEmptyRange&&typeof ret[i]==="undefined"});return isEmptyRange?void 0:ret}var IKHIndicator=function(_super){IKHIndicator_extends(IKHIndicator,_super);function IKHIndicator(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.data=[];_this.options={};_this.points=[];_this.graphCollection=[];return _this}IKHIndicator.prototype.init=function(){_super.prototype.init.apply(this,arguments);this.options=IKHIndicator_merge({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:color(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:color(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:color(this.color).setOpacity(.2).get()}}},this.options)};IKHIndicator.prototype.toYData=function(point){return[point.tenkanSen,point.kijunSen,point.chikouSpan,point.senkouSpanA,point.senkouSpanB]};IKHIndicator.prototype.translate=function(){var indicator=this;highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.translate.apply(indicator);for(var _i=0,_a=indicator.points;_i<_a.length;_i++){var point=_a[_i];for(var _b=0,_c=indicator.pointArrayMap;_b<_c.length;_b++){var key=_c[_b];var pointValue=point[key];if(IKHIndicator_isNumber(pointValue)){point["plot"+key]=indicator.yAxis.toPixels(pointValue,true);point.plotY=point["plot"+key];point.tooltipPos=[point.plotX,point["plot"+key]];point.isNull=false}}}};IKHIndicator.prototype.drawGraph=function(){var indicator=this,mainLinePoints=indicator.points,mainLineOptions=indicator.options,mainLinePath=indicator.graph,mainColor=indicator.color,gappedExtend={options:{gapSize:mainLineOptions.gapSize}},pointArrayMapLength=indicator.pointArrayMap.length,allIchimokuPoints=[[],[],[],[],[],[]],ikhMap={tenkanLine:allIchimokuPoints[0],kijunLine:allIchimokuPoints[1],chikouLine:allIchimokuPoints[2],senkouSpanA:allIchimokuPoints[3],senkouSpanB:allIchimokuPoints[4],senkouSpan:allIchimokuPoints[5]},intersectIndexColl=[],senkouSpanOptions=indicator.options.senkouSpan,color=senkouSpanOptions.color||senkouSpanOptions.styles.fill,negativeColor=senkouSpanOptions.negativeColor,points=[[],[]],nextPoints=[[],[]];var pointsLength=mainLinePoints.length,lineIndex=0,position,point,i,startIntersect,endIntersect,sectionPoints,sectionNextPoints,pointsPlotYSum,nextPointsPlotYSum,senkouSpanTempColor,concatArrIndex,j,k;indicator.ikhMap=ikhMap;while(pointsLength--){point=mainLinePoints[pointsLength];for(i=0;i<pointArrayMapLength;i++){position=indicator.pointArrayMap[i];if(IKHIndicator_defined(point[position])){allIchimokuPoints[i].push({plotX:point.plotX,plotY:point["plot"+position],isNull:false})}}if(negativeColor&&pointsLength!==mainLinePoints.length-1){var index=ikhMap.senkouSpanB.length-1,intersect=checkLineIntersection(ikhMap.senkouSpanA[index-1],ikhMap.senkouSpanA[index],ikhMap.senkouSpanB[index-1],ikhMap.senkouSpanB[index]);if(intersect){var intersectPointObj={plotX:intersect.plotX,plotY:intersect.plotY,isNull:false,intersectPoint:true};ikhMap.senkouSpanA.splice(index,0,intersectPointObj);ikhMap.senkouSpanB.splice(index,0,intersectPointObj);intersectIndexColl.push(index)}}}objectEach(ikhMap,function(values,lineName){if(mainLineOptions[lineName]&&lineName!=="senkouSpan"){indicator.points=allIchimokuPoints[lineIndex];indicator.options=IKHIndicator_merge(mainLineOptions[lineName].styles,gappedExtend);indicator.graph=indicator["graph"+lineName];indicator.fillGraph=false;indicator.color=mainColor;highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.drawGraph.call(indicator);indicator["graph"+lineName]=indicator.graph}lineIndex++});if(indicator.graphCollection){for(var _i=0,_a=indicator.graphCollection;_i<_a.length;_i++){var graphName=_a[_i];indicator[graphName].destroy();delete indicator[graphName]}}indicator.graphCollection=[];if(negativeColor&&ikhMap.senkouSpanA[0]&&ikhMap.senkouSpanB[0]){intersectIndexColl.unshift(0);intersectIndexColl.push(ikhMap.senkouSpanA.length-1);for(j=0;j<intersectIndexColl.length-1;j++){startIntersect=intersectIndexColl[j];endIntersect=intersectIndexColl[j+1];sectionPoints=ikhMap.senkouSpanB.slice(startIntersect,endIntersect+1);sectionNextPoints=ikhMap.senkouSpanA.slice(startIntersect,endIntersect+1);if(Math.floor(sectionPoints.length/2)>=1){var x=Math.floor(sectionPoints.length/2);if(sectionPoints[x].plotY===sectionNextPoints[x].plotY){pointsPlotYSum=0;nextPointsPlotYSum=0;for(k=0;k<sectionPoints.length;k++){pointsPlotYSum+=sectionPoints[k].plotY;nextPointsPlotYSum+=sectionNextPoints[k].plotY}concatArrIndex=pointsPlotYSum>nextPointsPlotYSum?0:1;points[concatArrIndex]=points[concatArrIndex].concat(sectionPoints);nextPoints[concatArrIndex]=nextPoints[concatArrIndex].concat(sectionNextPoints)}else{concatArrIndex=sectionPoints[x].plotY>sectionNextPoints[x].plotY?0:1;points[concatArrIndex]=points[concatArrIndex].concat(sectionPoints);nextPoints[concatArrIndex]=nextPoints[concatArrIndex].concat(sectionNextPoints)}}else{concatArrIndex=sectionPoints[0].plotY>sectionNextPoints[0].plotY?0:1;points[concatArrIndex]=points[concatArrIndex].concat(sectionPoints);nextPoints[concatArrIndex]=nextPoints[concatArrIndex].concat(sectionNextPoints)}}["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(areaName,i){if(points[i].length&&nextPoints[i].length){senkouSpanTempColor=i===0?color:negativeColor;drawSenkouSpan({indicator:indicator,points:points[i],nextPoints:nextPoints[i],color:senkouSpanTempColor,options:mainLineOptions,gap:gappedExtend,graph:indicator[areaName]});indicator[areaName]=indicator.graph;indicator.graphCollection.push(areaName)}})}else{drawSenkouSpan({indicator:indicator,points:ikhMap.senkouSpanB,nextPoints:ikhMap.senkouSpanA,color:color,options:mainLineOptions,gap:gappedExtend,graph:indicator.graphsenkouSpan});indicator.graphsenkouSpan=indicator.graph}delete indicator.nextPoints;delete indicator.fillGraph;indicator.points=mainLinePoints;indicator.options=mainLineOptions;indicator.graph=mainLinePath;indicator.color=mainColor};IKHIndicator.prototype.getGraphPath=function(points){var indicator=this;var path=[],spanA,spanAarr=[];points=points||this.points;if(indicator.fillGraph&&indicator.nextPoints){spanA=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.getGraphPath.call(indicator,indicator.nextPoints);if(spanA&&spanA.length){spanA[0][0]="L";path=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.getGraphPath.call(indicator,points);spanAarr=spanA.slice(0,path.length);for(var i=spanAarr.length-1;i>=0;i--){path.push(spanAarr[i])}}}else{path=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.getGraphPath.apply(indicator,arguments)}return path};IKHIndicator.prototype.getValues=function(series,params){var period=params.period,periodTenkan=params.periodTenkan,periodSenkouSpanB=params.periodSenkouSpanB,xVal=series.xData,yVal=series.yData,xAxis=series.xAxis,yValLen=yVal&&yVal.length||0,closestPointRange=getClosestDistance(xAxis.series.map(function(s){return s.getColumn("x")})),IKH=[],xData=[];var date,slicedTSY,slicedKSY,slicedSSBY,pointTS,pointKS,pointSSB,i,TS,KS,CS,SSA,SSB;if(xVal.length<=period||!IKHIndicator_isArray(yVal[0])||yVal[0].length!==4){return}var dateStart=xVal[0]-period*closestPointRange;for(i=0;i<period;i++){xData.push(dateStart+i*closestPointRange)}for(i=0;i<yValLen;i++){if(i>=periodTenkan){slicedTSY=yVal.slice(i-periodTenkan,i);pointTS=highlowLevel(slicedTSY);TS=(pointTS.high+pointTS.low)/2}if(i>=period){slicedKSY=yVal.slice(i-period,i);pointKS=highlowLevel(slicedKSY);KS=(pointKS.high+pointKS.low)/2;SSA=(TS+KS)/2}if(i>=periodSenkouSpanB){slicedSSBY=yVal.slice(i-periodSenkouSpanB,i);pointSSB=highlowLevel(slicedSSBY);SSB=(pointSSB.high+pointSSB.low)/2}CS=yVal[i][3];date=xVal[i];if(typeof IKH[i]==="undefined"){IKH[i]=[]}if(typeof IKH[i+period-1]==="undefined"){IKH[i+period-1]=[]}IKH[i+period-1][0]=TS;IKH[i+period-1][1]=KS;IKH[i+period-1][2]=void 0;if(typeof IKH[i+1]==="undefined"){IKH[i+1]=[]}IKH[i+1][2]=CS;if(i<=period){IKH[i+period-1][3]=void 0;IKH[i+period-1][4]=void 0}if(typeof IKH[i+2*period-2]==="undefined"){IKH[i+2*period-2]=[]}IKH[i+2*period-2][3]=SSA;IKH[i+2*period-2][4]=SSB;xData.push(date)}for(i=1;i<=period;i++){xData.push(date+i*closestPointRange)}return{values:IKH,xData:xData,yData:IKH}};IKHIndicator.defaultOptions=IKHIndicator_merge(IKHIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:false},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>'+"TENKAN SEN: {point.tenkanSen:.3f}<br/>"+"KIJUN SEN: {point.kijunSen:.3f}<br/>"+"CHIKOU SPAN: {point.chikouSpan:.3f}<br/>"+"SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>"+"SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>"},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}});return IKHIndicator}(IKHIndicator_SMAIndicator);IKHIndicator_extend(IKHIndicator.prototype,{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"]});highcharts_dataGrouping_approximations_commonjs_highcharts_dataGrouping_approximations_commonjs2_highcharts_dataGrouping_approximations_root_Highcharts_dataGrouping_approximations_default()["ichimoku-averages"]=ichimokuAverages;highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("ikh",IKHIndicator);var IKH_IKHIndicator=null&&IKHIndicator;"";var KeltnerChannelsIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var KeltnerChannelsIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var KeltnerChannelsIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,KeltnerChannelsIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,KeltnerChannelsIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var KeltnerChannelsIndicator=function(_super){KeltnerChannelsIndicator_extends(KeltnerChannelsIndicator,_super);function KeltnerChannelsIndicator(){return _super!==null&&_super.apply(this,arguments)||this}KeltnerChannelsIndicator.prototype.init=function(){highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.init.apply(this,arguments);this.options=KeltnerChannelsIndicator_merge({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)};KeltnerChannelsIndicator.prototype.getValues=function(series,params){var period=params.period,periodATR=params.periodATR,multiplierATR=params.multiplierATR,index=params.index,yVal=series.yData,yValLen=yVal?yVal.length:0,KC=[],seriesEMA=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.ema.prototype.getValues(series,{period:period,index:index}),seriesATR=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.atr.prototype.getValues(series,{period:periodATR}),xData=[],yData=[];var ML,TL,BL,date,pointEMA,pointATR,i;if(yValLen<period){return}for(i=period;i<=yValLen;i++){pointEMA=seriesEMA.values[i-period];pointATR=seriesATR.values[i-periodATR];date=pointEMA[0];TL=KeltnerChannelsIndicator_correctFloat(pointEMA[1]+multiplierATR*pointATR[1]);BL=KeltnerChannelsIndicator_correctFloat(pointEMA[1]-multiplierATR*pointATR[1]);ML=pointEMA[1];KC.push([date,TL,ML,BL]);xData.push(date);yData.push([TL,ML,BL])}return{values:KC,xData:xData,yData:yData}};KeltnerChannelsIndicator.defaultOptions=KeltnerChannelsIndicator_merge(KeltnerChannelsIndicator_SMAIndicator.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:false},dataGrouping:{approximation:"averages"},lineWidth:1});return KeltnerChannelsIndicator}(KeltnerChannelsIndicator_SMAIndicator);KeltnerChannelsIndicator_extend(KeltnerChannelsIndicator.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"});Indicators_MultipleLinesComposition.compose(KeltnerChannelsIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("keltnerchannels",KeltnerChannelsIndicator);var KeltnerChannels_KeltnerChannelsIndicator=null&&KeltnerChannelsIndicator;"";var KlingerIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var KlingerIndicator_a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes,KlingerIndicator_EMAIndicator=KlingerIndicator_a.ema,KlingerIndicator_SMAIndicator=KlingerIndicator_a.sma;var KlingerIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,KlingerIndicator_error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,KlingerIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,KlingerIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,KlingerIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var KlingerIndicator=function(_super){KlingerIndicator_extends(KlingerIndicator,_super);function KlingerIndicator(){return _super!==null&&_super.apply(this,arguments)||this}KlingerIndicator.prototype.calculateTrend=function(yVal,i){var isUpward=yVal[i][1]+yVal[i][2]+yVal[i][3]>yVal[i-1][1]+yVal[i-1][2]+yVal[i-1][3];return isUpward?1:-1};KlingerIndicator.prototype.isValidData=function(firstYVal){var chart=this.chart,options=this.options,series=this.linkedParent,isSeriesOHLC=KlingerIndicator_isArray(firstYVal)&&firstYVal.length===4,volumeSeries=this.volumeSeries||(this.volumeSeries=chart.get(options.params.volumeSeriesID));if(!volumeSeries){KlingerIndicator_error("Series "+options.params.volumeSeriesID+" not found! Check `volumeSeriesID`.",true,series.chart)}var isLengthValid=[series,volumeSeries].every(function(series){return series&&series.dataTable.rowCount>=options.params.slowAvgPeriod});return!!(isLengthValid&&isSeriesOHLC)};KlingerIndicator.prototype.getCM=function(previousCM,DM,trend,previousTrend,prevoiusDM){return KlingerIndicator_correctFloat(DM+(trend===previousTrend?previousCM:prevoiusDM))};KlingerIndicator.prototype.getDM=function(high,low){return KlingerIndicator_correctFloat(high-low)};KlingerIndicator.prototype.getVolumeForce=function(yVal){var volumeForce=[];var CM=0,DM,force,i=1,previousCM=0,previousDM=yVal[0][1]-yVal[0][2],previousTrend=0,trend;for(i;i<yVal.length;i++){trend=this.calculateTrend(yVal,i);DM=this.getDM(yVal[i][1],yVal[i][2]);CM=this.getCM(previousCM,DM,trend,previousTrend,previousDM);force=this.volumeSeries.getColumn("y")[i]*trend*Math.abs(2*(DM/CM-1))*100;volumeForce.push([force]);previousTrend=trend;previousCM=CM;previousDM=DM}return volumeForce};KlingerIndicator.prototype.getEMA=function(yVal,prevEMA,SMA,EMApercent,index,i,xVal){return KlingerIndicator_EMAIndicator.prototype.calculateEma(xVal||[],yVal,typeof i==="undefined"?1:i,EMApercent,prevEMA,typeof index==="undefined"?-1:index,SMA)};KlingerIndicator.prototype.getSMA=function(period,index,values){return KlingerIndicator_EMAIndicator.prototype.accumulatePeriodPoints(period,index,values)/period};KlingerIndicator.prototype.getValues=function(series,params){var Klinger=[],xVal=series.xData,yVal=series.yData,xData=[],yData=[],calcSingal=[];var KO,i=0,fastEMA=0,slowEMA,previousFastEMA=void 0,previousSlowEMA=void 0,signal=null;if(!this.isValidData(yVal[0])){return}var volumeForce=this.getVolumeForce(yVal);var SMAFast=this.getSMA(params.fastAvgPeriod,0,volumeForce),SMASlow=this.getSMA(params.slowAvgPeriod,0,volumeForce);var fastEMApercent=2/(params.fastAvgPeriod+1),slowEMApercent=2/(params.slowAvgPeriod+1);for(i;i<yVal.length;i++){if(i>=params.fastAvgPeriod){fastEMA=this.getEMA(volumeForce,previousFastEMA,SMAFast,fastEMApercent,0,i,xVal)[1];previousFastEMA=fastEMA}if(i>=params.slowAvgPeriod){slowEMA=this.getEMA(volumeForce,previousSlowEMA,SMASlow,slowEMApercent,0,i,xVal)[1];previousSlowEMA=slowEMA;KO=KlingerIndicator_correctFloat(fastEMA-slowEMA);calcSingal.push(KO);if(calcSingal.length>=params.signalPeriod){signal=calcSingal.slice(-params.signalPeriod).reduce(function(prev,curr){return prev+curr})/params.signalPeriod}Klinger.push([xVal[i],KO,signal]);xData.push(xVal[i]);yData.push([KO,signal])}}return{values:Klinger,xData:xData,yData:yData}};KlingerIndicator.defaultOptions=KlingerIndicator_merge(KlingerIndicator_SMAIndicator.defaultOptions,{params:{fastAvgPeriod:34,slowAvgPeriod:55,signalPeriod:13,volumeSeriesID:"volume"},signalLine:{styles:{lineWidth:1,lineColor:"#ff0000"}},dataGrouping:{approximation:"averages"},tooltip:{pointFormat:'<span style="color: {point.color}">●</span>'+"<b> {series.name}</b><br/>"+'<span style="color: {point.color}">Klinger</span>: '+"{point.y}<br/>"+'<span style="color: '+'{point.series.options.signalLine.styles.lineColor}">'+"Signal</span>"+": {point.signal}<br/>"}});return KlingerIndicator}(KlingerIndicator_SMAIndicator);KlingerIndicator_extend(KlingerIndicator.prototype,{areaLinesNames:[],linesApiNames:["signalLine"],nameBase:"Klinger",nameComponents:["fastAvgPeriod","slowAvgPeriod"],pointArrayMap:["y","signal"],parallelArrays:["x","y","signal"],pointValKey:"y"});Indicators_MultipleLinesComposition.compose(KlingerIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("klinger",KlingerIndicator);var Klinger_KlingerIndicator=null&&KlingerIndicator;"";var MACDIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var MACDIndicator_noop=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().noop;var MACDIndicator_a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes,ColumnSeries=MACDIndicator_a.column,MACDIndicator_SMAIndicator=MACDIndicator_a.sma;var MACDIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,MACDIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,MACDIndicator_defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,MACDIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var MACDIndicator=function(_super){MACDIndicator_extends(MACDIndicator,_super);function MACDIndicator(){return _super!==null&&_super.apply(this,arguments)||this}MACDIndicator.prototype.init=function(){highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.init.apply(this,arguments);var originalColor=this.color;if(this.options){if(MACDIndicator_defined(this.colorIndex)){if(this.options.signalLine&&this.options.signalLine.styles&&!this.options.signalLine.styles.lineColor){this.options.colorIndex=this.colorIndex+1;this.getCyclic("color",void 0,this.chart.options.colors);this.options.signalLine.styles.lineColor=this.color}if(this.options.macdLine&&this.options.macdLine.styles&&!this.options.macdLine.styles.lineColor){this.options.colorIndex=this.colorIndex+1;this.getCyclic("color",void 0,this.chart.options.colors);this.options.macdLine.styles.lineColor=this.color}}this.macdZones={zones:this.options.macdLine.zones,startIndex:0};this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length}}this.color=originalColor};MACDIndicator.prototype.toYData=function(point){return[point.y,point.signal,point.MACD]};MACDIndicator.prototype.translate=function(){var indicator=this,plotNames=["plotSignal","plotMACD"];highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().seriesTypes.column.prototype.translate.apply(indicator);indicator.points.forEach(function(point){[point.signal,point.MACD].forEach(function(value,i){if(value!==null){point[plotNames[i]]=indicator.yAxis.toPixels(value,true)}})})};MACDIndicator.prototype.destroy=function(){this.graph=null;this.graphmacd=this.graphmacd&&this.graphmacd.destroy();this.graphsignal=this.graphsignal&&this.graphsignal.destroy();highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.destroy.apply(this,arguments)};MACDIndicator.prototype.drawGraph=function(){var indicator=this,mainLinePoints=indicator.points,mainLineOptions=indicator.options,histogramZones=indicator.zones,gappedExtend={options:{gapSize:mainLineOptions.gapSize}},otherSignals=[[],[]];var point,pointsLength=mainLinePoints.length;while(pointsLength--){point=mainLinePoints[pointsLength];if(MACDIndicator_defined(point.plotMACD)){otherSignals[0].push({plotX:point.plotX,plotY:point.plotMACD,isNull:!MACDIndicator_defined(point.plotMACD)})}if(MACDIndicator_defined(point.plotSignal)){otherSignals[1].push({plotX:point.plotX,plotY:point.plotSignal,isNull:!MACDIndicator_defined(point.plotMACD)})}}["macd","signal"].forEach(function(lineName,i){var _a;indicator.points=otherSignals[i];indicator.options=MACDIndicator_merge(((_a=mainLineOptions[""+lineName+"Line"])===null||_a===void 0?void 0:_a.styles)||{},gappedExtend);indicator.graph=indicator["graph".concat(lineName)];indicator.zones=(indicator[""+lineName+"Zones"].zones||[]).slice(indicator[""+lineName+"Zones"].startIndex||0);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.drawGraph.call(indicator);indicator["graph".concat(lineName)]=indicator.graph});indicator.points=mainLinePoints;indicator.options=mainLineOptions;indicator.zones=histogramZones};MACDIndicator.prototype.applyZones=function(){var histogramZones=this.zones;this.zones=this.signalZones.zones;highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.applyZones.call(this);if(this.graphmacd&&this.options.macdLine.zones.length){this.graphmacd.hide()}this.zones=histogramZones};MACDIndicator.prototype.getValues=function(series,params){var indexToShift=params.longPeriod-params.shortPeriod,MACD=[],xMACD=[],yMACD=[];var shortEMA,longEMA,i,j=0,signalLine=[];if(series.xData.length<params.longPeriod+params.signalPeriod){return}shortEMA=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.ema.prototype.getValues(series,{period:params.shortPeriod,index:params.index});longEMA=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.ema.prototype.getValues(series,{period:params.longPeriod,index:params.index});shortEMA=shortEMA.values;longEMA=longEMA.values;for(i=0;i<=shortEMA.length;i++){if(MACDIndicator_defined(longEMA[i])&&MACDIndicator_defined(longEMA[i][1])&&MACDIndicator_defined(shortEMA[i+indexToShift])&&MACDIndicator_defined(shortEMA[i+indexToShift][0])){MACD.push([shortEMA[i+indexToShift][0],0,null,shortEMA[i+indexToShift][1]-longEMA[i][1]])}}for(i=0;i<MACD.length;i++){xMACD.push(MACD[i][0]);yMACD.push([0,null,MACD[i][3]])}signalLine=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.ema.prototype.getValues({xData:xMACD,yData:yMACD},{period:params.signalPeriod,index:2});signalLine=signalLine.values;for(i=0;i<MACD.length;i++){if(MACD[i][0]>=signalLine[0][0]){MACD[i][2]=signalLine[j][1];yMACD[i]=[0,signalLine[j][1],MACD[i][3]];if(MACD[i][3]===null){MACD[i][1]=0;yMACD[i][0]=0}else{MACD[i][1]=MACDIndicator_correctFloat(MACD[i][3]-signalLine[j][1]);yMACD[i][0]=MACDIndicator_correctFloat(MACD[i][3]-signalLine[j][1])}j++}}return{values:MACD,xData:xMACD,yData:yMACD}};MACDIndicator.defaultOptions=MACDIndicator_merge(MACDIndicator_SMAIndicator.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:false,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>'+"Value: {point.MACD}<br/>"+"Signal: {point.signal}<br/>"+"Histogram: {point.y}<br/>"},dataGrouping:{approximation:"averages"},minPointLength:0});return MACDIndicator}(MACDIndicator_SMAIndicator);MACDIndicator_extend(MACDIndicator.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:MACDIndicator_noop,getColumnMetrics:highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().seriesTypes.column.prototype.getColumnMetrics,crispCol:highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().seriesTypes.column.prototype.crispCol,drawPoints:highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().seriesTypes.column.prototype.drawPoints});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("macd",MACDIndicator);var MACD_MACDIndicator=null&&MACDIndicator;"";var MFIIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var MFIIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var MFIIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,MFIIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,MFIIndicator_error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,MFIIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray;function MFIIndicator_sumArray(array){return array.reduce(function(prev,cur){return prev+cur})}function toFixed(a,n){return parseFloat(a.toFixed(n))}function calculateTypicalPrice(point){return(point[1]+point[2]+point[3])/3}function calculateRawMoneyFlow(typicalPrice,volume){return typicalPrice*volume}var MFIIndicator=function(_super){MFIIndicator_extends(MFIIndicator,_super);function MFIIndicator(){return _super!==null&&_super.apply(this,arguments)||this}MFIIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,decimals=params.decimals,volumeSeries=series.chart.get(params.volumeSeriesID),yValVolume=(volumeSeries===null||volumeSeries===void 0?void 0:volumeSeries.getColumn("y"))||[],MFI=[],xData=[],yData=[],positiveMoneyFlow=[],negativeMoneyFlow=[];var newTypicalPrice,oldTypicalPrice,rawMoneyFlow,negativeMoneyFlowSum,positiveMoneyFlowSum,moneyFlowRatio,MFIPoint,i,isUp=false,range=1;if(!volumeSeries){MFIIndicator_error("Series "+params.volumeSeriesID+" not found! Check `volumeSeriesID`.",true,series.chart);return}if(xVal.length<=period||!MFIIndicator_isArray(yVal[0])||yVal[0].length!==4||!yValVolume){return}newTypicalPrice=calculateTypicalPrice(yVal[range]);while(range<period+1){oldTypicalPrice=newTypicalPrice;newTypicalPrice=calculateTypicalPrice(yVal[range]);isUp=newTypicalPrice>=oldTypicalPrice;rawMoneyFlow=calculateRawMoneyFlow(newTypicalPrice,yValVolume[range]);positiveMoneyFlow.push(isUp?rawMoneyFlow:0);negativeMoneyFlow.push(isUp?0:rawMoneyFlow);range++}for(i=range-1;i<yValLen;i++){if(i>range-1){positiveMoneyFlow.shift();negativeMoneyFlow.shift();oldTypicalPrice=newTypicalPrice;newTypicalPrice=calculateTypicalPrice(yVal[i]);isUp=newTypicalPrice>oldTypicalPrice;rawMoneyFlow=calculateRawMoneyFlow(newTypicalPrice,yValVolume[i]);positiveMoneyFlow.push(isUp?rawMoneyFlow:0);negativeMoneyFlow.push(isUp?0:rawMoneyFlow)}negativeMoneyFlowSum=MFIIndicator_sumArray(negativeMoneyFlow);positiveMoneyFlowSum=MFIIndicator_sumArray(positiveMoneyFlow);moneyFlowRatio=positiveMoneyFlowSum/negativeMoneyFlowSum;MFIPoint=toFixed(100-100/(1+moneyFlowRatio),decimals);MFI.push([xVal[i],MFIPoint]);xData.push(xVal[i]);yData.push(MFIPoint)}return{values:MFI,xData:xData,yData:yData}};MFIIndicator.defaultOptions=MFIIndicator_merge(MFIIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",decimals:4}});return MFIIndicator}(MFIIndicator_SMAIndicator);MFIIndicator_extend(MFIIndicator.prototype,{nameBase:"Money Flow Index"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("mfi",MFIIndicator);var MFI_MFIIndicator=null&&MFIIndicator;"";var MomentumIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var MomentumIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var MomentumIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,MomentumIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,MomentumIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;function MomentumIndicator_populateAverage(xVal,yVal,i,period,index){var mmY=yVal[i-1][index]-yVal[i-period-1][index],mmX=xVal[i-1];return[mmX,mmY]}var MomentumIndicator=function(_super){MomentumIndicator_extends(MomentumIndicator,_super);function MomentumIndicator(){return _super!==null&&_super.apply(this,arguments)||this}MomentumIndicator.prototype.getValues=function(series,params){var period=params.period,index=params.index,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,MM=[],xData=[],yData=[];var i,MMPoint;if(xVal.length<=period){return}if(!MomentumIndicator_isArray(yVal[0])){return}for(i=period+1;i<yValLen;i++){MMPoint=MomentumIndicator_populateAverage(xVal,yVal,i,period,index);MM.push(MMPoint);xData.push(MMPoint[0]);yData.push(MMPoint[1])}MMPoint=MomentumIndicator_populateAverage(xVal,yVal,i,period,index);MM.push(MMPoint);xData.push(MMPoint[0]);yData.push(MMPoint[1]);return{values:MM,xData:xData,yData:yData}};MomentumIndicator.defaultOptions=MomentumIndicator_merge(MomentumIndicator_SMAIndicator.defaultOptions,{params:{index:3}});return MomentumIndicator}(MomentumIndicator_SMAIndicator);MomentumIndicator_extend(MomentumIndicator.prototype,{nameBase:"Momentum"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("momentum",MomentumIndicator);var Momentum_MomentumIndicator=null&&MomentumIndicator;"";var NATRIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var NATRIndicator_ATRIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.atr;var NATRIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var NATRIndicator=function(_super){NATRIndicator_extends(NATRIndicator,_super);function NATRIndicator(){return _super!==null&&_super.apply(this,arguments)||this}NATRIndicator.prototype.getValues=function(series,params){var atrData=_super.prototype.getValues.apply(this,arguments),atrLength=atrData.values.length,yVal=series.yData;var i=0,period=params.period-1;if(!atrData){return}for(;i<atrLength;i++){atrData.yData[i]=atrData.values[i][1]/yVal[period][3]*100;atrData.values[i][1]=atrData.yData[i];period++}return atrData};NATRIndicator.defaultOptions=NATRIndicator_merge(NATRIndicator_ATRIndicator.defaultOptions,{tooltip:{valueSuffix:"%"}});return NATRIndicator}(NATRIndicator_ATRIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("natr",NATRIndicator);var NATR_NATRIndicator=null&&NATRIndicator;"";var OBVIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var OBVIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var OBVIndicator_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,OBVIndicator_error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,OBVIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,OBVIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var OBVIndicator=function(_super){OBVIndicator_extends(OBVIndicator,_super);function OBVIndicator(){return _super!==null&&_super.apply(this,arguments)||this}OBVIndicator.prototype.getValues=function(series,params){var volumeSeries=series.chart.get(params.volumeSeriesID),xVal=series.xData,yVal=series.yData,OBV=[],xData=[],yData=[],hasOHLC=!OBVIndicator_isNumber(yVal[0]);var OBVPoint=[],i=1,previousOBV=0,curentOBV=0,previousClose=0,curentClose=0,volume;if(volumeSeries){volume=volumeSeries.getColumn("y");OBVPoint=[xVal[0],previousOBV];previousClose=hasOHLC?yVal[0][3]:yVal[0];OBV.push(OBVPoint);xData.push(xVal[0]);yData.push(OBVPoint[1]);for(i;i<yVal.length;i++){curentClose=hasOHLC?yVal[i][3]:yVal[i];if(curentClose>previousClose){curentOBV=previousOBV+volume[i]}else if(curentClose===previousClose){curentOBV=previousOBV}else{curentOBV=previousOBV-volume[i]}OBVPoint=[xVal[i],curentOBV];previousOBV=curentOBV;previousClose=curentClose;OBV.push(OBVPoint);xData.push(xVal[i]);yData.push(OBVPoint[1])}}else{OBVIndicator_error("Series "+params.volumeSeriesID+" not found! Check `volumeSeriesID`.",true,series.chart);return}return{values:OBV,xData:xData,yData:yData}};OBVIndicator.defaultOptions=OBVIndicator_merge(OBVIndicator_SMAIndicator.defaultOptions,{marker:{enabled:false},params:{index:void 0,period:void 0,volumeSeriesID:"volume"},tooltip:{valueDecimals:0}});return OBVIndicator}(OBVIndicator_SMAIndicator);OBVIndicator_extend(OBVIndicator.prototype,{nameComponents:void 0});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("obv",OBVIndicator);var OBV_OBVIndicator=null&&OBVIndicator;"";var PivotPointsPoint_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var SMAPoint=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.pointClass;function destroyExtraLabels(point,functionName){var props=point.series.pointArrayMap;var prop,i=props.length;highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.pointClass.prototype[functionName].call(point);while(i--){prop="dataLabel"+props[i];if(point[prop]&&point[prop].element){point[prop].destroy()}point[prop]=null}}var PivotPointsPoint=function(_super){PivotPointsPoint_extends(PivotPointsPoint,_super);function PivotPointsPoint(){return _super!==null&&_super.apply(this,arguments)||this}PivotPointsPoint.prototype.destroyElements=function(){destroyExtraLabels(this,"destroyElements")};PivotPointsPoint.prototype.destroy=function(){destroyExtraLabels(this,"destroyElements")};return PivotPointsPoint}(SMAPoint);var PivotPoints_PivotPointsPoint=PivotPointsPoint;var PivotPointsIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var PivotPointsIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var PivotPointsIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,PivotPointsIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,PivotPointsIndicator_defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,PivotPointsIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray;var PivotPointsIndicator=function(_super){PivotPointsIndicator_extends(PivotPointsIndicator,_super);function PivotPointsIndicator(){return _super!==null&&_super.apply(this,arguments)||this}PivotPointsIndicator.prototype.toYData=function(point){return[point.P]};PivotPointsIndicator.prototype.translate=function(){var indicator=this;_super.prototype.translate.apply(indicator);indicator.points.forEach(function(point){indicator.pointArrayMap.forEach(function(value){if(PivotPointsIndicator_defined(point[value])){point["plot"+value]=indicator.yAxis.toPixels(point[value],true)}})});indicator.plotEndPoint=indicator.xAxis.toPixels(indicator.endPoint,true)};PivotPointsIndicator.prototype.getGraphPath=function(points){var indicator=this,allPivotPoints=[[],[],[],[],[],[],[],[],[]],pointArrayMapLength=indicator.pointArrayMap.length;var endPoint=indicator.plotEndPoint,path=[],position,point,pointsLength=points.length,i;while(pointsLength--){point=points[pointsLength];for(i=0;i<pointArrayMapLength;i++){position=indicator.pointArrayMap[i];if(PivotPointsIndicator_defined(point[position])){allPivotPoints[i].push({plotX:point.plotX,plotY:point["plot"+position],isNull:false},{plotX:endPoint,plotY:point["plot"+position],isNull:false},{plotX:endPoint,plotY:null,isNull:true})}}endPoint=point.plotX}allPivotPoints.forEach(function(pivotPoints){path=path.concat(_super.prototype.getGraphPath.call(indicator,pivotPoints))});return path};PivotPointsIndicator.prototype.drawDataLabels=function(){var indicator=this,pointMapping=indicator.pointArrayMap;var currentLabel,pointsLength,point,i;if(indicator.options.dataLabels.enabled){pointsLength=indicator.points.length;pointMapping.concat([false]).forEach(function(position,k){i=pointsLength;while(i--){point=indicator.points[i];if(!position){point["dataLabel"+pointMapping[k-1]]=point.dataLabel}else{point.y=point[position];point.pivotLine=position;point.plotY=point["plot"+position];currentLabel=point["dataLabel"+position];if(k){point["dataLabel"+pointMapping[k-1]]=point.dataLabel}if(!point.dataLabels){point.dataLabels=[]}point.dataLabels[0]=point.dataLabel=currentLabel=currentLabel&&currentLabel.element?currentLabel:null}}_super.prototype.drawDataLabels.call(indicator)})}};PivotPointsIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,placement=this[params.algorithm+"Placement"],PP=[],xData=[],yData=[];var endTimestamp,slicedXLen,slicedX,slicedY,lastPP,pivot,avg,i;if(xVal.length<period||!PivotPointsIndicator_isArray(yVal[0])||yVal[0].length!==4){return}for(i=period+1;i<=yValLen+period;i+=period){slicedX=xVal.slice(i-period-1,i);slicedY=yVal.slice(i-period-1,i);slicedXLen=slicedX.length;endTimestamp=slicedX[slicedXLen-1];pivot=this.getPivotAndHLC(slicedY);avg=placement(pivot);lastPP=PP.push([endTimestamp].concat(avg));xData.push(endTimestamp);yData.push(PP[lastPP-1].slice(1))}this.endPoint=slicedX[0]+(endTimestamp-slicedX[0])/slicedXLen*period;return{values:PP,xData:xData,yData:yData}};PivotPointsIndicator.prototype.getPivotAndHLC=function(values){var close=values[values.length-1][3];var high=-Infinity,low=Infinity;values.forEach(function(p){high=Math.max(high,p[1]);low=Math.min(low,p[2])});var pivot=(high+low+close)/3;return[pivot,high,low,close]};PivotPointsIndicator.prototype.standardPlacement=function(values){var diff=values[1]-values[2],avg=[null,null,values[0]+diff,values[0]*2-values[2],values[0],values[0]*2-values[1],values[0]-diff,null,null];return avg};PivotPointsIndicator.prototype.camarillaPlacement=function(values){var diff=values[1]-values[2],avg=[values[3]+diff*1.5,values[3]+diff*1.25,values[3]+diff*1.1666,values[3]+diff*1.0833,values[0],values[3]-diff*1.0833,values[3]-diff*1.1666,values[3]-diff*1.25,values[3]-diff*1.5];return avg};PivotPointsIndicator.prototype.fibonacciPlacement=function(values){var diff=values[1]-values[2],avg=[null,values[0]+diff,values[0]+diff*.618,values[0]+diff*.382,values[0],values[0]-diff*.382,values[0]-diff*.618,values[0]-diff,null];return avg};PivotPointsIndicator.defaultOptions=PivotPointsIndicator_merge(PivotPointsIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:false},enableMouseTracking:false,dataLabels:{enabled:true,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}});return PivotPointsIndicator}(PivotPointsIndicator_SMAIndicator);PivotPointsIndicator_extend(PivotPointsIndicator.prototype,{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",pointClass:PivotPoints_PivotPointsPoint});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("pivotpoints",PivotPointsIndicator);var PivotPoints_PivotPointsIndicator=null&&PivotPointsIndicator;"";var PPOIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var PPOIndicator_EMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.ema;var PPOIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,PPOIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,PPOIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,PPOIndicator_error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error;var PPOIndicator=function(_super){PPOIndicator_extends(PPOIndicator,_super);function PPOIndicator(){return _super!==null&&_super.apply(this,arguments)||this}PPOIndicator.prototype.getValues=function(series,params){var periods=params.periods,index=params.index,PPO=[],xData=[],yData=[];var oscillator,i;if(periods.length!==2||periods[1]<=periods[0]){PPOIndicator_error('Error: "PPO requires two periods. Notice, first period '+'should be lower than the second one."');return}var SPE=_super.prototype.getValues.call(this,series,{index:index,period:periods[0]});var LPE=_super.prototype.getValues.call(this,series,{index:index,period:periods[1]});if(!SPE||!LPE){return}var periodsOffset=periods[1]-periods[0];for(i=0;i<LPE.yData.length;i++){oscillator=PPOIndicator_correctFloat((SPE.yData[i+periodsOffset]-LPE.yData[i])/LPE.yData[i]*100);PPO.push([LPE.xData[i],oscillator]);xData.push(LPE.xData[i]);yData.push(oscillator)}return{values:PPO,xData:xData,yData:yData}};PPOIndicator.defaultOptions=PPOIndicator_merge(PPOIndicator_EMAIndicator.defaultOptions,{params:{period:void 0,periods:[12,26]}});return PPOIndicator}(PPOIndicator_EMAIndicator);PPOIndicator_extend(PPOIndicator.prototype,{nameBase:"PPO",nameComponents:["periods"]});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("ppo",PPOIndicator);var PPO_PPOIndicator=null&&PPOIndicator;"";function getArrayExtremes(arr,minIndex,maxIndex){return arr.reduce(function(prev,target){return[Math.min(prev[0],target[minIndex]),Math.max(prev[1],target[maxIndex])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}var ArrayUtilities={getArrayExtremes:getArrayExtremes};var Indicators_ArrayUtilities=ArrayUtilities;var SeriesPalettes={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]};var Palettes=SeriesPalettes;var PCIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var PCIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var PCIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,PCIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend;var PCIndicator=function(_super){PCIndicator_extends(PCIndicator,_super);function PCIndicator(){return _super!==null&&_super.apply(this,arguments)||this}PCIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,PC=[],low=2,high=1,xData=[],yData=[];var ML,TL,BL,date,slicedY,extremes,i;if(yValLen<period){return}for(i=period;i<=yValLen;i++){date=xVal[i-1];slicedY=yVal.slice(i-period,i);extremes=Indicators_ArrayUtilities.getArrayExtremes(slicedY,low,high);TL=extremes[1];BL=extremes[0];ML=(TL+BL)/2;PC.push([date,TL,ML,BL]);xData.push(date);yData.push([TL,ML,BL])}return{values:PC,xData:xData,yData:yData}};PCIndicator.defaultOptions=PCIndicator_merge(PCIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:Palettes.colors[2],lineWidth:1}},bottomLine:{styles:{lineColor:Palettes.colors[8],lineWidth:1}},dataGrouping:{approximation:"averages"}});return PCIndicator}(PCIndicator_SMAIndicator);PCIndicator_extend(PCIndicator.prototype,{areaLinesNames:["top","bottom"],nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"});Indicators_MultipleLinesComposition.compose(PCIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("pc",PCIndicator);var PC_PCIndicator=null&&PCIndicator;"";var PriceEnvelopesIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var PriceEnvelopesIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var PriceEnvelopesIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,PriceEnvelopesIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,PriceEnvelopesIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var PriceEnvelopesIndicator=function(_super){PriceEnvelopesIndicator_extends(PriceEnvelopesIndicator,_super);function PriceEnvelopesIndicator(){return _super!==null&&_super.apply(this,arguments)||this}PriceEnvelopesIndicator.prototype.init=function(){_super.prototype.init.apply(this,arguments);this.options=PriceEnvelopesIndicator_merge({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)};PriceEnvelopesIndicator.prototype.getValues=function(series,params){var period=params.period,topPercent=params.topBand,botPercent=params.bottomBand,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,PE=[],xData=[],yData=[];var ML,TL,BL,date,slicedX,slicedY,point,i;if(xVal.length<period||!PriceEnvelopesIndicator_isArray(yVal[0])||yVal[0].length!==4){return}for(i=period;i<=yValLen;i++){slicedX=xVal.slice(i-period,i);slicedY=yVal.slice(i-period,i);point=_super.prototype.getValues.call(this,{xData:slicedX,yData:slicedY},params);date=point.xData[0];ML=point.yData[0];TL=ML*(1+topPercent);BL=ML*(1-botPercent);PE.push([date,TL,ML,BL]);xData.push(date);yData.push([TL,ML,BL])}return{values:PE,xData:xData,yData:yData}};PriceEnvelopesIndicator.defaultOptions=PriceEnvelopesIndicator_merge(PriceEnvelopesIndicator_SMAIndicator.defaultOptions,{marker:{enabled:false},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}});return PriceEnvelopesIndicator}(PriceEnvelopesIndicator_SMAIndicator);PriceEnvelopesIndicator_extend(PriceEnvelopesIndicator.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"});Indicators_MultipleLinesComposition.compose(PriceEnvelopesIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("priceenvelopes",PriceEnvelopesIndicator);var PriceEnvelopes_PriceEnvelopesIndicator=null&&PriceEnvelopesIndicator;"";var PSARIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var PSARIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var PSARIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;function PSARIndicator_toFixed(a,n){return parseFloat(a.toFixed(n))}function calculateDirection(previousDirection,low,high,PSAR){if(previousDirection===1&&low>PSAR||previousDirection===-1&&high>PSAR){return 1}return-1}function getAccelerationFactor(dir,pDir,eP,pEP,pAcc,inc,maxAcc,initAcc){if(dir===pDir){if(dir===1&&eP>pEP){return pAcc===maxAcc?maxAcc:PSARIndicator_toFixed(pAcc+inc,2)}if(dir===-1&&eP<pEP){return pAcc===maxAcc?maxAcc:PSARIndicator_toFixed(pAcc+inc,2)}return pAcc}return initAcc}function getExtremePoint(high,low,previousDirection,previousExtremePoint){if(previousDirection===1){return high>previousExtremePoint?high:previousExtremePoint}return low<previousExtremePoint?low:previousExtremePoint}function getEPMinusPSAR(EP,PSAR){return EP-PSAR}function getAccelerationFactorMultiply(accelerationFactor,EPMinusSAR){return accelerationFactor*EPMinusSAR}function getPSAR(pdir,sDir,PSAR,pACCMulti,sLow,pLow,pHigh,sHigh,pEP){if(pdir===sDir){if(pdir===1){return PSAR+pACCMulti<Math.min(sLow,pLow)?PSAR+pACCMulti:Math.min(sLow,pLow)}return PSAR+pACCMulti>Math.max(sHigh,pHigh)?PSAR+pACCMulti:Math.max(sHigh,pHigh)}return pEP}var PSARIndicator=function(_super){PSARIndicator_extends(PSARIndicator,_super);function PSARIndicator(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.nameComponents=void 0;return _this}PSARIndicator.prototype.getValues=function(series,params){var xVal=series.xData,yVal=series.yData,maxAccelerationFactor=params.maxAccelerationFactor,increment=params.increment,initialAccelerationFactor=params.initialAccelerationFactor,decimals=params.decimals,index=params.index,PSARArr=[],xData=[],yData=[];var accelerationFactor=params.initialAccelerationFactor,direction,extremePoint=yVal[0][1],EPMinusPSAR,accelerationFactorMultiply,newDirection,previousDirection=1,prevLow,prevPrevLow,prevHigh,prevPrevHigh,PSAR=yVal[0][2],newExtremePoint,high,low,ind;if(index>=yVal.length){return}for(ind=0;ind<index;ind++){extremePoint=Math.max(yVal[ind][1],extremePoint);PSAR=Math.min(yVal[ind][2],PSARIndicator_toFixed(PSAR,decimals))}direction=yVal[ind][1]>PSAR?1:-1;EPMinusPSAR=getEPMinusPSAR(extremePoint,PSAR);accelerationFactor=params.initialAccelerationFactor;accelerationFactorMultiply=getAccelerationFactorMultiply(accelerationFactor,EPMinusPSAR);PSARArr.push([xVal[index],PSAR]);xData.push(xVal[index]);yData.push(PSARIndicator_toFixed(PSAR,decimals));for(ind=index+1;ind<yVal.length;ind++){prevLow=yVal[ind-1][2];prevPrevLow=yVal[ind-2][2];prevHigh=yVal[ind-1][1];prevPrevHigh=yVal[ind-2][1];high=yVal[ind][1];low=yVal[ind][2];if(prevPrevLow!==null&&prevPrevHigh!==null&&prevLow!==null&&prevHigh!==null&&high!==null&&low!==null){PSAR=getPSAR(direction,previousDirection,PSAR,accelerationFactorMultiply,prevPrevLow,prevLow,prevHigh,prevPrevHigh,extremePoint);newExtremePoint=getExtremePoint(high,low,direction,extremePoint);newDirection=calculateDirection(previousDirection,low,high,PSAR);accelerationFactor=getAccelerationFactor(newDirection,direction,newExtremePoint,extremePoint,accelerationFactor,increment,maxAccelerationFactor,initialAccelerationFactor);EPMinusPSAR=getEPMinusPSAR(newExtremePoint,PSAR);accelerationFactorMultiply=getAccelerationFactorMultiply(accelerationFactor,EPMinusPSAR);PSARArr.push([xVal[ind],PSARIndicator_toFixed(PSAR,decimals)]);xData.push(xVal[ind]);yData.push(PSARIndicator_toFixed(PSAR,decimals));previousDirection=direction;direction=newDirection;extremePoint=newExtremePoint}}return{values:PSARArr,xData:xData,yData:yData}};PSARIndicator.defaultOptions=PSARIndicator_merge(PSARIndicator_SMAIndicator.defaultOptions,{lineWidth:0,marker:{enabled:true},states:{hover:{lineWidthPlus:0}},params:{period:void 0,initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}});return PSARIndicator}(PSARIndicator_SMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("psar",PSARIndicator);var PSAR_PSARIndicator=null&&PSARIndicator;"";var ROCIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var ROCIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var ROCIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,ROCIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,ROCIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend;function ROCIndicator_populateAverage(xVal,yVal,i,period,index){var nDaysAgoY,rocY;if(index<0){nDaysAgoY=yVal[i-period];rocY=nDaysAgoY?(yVal[i]-nDaysAgoY)/nDaysAgoY*100:null}else{nDaysAgoY=yVal[i-period][index];rocY=nDaysAgoY?(yVal[i][index]-nDaysAgoY)/nDaysAgoY*100:null}return[xVal[i],rocY]}var ROCIndicator=function(_super){ROCIndicator_extends(ROCIndicator,_super);function ROCIndicator(){return _super!==null&&_super.apply(this,arguments)||this}ROCIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,ROC=[],xData=[],yData=[];var i,index=-1,ROCPoint;if(xVal.length<=period){return}if(ROCIndicator_isArray(yVal[0])){index=params.index}for(i=period;i<yValLen;i++){ROCPoint=ROCIndicator_populateAverage(xVal,yVal,i,period,index);ROC.push(ROCPoint);xData.push(ROCPoint[0]);yData.push(ROCPoint[1])}return{values:ROC,xData:xData,yData:yData}};ROCIndicator.defaultOptions=ROCIndicator_merge(ROCIndicator_SMAIndicator.defaultOptions,{params:{index:3,period:9}});return ROCIndicator}(ROCIndicator_SMAIndicator);ROCIndicator_extend(ROCIndicator.prototype,{nameBase:"Rate of Change"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("roc",ROCIndicator);var ROC_ROCIndicator=null&&ROCIndicator;"";var RSIIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var RSIIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var RSIIndicator_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,RSIIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;function RSIIndicator_toFixed(a,n){return parseFloat(a.toFixed(n))}var RSIIndicator=function(_super){RSIIndicator_extends(RSIIndicator,_super);function RSIIndicator(){return _super!==null&&_super.apply(this,arguments)||this}RSIIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,decimals=params.decimals,RSI=[],xData=[],yData=[];var gain=0,loss=0,index=params.index,range=1,RSIPoint,change,avgGain,avgLoss,i,values;if(xVal.length<period){return}if(RSIIndicator_isNumber(yVal[0])){values=yVal}else{index=Math.min(index,yVal[0].length-1);values=yVal.map(function(value){return value[index]})}while(range<period){change=RSIIndicator_toFixed(values[range]-values[range-1],decimals);if(change>0){gain+=change}else{loss+=Math.abs(change)}range++}avgGain=RSIIndicator_toFixed(gain/(period-1),decimals);avgLoss=RSIIndicator_toFixed(loss/(period-1),decimals);for(i=range;i<yValLen;i++){change=RSIIndicator_toFixed(values[i]-values[i-1],decimals);if(change>0){gain=change;loss=0}else{gain=0;loss=Math.abs(change)}avgGain=RSIIndicator_toFixed((avgGain*(period-1)+gain)/period,decimals);avgLoss=RSIIndicator_toFixed((avgLoss*(period-1)+loss)/period,decimals);if(avgLoss===0){RSIPoint=100}else if(avgGain===0){RSIPoint=0}else{RSIPoint=RSIIndicator_toFixed(100-100/(1+avgGain/avgLoss),decimals)}RSI.push([xVal[i],RSIPoint]);xData.push(xVal[i]);yData.push(RSIPoint)}return{values:RSI,xData:xData,yData:yData}};RSIIndicator.defaultOptions=RSIIndicator_merge(RSIIndicator_SMAIndicator.defaultOptions,{params:{decimals:4,index:3}});return RSIIndicator}(RSIIndicator_SMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("rsi",RSIIndicator);var RSI_RSIIndicator=null&&RSIIndicator;"";var StochasticIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var StochasticIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var StochasticIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,StochasticIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,StochasticIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var StochasticIndicator=function(_super){StochasticIndicator_extends(StochasticIndicator,_super);function StochasticIndicator(){return _super!==null&&_super.apply(this,arguments)||this}StochasticIndicator.prototype.init=function(){_super.prototype.init.apply(this,arguments);this.options=StochasticIndicator_merge({smoothedLine:{styles:{lineColor:this.color}}},this.options)};StochasticIndicator.prototype.getValues=function(series,params){var periodK=params.periods[0],periodD=params.periods[1],xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,SO=[],xData=[],yData=[],close=3,low=2,high=1;var slicedY,CL,HL,LL,K,D=null,points,extremes,i;if(yValLen<periodK||!StochasticIndicator_isArray(yVal[0])||yVal[0].length!==4){return}var constantValues=true,j=0;for(i=periodK-1;i<yValLen;i++){slicedY=yVal.slice(i-periodK+1,i+1);extremes=Indicators_ArrayUtilities.getArrayExtremes(slicedY,low,high);LL=extremes[0];CL=yVal[i][close]-LL;HL=extremes[1]-LL;K=CL/HL*100;if(isNaN(K)&&constantValues){j++;continue}else if(constantValues&&!isNaN(K)){constantValues=false}var length_1=xData.push(xVal[i]);if(isNaN(K)){yData.push([yData[length_1-2]&&typeof yData[length_1-2][0]==="number"?yData[length_1-2][0]:null,null])}else{yData.push([K,null])}if(i>=j+(periodK-1)+(periodD-1)){points=_super.prototype.getValues.call(this,{xData:xData.slice(-periodD),yData:yData.slice(-periodD)},{period:periodD});D=points.yData[0]}SO.push([xVal[i],K,D]);yData[length_1-1][1]=D}return{values:SO,xData:xData,yData:yData}};StochasticIndicator.defaultOptions=StochasticIndicator_merge(StochasticIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:void 0,periods:[14,3]},marker:{enabled:false},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}});return StochasticIndicator}(StochasticIndicator_SMAIndicator);StochasticIndicator_extend(StochasticIndicator.prototype,{areaLinesNames:[],nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"]});Indicators_MultipleLinesComposition.compose(StochasticIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("stochastic",StochasticIndicator);var Stochastic_StochasticIndicator=null&&StochasticIndicator;"";var SlowStochasticIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var SlowStochasticIndicator_a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes,SlowStochasticIndicator_SMAIndicator=SlowStochasticIndicator_a.sma,SlowStochasticIndicator_StochasticIndicator=SlowStochasticIndicator_a.stochastic;var SlowStochasticIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,SlowStochasticIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var SlowStochasticIndicator=function(_super){SlowStochasticIndicator_extends(SlowStochasticIndicator,_super);function SlowStochasticIndicator(){return _super!==null&&_super.apply(this,arguments)||this}SlowStochasticIndicator.prototype.getValues=function(series,params){var periods=params.periods,fastValues=_super.prototype.getValues.call(this,series,params),slowValues={values:[],xData:[],yData:[]};if(!fastValues){return}slowValues.xData=fastValues.xData.slice(periods[1]-1);var fastYData=fastValues.yData.slice(periods[1]-1);var smoothedValues=SlowStochasticIndicator_SMAIndicator.prototype.getValues.call(this,{xData:slowValues.xData,yData:fastYData},{index:1,period:periods[2]});if(!smoothedValues){return}for(var i=0,xDataLen=slowValues.xData.length;i<xDataLen;i++){slowValues.yData[i]=[fastYData[i][1],smoothedValues.yData[i-periods[2]+1]||null];slowValues.values[i]=[slowValues.xData[i],fastYData[i][1],smoothedValues.yData[i-periods[2]+1]||null]}return slowValues};SlowStochasticIndicator.defaultOptions=SlowStochasticIndicator_merge(SlowStochasticIndicator_StochasticIndicator.defaultOptions,{params:{periods:[14,3,3]}});return SlowStochasticIndicator}(SlowStochasticIndicator_StochasticIndicator);SlowStochasticIndicator_extend(SlowStochasticIndicator.prototype,{nameBase:"Slow Stochastic"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("slowstochastic",SlowStochasticIndicator);var SlowStochastic_SlowStochasticIndicator=null&&SlowStochasticIndicator;"";var SupertrendIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var SupertrendIndicator_a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes,SupertrendIndicator_ATRIndicator=SupertrendIndicator_a.atr,SupertrendIndicator_SMAIndicator=SupertrendIndicator_a.sma;var SupertrendIndicator_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,SupertrendIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,SupertrendIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,SupertrendIndicator_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,SupertrendIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,SupertrendIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,SupertrendIndicator_objectEach=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().objectEach;function createPointObj(mainSeries,index){return{index:index,close:mainSeries.getColumn("close")[index],x:mainSeries.getColumn("x")[index]}}var SupertrendIndicator=function(_super){SupertrendIndicator_extends(SupertrendIndicator,_super);function SupertrendIndicator(){return _super!==null&&_super.apply(this,arguments)||this}SupertrendIndicator.prototype.init=function(){var indicator=this;_super.prototype.init.apply(indicator,arguments);var unbinder=SupertrendIndicator_addEvent(this.chart.constructor,"afterLinkSeries",function(){if(indicator.options){var options=indicator.options,parentOptions=indicator.linkedParent.options;options.cropThreshold=parentOptions.cropThreshold-(options.params.period-1)}unbinder()},{order:1})};SupertrendIndicator.prototype.drawGraph=function(){var indicator=this,indicOptions=indicator.options,mainSeries=indicator.linkedParent,mainXData=mainSeries.getColumn("x"),mainLinePoints=mainSeries?mainSeries.points:[],indicPoints=indicator.points,indicPath=indicator.graph,tempOffset=mainLinePoints.length-indicPoints.length,offset=tempOffset>0?tempOffset:0,gappedExtend={options:{gapSize:indicOptions.gapSize}},groupedPoints={top:[],bottom:[],intersect:[]},supertrendLineOptions={top:{styles:{lineWidth:indicOptions.lineWidth,lineColor:indicOptions.fallingTrendColor||indicOptions.color,dashStyle:indicOptions.dashStyle}},bottom:{styles:{lineWidth:indicOptions.lineWidth,lineColor:indicOptions.risingTrendColor||indicOptions.color,dashStyle:indicOptions.dashStyle}},intersect:indicOptions.changeTrendLine};var point,nextPoint,mainPoint,nextMainPoint,prevMainPoint,prevPrevMainPoint,pointColor,newPoint,newNextPoint,indicPointsLen=indicPoints.length;while(indicPointsLen--){point=indicPoints[indicPointsLen];nextPoint=indicPoints[indicPointsLen-1];mainPoint=mainLinePoints[indicPointsLen-1+offset];nextMainPoint=mainLinePoints[indicPointsLen-2+offset];prevMainPoint=mainLinePoints[indicPointsLen+offset];prevPrevMainPoint=mainLinePoints[indicPointsLen+offset+1];pointColor=point.options.color;newPoint={x:point.x,plotX:point.plotX,plotY:point.plotY,isNull:false};if(!nextMainPoint&&mainPoint&&SupertrendIndicator_isNumber(mainXData[mainPoint.index-1])){nextMainPoint=createPointObj(mainSeries,mainPoint.index-1)}if(!prevPrevMainPoint&&prevMainPoint&&SupertrendIndicator_isNumber(mainXData[prevMainPoint.index+1])){prevPrevMainPoint=createPointObj(mainSeries,prevMainPoint.index+1)}if(!mainPoint&&nextMainPoint&&SupertrendIndicator_isNumber(mainXData[nextMainPoint.index+1])){mainPoint=createPointObj(mainSeries,nextMainPoint.index+1)}else if(!mainPoint&&prevMainPoint&&SupertrendIndicator_isNumber(mainXData[prevMainPoint.index-1])){mainPoint=createPointObj(mainSeries,prevMainPoint.index-1)}if(point&&mainPoint&&prevMainPoint&&nextMainPoint&&point.x!==mainPoint.x){if(point.x===prevMainPoint.x){nextMainPoint=mainPoint;mainPoint=prevMainPoint}else if(point.x===nextMainPoint.x){mainPoint=nextMainPoint;nextMainPoint={close:mainSeries.getColumn("close")[mainPoint.index-1],x:mainXData[mainPoint.index-1]}}else if(prevPrevMainPoint&&point.x===prevPrevMainPoint.x){mainPoint=prevPrevMainPoint;nextMainPoint=prevMainPoint}}if(nextPoint&&nextMainPoint&&mainPoint){newNextPoint={x:nextPoint.x,plotX:nextPoint.plotX,plotY:nextPoint.plotY,isNull:false};if(point.y>=mainPoint.close&&nextPoint.y>=nextMainPoint.close){point.color=pointColor||indicOptions.fallingTrendColor||indicOptions.color;groupedPoints.top.push(newPoint)}else if(point.y<mainPoint.close&&nextPoint.y<nextMainPoint.close){point.color=pointColor||indicOptions.risingTrendColor||indicOptions.color;groupedPoints.bottom.push(newPoint)}else{groupedPoints.intersect.push(newPoint);groupedPoints.intersect.push(newNextPoint);groupedPoints.intersect.push(SupertrendIndicator_merge(newNextPoint,{isNull:true}));if(point.y>=mainPoint.close&&nextPoint.y<nextMainPoint.close){point.color=pointColor||indicOptions.fallingTrendColor||indicOptions.color;nextPoint.color=pointColor||indicOptions.risingTrendColor||indicOptions.color;groupedPoints.top.push(newPoint);groupedPoints.top.push(SupertrendIndicator_merge(newNextPoint,{isNull:true}))}else if(point.y<mainPoint.close&&nextPoint.y>=nextMainPoint.close){point.color=pointColor||indicOptions.risingTrendColor||indicOptions.color;nextPoint.color=pointColor||indicOptions.fallingTrendColor||indicOptions.color;groupedPoints.bottom.push(newPoint);groupedPoints.bottom.push(SupertrendIndicator_merge(newNextPoint,{isNull:true}))}}}else if(mainPoint){if(point.y>=mainPoint.close){point.color=pointColor||indicOptions.fallingTrendColor||indicOptions.color;groupedPoints.top.push(newPoint)}else{point.color=pointColor||indicOptions.risingTrendColor||indicOptions.color;groupedPoints.bottom.push(newPoint)}}}SupertrendIndicator_objectEach(groupedPoints,function(values,lineName){indicator.points=values;indicator.options=SupertrendIndicator_merge(supertrendLineOptions[lineName].styles,gappedExtend);indicator.graph=indicator["graph"+lineName+"Line"];SupertrendIndicator_SMAIndicator.prototype.drawGraph.call(indicator);indicator["graph"+lineName+"Line"]=indicator.graph});indicator.points=indicPoints;indicator.options=indicOptions;indicator.graph=indicPath};SupertrendIndicator.prototype.getValues=function(series,params){var period=params.period,multiplier=params.multiplier,xVal=series.xData,yVal=series.yData,st=[],xData=[],yData=[],close=3,low=2,high=1,periodsOffset=period===0?0:period-1,finalUp=[],finalDown=[];var atrData=[],basicUp,basicDown,supertrend,prevFinalUp,prevFinalDown,prevST,prevY,y,i;if(xVal.length<=period||!SupertrendIndicator_isArray(yVal[0])||yVal[0].length!==4||period<0){return}atrData=SupertrendIndicator_ATRIndicator.prototype.getValues.call(this,series,{period:period}).yData;for(i=0;i<atrData.length;i++){y=yVal[periodsOffset+i];prevY=yVal[periodsOffset+i-1]||[];prevFinalUp=finalUp[i-1];prevFinalDown=finalDown[i-1];prevST=yData[i-1];if(i===0){prevFinalUp=prevFinalDown=prevST=0}basicUp=SupertrendIndicator_correctFloat((y[high]+y[low])/2+multiplier*atrData[i]);basicDown=SupertrendIndicator_correctFloat((y[high]+y[low])/2-multiplier*atrData[i]);if(basicUp<prevFinalUp||prevY[close]>prevFinalUp){finalUp[i]=basicUp}else{finalUp[i]=prevFinalUp}if(basicDown>prevFinalDown||prevY[close]<prevFinalDown){finalDown[i]=basicDown}else{finalDown[i]=prevFinalDown}if(prevST===prevFinalUp&&y[close]<finalUp[i]||prevST===prevFinalDown&&y[close]<finalDown[i]){supertrend=finalUp[i]}else if(prevST===prevFinalUp&&y[close]>finalUp[i]||prevST===prevFinalDown&&y[close]>finalDown[i]){supertrend=finalDown[i]}st.push([xVal[periodsOffset+i],supertrend]);xData.push(xVal[periodsOffset+i]);yData.push(supertrend)}return{values:st,xData:xData,yData:yData}};SupertrendIndicator.defaultOptions=SupertrendIndicator_merge(SupertrendIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,multiplier:3,period:10},risingTrendColor:"#06b535",fallingTrendColor:"#f21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}});return SupertrendIndicator}(SupertrendIndicator_SMAIndicator);SupertrendIndicator_extend(SupertrendIndicator.prototype,{nameBase:"Supertrend",nameComponents:["multiplier","period"]});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("supertrend",SupertrendIndicator);var Supertrend_SupertrendIndicator=null&&SupertrendIndicator;"";var VBPPoint_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var VBPPoint_SMAPoint=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype.pointClass;var VBPPoint=function(_super){VBPPoint_extends(VBPPoint,_super);function VBPPoint(){return _super!==null&&_super.apply(this,arguments)||this}VBPPoint.prototype.destroy=function(){if(this.negativeGraphic){this.negativeGraphic=this.negativeGraphic.destroy()}_super.prototype.destroy.apply(this,arguments)};return VBPPoint}(VBPPoint_SMAPoint);var VBP_VBPPoint=VBPPoint;var VBPIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var animObject=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().animObject;var VBPIndicator_noop=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().noop;var VBPIndicator_a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes,VBPIndicator_columnProto=VBPIndicator_a.column.prototype,VBPIndicator_SMAIndicator=VBPIndicator_a.sma;var VBPIndicator_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,arrayMax=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().arrayMax,arrayMin=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().arrayMin,VBPIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,VBPIndicator_defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,VBPIndicator_error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,VBPIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,VBPIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,VBPIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var abs=Math.abs;function arrayExtremesOHLC(data){var dataLength=data.length;var min=data[0][3],max=min,i=1,currentPoint;for(;i<dataLength;i++){currentPoint=data[i][3];if(currentPoint<min){min=currentPoint}if(currentPoint>max){max=currentPoint}}return{min:min,max:max}}var VBPIndicator=function(_super){VBPIndicator_extends(VBPIndicator,_super);function VBPIndicator(){return _super!==null&&_super.apply(this,arguments)||this}VBPIndicator.prototype.init=function(chart,options){var indicator=this;delete options.data;_super.prototype.init.apply(indicator,arguments);var unbinder=VBPIndicator_addEvent(this.chart.constructor,"afterLinkSeries",function(){if(indicator.options){var params=indicator.options.params,baseSeries=indicator.linkedParent,volumeSeries=chart.get(params.volumeSeriesID);indicator.addCustomEvents(baseSeries,volumeSeries)}unbinder()},{order:1});return indicator};VBPIndicator.prototype.addCustomEvents=function(baseSeries,volumeSeries){var indicator=this,toEmptyIndicator=function(){indicator.chart.redraw();indicator.setData([]);indicator.zoneStarts=[];if(indicator.zoneLinesSVG){indicator.zoneLinesSVG=indicator.zoneLinesSVG.destroy()}};indicator.dataEventsToUnbind.push(VBPIndicator_addEvent(baseSeries,"remove",function(){toEmptyIndicator()}));if(volumeSeries){indicator.dataEventsToUnbind.push(VBPIndicator_addEvent(volumeSeries,"remove",function(){toEmptyIndicator()}))}return indicator};VBPIndicator.prototype.animate=function(init){var series=this,inverted=series.chart.inverted,group=series.group,attr={};if(!init&&group){var position=inverted?series.yAxis.top:series.xAxis.left;if(inverted){group["forceAnimate:translateY"]=true;attr.translateY=position}else{group["forceAnimate:translateX"]=true;attr.translateX=position}group.animate(attr,VBPIndicator_extend(animObject(series.options.animation),{step:function(val,fx){series.group.attr({scaleX:Math.max(.001,fx.pos)})}}))}};VBPIndicator.prototype.drawPoints=function(){var indicator=this;if(indicator.options.volumeDivision.enabled){indicator.posNegVolume(true,true);VBPIndicator_columnProto.drawPoints.apply(indicator,arguments);indicator.posNegVolume(false,false)}VBPIndicator_columnProto.drawPoints.apply(indicator,arguments)};VBPIndicator.prototype.posNegVolume=function(initVol,pos){var indicator=this,signOrder=pos?["positive","negative"]:["negative","positive"],volumeDivision=indicator.options.volumeDivision,pointLength=indicator.points.length;var posWidths=[],negWidths=[],i=0,pointWidth,priceZone,wholeVol,point;if(initVol){indicator.posWidths=posWidths;indicator.negWidths=negWidths}else{posWidths=indicator.posWidths;negWidths=indicator.negWidths}for(;i<pointLength;i++){point=indicator.points[i];point[signOrder[0]+"Graphic"]=point.graphic;point.graphic=point[signOrder[1]+"Graphic"];if(initVol){pointWidth=point.shapeArgs.width;priceZone=indicator.priceZones[i];wholeVol=priceZone.wholeVolumeData;if(wholeVol){posWidths.push(pointWidth/wholeVol*priceZone.positiveVolumeData);negWidths.push(pointWidth/wholeVol*priceZone.negativeVolumeData)}else{posWidths.push(0);negWidths.push(0)}}point.color=pos?volumeDivision.styles.positiveColor:volumeDivision.styles.negativeColor;point.shapeArgs.width=pos?indicator.posWidths[i]:indicator.negWidths[i];point.shapeArgs.x=pos?point.shapeArgs.x:indicator.posWidths[i]}};VBPIndicator.prototype.translate=function(){var indicator=this,options=indicator.options,chart=indicator.chart,yAxis=indicator.yAxis,yAxisMin=yAxis.min,zoneLinesOptions=indicator.options.zoneLines,priceZones=indicator.priceZones;var yBarOffset=0,volumeDataArray,maxVolume,primalBarWidth,barHeight,barHeightP,oldBarHeight,barWidth,pointPadding,chartPlotTop,barX,barY;VBPIndicator_columnProto.translate.apply(indicator);var indicatorPoints=indicator.points;if(indicatorPoints.length){pointPadding=options.pointPadding<.5?options.pointPadding:.1;volumeDataArray=indicator.volumeDataArray;maxVolume=arrayMax(volumeDataArray);primalBarWidth=chart.plotWidth/2;chartPlotTop=chart.plotTop;barHeight=abs(yAxis.toPixels(yAxisMin)-yAxis.toPixels(yAxisMin+indicator.rangeStep));oldBarHeight=abs(yAxis.toPixels(yAxisMin)-yAxis.toPixels(yAxisMin+indicator.rangeStep));if(pointPadding){barHeightP=abs(barHeight*(1-2*pointPadding));yBarOffset=abs((barHeight-barHeightP)/2);barHeight=abs(barHeightP)}indicatorPoints.forEach(function(point,index){barX=point.barX=point.plotX=0;barY=point.plotY=yAxis.toPixels(priceZones[index].start)-chartPlotTop-(yAxis.reversed?barHeight-oldBarHeight:barHeight)-yBarOffset;barWidth=VBPIndicator_correctFloat(primalBarWidth*priceZones[index].wholeVolumeData/maxVolume);point.pointWidth=barWidth;point.shapeArgs=indicator.crispCol.apply(indicator,[barX,barY,barWidth,barHeight]);point.volumeNeg=priceZones[index].negativeVolumeData;point.volumePos=priceZones[index].positiveVolumeData;point.volumeAll=priceZones[index].wholeVolumeData});if(zoneLinesOptions.enabled){indicator.drawZones(chart,yAxis,indicator.zoneStarts,zoneLinesOptions.styles)}}};VBPIndicator.prototype.getExtremes=function(){var prevCompare=this.options.compare,prevCumulative=this.options.cumulative;var ret;if(this.options.compare){this.options.compare=void 0;ret=_super.prototype.getExtremes.call(this);this.options.compare=prevCompare}else if(this.options.cumulative){this.options.cumulative=false;ret=_super.prototype.getExtremes.call(this);this.options.cumulative=prevCumulative}else{ret=_super.prototype.getExtremes.call(this)}return ret};VBPIndicator.prototype.getValues=function(series,params){var indicator=this,xValues=series.getColumn("x",true),yValues=series.processedYData,chart=indicator.chart,ranges=params.ranges,VBP=[],xData=[],yData=[],volumeSeries=chart.get(params.volumeSeriesID);if(!series.chart){VBPIndicator_error("Base series not found! In case it has been removed, add "+"a new one.",true,chart);return}if(!volumeSeries||!volumeSeries.getColumn("x",true).length){var errorMessage=volumeSeries&&!volumeSeries.getColumn("x",true).length?" does not contain any data.":" not found! Check `volumeSeriesID`.";VBPIndicator_error("Series "+params.volumeSeriesID+errorMessage,true,chart);return}var isOHLC=VBPIndicator_isArray(yValues[0]);if(isOHLC&&yValues[0].length!==4){VBPIndicator_error("Type of "+series.name+" series is different than line, OHLC or candlestick.",true,chart);return}var priceZones=indicator.priceZones=indicator.specifyZones(isOHLC,xValues,yValues,ranges,volumeSeries);priceZones.forEach(function(zone,index){VBP.push([zone.x,zone.end]);xData.push(VBP[index][0]);yData.push(VBP[index][1])});return{values:VBP,xData:xData,yData:yData}};VBPIndicator.prototype.specifyZones=function(isOHLC,xValues,yValues,ranges,volumeSeries){var indicator=this,rangeExtremes=isOHLC?arrayExtremesOHLC(yValues):false,zoneStarts=indicator.zoneStarts=[],priceZones=[];var lowRange=rangeExtremes?rangeExtremes.min:arrayMin(yValues),highRange=rangeExtremes?rangeExtremes.max:arrayMax(yValues),i=0,j=1;var mainSeries=indicator.linkedParent;if(!indicator.options.compareToMain&&mainSeries.dataModify){lowRange=mainSeries.dataModify.modifyValue(lowRange);highRange=mainSeries.dataModify.modifyValue(highRange)}if(!VBPIndicator_defined(lowRange)||!VBPIndicator_defined(highRange)){if(this.points.length){this.setData([]);this.zoneStarts=[];if(this.zoneLinesSVG){this.zoneLinesSVG=this.zoneLinesSVG.destroy()}}return[]}var rangeStep=indicator.rangeStep=VBPIndicator_correctFloat(highRange-lowRange)/ranges;zoneStarts.push(lowRange);for(;i<ranges-1;i++){zoneStarts.push(VBPIndicator_correctFloat(zoneStarts[i]+rangeStep))}zoneStarts.push(highRange);var zoneStartsLength=zoneStarts.length;for(;j<zoneStartsLength;j++){priceZones.push({index:j-1,x:xValues[0],start:zoneStarts[j-1],end:zoneStarts[j]})}return indicator.volumePerZone(isOHLC,priceZones,volumeSeries,xValues,yValues)};VBPIndicator.prototype.volumePerZone=function(isOHLC,priceZones,volumeSeries,xValues,yValues){var indicator=this,volumeXData=volumeSeries.getColumn("x",true),volumeYData=volumeSeries.getColumn("y",true),lastZoneIndex=priceZones.length-1,baseSeriesLength=yValues.length,volumeSeriesLength=volumeYData.length;var previousValue,startFlag,endFlag,value,i;if(abs(baseSeriesLength-volumeSeriesLength)){if(xValues[0]!==volumeXData[0]){volumeYData.unshift(0)}if(xValues[baseSeriesLength-1]!==volumeXData[volumeSeriesLength-1]){volumeYData.push(0)}}indicator.volumeDataArray=[];priceZones.forEach(function(zone){zone.wholeVolumeData=0;zone.positiveVolumeData=0;zone.negativeVolumeData=0;for(i=0;i<baseSeriesLength;i++){startFlag=false;endFlag=false;value=isOHLC?yValues[i][3]:yValues[i];previousValue=i?isOHLC?yValues[i-1][3]:yValues[i-1]:value;var mainSeries=indicator.linkedParent;if(!indicator.options.compareToMain&&mainSeries.dataModify){value=mainSeries.dataModify.modifyValue(value);previousValue=mainSeries.dataModify.modifyValue(previousValue)}if(value<=zone.start&&zone.index===0){startFlag=true}if(value>=zone.end&&zone.index===lastZoneIndex){endFlag=true}if((value>zone.start||startFlag)&&(value<zone.end||endFlag)){zone.wholeVolumeData+=volumeYData[i];if(previousValue>value){zone.negativeVolumeData+=volumeYData[i]}else{zone.positiveVolumeData+=volumeYData[i]}}}indicator.volumeDataArray.push(zone.wholeVolumeData)});return priceZones};VBPIndicator.prototype.drawZones=function(chart,yAxis,zonesValues,zonesStyles){var indicator=this,renderer=chart.renderer,leftLinePos=0,rightLinePos=chart.plotWidth,verticalOffset=chart.plotTop;var zoneLinesSVG=indicator.zoneLinesSVG,zoneLinesPath=[],verticalLinePos;zonesValues.forEach(function(value){verticalLinePos=yAxis.toPixels(value)-verticalOffset;zoneLinesPath=zoneLinesPath.concat(chart.renderer.crispLine([["M",leftLinePos,verticalLinePos],["L",rightLinePos,verticalLinePos]],zonesStyles.lineWidth))});if(zoneLinesSVG){zoneLinesSVG.animate({d:zoneLinesPath})}else{zoneLinesSVG=indicator.zoneLinesSVG=renderer.path(zoneLinesPath).attr({"stroke-width":zonesStyles.lineWidth,stroke:zonesStyles.color,dashstyle:zonesStyles.dashStyle,zIndex:indicator.group.zIndex+.1}).add(indicator.group)}};VBPIndicator.defaultOptions=VBPIndicator_merge(VBPIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:true,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:true,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:false,pointPadding:0,zIndex:-1,crisp:true,dataGrouping:{enabled:false},dataLabels:{allowOverlap:true,enabled:true,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"0.5em"},verticalAlign:"top"}});return VBPIndicator}(VBPIndicator_SMAIndicator);VBPIndicator_extend(VBPIndicator.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:VBP_VBPPoint,markerAttribs:VBPIndicator_noop,drawGraph:VBPIndicator_noop,getColumnMetrics:VBPIndicator_columnProto.getColumnMetrics,crispCol:VBPIndicator_columnProto.crispCol});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("vbp",VBPIndicator);var VBP_VBPIndicator=null&&VBPIndicator;"";var VWAPIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var VWAPIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var VWAPIndicator_error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,VWAPIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,VWAPIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var VWAPIndicator=function(_super){VWAPIndicator_extends(VWAPIndicator,_super);function VWAPIndicator(){return _super!==null&&_super.apply(this,arguments)||this}VWAPIndicator.prototype.getValues=function(series,params){var indicator=this,chart=series.chart,xValues=series.xData,yValues=series.yData,period=params.period;var isOHLC=true,volumeSeries;if(!(volumeSeries=chart.get(params.volumeSeriesID))){VWAPIndicator_error("Series "+params.volumeSeriesID+" not found! Check `volumeSeriesID`.",true,chart);return}if(!VWAPIndicator_isArray(yValues[0])){isOHLC=false}return indicator.calculateVWAPValues(isOHLC,xValues,yValues,volumeSeries,period)};VWAPIndicator.prototype.calculateVWAPValues=function(isOHLC,xValues,yValues,volumeSeries,period){var volumeValues=volumeSeries.getColumn("y"),volumeLength=volumeValues.length,pointsLength=xValues.length,cumulativePrice=[],cumulativeVolume=[],xData=[],yData=[],VWAP=[];var commonLength,typicalPrice,cPrice,cVolume,i,j;if(pointsLength<=volumeLength){commonLength=pointsLength}else{commonLength=volumeLength}for(i=0,j=0;i<commonLength;i++){typicalPrice=isOHLC?(yValues[i][1]+yValues[i][2]+yValues[i][3])/3:yValues[i];typicalPrice*=volumeValues[i];cPrice=j?cumulativePrice[i-1]+typicalPrice:typicalPrice;cVolume=j?cumulativeVolume[i-1]+volumeValues[i]:volumeValues[i];cumulativePrice.push(cPrice);cumulativeVolume.push(cVolume);VWAP.push([xValues[i],cPrice/cVolume]);xData.push(VWAP[i][0]);yData.push(VWAP[i][1]);j++;if(j===period){j=0}}return{values:VWAP,xData:xData,yData:yData}};VWAPIndicator.defaultOptions=VWAPIndicator_merge(VWAPIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}});return VWAPIndicator}(VWAPIndicator_SMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("vwap",VWAPIndicator);var VWAP_VWAPIndicator=null&&VWAPIndicator;"";var WilliamsRIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var WilliamsRIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var WilliamsRIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,WilliamsRIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,WilliamsRIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var WilliamsRIndicator=function(_super){WilliamsRIndicator_extends(WilliamsRIndicator,_super);function WilliamsRIndicator(){return _super!==null&&_super.apply(this,arguments)||this}WilliamsRIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,WR=[],xData=[],yData=[],close=3,low=2,high=1;var slicedY,extremes,R,HH,LL,CC,i;if(xVal.length<period||!WilliamsRIndicator_isArray(yVal[0])||yVal[0].length!==4){return}for(i=period-1;i<yValLen;i++){slicedY=yVal.slice(i-period+1,i+1);extremes=Indicators_ArrayUtilities.getArrayExtremes(slicedY,low,high);LL=extremes[0];HH=extremes[1];CC=yVal[i][close];R=(HH-CC)/(HH-LL)*-100;if(xVal[i]){WR.push([xVal[i],R]);xData.push(xVal[i]);yData.push(R)}}return{values:WR,xData:xData,yData:yData}};WilliamsRIndicator.defaultOptions=WilliamsRIndicator_merge(WilliamsRIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:14}});return WilliamsRIndicator}(WilliamsRIndicator_SMAIndicator);WilliamsRIndicator_extend(WilliamsRIndicator.prototype,{nameBase:"Williams %R"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("williamsr",WilliamsRIndicator);var WilliamsR_WilliamsRIndicator=null&&WilliamsRIndicator;"";var WMAIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var WMAIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var WMAIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,WMAIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;function WMAIndicator_accumulateAverage(points,xVal,yVal,i,index){var xValue=xVal[i],yValue=index<0?yVal[i]:yVal[i][index];points.push([xValue,yValue])}function weightedSumArray(array,pLen){var denominator=(pLen+1)/2*pLen;return array.reduce(function(prev,cur,i){return[null,prev[1]+cur[1]*(i+1)]})[1]/denominator}function WMAIndicator_populateAverage(points,xVal,yVal,i){var pLen=points.length,wmaY=weightedSumArray(points,pLen),wmaX=xVal[i-1];points.shift();return[wmaX,wmaY]}var WMAIndicator=function(_super){WMAIndicator_extends(WMAIndicator,_super);function WMAIndicator(){return _super!==null&&_super.apply(this,arguments)||this}WMAIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,xValue=xVal[0],wma=[],xData=[],yData=[];var range=1,index=-1,i,wmaPoint,yValue=yVal[0];if(xVal.length<period){return}if(WMAIndicator_isArray(yVal[0])){index=params.index;yValue=yVal[0][index]}var points=[[xValue,yValue]];while(range!==period){WMAIndicator_accumulateAverage(points,xVal,yVal,range,index);range++}for(i=range;i<yValLen;i++){wmaPoint=WMAIndicator_populateAverage(points,xVal,yVal,i);wma.push(wmaPoint);xData.push(wmaPoint[0]);yData.push(wmaPoint[1]);WMAIndicator_accumulateAverage(points,xVal,yVal,i,index)}wmaPoint=WMAIndicator_populateAverage(points,xVal,yVal,i);wma.push(wmaPoint);xData.push(wmaPoint[0]);yData.push(wmaPoint[1]);return{values:wma,xData:xData,yData:yData}};WMAIndicator.defaultOptions=WMAIndicator_merge(WMAIndicator_SMAIndicator.defaultOptions,{params:{index:3,period:9}});return WMAIndicator}(WMAIndicator_SMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("wma",WMAIndicator);var WMA_WMAIndicator=null&&WMAIndicator;"";var ZigzagIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var ZigzagIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var ZigzagIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,ZigzagIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend;var ZigzagIndicator=function(_super){ZigzagIndicator_extends(ZigzagIndicator,_super);function ZigzagIndicator(){return _super!==null&&_super.apply(this,arguments)||this}ZigzagIndicator.prototype.getValues=function(series,params){var lowIndex=params.lowIndex,highIndex=params.highIndex,deviation=params.deviation/100,deviations={low:1+deviation,high:1-deviation},xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,zigzag=[],xData=[],yData=[];var i,j,zigzagPoint,directionUp,exitLoop=false,yIndex=false;if(!xVal||xVal.length<=1||yValLen&&(typeof yVal[0][lowIndex]==="undefined"||typeof yVal[0][highIndex]==="undefined")){return}var firstZigzagLow=yVal[0][lowIndex],firstZigzagHigh=yVal[0][highIndex];for(i=1;i<yValLen;i++){if(yVal[i][lowIndex]<=firstZigzagHigh*deviations.high){zigzag.push([xVal[0],firstZigzagHigh]);zigzagPoint=[xVal[i],yVal[i][lowIndex]];directionUp=true;exitLoop=true}else if(yVal[i][highIndex]>=firstZigzagLow*deviations.low){zigzag.push([xVal[0],firstZigzagLow]);zigzagPoint=[xVal[i],yVal[i][highIndex]];directionUp=false;exitLoop=true}if(exitLoop){xData.push(zigzag[0][0]);yData.push(zigzag[0][1]);j=i++;i=yValLen}}for(i=j;i<yValLen;i++){if(directionUp){if(yVal[i][lowIndex]<=zigzagPoint[1]){zigzagPoint=[xVal[i],yVal[i][lowIndex]]}if(yVal[i][highIndex]>=zigzagPoint[1]*deviations.low){yIndex=highIndex}}else{if(yVal[i][highIndex]>=zigzagPoint[1]){zigzagPoint=[xVal[i],yVal[i][highIndex]]}if(yVal[i][lowIndex]<=zigzagPoint[1]*deviations.high){yIndex=lowIndex}}if(yIndex!==false){zigzag.push(zigzagPoint);xData.push(zigzagPoint[0]);yData.push(zigzagPoint[1]);zigzagPoint=[xVal[i],yVal[i][yIndex]];directionUp=!directionUp;yIndex=false}}var zigzagLen=zigzag.length;if(zigzagLen!==0&&zigzag[zigzagLen-1][0]<xVal[yValLen-1]){zigzag.push(zigzagPoint);xData.push(zigzagPoint[0]);yData.push(zigzagPoint[1])}return{values:zigzag,xData:xData,yData:yData}};ZigzagIndicator.defaultOptions=ZigzagIndicator_merge(ZigzagIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}});return ZigzagIndicator}(ZigzagIndicator_SMAIndicator);ZigzagIndicator_extend(ZigzagIndicator.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("zigzag",ZigzagIndicator);var Zigzag_ZigzagIndicator=null&&ZigzagIndicator;"";var LinearRegressionIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var LinearRegressionIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var LinearRegressionIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,LinearRegressionIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,LinearRegressionIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var LinearRegressionIndicator=function(_super){LinearRegressionIndicator_extends(LinearRegressionIndicator,_super);function LinearRegressionIndicator(){return _super!==null&&_super.apply(this,arguments)||this}LinearRegressionIndicator.prototype.getRegressionLineParameters=function(xData,yData){var yIndex=this.options.params.index,getSingleYValue=function(yValue,yIndex){return LinearRegressionIndicator_isArray(yValue)?yValue[yIndex]:yValue},xSum=xData.reduce(function(accX,val){return val+accX},0),ySum=yData.reduce(function(accY,val){return getSingleYValue(val,yIndex)+accY},0),xMean=xSum/xData.length,yMean=ySum/yData.length;var xError,yError,i,formulaNumerator=0,formulaDenominator=0;for(i=0;i<xData.length;i++){xError=xData[i]-xMean;yError=getSingleYValue(yData[i],yIndex)-yMean;formulaNumerator+=xError*yError;formulaDenominator+=Math.pow(xError,2)}var slope=formulaDenominator?formulaNumerator/formulaDenominator:0;return{slope:slope,intercept:yMean-slope*xMean}};LinearRegressionIndicator.prototype.getEndPointY=function(lineParameters,endPointX){return lineParameters.slope*endPointX+lineParameters.intercept};LinearRegressionIndicator.prototype.transformXData=function(xData,xAxisUnit){var xOffset=xData[0];return xData.map(function(xValue){return(xValue-xOffset)/xAxisUnit})};LinearRegressionIndicator.prototype.findClosestDistance=function(xData){var distance,closestDistance,i;for(i=1;i<xData.length-1;i++){distance=xData[i]-xData[i-1];if(distance>0&&(typeof closestDistance==="undefined"||distance<closestDistance)){closestDistance=distance}}return closestDistance};LinearRegressionIndicator.prototype.getValues=function(baseSeries,regressionSeriesParams){var xData=baseSeries.xData,yData=baseSeries.yData,period=regressionSeriesParams.period,indicatorData={xData:[],yData:[],values:[]},xAxisUnit=this.options.params.xAxisUnit||this.findClosestDistance(xData);var lineParameters,i,periodStart,periodEnd,endPointX,endPointY,periodXData,periodYData,periodTransformedXData;for(i=period-1;i<=xData.length-1;i++){periodStart=i-period+1;periodEnd=i+1;endPointX=xData[i];periodXData=xData.slice(periodStart,periodEnd);periodYData=yData.slice(periodStart,periodEnd);periodTransformedXData=this.transformXData(periodXData,xAxisUnit);lineParameters=this.getRegressionLineParameters(periodTransformedXData,periodYData);endPointY=this.getEndPointY(lineParameters,periodTransformedXData[periodTransformedXData.length-1]);indicatorData.values.push({regressionLineParameters:lineParameters,x:endPointX,y:endPointY});if(LinearRegressionIndicator_isArray(indicatorData.xData)){indicatorData.xData.push(endPointX)}if(LinearRegressionIndicator_isArray(indicatorData.yData)){indicatorData.yData.push(endPointY)}}return indicatorData};LinearRegressionIndicator.defaultOptions=LinearRegressionIndicator_merge(LinearRegressionIndicator_SMAIndicator.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}});return LinearRegressionIndicator}(LinearRegressionIndicator_SMAIndicator);LinearRegressionIndicator_extend(LinearRegressionIndicator.prototype,{nameBase:"Linear Regression Indicator"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("linearRegression",LinearRegressionIndicator);var LinearRegression_LinearRegressionIndicator=null&&LinearRegressionIndicator;"";var LinearRegressionSlopesIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var LinearRegressionSlopesIndicator_LinearRegressionIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.linearRegression;var LinearRegressionSlopesIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,LinearRegressionSlopesIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var LinearRegressionSlopesIndicator=function(_super){LinearRegressionSlopesIndicator_extends(LinearRegressionSlopesIndicator,_super);function LinearRegressionSlopesIndicator(){return _super!==null&&_super.apply(this,arguments)||this}LinearRegressionSlopesIndicator.prototype.getEndPointY=function(lineParameters){return lineParameters.slope};LinearRegressionSlopesIndicator.defaultOptions=LinearRegressionSlopesIndicator_merge(LinearRegressionSlopesIndicator_LinearRegressionIndicator.defaultOptions);return LinearRegressionSlopesIndicator}(LinearRegressionSlopesIndicator_LinearRegressionIndicator);LinearRegressionSlopesIndicator_extend(LinearRegressionSlopesIndicator.prototype,{nameBase:"Linear Regression Slope Indicator"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("linearRegressionSlope",LinearRegressionSlopesIndicator);var LinearRegressionSlopes_LinearRegressionSlopesIndicator=null&&LinearRegressionSlopesIndicator;"";var LinearRegressionInterceptIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var LinearRegressionInterceptIndicator_LinearRegressionIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.linearRegression;var LinearRegressionInterceptIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,LinearRegressionInterceptIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var LinearRegressionInterceptIndicator=function(_super){LinearRegressionInterceptIndicator_extends(LinearRegressionInterceptIndicator,_super);function LinearRegressionInterceptIndicator(){return _super!==null&&_super.apply(this,arguments)||this}LinearRegressionInterceptIndicator.prototype.getEndPointY=function(lineParameters){return lineParameters.intercept};LinearRegressionInterceptIndicator.defaultOptions=LinearRegressionInterceptIndicator_merge(LinearRegressionInterceptIndicator_LinearRegressionIndicator.defaultOptions);return LinearRegressionInterceptIndicator}(LinearRegressionInterceptIndicator_LinearRegressionIndicator);LinearRegressionInterceptIndicator_extend(LinearRegressionInterceptIndicator.prototype,{nameBase:"Linear Regression Intercept Indicator"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("linearRegressionIntercept",LinearRegressionInterceptIndicator);var LinearRegressionIntercept_LinearRegressionInterceptIndicator=null&&LinearRegressionInterceptIndicator;"";var LinearRegressionAngleIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var LinearRegressionAngleIndicator_LinearRegressionIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.linearRegression;var LinearRegressionAngleIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,LinearRegressionAngleIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var LinearRegressionAngleIndicator=function(_super){LinearRegressionAngleIndicator_extends(LinearRegressionAngleIndicator,_super);function LinearRegressionAngleIndicator(){return _super!==null&&_super.apply(this,arguments)||this}LinearRegressionAngleIndicator.prototype.slopeToAngle=function(slope){return Math.atan(slope)*(180/Math.PI)};LinearRegressionAngleIndicator.prototype.getEndPointY=function(lineParameters){return this.slopeToAngle(lineParameters.slope)};LinearRegressionAngleIndicator.defaultOptions=LinearRegressionAngleIndicator_merge(LinearRegressionAngleIndicator_LinearRegressionIndicator.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>'+"{series.name}: <b>{point.y}°</b><br/>"}});return LinearRegressionAngleIndicator}(LinearRegressionAngleIndicator_LinearRegressionIndicator);LinearRegressionAngleIndicator_extend(LinearRegressionAngleIndicator.prototype,{nameBase:"Linear Regression Angle Indicator"});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("linearRegressionAngle",LinearRegressionAngleIndicator);var LinearRegressionAngle_LinearRegressionAngleIndicator=null&&LinearRegressionAngleIndicator;"";var ABandsIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var ABandsIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var ABandsIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,ABandsIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,ABandsIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;function getBaseForBand(low,high,factor){return ABandsIndicator_correctFloat(high-low)/(ABandsIndicator_correctFloat(high+low)/2)*1e3*factor}function getPointUB(high,base){return high*ABandsIndicator_correctFloat(1+2*base)}function getPointLB(low,base){return low*ABandsIndicator_correctFloat(1-2*base)}var ABandsIndicator=function(_super){ABandsIndicator_extends(ABandsIndicator,_super);function ABandsIndicator(){return _super!==null&&_super.apply(this,arguments)||this}ABandsIndicator.prototype.getValues=function(series,params){var period=params.period,factor=params.factor,index=params.index,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,UB=[],LB=[],ABANDS=[],low=2,high=1,xData=[],yData=[];var ML,TL,BL,date,bandBase,pointSMA,ubSMA,lbSMA,slicedX,slicedY,i;if(yValLen<period){return}for(i=0;i<=yValLen;i++){if(i<yValLen){bandBase=getBaseForBand(yVal[i][low],yVal[i][high],factor);UB.push(getPointUB(yVal[i][high],bandBase));LB.push(getPointLB(yVal[i][low],bandBase))}if(i>=period){slicedX=xVal.slice(i-period,i);slicedY=yVal.slice(i-period,i);ubSMA=_super.prototype.getValues.call(this,{xData:slicedX,yData:UB.slice(i-period,i)},{period:period});lbSMA=_super.prototype.getValues.call(this,{xData:slicedX,yData:LB.slice(i-period,i)},{period:period});pointSMA=_super.prototype.getValues.call(this,{xData:slicedX,yData:slicedY},{period:period,index:index});date=pointSMA.xData[0];TL=ubSMA.yData[0];BL=lbSMA.yData[0];ML=pointSMA.yData[0];ABANDS.push([date,TL,ML,BL]);xData.push(date);yData.push([TL,ML,BL])}}return{values:ABANDS,xData:xData,yData:yData}};ABandsIndicator.defaultOptions=ABandsIndicator_merge(ABandsIndicator_SMAIndicator.defaultOptions,{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}});return ABandsIndicator}(ABandsIndicator_SMAIndicator);ABandsIndicator_extend(ABandsIndicator.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameBase:"Acceleration Bands",nameComponents:["period","factor"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"});Indicators_MultipleLinesComposition.compose(ABandsIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("abands",ABandsIndicator);var ABands_ABandsIndicator=null&&ABandsIndicator;"";var TrendLineIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var TrendLineIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var TrendLineIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,TrendLineIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,TrendLineIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray;var TrendLineIndicator=function(_super){TrendLineIndicator_extends(TrendLineIndicator,_super);function TrendLineIndicator(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.updateAllPoints=true;return _this}TrendLineIndicator.prototype.getValues=function(series,params){var orgXVal=series.xData,yVal=series.yData,xVal=[],LR=[],xData=[],yData=[],index=params.index;var numerator=0,denominator=0,xValSum=0,yValSum=0,counter=0;for(var i=0;i<orgXVal.length;i++){if(i===0||orgXVal[i]!==orgXVal[i-1]){counter++}xVal.push(counter)}for(var i=0;i<xVal.length;i++){xValSum+=xVal[i];yValSum+=TrendLineIndicator_isArray(yVal[i])?yVal[i][index]:yVal[i]}var meanX=xValSum/xVal.length,meanY=yValSum/yVal.length;for(var i=0;i<xVal.length;i++){var y=TrendLineIndicator_isArray(yVal[i])?yVal[i][index]:yVal[i];numerator+=(xVal[i]-meanX)*(y-meanY);denominator+=Math.pow(xVal[i]-meanX,2)}for(var i=0;i<xVal.length;i++){if(orgXVal[i]===xData[xData.length-1]){continue}var x=orgXVal[i],y=meanY+numerator/denominator*(xVal[i]-meanX);LR.push([x,y]);xData.push(x);yData.push(y)}return{xData:xData,yData:yData,values:LR}};TrendLineIndicator.defaultOptions=TrendLineIndicator_merge(TrendLineIndicator_SMAIndicator.defaultOptions,{params:{period:void 0,index:3}});return TrendLineIndicator}(TrendLineIndicator_SMAIndicator);TrendLineIndicator_extend(TrendLineIndicator.prototype,{nameBase:"Trendline",nameComponents:void 0});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("trendline",TrendLineIndicator);var TrendLine_TrendLineIndicator=null&&TrendLineIndicator;"";var DisparityIndexIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var DisparityIndexIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var DisparityIndexIndicator_correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,DisparityIndexIndicator_defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,DisparityIndexIndicator_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,DisparityIndexIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,DisparityIndexIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var DisparityIndexIndicator=function(_super){DisparityIndexIndicator_extends(DisparityIndexIndicator,_super);function DisparityIndexIndicator(){return _super!==null&&_super.apply(this,arguments)||this}DisparityIndexIndicator.prototype.init=function(){var args=arguments,ctx=this,params=args[1].params,averageType=params&&params.average?params.average:void 0;ctx.averageIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes[averageType]||DisparityIndexIndicator_SMAIndicator;ctx.averageIndicator.prototype.init.apply(ctx,args)};DisparityIndexIndicator.prototype.calculateDisparityIndex=function(curPrice,periodAverage){return DisparityIndexIndicator_correctFloat(curPrice-periodAverage)/periodAverage*100};DisparityIndexIndicator.prototype.getValues=function(series,params){var index=params.index,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,disparityIndexPoint=[],xData=[],yData=[],averageIndicator=this.averageIndicator,isOHLC=DisparityIndexIndicator_isArray(yVal[0]),values=averageIndicator.prototype.getValues(series,params),yValues=values.yData,start=xVal.indexOf(values.xData[0]);if(!yValues||yValues.length===0||!DisparityIndexIndicator_defined(index)||yVal.length<=start){return}for(var i=start;i<yValLen;i++){var disparityIndexValue=this.calculateDisparityIndex(isOHLC?yVal[i][index]:yVal[i],yValues[i-start]);disparityIndexPoint.push([xVal[i],disparityIndexValue]);xData.push(xVal[i]);yData.push(disparityIndexValue)}return{values:disparityIndexPoint,xData:xData,yData:yData}};DisparityIndexIndicator.defaultOptions=DisparityIndexIndicator_merge(DisparityIndexIndicator_SMAIndicator.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:false},dataGrouping:{approximation:"averages"}});return DisparityIndexIndicator}(DisparityIndexIndicator_SMAIndicator);DisparityIndexIndicator_extend(DisparityIndexIndicator.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("disparityindex",DisparityIndexIndicator);var DisparityIndex_DisparityIndexIndicator=null&&DisparityIndexIndicator;"";var indicators_all_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__}()});