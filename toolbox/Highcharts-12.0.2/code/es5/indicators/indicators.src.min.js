(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("highcharts"),require("highcharts")["Chart"],require("highcharts")["SeriesRegistry"]);else if(typeof define==="function"&&define.amd)define("highcharts/indicators/indicators",[["highcharts/highcharts"],["highcharts/highcharts","Chart"],["highcharts/highcharts","SeriesRegistry"]],factory);else if(typeof exports==="object")exports["highcharts/indicators/indicators"]=factory(require("highcharts"),require("highcharts")["Chart"],require("highcharts")["SeriesRegistry"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["Chart"],root["Highcharts"]["SeriesRegistry"])})(this,function(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__960__,__WEBPACK_EXTERNAL_MODULE__512__){return function(){"use strict";var __webpack_modules__={960:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__960__},512:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,{a:getter});return getter}}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return indicators_src}});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var highcharts_Chart_commonjs_highcharts_Chart_commonjs2_highcharts_Chart_root_Highcharts_Chart_=__webpack_require__(960);var highcharts_Chart_commonjs_highcharts_Chart_commonjs2_highcharts_Chart_root_Highcharts_Chart_default=__webpack_require__.n(highcharts_Chart_commonjs_highcharts_Chart_commonjs2_highcharts_Chart_root_Highcharts_Chart_);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);var __extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __assign=undefined&&undefined.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __spreadArray=undefined&&undefined.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var LineSeries=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.line;var addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,fireEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().fireEvent,error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;var tableToMultiYData=function(series,processed){var yData=[],pointArrayMap=series.pointArrayMap,table=processed&&series.dataTable.modified||series.dataTable;if(!pointArrayMap){return series.getColumn("y",processed)}var columns=pointArrayMap.map(function(key){return series.getColumn(key,processed)});var _loop_1=function(i){var values=pointArrayMap.map(function(key,colIndex){var _a;return((_a=columns[colIndex])===null||_a===void 0?void 0:_a[i])||0});yData.push(values)};for(var i=0;i<table.rowCount;i++){_loop_1(i)}return yData};var SMAIndicator=function(_super){__extends(SMAIndicator,_super);function SMAIndicator(){return _super!==null&&_super.apply(this,arguments)||this}SMAIndicator.prototype.destroy=function(){this.dataEventsToUnbind.forEach(function(unbinder){unbinder()});_super.prototype.destroy.apply(this,arguments)};SMAIndicator.prototype.getName=function(){var params=[];var name=this.name;if(!name){(this.nameComponents||[]).forEach(function(component,index){params.push(this.options.params[component]+pick(this.nameSuffixes[index],""))},this);name=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+params.join(", ")+")":"")}return name};SMAIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData||[],yVal=series.yData,yValLen=yVal.length,SMA=[],xData=[],yData=[];var i,index=-1,range=0,SMAPoint,sum=0;if(xVal.length<period){return}if(isArray(yVal[0])){index=params.index?params.index:0}while(range<period-1){sum+=index<0?yVal[range]:yVal[range][index];range++}for(i=range;i<yValLen;i++){sum+=index<0?yVal[i]:yVal[i][index];SMAPoint=[xVal[i],sum/period];SMA.push(SMAPoint);xData.push(SMAPoint[0]);yData.push(SMAPoint[1]);sum-=index<0?yVal[i-range]:yVal[i-range][index]}return{values:SMA,xData:xData,yData:yData}};SMAIndicator.prototype.init=function(chart,options){var indicator=this;_super.prototype.init.call(indicator,chart,options);var linkedSeriesUnbiner=addEvent(highcharts_Chart_commonjs_highcharts_Chart_commonjs2_highcharts_Chart_root_Highcharts_Chart_default(),"afterLinkSeries",function(_a){var isUpdating=_a.isUpdating;if(isUpdating){return}var hasEvents=!!indicator.dataEventsToUnbind.length;if(indicator.linkedParent){if(!hasEvents){indicator.dataEventsToUnbind.push(addEvent(indicator.linkedParent,"updatedData",function(){indicator.recalculateValues()}));if(indicator.calculateOn.xAxis){indicator.dataEventsToUnbind.push(addEvent(indicator.linkedParent.xAxis,indicator.calculateOn.xAxis,function(){indicator.recalculateValues()}))}}if(indicator.calculateOn.chart==="init"){if(!indicator.closestPointRange){indicator.recalculateValues()}}else if(!hasEvents){var unbinder_1=addEvent(indicator.chart,indicator.calculateOn.chart,function(){indicator.recalculateValues();unbinder_1()})}}else{return error("Series "+indicator.options.linkedTo+" not found! Check `linkedTo`.",false,chart)}},{order:0});indicator.dataEventsToUnbind=[];indicator.eventsToUnbind.push(linkedSeriesUnbiner)};SMAIndicator.prototype.recalculateValues=function(){var _this=this;var _a;var croppedDataValues=[],indicator=this,table=this.dataTable,oldData=indicator.points||[],oldDataLength=indicator.dataTable.rowCount,emptySet={values:[],xData:[],yData:[]};var overwriteData=true,oldFirstPointIndex,oldLastPointIndex,min,max;var yData=indicator.linkedParent.yData,processedYData=indicator.linkedParent.processedYData;indicator.linkedParent.xData=indicator.linkedParent.getColumn("x");indicator.linkedParent.yData=tableToMultiYData(indicator.linkedParent);indicator.linkedParent.processedYData=tableToMultiYData(indicator.linkedParent,true);var processedData=indicator.linkedParent.options&&indicator.linkedParent.dataTable.rowCount?indicator.getValues(indicator.linkedParent,indicator.options.params)||emptySet:emptySet;delete indicator.linkedParent.xData;indicator.linkedParent.yData=yData;indicator.linkedParent.processedYData=processedYData;var pointArrayMap=indicator.pointArrayMap||["y"],valueColumns={};processedData.yData.forEach(function(values){pointArrayMap.forEach(function(key,index){var column=valueColumns[key]||[];column.push(isArray(values)?values[index]:values);if(!valueColumns[key]){valueColumns[key]=column}})});if(oldDataLength&&!indicator.hasGroupedData&&indicator.visible&&indicator.points){if(indicator.cropped){if(indicator.xAxis){min=indicator.xAxis.min;max=indicator.xAxis.max}var croppedData=indicator.cropData(table,min,max);var keys=__spreadArray(["x"],indicator.pointArrayMap||["y"],true);var _loop_2=function(i){var values=keys.map(function(key){return _this.getColumn(key)[i]||0});croppedDataValues.push(values)};for(var i=0;i<(((_a=croppedData.modified)===null||_a===void 0?void 0:_a.rowCount)||0);i++){_loop_2(i)}var indicatorXData=indicator.getColumn("x");oldFirstPointIndex=processedData.xData.indexOf(indicatorXData[0]);oldLastPointIndex=processedData.xData.indexOf(indicatorXData[indicatorXData.length-1]);if(oldFirstPointIndex===-1&&oldLastPointIndex===processedData.xData.length-2){if(croppedDataValues[0][0]===oldData[0].x){croppedDataValues.shift()}}indicator.updateData(croppedDataValues)}else if(indicator.updateAllPoints||processedData.xData.length!==oldDataLength-1&&processedData.xData.length!==oldDataLength+1){overwriteData=false;indicator.updateData(processedData.values)}}if(overwriteData){table.setColumns(__assign(__assign({},valueColumns),{x:processedData.xData}));indicator.options.data=processedData.values}if(indicator.calculateOn.xAxis&&indicator.getColumn("x",true).length){indicator.isDirty=true;indicator.redraw()}indicator.isDirtyData=!!indicator.linkedSeries.length;fireEvent(indicator,"updatedData")};SMAIndicator.prototype.processData=function(){var series=this,compareToMain=series.options.compareToMain,linkedParent=series.linkedParent;_super.prototype.processData.apply(series,arguments);if(series.dataModify&&linkedParent&&linkedParent.dataModify&&linkedParent.dataModify.compareValue&&compareToMain){series.dataModify.compareValue=linkedParent.dataModify.compareValue}return};SMAIndicator.defaultOptions=merge(LineSeries.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:false,params:{index:3,period:14}});return SMAIndicator}(LineSeries);extend(SMAIndicator.prototype,{calculateOn:{chart:"init"},hasDerivedData:true,nameComponents:["period"],nameSuffixes:[],useCommonDataGrouping:true});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("sma",SMAIndicator);var SMA_SMAIndicator=null&&SMAIndicator;"";var EMAIndicator_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var EMAIndicator_SMAIndicator=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma;var correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,EMAIndicator_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,EMAIndicator_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var EMAIndicator=function(_super){EMAIndicator_extends(EMAIndicator,_super);function EMAIndicator(){return _super!==null&&_super.apply(this,arguments)||this}EMAIndicator.prototype.accumulatePeriodPoints=function(period,index,yVal){var sum=0,i=0,y=0;while(i<period){y=index<0?yVal[i]:yVal[i][index];sum=sum+y;i++}return sum};EMAIndicator.prototype.calculateEma=function(xVal,yVal,i,EMApercent,calEMA,index,SMA){var x=xVal[i-1],yValue=index<0?yVal[i-1]:yVal[i-1][index],y=typeof calEMA==="undefined"?SMA:correctFloat(yValue*EMApercent+calEMA*(1-EMApercent));return[x,y]};EMAIndicator.prototype.getValues=function(series,params){var period=params.period,xVal=series.xData,yVal=series.yData,yValLen=yVal?yVal.length:0,EMApercent=2/(period+1),EMA=[],xData=[],yData=[];var calEMA,EMAPoint,i,index=-1,sum=0,SMA=0;if(yValLen<period){return}if(EMAIndicator_isArray(yVal[0])){index=params.index?params.index:0}sum=this.accumulatePeriodPoints(period,index,yVal);SMA=sum/period;for(i=period;i<yValLen+1;i++){EMAPoint=this.calculateEma(xVal,yVal,i,EMApercent,calEMA,index,SMA);EMA.push(EMAPoint);xData.push(EMAPoint[0]);yData.push(EMAPoint[1]);calEMA=EMAPoint[1]}return{values:EMA,xData:xData,yData:yData}};EMAIndicator.defaultOptions=EMAIndicator_merge(EMAIndicator_SMAIndicator.defaultOptions,{params:{index:3,period:9}});return EMAIndicator}(EMAIndicator_SMAIndicator);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("ema",EMAIndicator);var EMA_EMAIndicator=null&&EMAIndicator;"";var smaProto=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.sma.prototype;var defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,MultipleLinesComposition_error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,MultipleLinesComposition_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var MultipleLinesComposition;(function(MultipleLinesComposition){var linesApiNames=["bottomLine"];var pointArrayMap=["top","bottom"];var areaLinesNames=["top"];var pointValKey="top";function compose(IndicatorClass){var proto=IndicatorClass.prototype;proto.linesApiNames=proto.linesApiNames||linesApiNames.slice();proto.pointArrayMap=proto.pointArrayMap||pointArrayMap.slice();proto.pointValKey=proto.pointValKey||pointValKey;proto.areaLinesNames=proto.areaLinesNames||areaLinesNames.slice();proto.drawGraph=indicatorDrawGraph;proto.getGraphPath=indicatorGetGraphPath;proto.toYData=indicatorToYData;proto.translate=indicatorTranslate;return IndicatorClass}MultipleLinesComposition.compose=compose;function getLineName(propertyName){return"plot"+propertyName.charAt(0).toUpperCase()+propertyName.slice(1)}function getTranslatedLinesNames(indicator,excludedValue){var translatedLines=[];(indicator.pointArrayMap||[]).forEach(function(propertyName){if(propertyName!==excludedValue){translatedLines.push(getLineName(propertyName))}});return translatedLines}function indicatorDrawGraph(){var indicator=this,pointValKey=indicator.pointValKey,linesApiNames=indicator.linesApiNames,areaLinesNames=indicator.areaLinesNames,mainLinePoints=indicator.points,mainLineOptions=indicator.options,mainLinePath=indicator.graph,gappedExtend={options:{gapSize:mainLineOptions.gapSize}},secondaryLines=[],secondaryLinesNames=getTranslatedLinesNames(indicator,pointValKey);var pointsLength=mainLinePoints.length,point;secondaryLinesNames.forEach(function(plotLine,index){secondaryLines[index]=[];while(pointsLength--){point=mainLinePoints[pointsLength];secondaryLines[index].push({x:point.x,plotX:point.plotX,plotY:point[plotLine],isNull:!defined(point[plotLine])})}pointsLength=mainLinePoints.length});if(indicator.userOptions.fillColor&&areaLinesNames.length){var index=secondaryLinesNames.indexOf(getLineName(areaLinesNames[0])),secondLinePoints=secondaryLines[index],firstLinePoints=areaLinesNames.length===1?mainLinePoints:secondaryLines[secondaryLinesNames.indexOf(getLineName(areaLinesNames[1]))],originalColor=indicator.color;indicator.points=firstLinePoints;indicator.nextPoints=secondLinePoints;indicator.color=indicator.userOptions.fillColor;indicator.options=MultipleLinesComposition_merge(mainLinePoints,gappedExtend);indicator.graph=indicator.area;indicator.fillGraph=true;smaProto.drawGraph.call(indicator);indicator.area=indicator.graph;delete indicator.nextPoints;delete indicator.fillGraph;indicator.color=originalColor}linesApiNames.forEach(function(lineName,i){if(secondaryLines[i]){indicator.points=secondaryLines[i];if(mainLineOptions[lineName]){indicator.options=MultipleLinesComposition_merge(mainLineOptions[lineName].styles,gappedExtend)}else{MultipleLinesComposition_error('Error: "There is no '+lineName+" in DOCS options declared. Check if linesApiNames"+' are consistent with your DOCS line names."')}indicator.graph=indicator["graph"+lineName];smaProto.drawGraph.call(indicator);indicator["graph"+lineName]=indicator.graph}else{MultipleLinesComposition_error('Error: "'+lineName+" doesn't have equivalent "+"in pointArrayMap. To many elements in linesApiNames "+'relative to pointArrayMap."')}});indicator.points=mainLinePoints;indicator.options=mainLineOptions;indicator.graph=mainLinePath;smaProto.drawGraph.call(indicator)}function indicatorGetGraphPath(points){var areaPath,path=[],higherAreaPath=[];points=points||this.points;if(this.fillGraph&&this.nextPoints){areaPath=smaProto.getGraphPath.call(this,this.nextPoints);if(areaPath&&areaPath.length){areaPath[0][0]="L";path=smaProto.getGraphPath.call(this,points);higherAreaPath=areaPath.slice(0,path.length);for(var i=higherAreaPath.length-1;i>=0;i--){path.push(higherAreaPath[i])}}}else{path=smaProto.getGraphPath.apply(this,arguments)}return path}function indicatorToYData(point){var pointColl=[];(this.pointArrayMap||[]).forEach(function(propertyName){pointColl.push(point[propertyName])});return pointColl}function indicatorTranslate(){var _this=this;var pointArrayMap=this.pointArrayMap;var LinesNames=[],value;LinesNames=getTranslatedLinesNames(this);smaProto.translate.apply(this,arguments);this.points.forEach(function(point){pointArrayMap.forEach(function(propertyName,i){value=point[propertyName];if(_this.dataModify){value=_this.dataModify.modifyValue(value)}if(value!==null){point[LinesNames[i]]=_this.yAxis.toPixels(value,true)}})})}})(MultipleLinesComposition||(MultipleLinesComposition={}));var Indicators_MultipleLinesComposition=MultipleLinesComposition;var G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();G.MultipleLinesComposition=G.MultipleLinesComposition||Indicators_MultipleLinesComposition;var indicators_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__}()});