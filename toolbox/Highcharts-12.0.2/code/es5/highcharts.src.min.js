(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define("highcharts/highcharts",[],factory);else if(typeof exports==="object")exports["highcharts"]=factory();else root["Highcharts"]&&root["Highcharts"].error(16,true),root["Highcharts"]=factory()})(this,function(){return function(){"use strict";var __webpack_modules__={298:function(){if(!Array.prototype.includes){Array.prototype.includes=function(searchElement,fromIndex){return this.indexOf(searchElement,fromIndex)>-1}}if(!Array.prototype.find){Array.prototype.find=function(predicate,thisArg){for(var i=0;i<this.length;i++){if(predicate.call(thisArg,this[i],i,this)){return this[i]}}}}if(!Object.entries){Object.entries=function(obj){var keys=Object.keys(obj),iEnd=keys.length,entries=[];for(var i=0;i<iEnd;++i){entries.push([keys[i],obj[keys[i]]])}return entries}}if(!Object.values){Object.values=function(obj){var keys=Object.keys(obj),iEnd=keys.length,values=[];for(var i=0;i<iEnd;++i){values.push(obj[keys[i]])}return values}}(function(){if(typeof window.CustomEvent==="function")return false;function CustomEvent(type,params){params=params||{bubbles:false,cancelable:false,detail:undefined};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(type,params.bubbles,params.cancelable,params.detail);return evt}CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent})()}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return masters_es5_highcharts_src}});var polyfills=__webpack_require__(298);var Globals;(function(Globals){Globals.SVG_NS="http://www.w3.org/2000/svg",Globals.product="Highcharts",Globals.version="12.0.2",Globals.win=typeof window!=="undefined"?window:{},Globals.doc=Globals.win.document,Globals.svg=Globals.doc&&Globals.doc.createElementNS&&!!Globals.doc.createElementNS(Globals.SVG_NS,"svg").createSVGRect,Globals.userAgent=Globals.win.navigator&&Globals.win.navigator.userAgent||"",Globals.isChrome=Globals.win.chrome,Globals.isFirefox=Globals.userAgent.indexOf("Firefox")!==-1,Globals.isMS=/(edge|msie|trident)/i.test(Globals.userAgent)&&!Globals.win.opera,Globals.isSafari=!Globals.isChrome&&Globals.userAgent.indexOf("Safari")!==-1,Globals.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(Globals.userAgent),Globals.isWebKit=Globals.userAgent.indexOf("AppleWebKit")!==-1,Globals.deg2rad=Math.PI*2/360,Globals.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],Globals.noop=function(){},Globals.supportsPassiveEvents=function(){var supportsPassive=false;if(!Globals.isMS){var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=true}});if(Globals.win.addEventListener&&Globals.win.removeEventListener){Globals.win.addEventListener("testPassive",Globals.noop,opts);Globals.win.removeEventListener("testPassive",Globals.noop,opts)}}return supportsPassive}();Globals.charts=[];Globals.composed=[];Globals.dateFormats={};Globals.seriesTypes={};Globals.symbolSizes={};Globals.chartCount=0})(Globals||(Globals={}));var Core_Globals=Globals;"";var __spreadArray=undefined&&undefined.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var charts=Core_Globals.charts,doc=Core_Globals.doc,win=Core_Globals.win;function error(code,stop,chart,params){var severity=stop?"Highcharts error":"Highcharts warning";if(code===32){code=""+severity+": Deprecated member"}var isCode=isNumber(code);var message=isCode?""+severity+" #"+code+": www.highcharts.com/errors/"+code+"/":code.toString();var defaultHandler=function(){if(stop){throw new Error(message)}if(win.console&&error.messages.indexOf(message)===-1){console.warn(message)}};if(typeof params!=="undefined"){var additionalMessages_1="";if(isCode){message+="?"}objectEach(params,function(value,key){additionalMessages_1+="\n - ".concat(key,": ").concat(value);if(isCode){message+=encodeURI(key)+"="+encodeURI(value)}});message+=additionalMessages_1}fireEvent(Core_Globals,"displayError",{chart:chart,code:code,message:message,params:params},defaultHandler);error.messages.push(message)}(function(error){error.messages=[]})(error||(error={}));function merge(extendOrSource){var sources=[];for(var _a=1;_a<arguments.length;_a++){sources[_a-1]=arguments[_a]}var i,args=__spreadArray([extendOrSource],sources,true),ret={};var doCopy=function(copy,original){if(typeof copy!=="object"){copy={}}objectEach(original,function(value,key){if(key==="__proto__"||key==="constructor"){return}if(isObject(value,true)&&!isClass(value)&&!isDOMElement(value)){copy[key]=doCopy(copy[key]||{},value)}else{copy[key]=original[key]}});return copy};if(extendOrSource===true){ret=args[1];args=Array.prototype.slice.call(args,2)}var len=args.length;for(i=0;i<len;i++){ret=doCopy(ret,args[i])}return ret}function clamp(value,min,max){return value>min?value<max?value:max:min}function crisp(value,lineWidth,inverted){if(lineWidth===void 0){lineWidth=0}var mod=lineWidth%2/2,inverter=inverted?-1:1;return(Math.round(value*inverter-mod)+mod)*inverter}function diffObjects(newer,older,keepOlder,collectionsWithUpdate){var ret={};function diff(newer,older,ret,depth){var keeper=keepOlder?older:newer;objectEach(newer,function(newerVal,key){if(!depth&&collectionsWithUpdate&&collectionsWithUpdate.indexOf(key)>-1&&older[key]){newerVal=splat(newerVal);ret[key]=[];for(var i=0;i<Math.max(newerVal.length,older[key].length);i++){if(older[key][i]){if(newerVal[i]===void 0){ret[key][i]=older[key][i]}else{ret[key][i]={};diff(newerVal[i],older[key][i],ret[key][i],depth+1)}}}}else if(isObject(newerVal,true)&&!newerVal.nodeType){ret[key]=isArray(newerVal)?[]:{};diff(newerVal,older[key]||{},ret[key],depth+1);if(Object.keys(ret[key]).length===0&&!(key==="colorAxis"&&depth===0)){delete ret[key]}}else if(newer[key]!==older[key]||key in newer&&!(key in older)){if(key!=="__proto__"&&key!=="constructor"){ret[key]=keeper[key]}}})}diff(newer,older,ret,0);return ret}function pInt(s,mag){return parseInt(s,mag||10)}function isString(s){return typeof s==="string"}function isArray(obj){var str=Object.prototype.toString.call(obj);return str==="[object Array]"||str==="[object Array Iterator]"}function isObject(obj,strict){return!!obj&&typeof obj==="object"&&(!strict||!isArray(obj))}function isDOMElement(obj){return isObject(obj)&&typeof obj.nodeType==="number"}function isClass(obj){var c=obj&&obj.constructor;return!!(isObject(obj,true)&&!isDOMElement(obj)&&(c&&c.name&&c.name!=="Object"))}function isNumber(n){return typeof n==="number"&&!isNaN(n)&&n<Infinity&&n>-Infinity}function erase(arr,item){var i=arr.length;while(i--){if(arr[i]===item){arr.splice(i,1);break}}}function insertItem(item,collection){var indexOption=item.options.index,length=collection.length;var i;for(i=item.options.isInternal?length:0;i<length+1;i++){if(!collection[i]||isNumber(indexOption)&&indexOption<pick(collection[i].options.index,collection[i]._i)||collection[i].options.isInternal){collection.splice(i,0,item);break}}return i}function pushUnique(array,item){return array.indexOf(item)<0&&!!array.push(item)}function defined(obj){return typeof obj!=="undefined"&&obj!==null}function attr(elem,keyOrAttribs,value){var isGetter=isString(keyOrAttribs)&&!defined(value);var ret;var attrSingle=function(value,key){if(defined(value)){elem.setAttribute(key,value)}else if(isGetter){ret=elem.getAttribute(key);if(!ret&&key==="class"){ret=elem.getAttribute(key+"Name")}}else{elem.removeAttribute(key)}};if(isString(keyOrAttribs)){attrSingle(value,keyOrAttribs)}else{objectEach(keyOrAttribs,attrSingle)}return ret}function splat(obj){return isArray(obj)?obj:[obj]}function syncTimeout(fn,delay,context){if(delay>0){return setTimeout(fn,delay,context)}fn.call(0,context);return-1}function internalClearTimeout(id){if(defined(id)){clearTimeout(id)}}function extend(a,b){var n;if(!a){a={}}for(n in b){a[n]=b[n]}return a}function pick(){var args=arguments;var length=args.length;for(var i=0;i<length;i++){var arg=args[i];if(typeof arg!=="undefined"&&arg!==null){return arg}}}function css(el,styles){extend(el.style,styles)}function createElement(tag,attribs,styles,parent,nopad){var el=doc.createElement(tag);if(attribs){extend(el,attribs)}if(nopad){css(el,{padding:"0",border:"none",margin:"0"})}if(styles){css(el,styles)}if(parent){parent.appendChild(el)}return el}function extendClass(parent,members){var obj=function(){};obj.prototype=new parent;extend(obj.prototype,members);return obj}function pad(number,length,padder){return new Array((length||2)+1-String(number).replace("-","").length).join(padder||"0")+number}function relativeLength(value,base,offset){return/%$/.test(value)?base*parseFloat(value)/100+(offset||0):parseFloat(value)}function replaceNested(text){var replacements=[];for(var _a=1;_a<arguments.length;_a++){replacements[_a-1]=arguments[_a]}var previous,replacement;do{previous=text;for(var _b=0,replacements_1=replacements;_b<replacements_1.length;_b++){replacement=replacements_1[_b];text=text.replace(replacement[0],replacement[1])}}while(text!==previous);return text}function wrap(obj,method,func){var proceed=obj[method];obj[method]=function(){var outerArgs=arguments,scope=this;return func.apply(this,[function(){return proceed.apply(scope,arguments.length?arguments:outerArgs)}].concat([].slice.call(arguments)))}}function getMagnitude(num){return Math.pow(10,Math.floor(Math.log(num)/Math.LN10))}function normalizeTickInterval(interval,multiples,magnitude,allowDecimals,hasTickAmount){var i,retInterval=interval;magnitude=pick(magnitude,getMagnitude(interval));var normalized=interval/magnitude;if(!multiples){multiples=hasTickAmount?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10];if(allowDecimals===false){if(magnitude===1){multiples=multiples.filter(function(num){return num%1===0})}else if(magnitude<=.1){multiples=[1/magnitude]}}}for(i=0;i<multiples.length;i++){retInterval=multiples[i];if(hasTickAmount&&retInterval*magnitude>=interval||!hasTickAmount&&normalized<=(multiples[i]+(multiples[i+1]||multiples[i]))/2){break}}retInterval=correctFloat(retInterval*magnitude,-Math.round(Math.log(.001)/Math.LN10));return retInterval}function stableSort(arr,sortFunction){var length=arr.length;var sortValue,i;for(i=0;i<length;i++){arr[i].safeI=i}arr.sort(function(a,b){sortValue=sortFunction(a,b);return sortValue===0?a.safeI-b.safeI:sortValue});for(i=0;i<length;i++){delete arr[i].safeI}}function arrayMin(data){var i=data.length,min=data[0];while(i--){if(data[i]<min){min=data[i]}}return min}function arrayMax(data){var i=data.length,max=data[0];while(i--){if(data[i]>max){max=data[i]}}return max}function destroyObjectProperties(obj,except,destructablesOnly){objectEach(obj,function(val,n){if(val!==except&&(val===null||val===void 0?void 0:val.destroy)){val.destroy()}if((val===null||val===void 0?void 0:val.destroy)||!destructablesOnly){delete obj[n]}})}function discardElement(element){if(element&&element.parentElement){element.parentElement.removeChild(element)}}function correctFloat(num,prec){return num>1e14?num:parseFloat(num.toPrecision(prec||14))}var timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:24*36e5,week:7*24*36e5,month:28*24*36e5,year:364*24*36e5};Math.easeInOutSine=function(pos){return-.5*(Math.cos(Math.PI*pos)-1)};var getAlignFactor=function(align){if(align===void 0){align=""}return{center:.5,right:1,middle:.5,bottom:1}[align]||0};function getClosestDistance(arrays,onError){var allowNegative=!onError;var closest,loopLength,distance,i;arrays.forEach(function(xData){if(xData.length>1){loopLength=xData.length-1;for(i=loopLength;i>0;i--){distance=xData[i]-xData[i-1];if(distance<0&&!allowNegative){onError===null||onError===void 0?void 0:onError();onError=void 0}else if(distance&&(typeof closest==="undefined"||distance<closest)){closest=distance}}}});return closest}function getNestedProperty(path,parent){var pathElements=path.split(".");while(pathElements.length&&defined(parent)){var pathElement=pathElements.shift();if(typeof pathElement==="undefined"||pathElement==="__proto__"){return}if(pathElement==="this"){var thisProp=void 0;if(isObject(parent)){thisProp=parent["@this"]}return thisProp!==null&&thisProp!==void 0?thisProp:parent}var child=parent[pathElement];if(!defined(child)||typeof child==="function"||typeof child.nodeType==="number"||child===win){return}parent=child}return parent}function getStyle(el,prop,toInt){var style;if(prop==="width"){var offsetWidth=Math.min(el.offsetWidth,el.scrollWidth);var boundingClientRectWidth=el.getBoundingClientRect&&el.getBoundingClientRect().width;if(boundingClientRectWidth<offsetWidth&&boundingClientRectWidth>=offsetWidth-1){offsetWidth=Math.floor(boundingClientRectWidth)}return Math.max(0,offsetWidth-(getStyle(el,"padding-left",true)||0)-(getStyle(el,"padding-right",true)||0))}if(prop==="height"){return Math.max(0,Math.min(el.offsetHeight,el.scrollHeight)-(getStyle(el,"padding-top",true)||0)-(getStyle(el,"padding-bottom",true)||0))}var css=win.getComputedStyle(el,void 0);if(css){style=css.getPropertyValue(prop);if(pick(toInt,prop!=="opacity")){style=pInt(style)}}return style}var find=Array.prototype.find?function(arr,callback){return arr.find(callback)}:function(arr,callback){var i;var length=arr.length;for(i=0;i<length;i++){if(callback(arr[i],i)){return arr[i]}}};function offset(el){var docElem=doc.documentElement,box=el.parentElement||el.parentNode?el.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0),width:box.width,height:box.height}}function objectEach(obj,fn,ctx){for(var key in obj){if(Object.hasOwnProperty.call(obj,key)){fn.call(ctx||obj[key],obj[key],key,obj)}}}function addEvent(el,type,fn,options){if(options===void 0){options={}}var owner=typeof el==="function"&&el.prototype||el;if(!Object.hasOwnProperty.call(owner,"hcEvents")){owner.hcEvents={}}var events=owner.hcEvents;if(Core_Globals.Point&&el instanceof Core_Globals.Point&&el.series&&el.series.chart){el.series.chart.runTrackerClick=true}var addEventListener=el.addEventListener;if(addEventListener){addEventListener.call(el,type,fn,Core_Globals.supportsPassiveEvents?{passive:options.passive===void 0?type.indexOf("touch")!==-1:options.passive,capture:false}:false)}if(!events[type]){events[type]=[]}var eventObject={fn:fn,order:typeof options.order==="number"?options.order:Infinity};events[type].push(eventObject);events[type].sort(function(a,b){return a.order-b.order});return function(){removeEvent(el,type,fn)}}function removeEvent(el,type,fn){function removeOneEvent(type,fn){var removeEventListener=el.removeEventListener;if(removeEventListener){removeEventListener.call(el,type,fn,false)}}function removeAllEvents(eventCollection){var types,len;if(!el.nodeName){return}if(type){types={};types[type]=true}else{types=eventCollection}objectEach(types,function(_val,n){if(eventCollection[n]){len=eventCollection[n].length;while(len--){removeOneEvent(n,eventCollection[n][len].fn)}}})}var owner=typeof el==="function"&&el.prototype||el;if(Object.hasOwnProperty.call(owner,"hcEvents")){var events=owner.hcEvents;if(type){var typeEvents=events[type]||[];if(fn){events[type]=typeEvents.filter(function(obj){return fn!==obj.fn});removeOneEvent(type,fn)}else{removeAllEvents(events);events[type]=[]}}else{removeAllEvents(events);delete owner.hcEvents}}}function fireEvent(el,type,eventArguments,defaultFunction){eventArguments=eventArguments||{};if(doc.createEvent&&(el.dispatchEvent||el.fireEvent&&el!==Core_Globals)){var e=doc.createEvent("Events");e.initEvent(type,true,true);eventArguments=extend(e,eventArguments);if(el.dispatchEvent){el.dispatchEvent(eventArguments)}else{el.fireEvent(type,eventArguments)}}else if(el.hcEvents){if(!eventArguments.target){extend(eventArguments,{preventDefault:function(){eventArguments.defaultPrevented=true},target:el,type:type})}var events=[];var object=el;var multilevel=false;while(object.hcEvents){if(Object.hasOwnProperty.call(object,"hcEvents")&&object.hcEvents[type]){if(events.length){multilevel=true}events.unshift.apply(events,object.hcEvents[type])}object=Object.getPrototypeOf(object)}if(multilevel){events.sort(function(a,b){return a.order-b.order})}events.forEach(function(obj){if(obj.fn.call(el,eventArguments)===false){eventArguments.preventDefault()}})}if(defaultFunction&&!eventArguments.defaultPrevented){defaultFunction.call(el,eventArguments)}}var serialMode;var uniqueKey=function(){var hash=Math.random().toString(36).substring(2,9)+"-";var id=0;return function(){return"highcharts-"+(serialMode?"":hash)+id++}}();function useSerialIds(mode){return serialMode=pick(mode,serialMode)}function isFunction(obj){return typeof obj==="function"}function ucfirst(s){return isString(s)?s.substring(0,1).toUpperCase()+s.substring(1):String(s)}if(win.jQuery){win.jQuery.fn.highcharts=function(){var args=[].slice.call(arguments);if(this[0]){if(args[0]){new Core_Globals[isString(args[0])?args.shift():"Chart"](this[0],args[0],args[1]);return this}return charts[attr(this[0],"data-highcharts-chart")]}}}var Utilities={addEvent:addEvent,arrayMax:arrayMax,arrayMin:arrayMin,attr:attr,clamp:clamp,clearTimeout:internalClearTimeout,correctFloat:correctFloat,createElement:createElement,crisp:crisp,css:css,defined:defined,destroyObjectProperties:destroyObjectProperties,diffObjects:diffObjects,discardElement:discardElement,erase:erase,error:error,extend:extend,extendClass:extendClass,find:find,fireEvent:fireEvent,getAlignFactor:getAlignFactor,getClosestDistance:getClosestDistance,getMagnitude:getMagnitude,getNestedProperty:getNestedProperty,getStyle:getStyle,insertItem:insertItem,isArray:isArray,isClass:isClass,isDOMElement:isDOMElement,isFunction:isFunction,isNumber:isNumber,isObject:isObject,isString:isString,merge:merge,normalizeTickInterval:normalizeTickInterval,objectEach:objectEach,offset:offset,pad:pad,pick:pick,pInt:pInt,pushUnique:pushUnique,relativeLength:relativeLength,removeEvent:removeEvent,replaceNested:replaceNested,splat:splat,stableSort:stableSort,syncTimeout:syncTimeout,timeUnits:timeUnits,ucfirst:ucfirst,uniqueKey:uniqueKey,useSerialIds:useSerialIds,wrap:wrap};var Core_Utilities=Utilities;"";var ChartDefaults={alignThresholds:false,panning:{enabled:false,type:"x"},styledMode:false,borderRadius:0,colorCount:10,allowMutatingData:true,ignoreHiddenSeries:true,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:true,type:"line",zooming:{singleTouch:false,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"};var Chart_ChartDefaults=ChartDefaults;var SeriesPalettes={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]};var Palettes=SeriesPalettes;var Time_win=Core_Globals.win;var Time_defined=Core_Utilities.defined,Time_error=Core_Utilities.error,Time_extend=Core_Utilities.extend,Time_isNumber=Core_Utilities.isNumber,Time_isObject=Core_Utilities.isObject,Time_isString=Core_Utilities.isString,Time_merge=Core_Utilities.merge,Time_objectEach=Core_Utilities.objectEach,Time_pad=Core_Utilities.pad,Time_splat=Core_Utilities.splat,Time_timeUnits=Core_Utilities.timeUnits,Time_ucfirst=Core_Utilities.ucfirst;var hasOldSafariBug=Core_Globals.isSafari&&Time_win.Intl&&!Time_win.Intl.DateTimeFormat.prototype.formatRange;var isDateTimeFormatOptions=function(obj){return obj.main===void 0};var spanishWeekdayIndex=function(weekday){return["D","L","M","X","J","V","S"].indexOf(weekday)};var Time=function(){function Time(options){this.options={};this.variableTimezone=false;this.Date=Time_win.Date;this.update(options)}Time.prototype.update=function(options){var _this=this;var _a;if(options===void 0){options={}}var timezone=(_a=options.timezone)!==null&&_a!==void 0?_a:"UTC";this.dTLCache={};this.options=options=Time_merge(true,this.options,options);var timezoneOffset=options.timezoneOffset,useUTC=options.useUTC;this.Date=options.Date||Time_win.Date||Date;if(Time_defined(useUTC)){timezone=useUTC?"UTC":void 0}if(timezoneOffset&&timezoneOffset%60===0){timezone="Etc/GMT"+(timezoneOffset>0?"+":"")+timezoneOffset/60}this.variableTimezone=timezone!=="UTC"&&(timezone===null||timezone===void 0?void 0:timezone.indexOf("Etc/GMT"))!==0;this.timezone=timezone;["months","shortMonths","weekdays","shortWeekdays"].forEach(function(name){var isMonth=/months/i.test(name),isShort=/short/.test(name),options={timeZone:"UTC"};options[isMonth?"month":"weekday"]=isShort?"short":"long";_this[name]=(isMonth?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(function(position){return _this.dateFormat(options,(isMonth?31:1)*24*36e5*position)})})};Time.prototype.toParts=function(timestamp){var _a=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},timestamp,"es").split(/(?:, |\/|:)/g),weekday=_a[0],dayOfMonth=_a[1],month=_a[2],year=_a[3],hours=_a[4],minutes=_a[5],seconds=_a[6];return[year,+month-1,dayOfMonth,hours,minutes,seconds,Math.floor(Number(timestamp)||0)%1e3,spanishWeekdayIndex(weekday)].map(Number)};Time.prototype.dateTimeFormat=function(options,timestamp,locale){var _a;if(locale===void 0){locale=this.options.locale}var cacheKey=JSON.stringify(options)+locale;if(Time_isString(options)){options=this.str2dtf(options)}var dTL=this.dTLCache[cacheKey];if(!dTL){(_a=options.timeZone)!==null&&_a!==void 0?_a:options.timeZone=this.timezone;try{dTL=new Intl.DateTimeFormat(locale,options)}catch(e){if(/Invalid time zone/i.test(e.message)){Time_error(34);options.timeZone="UTC";dTL=new Intl.DateTimeFormat(locale,options)}else{Time_error(e.message,false)}}}this.dTLCache[cacheKey]=dTL;return(dTL===null||dTL===void 0?void 0:dTL.format(timestamp))||""};Time.prototype.str2dtf=function(s,dtf){if(dtf===void 0){dtf={}}var mapping={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};Object.keys(mapping).forEach(function(key){if(s.indexOf(key)!==-1){Time_extend(dtf,mapping[key])}});return dtf};Time.prototype.makeTime=function(year,month,date,hours,minutes,seconds,milliseconds){if(date===void 0){date=1}if(hours===void 0){hours=0}var d=this.Date.UTC(year,month,date,hours,minutes||0,seconds||0,milliseconds||0);if(this.timezone!=="UTC"){var offset=this.getTimezoneOffset(d);d+=offset;if([2,3,8,9,10,11].indexOf(month)!==-1&&(hours<5||hours>20)){var newOffset=this.getTimezoneOffset(d);if(offset!==newOffset){d+=newOffset-offset}else if(offset-36e5===this.getTimezoneOffset(d-36e5)&&!hasOldSafariBug){d-=36e5}}}return d};Time.prototype.parse=function(s){if(!Time_isString(s)){return s!==null&&s!==void 0?s:void 0}s=s.replace(/\//g,"-").replace(/(GMT|UTC)/,"");var hasTimezone=s.indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(s),isYYYYMMDD=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(s);if(!hasTimezone&&!isYYYYMMDD){s+="Z"}var ts=Date.parse(s);if(Time_isNumber(ts)){return ts+(!hasTimezone||isYYYYMMDD?this.getTimezoneOffset(ts):0)}};Time.prototype.getTimezoneOffset=function(timestamp){if(this.timezone!=="UTC"){var _a=this.dateTimeFormat({timeZoneName:"shortOffset"},timestamp,"en").split(/(GMT|:)/).map(Number),date=_a[0],gmt=_a[1],hours=_a[2],colon=_a[3],_b=_a[4],minutes=_b===void 0?0:_b,offset=-(hours+minutes/60)*60*6e4;if(Time_isNumber(offset)){return offset}}return 0};Time.prototype.dateFormat=function(format,timestamp,upperCaseFirst){var _a;var lang=(_a=Core_Globals.defaultOptions)===null||_a===void 0?void 0:_a.lang;if(!Time_defined(timestamp)||isNaN(timestamp)){return(lang===null||lang===void 0?void 0:lang.invalidDate)||""}format=format!==null&&format!==void 0?format:"%Y-%m-%d %H:%M:%S";if(Time_isString(format)){var localeAwareRegex=/%\[([a-zA-Z]+)\]/g;var match=void 0;while(match=localeAwareRegex.exec(format)){format=format.replace(match[0],this.dateTimeFormat(match[1],timestamp))}}if(Time_isString(format)&&format.indexOf("%")!==-1){var time_1=this,_b=this.toParts(timestamp),fullYear=_b[0],month=_b[1],dayOfMonth=_b[2],hours=_b[3],minutes=_b[4],seconds=_b[5],milliseconds=_b[6],weekday=_b[7],langWeekdays=(lang===null||lang===void 0?void 0:lang.weekdays)||this.weekdays,shortWeekdays=(lang===null||lang===void 0?void 0:lang.shortWeekdays)||this.shortWeekdays,months=(lang===null||lang===void 0?void 0:lang.months)||this.months,shortMonths=(lang===null||lang===void 0?void 0:lang.shortMonths)||this.shortMonths,replacements=Time_extend({a:shortWeekdays?shortWeekdays[weekday]:langWeekdays[weekday].substr(0,3),A:langWeekdays[weekday],d:Time_pad(dayOfMonth),e:Time_pad(dayOfMonth,2," "),w:weekday,b:shortMonths[month],B:months[month],m:Time_pad(month+1),o:month+1,y:fullYear.toString().substr(2,2),Y:fullYear,H:Time_pad(hours),k:hours,I:Time_pad(hours%12||12),l:hours%12||12,M:Time_pad(minutes),p:hours<12?"AM":"PM",P:hours<12?"am":"pm",S:Time_pad(seconds),L:Time_pad(milliseconds,3)},Core_Globals.dateFormats);Time_objectEach(replacements,function(val,key){if(Time_isString(format)){while(format.indexOf("%"+key)!==-1){format=format.replace("%"+key,typeof val==="function"?val.call(time_1,timestamp):val)}}})}else if(Time_isObject(format)){var tzHours=(this.getTimezoneOffset(timestamp)||0)/(6e4*60),timeZone=this.options.timezone||"Etc/GMT"+(tzHours>=0?"+":"")+tzHours,_c=format.prefix,prefix=_c===void 0?"":_c,_d=format.suffix,suffix=_d===void 0?"":_d;format=prefix+this.dateTimeFormat(Time_extend({timeZone:timeZone},format),timestamp)+suffix}return upperCaseFirst?Time_ucfirst(format):format};Time.prototype.resolveDTLFormat=function(f){if(!Time_isObject(f,true)){f=Time_splat(f);return{main:f[0],from:f[1],to:f[2]}}if(Time_isObject(f,true)&&isDateTimeFormatOptions(f)){return{main:f}}return f};Time.prototype.getTimeTicks=function(normalizedInterval,min,max,startOfWeek){var time=this,tickPositions=[],higherRanks={},_a=normalizedInterval.count,count=_a===void 0?1:_a,unitRange=normalizedInterval.unitRange;var _b=time.toParts(min),year=_b[0],month=_b[1],dayOfMonth=_b[2],hours=_b[3],minutes=_b[4],seconds=_b[5],milliseconds=(min||0)%1e3,variableDayLength;startOfWeek!==null&&startOfWeek!==void 0?startOfWeek:startOfWeek=1;if(Time_defined(min)){milliseconds=unitRange>=Time_timeUnits.second?0:count*Math.floor(milliseconds/count);if(unitRange>=Time_timeUnits.second){seconds=unitRange>=Time_timeUnits.minute?0:count*Math.floor(seconds/count)}if(unitRange>=Time_timeUnits.minute){minutes=unitRange>=Time_timeUnits.hour?0:count*Math.floor(minutes/count)}if(unitRange>=Time_timeUnits.hour){hours=unitRange>=Time_timeUnits.day?0:count*Math.floor(hours/count)}if(unitRange>=Time_timeUnits.day){dayOfMonth=unitRange>=Time_timeUnits.month?1:Math.max(1,count*Math.floor(dayOfMonth/count))}if(unitRange>=Time_timeUnits.month){month=unitRange>=Time_timeUnits.year?0:count*Math.floor(month/count)}if(unitRange>=Time_timeUnits.year){year-=year%count}if(unitRange===Time_timeUnits.week){if(count){min=time.makeTime(year,month,dayOfMonth,hours,minutes,seconds,milliseconds)}var weekday=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},min,"es"),weekdayNo=spanishWeekdayIndex(weekday);dayOfMonth+=-weekdayNo+startOfWeek+(weekdayNo<startOfWeek?-7:0)}min=time.makeTime(year,month,dayOfMonth,hours,minutes,seconds,milliseconds);if(time.variableTimezone&&Time_defined(max)){variableDayLength=max-min>4*Time_timeUnits.month||time.getTimezoneOffset(min)!==time.getTimezoneOffset(max)}var t=min,i=1;while(t<max){tickPositions.push(t);if(unitRange===Time_timeUnits.year){t=time.makeTime(year+i*count,0)}else if(unitRange===Time_timeUnits.month){t=time.makeTime(year,month+i*count)}else if(variableDayLength&&(unitRange===Time_timeUnits.day||unitRange===Time_timeUnits.week)){t=time.makeTime(year,month,dayOfMonth+i*count*(unitRange===Time_timeUnits.day?1:7))}else if(variableDayLength&&unitRange===Time_timeUnits.hour&&count>1){t=time.makeTime(year,month,dayOfMonth,hours+i*count)}else{t+=unitRange*count}i++}tickPositions.push(t);if(unitRange<=Time_timeUnits.hour&&tickPositions.length<1e4){tickPositions.forEach(function(t){if(t%18e5===0&&time.dateFormat("%H%M%S%L",t)==="000000000"){higherRanks[t]="day"}})}}tickPositions.info=Time_extend(normalizedInterval,{higherRanks:higherRanks,totalRange:unitRange*count});return tickPositions};Time.prototype.getDateFormat=function(range,timestamp,startOfWeek,dateTimeLabelFormats){var dateStr=this.dateFormat("%m-%d %H:%M:%S.%L",timestamp),blank="01-01 00:00:00.000",strpos={millisecond:15,second:12,minute:9,hour:6,day:3};var n="millisecond",lastN=n;for(n in Time_timeUnits){if(range===Time_timeUnits.week&&+this.dateFormat("%w",timestamp)===startOfWeek&&dateStr.substr(6)===blank.substr(6)){n="week";break}if(Time_timeUnits[n]>range){n=lastN;break}if(strpos[n]&&dateStr.substr(strpos[n])!==blank.substr(strpos[n])){break}if(n!=="week"){lastN=n}}return this.resolveDTLFormat(dateTimeLabelFormats[n]).main};return Time}();var Core_Time=Time;"";var isTouchDevice=Core_Globals.isTouchDevice;var Defaults_fireEvent=Core_Utilities.fireEvent,Defaults_merge=Core_Utilities.merge;var defaultOptions={colors:Palettes.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{locale:void 0,loading:"Loading...",months:void 0,shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:Chart_ChartDefaults,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:true,align:"center",alignColumns:true,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:false,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:true,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:true,animation:{duration:300,easing:function(x){return Math.sqrt(1-Math.pow(x-1,2))}},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"Week from %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:false,snap:isTouchDevice?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:true,stickOnContact:false,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:false},credits:{enabled:true,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};defaultOptions.chart.styledMode=true;defaultOptions.chart.styledMode=false;"";var defaultTime=new Core_Time(defaultOptions.time);function getOptions(){return defaultOptions}function setOptions(options){Defaults_fireEvent(Core_Globals,"setOptions",{options:options});Defaults_merge(true,defaultOptions,options);if(options.time){defaultTime.update(defaultOptions.time)}if(options.lang&&"locale"in options.lang){defaultTime.update({locale:options.lang.locale})}return defaultOptions}var DefaultOptions={defaultOptions:defaultOptions,defaultTime:defaultTime,getOptions:getOptions,setOptions:setOptions};var Defaults=DefaultOptions;"";var Color_isNumber=Core_Utilities.isNumber,Color_merge=Core_Utilities.merge,Color_pInt=Core_Utilities.pInt,Color_defined=Core_Utilities.defined;var Color=function(){function Color(input){this.rgba=[NaN,NaN,NaN,NaN];this.input=input;var GlobalColor=Core_Globals.Color;if(GlobalColor&&GlobalColor!==Color){return new GlobalColor(input)}var result,rgba,i,parser;if(typeof input==="object"&&typeof input.stops!=="undefined"){this.stops=input.stops.map(function(stop){return new Color(stop[1])})}else if(typeof input==="string"){this.input=input=Color.names[input.toLowerCase()]||input;i=Color.parsers.length;while(i--&&!rgba){parser=Color.parsers[i];result=parser.regex.exec(input);if(result){rgba=parser.parse(result)}}}if(rgba){this.rgba=rgba}}Color.parse=function(input){return input?new Color(input):Color.None};Color.prototype.get=function(format){var input=this.input,rgba=this.rgba;if(typeof input==="object"&&typeof this.stops!=="undefined"){var ret_1=Color_merge(input);ret_1.stops=[].slice.call(ret_1.stops);this.stops.forEach(function(stop,i){ret_1.stops[i]=[ret_1.stops[i][0],stop.get(format)]});return ret_1}if(rgba&&Color_isNumber(rgba[0])){if(format==="rgb"||!format&&rgba[3]===1){return"rgb("+rgba[0]+","+rgba[1]+","+rgba[2]+")"}if(format==="a"){return"".concat(rgba[3])}return"rgba("+rgba.join(",")+")"}return input};Color.prototype.brighten=function(alpha){var rgba=this.rgba;if(this.stops){this.stops.forEach(function(stop){stop.brighten(alpha)})}else if(Color_isNumber(alpha)&&alpha!==0){for(var i=0;i<3;i++){rgba[i]+=Color_pInt(alpha*255);if(rgba[i]<0){rgba[i]=0}if(rgba[i]>255){rgba[i]=255}}}return this};Color.prototype.setOpacity=function(alpha){this.rgba[3]=alpha;return this};Color.prototype.tweenTo=function(to,pos){var fromRgba=this.rgba,toRgba=to.rgba;if(!Color_isNumber(fromRgba[0])||!Color_isNumber(toRgba[0])){return to.input||"none"}var hasAlpha=toRgba[3]!==1||fromRgba[3]!==1;return(hasAlpha?"rgba(":"rgb(")+Math.round(toRgba[0]+(fromRgba[0]-toRgba[0])*(1-pos))+","+Math.round(toRgba[1]+(fromRgba[1]-toRgba[1])*(1-pos))+","+Math.round(toRgba[2]+(fromRgba[2]-toRgba[2])*(1-pos))+(hasAlpha?","+(toRgba[3]+(fromRgba[3]-toRgba[3])*(1-pos)):"")+")"};Color.names={white:"#ffffff",black:"#000000"};Color.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(result){return[Color_pInt(result[1]),Color_pInt(result[2]),Color_pInt(result[3]),parseFloat(result[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(result){return[Color_pInt(result[1]),Color_pInt(result[2]),Color_pInt(result[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(result){return[Color_pInt(result[1]+result[1],16),Color_pInt(result[2]+result[2],16),Color_pInt(result[3]+result[3],16),!Color_defined(result[4])?1:Color_pInt(result[4]+result[4],16)/255]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(result){return[Color_pInt(result[1],16),Color_pInt(result[2],16),Color_pInt(result[3],16),!Color_defined(result[4])?1:Color_pInt(result[4],16)/255]}}];Color.None=new Color("");return Color}();var Color_Color=Color;"";var color=Color_Color.parse;var Fx_win=Core_Globals.win;var Fx_isNumber=Core_Utilities.isNumber,Fx_objectEach=Core_Utilities.objectEach;var Fx=function(){function Fx(elem,options,prop){this.pos=NaN;this.options=options;this.elem=elem;this.prop=prop}Fx.prototype.dSetter=function(){var paths=this.paths,start=paths&&paths[0],end=paths&&paths[1],now=this.now||0;var path=[];if(now===1||!start||!end){path=this.toD||[]}else if(start.length===end.length&&now<1){for(var i=0;i<end.length;i++){var startSeg=start[i];var endSeg=end[i];var tweenSeg=[];for(var j=0;j<endSeg.length;j++){var startItem=startSeg[j];var endItem=endSeg[j];if(Fx_isNumber(startItem)&&Fx_isNumber(endItem)&&!(endSeg[0]==="A"&&(j===4||j===5))){tweenSeg[j]=startItem+now*(endItem-startItem)}else{tweenSeg[j]=endItem}}path.push(tweenSeg)}}else{path=end}this.elem.attr("d",path,void 0,true)};Fx.prototype.update=function(){var elem=this.elem,prop=this.prop,now=this.now,step=this.options.step;if(this[prop+"Setter"]){this[prop+"Setter"]()}else if(elem.attr){if(elem.element){elem.attr(prop,now,null,true)}}else{elem.style[prop]=now+this.unit}if(step){step.call(elem,now,this)}};Fx.prototype.run=function(from,to,unit){var self=this,options=self.options,timer=function(gotoEnd){return timer.stopped?false:self.step(gotoEnd)},requestAnimationFrame=Fx_win.requestAnimationFrame||function(step){setTimeout(step,13)},step=function(){for(var i=0;i<Fx.timers.length;i++){if(!Fx.timers[i]()){Fx.timers.splice(i--,1)}}if(Fx.timers.length){requestAnimationFrame(step)}};if(from===to&&!this.elem["forceAnimate:"+this.prop]){delete options.curAnim[this.prop];if(options.complete&&Object.keys(options.curAnim).length===0){options.complete.call(this.elem)}}else{this.startTime=+new Date;this.start=from;this.end=to;this.unit=unit;this.now=this.start;this.pos=0;timer.elem=this.elem;timer.prop=this.prop;if(timer()&&Fx.timers.push(timer)===1){requestAnimationFrame(step)}}};Fx.prototype.step=function(gotoEnd){var t=+new Date,options=this.options,elem=this.elem,complete=options.complete,duration=options.duration,curAnim=options.curAnim;var ret,done;if(!!elem.attr&&!elem.element){ret=false}else if(gotoEnd||t>=duration+this.startTime){this.now=this.end;this.pos=1;this.update();curAnim[this.prop]=true;done=true;Fx_objectEach(curAnim,function(val){if(val!==true){done=false}});if(done&&complete){complete.call(elem)}ret=false}else{this.pos=options.easing((t-this.startTime)/duration);this.now=this.start+(this.end-this.start)*this.pos;this.update();ret=true}return ret};Fx.prototype.initPath=function(elem,fromD,toD){var startX=elem.startX,endX=elem.endX,end=toD.slice(),isArea=elem.isArea,positionFactor=isArea?2:1,disableAnimation=fromD&&toD.length>fromD.length&&toD.hasStackedCliffs;var shift,fullLength,i,reverse,start=fromD&&fromD.slice();if(!start||disableAnimation){return[end,end]}function prepend(arr,other){while(arr.length<fullLength){var moveSegment=arr[0],otherSegment=other[fullLength-arr.length];if(otherSegment&&moveSegment[0]==="M"){if(otherSegment[0]==="C"){arr[0]=["C",moveSegment[1],moveSegment[2],moveSegment[1],moveSegment[2],moveSegment[1],moveSegment[2]]}else{arr[0]=["L",moveSegment[1],moveSegment[2]]}}arr.unshift(moveSegment);if(isArea){var z=arr.pop();arr.push(arr[arr.length-1],z)}}}function append(arr){while(arr.length<fullLength){var segmentToAdd=arr[Math.floor(arr.length/positionFactor)-1].slice();if(segmentToAdd[0]==="C"){segmentToAdd[1]=segmentToAdd[5];segmentToAdd[2]=segmentToAdd[6]}if(!isArea){arr.push(segmentToAdd)}else{var lowerSegmentToAdd=arr[Math.floor(arr.length/positionFactor)].slice();arr.splice(arr.length/2,0,segmentToAdd,lowerSegmentToAdd)}}}if(startX&&endX&&endX.length){for(i=0;i<startX.length;i++){if(startX[i]===endX[0]){shift=i;break}else if(startX[0]===endX[endX.length-startX.length+i]){shift=i;reverse=true;break}else if(startX[startX.length-1]===endX[endX.length-startX.length+i]){shift=startX.length-i;break}}if(typeof shift==="undefined"){start=[]}}if(start.length&&Fx_isNumber(shift)){fullLength=end.length+shift*positionFactor;if(!reverse){prepend(end,start);append(start)}else{prepend(start,end);append(end)}}return[start,end]};Fx.prototype.fillSetter=function(){Fx.prototype.strokeSetter.apply(this,arguments)};Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,color(this.start).tweenTo(color(this.end),this.pos),void 0,true)};Fx.timers=[];return Fx}();var Animation_Fx=Fx;var AnimationUtilities_defined=Core_Utilities.defined,AnimationUtilities_getStyle=Core_Utilities.getStyle,AnimationUtilities_isArray=Core_Utilities.isArray,AnimationUtilities_isNumber=Core_Utilities.isNumber,AnimationUtilities_isObject=Core_Utilities.isObject,AnimationUtilities_merge=Core_Utilities.merge,AnimationUtilities_objectEach=Core_Utilities.objectEach,AnimationUtilities_pick=Core_Utilities.pick;function setAnimation(animation,chart){chart.renderer.globalAnimation=AnimationUtilities_pick(animation,chart.options.chart.animation,true)}function animObject(animation){return AnimationUtilities_isObject(animation)?AnimationUtilities_merge({duration:500,defer:0},animation):{duration:animation?500:0,defer:0}}function getDeferredAnimation(chart,animation,series){var labelAnimation=animObject(animation),s=series?[series]:chart.series;var defer=0,duration=0;s.forEach(function(series){var seriesAnim=animObject(series.options.animation);defer=AnimationUtilities_isObject(animation)&&AnimationUtilities_defined(animation.defer)?labelAnimation.defer:Math.max(defer,seriesAnim.duration+seriesAnim.defer);duration=Math.min(labelAnimation.duration,seriesAnim.duration)});if(chart.renderer.forExport){defer=0}var anim={defer:Math.max(0,defer-duration),duration:Math.min(defer,duration)};return anim}function animate(el,params,opt){var start,unit="",end,fx,args;if(!AnimationUtilities_isObject(opt)){args=arguments;opt={duration:args[2],easing:args[3],complete:args[4]}}if(!AnimationUtilities_isNumber(opt.duration)){opt.duration=400}opt.easing=typeof opt.easing==="function"?opt.easing:Math[opt.easing]||Math.easeInOutSine;opt.curAnim=AnimationUtilities_merge(params);AnimationUtilities_objectEach(params,function(val,prop){stop(el,prop);fx=new Animation_Fx(el,opt,prop);end=void 0;if(prop==="d"&&AnimationUtilities_isArray(params.d)){fx.paths=fx.initPath(el,el.pathArray,params.d);fx.toD=params.d;start=0;end=1}else if(el.attr){start=el.attr(prop)}else{start=parseFloat(AnimationUtilities_getStyle(el,prop))||0;if(prop!=="opacity"){unit="px"}}if(!end){end=val}if(typeof end==="string"&&end.match("px")){end=end.replace(/px/g,"")}fx.run(start,end,unit)})}function stop(el,prop){var i=Animation_Fx.timers.length;while(i--){if(Animation_Fx.timers[i].elem===el&&(!prop||prop===Animation_Fx.timers[i].prop)){Animation_Fx.timers[i].stopped=true}}}var animationExports={animate:animate,animObject:animObject,getDeferredAnimation:getDeferredAnimation,setAnimation:setAnimation,stop:stop};var AnimationUtilities=animationExports;var SVG_NS=Core_Globals.SVG_NS,AST_win=Core_Globals.win;var AST_attr=Core_Utilities.attr,AST_createElement=Core_Utilities.createElement,AST_css=Core_Utilities.css,AST_error=Core_Utilities.error,AST_isFunction=Core_Utilities.isFunction,AST_isString=Core_Utilities.isString,AST_objectEach=Core_Utilities.objectEach,AST_splat=Core_Utilities.splat;var trustedTypes=AST_win.trustedTypes;var trustedTypesPolicy=trustedTypes&&AST_isFunction(trustedTypes.createPolicy)&&trustedTypes.createPolicy("highcharts",{createHTML:function(s){return s}});var emptyHTML=trustedTypesPolicy?trustedTypesPolicy.createHTML(""):"";var AST=function(){function AST(source){this.nodes=typeof source==="string"?this.parseMarkup(source):source}AST.filterUserAttributes=function(attributes){AST_objectEach(attributes,function(val,key){var valid=true;if(AST.allowedAttributes.indexOf(key)===-1){valid=false}if(["background","dynsrc","href","lowsrc","src"].indexOf(key)!==-1){valid=AST_isString(val)&&AST.allowedReferences.some(function(ref){return val.indexOf(ref)===0})}if(!valid){AST_error(33,false,void 0,{"Invalid attribute in config":"".concat(key)});delete attributes[key]}if(AST_isString(val)&&attributes[key]){attributes[key]=val.replace(/</g,"&lt;")}});return attributes};AST.parseStyle=function(style){return style.split(";").reduce(function(styles,line){var pair=line.split(":").map(function(s){return s.trim()}),key=pair.shift();if(key&&pair.length){styles[key.replace(/-([a-z])/g,function(g){return g[1].toUpperCase()})]=pair.join(":")}return styles},{})};AST.setElementHTML=function(el,html){el.innerHTML=AST.emptyHTML;if(html){var ast=new AST(html);ast.addToDOM(el)}};AST.prototype.addToDOM=function(parent){function recurse(subtree,subParent){var ret;AST_splat(subtree).forEach(function(item){var tagName=item.tagName;var textNode=item.textContent?Core_Globals.doc.createTextNode(item.textContent):void 0;var bypassHTMLFiltering=AST.bypassHTMLFiltering;var node;if(tagName){if(tagName==="#text"){node=textNode}else if(AST.allowedTags.indexOf(tagName)!==-1||bypassHTMLFiltering){var NS=tagName==="svg"?SVG_NS:subParent.namespaceURI||SVG_NS;var element=Core_Globals.doc.createElementNS(NS,tagName);var attributes_1=item.attributes||{};AST_objectEach(item,function(val,key){if(key!=="tagName"&&key!=="attributes"&&key!=="children"&&key!=="style"&&key!=="textContent"){attributes_1[key]=val}});AST_attr(element,bypassHTMLFiltering?attributes_1:AST.filterUserAttributes(attributes_1));if(item.style){AST_css(element,item.style)}if(textNode){element.appendChild(textNode)}recurse(item.children||[],element);node=element}else{AST_error(33,false,void 0,{"Invalid tagName in config":tagName})}}if(node){subParent.appendChild(node)}ret=node});return ret}return recurse(this.nodes,parent)};AST.prototype.parseMarkup=function(markup){var nodes=[];markup=markup.trim().replace(/ style=(["'])/g," data-style=$1");var doc;try{doc=(new DOMParser).parseFromString(trustedTypesPolicy?trustedTypesPolicy.createHTML(markup):markup,"text/html")}catch(e){}if(!doc){var body=AST_createElement("div");body.innerHTML=markup;doc={body:body}}var appendChildNodes=function(node,addTo){var tagName=node.nodeName.toLowerCase();var astNode={tagName:tagName};if(tagName==="#text"){astNode.textContent=node.textContent||""}var parsedAttributes=node.attributes;if(parsedAttributes){var attributes_2={};[].forEach.call(parsedAttributes,function(attrib){if(attrib.name==="data-style"){astNode.style=AST.parseStyle(attrib.value)}else{attributes_2[attrib.name]=attrib.value}});astNode.attributes=attributes_2}if(node.childNodes.length){var children_1=[];[].forEach.call(node.childNodes,function(childNode){appendChildNodes(childNode,children_1)});if(children_1.length){astNode.children=children_1}}addTo.push(astNode)};[].forEach.call(doc.body.childNodes,function(childNode){return appendChildNodes(childNode,nodes)});return nodes};AST.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"];AST.allowedReferences=["https://","http://","mailto:","/","../","./","#"];AST.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"];AST.emptyHTML=emptyHTML;AST.bypassHTMLFiltering=false;return AST}();var HTML_AST=AST;"";var Templating_defaultOptions=Defaults.defaultOptions,Templating_defaultTime=Defaults.defaultTime;var Templating_doc=Core_Globals.doc;var Templating_extend=Core_Utilities.extend,Templating_getNestedProperty=Core_Utilities.getNestedProperty,Templating_isArray=Core_Utilities.isArray,Templating_isNumber=Core_Utilities.isNumber,Templating_isObject=Core_Utilities.isObject,Templating_pick=Core_Utilities.pick,Templating_ucfirst=Core_Utilities.ucfirst;var helpers={add:function(a,b){return a+b},divide:function(a,b){return b!==0?a/b:""},eq:function(a,b){return a==b},each:function(arr){var match=arguments[arguments.length-1];return Templating_isArray(arr)?arr.map(function(item,i){return format(match.body,Templating_extend(Templating_isObject(item)?item:{"@this":item},{"@index":i,"@first":i===0,"@last":i===arr.length-1}))}).join(""):false},ge:function(a,b){return a>=b},gt:function(a,b){return a>b},if:function(condition){return!!condition},le:function(a,b){return a<=b},lt:function(a,b){return a<b},multiply:function(a,b){return a*b},ne:function(a,b){return a!=b},subtract:function(a,b){return a-b},ucfirst:Templating_ucfirst,unless:function(condition){return!condition}};var numberFormatCache={};function dateFormat(format,timestamp,upperCaseFirst){return Templating_defaultTime.dateFormat(format,timestamp,upperCaseFirst)}function format(str,ctx,chart){if(str===void 0){str=""}var regex=/\{([\p{L}\d:\.,;\-\/<>\[\]%_@"'’= #\(\)]+)\}/gu,subRegex=/\(([\p{L}\d:\.,;\-\/<>\[\]%_@"'= ]+)\)/gu,matches=[],floatRegex=/f$/,decRegex=/\.(\d)/,lang=(chart===null||chart===void 0?void 0:chart.options.lang)||Templating_defaultOptions.lang,time=chart&&chart.time||Templating_defaultTime,numberFormatter=chart&&chart.numberFormatter||numberFormat;var resolveProperty=function(key){if(key===void 0){key=""}var n;if(key==="true"){return true}if(key==="false"){return false}if((n=Number(key)).toString()===key){return n}if(/^["'].+["']$/.test(key)){return key.slice(1,-1)}return Templating_getNestedProperty(key,ctx)};var match,currentMatch,depth=0,hasSub;while((match=regex.exec(str))!==null){var mainMatch=match,subMatch=subRegex.exec(match[1]);if(subMatch){match=subMatch;hasSub=true}if(!currentMatch||!currentMatch.isBlock){currentMatch={ctx:ctx,expression:match[1],find:match[0],isBlock:match[1].charAt(0)==="#",start:match.index,startInner:match.index+match[0].length,length:match[0].length}}var fn=(currentMatch.isBlock?mainMatch:match)[1].split(" ")[0].replace("#","");if(helpers[fn]){if(currentMatch.isBlock&&fn===currentMatch.fn){depth++}if(!currentMatch.fn){currentMatch.fn=fn}}var startingElseSection=match[1]==="else";if(currentMatch.isBlock&&currentMatch.fn&&(match[1]==="/".concat(currentMatch.fn)||startingElseSection)){if(!depth){var start=currentMatch.startInner,body=str.substr(start,match.index-start);if(currentMatch.body===void 0){currentMatch.body=body;currentMatch.startInner=match.index+match[0].length}else{currentMatch.elseBody=body}currentMatch.find+=body+match[0];if(!startingElseSection){matches.push(currentMatch);currentMatch=void 0}}else if(!startingElseSection){depth--}}else if(!currentMatch.isBlock){matches.push(currentMatch)}if(subMatch&&!(currentMatch===null||currentMatch===void 0?void 0:currentMatch.isBlock)){break}}matches.forEach(function(match){var body=match.body,elseBody=match.elseBody,expression=match.expression,fn=match.fn;var replacement,i;if(fn){var args=[match],parts=[],len=expression.length;var start=0,startChar=void 0;for(i=0;i<=len;i++){var char=expression.charAt(i);if(!startChar&&(char==='"'||char==="'")){startChar=char}else if(startChar===char){startChar=""}if(!startChar&&(char===" "||i===len)){parts.push(expression.substr(start,i-start));start=i+1}}i=helpers[fn].length;while(i--){args.unshift(resolveProperty(parts[i+1]))}replacement=helpers[fn].apply(ctx,args);if(match.isBlock&&typeof replacement==="boolean"){replacement=format(replacement?body:elseBody,ctx,chart)}}else{var valueAndFormat=expression.split(":");replacement=resolveProperty(valueAndFormat.shift()||"");if(valueAndFormat.length&&typeof replacement==="number"){var segment=valueAndFormat.join(":");if(floatRegex.test(segment)){var decimals=parseInt((segment.match(decRegex)||["","-1"])[1],10);if(replacement!==null){replacement=numberFormatter(replacement,decimals,lang.decimalPoint,segment.indexOf(",")>-1?lang.thousandsSep:"")}}else{replacement=time.dateFormat(segment,replacement);if(hasSub){replacement='"'.concat(replacement,'"')}}}}str=str.replace(match.find,Templating_pick(replacement,""))});return hasSub?format(str,ctx,chart):str}function numberFormat(number,decimals,decimalPoint,thousandsSep){var _a,_b,_c;number=+number||0;decimals=+decimals;var ret,fractionDigits,_d=number.toString().split("e").map(Number),mantissa=_d[0],exp=_d[1];var lang=((_a=this===null||this===void 0?void 0:this.options)===null||_a===void 0?void 0:_a.lang)||Templating_defaultOptions.lang,origDec=(number.toString().split(".")[1]||"").split("e")[0].length,firstDecimals=decimals,options={};decimalPoint!==null&&decimalPoint!==void 0?decimalPoint:decimalPoint=lang.decimalPoint;thousandsSep!==null&&thousandsSep!==void 0?thousandsSep:thousandsSep=lang.thousandsSep;if(decimals===-1){decimals=Math.min(origDec,20)}else if(!Templating_isNumber(decimals)){decimals=2}else if(decimals&&exp<0){fractionDigits=decimals+exp;if(fractionDigits>=0){mantissa=+mantissa.toExponential(fractionDigits).split("e")[0];decimals=fractionDigits}else{mantissa=Math.floor(mantissa);if(decimals<20){number=+(mantissa*Math.pow(10,exp)).toFixed(decimals)}else{number=0}exp=0}}if(exp){decimals!==null&&decimals!==void 0?decimals:decimals=2;number=mantissa}if(Templating_isNumber(decimals)&&decimals>=0){options.minimumFractionDigits=decimals;options.maximumFractionDigits=decimals}if(thousandsSep===""){options.useGrouping=false}var hasSeparators=thousandsSep||decimalPoint,locale=hasSeparators?"en":(this===null||this===void 0?void 0:this.locale)||lang.locale||((_b=Templating_doc.body.closest("[lang]"))===null||_b===void 0?void 0:_b.lang),cacheKey=JSON.stringify(options)+locale,nf=(_c=numberFormatCache[cacheKey])!==null&&_c!==void 0?_c:numberFormatCache[cacheKey]=new Intl.NumberFormat(locale,options);ret=nf.format(number);if(hasSeparators){ret=ret.replace(/\,/g,thousandsSep!==null&&thousandsSep!==void 0?thousandsSep:",").replace(".",decimalPoint!==null&&decimalPoint!==void 0?decimalPoint:".")}if(!decimals&&+ret===0||exp<0&&!firstDecimals){ret="0"}if(exp&&+ret!==0){ret+="e"+(exp<0?"":"+")+exp}return ret}var Templating={dateFormat:dateFormat,format:format,helpers:helpers,numberFormat:numberFormat};var Core_Templating=Templating;var RendererRegistry;(function(RendererRegistry){RendererRegistry.rendererTypes={};var defaultRenderer;function getRendererType(rendererType){if(rendererType===void 0){rendererType=defaultRenderer}return RendererRegistry.rendererTypes[rendererType]||RendererRegistry.rendererTypes[defaultRenderer]}RendererRegistry.getRendererType=getRendererType;function registerRendererType(rendererType,rendererClass,setAsDefault){RendererRegistry.rendererTypes[rendererType]=rendererClass;if(!defaultRenderer||setAsDefault){defaultRenderer=rendererType;Core_Globals.Renderer=rendererClass}}RendererRegistry.registerRendererType=registerRendererType})(RendererRegistry||(RendererRegistry={}));var Renderer_RendererRegistry=RendererRegistry;var RendererUtilities_clamp=Core_Utilities.clamp,RendererUtilities_pick=Core_Utilities.pick,RendererUtilities_pushUnique=Core_Utilities.pushUnique,RendererUtilities_stableSort=Core_Utilities.stableSort;var RendererUtilities;(function(RendererUtilities){function distribute(boxes,len,maxDistance){var origBoxes=boxes,reducedLen=origBoxes.reducedLen||len,sortByRank=function(a,b){return(b.rank||0)-(a.rank||0)},sortByTarget=function(a,b){return a.target-b.target},restBoxes=[],boxesLength=boxes.length,forDeletion=[],push=restBoxes.push;var i,cursor,step,overlapping=true,box,target,total=0,equalRank;i=boxesLength;while(i--){total+=boxes[i].size}if(total>reducedLen){RendererUtilities_stableSort(boxes,sortByRank);equalRank=boxes[0].rank===boxes[boxes.length-1].rank;step=equalRank?boxesLength/2:-1;cursor=equalRank?step:boxesLength-1;while(step&&total>reducedLen){i=Math.floor(cursor);box=boxes[i];if(RendererUtilities_pushUnique(forDeletion,i)){total-=box.size}cursor+=step;if(equalRank&&cursor>=boxes.length){step/=2;cursor=step}}forDeletion.sort(function(a,b){return b-a}).forEach(function(i){return push.apply(restBoxes,boxes.splice(i,1))})}RendererUtilities_stableSort(boxes,sortByTarget);boxes=boxes.map(function(box){return{size:box.size,targets:[box.target],align:RendererUtilities_pick(box.align,.5)}});while(overlapping){i=boxes.length;while(i--){box=boxes[i];target=(Math.min.apply(0,box.targets)+Math.max.apply(0,box.targets))/2;box.pos=RendererUtilities_clamp(target-box.size*box.align,0,len-box.size)}i=boxes.length;overlapping=false;while(i--){if(i>0&&boxes[i-1].pos+boxes[i-1].size>boxes[i].pos){boxes[i-1].size+=boxes[i].size;boxes[i-1].targets=boxes[i-1].targets.concat(boxes[i].targets);boxes[i-1].align=.5;if(boxes[i-1].pos+boxes[i-1].size>len){boxes[i-1].pos=len-boxes[i-1].size}boxes.splice(i,1);overlapping=true}}}push.apply(origBoxes,restBoxes);i=0;boxes.some(function(box){var posInCompositeBox=0;return(box.targets||[]).some(function(){origBoxes[i].pos=box.pos+posInCompositeBox;if(typeof maxDistance!=="undefined"&&Math.abs(origBoxes[i].pos-origBoxes[i].target)>maxDistance){origBoxes.slice(0,i+1).forEach(function(box){return delete box.pos});origBoxes.reducedLen=(origBoxes.reducedLen||len)-len*.1;if(origBoxes.reducedLen>len*.1){distribute(origBoxes,len,maxDistance)}return true}posInCompositeBox+=origBoxes[i].size;i++;return false})});RendererUtilities_stableSort(origBoxes,sortByTarget);return origBoxes}RendererUtilities.distribute=distribute})(RendererUtilities||(RendererUtilities={}));var Renderer_RendererUtilities=RendererUtilities;var SVGElement_animate=AnimationUtilities.animate,SVGElement_animObject=AnimationUtilities.animObject,SVGElement_stop=AnimationUtilities.stop;var deg2rad=Core_Globals.deg2rad,SVGElement_doc=Core_Globals.doc,svg=Core_Globals.svg,SVGElement_SVG_NS=Core_Globals.SVG_NS,SVGElement_win=Core_Globals.win,isFirefox=Core_Globals.isFirefox;var SVGElement_addEvent=Core_Utilities.addEvent,SVGElement_attr=Core_Utilities.attr,SVGElement_createElement=Core_Utilities.createElement,SVGElement_crisp=Core_Utilities.crisp,SVGElement_css=Core_Utilities.css,SVGElement_defined=Core_Utilities.defined,SVGElement_erase=Core_Utilities.erase,SVGElement_extend=Core_Utilities.extend,SVGElement_fireEvent=Core_Utilities.fireEvent,SVGElement_getAlignFactor=Core_Utilities.getAlignFactor,SVGElement_isArray=Core_Utilities.isArray,SVGElement_isFunction=Core_Utilities.isFunction,SVGElement_isNumber=Core_Utilities.isNumber,SVGElement_isObject=Core_Utilities.isObject,SVGElement_isString=Core_Utilities.isString,SVGElement_merge=Core_Utilities.merge,SVGElement_objectEach=Core_Utilities.objectEach,SVGElement_pick=Core_Utilities.pick,SVGElement_pInt=Core_Utilities.pInt,SVGElement_pushUnique=Core_Utilities.pushUnique,SVGElement_replaceNested=Core_Utilities.replaceNested,SVGElement_syncTimeout=Core_Utilities.syncTimeout,SVGElement_uniqueKey=Core_Utilities.uniqueKey;var SVGElement=function(){function SVGElement(renderer,nodeName){this.onEvents={};this.opacity=1;this.SVG_NS=SVGElement_SVG_NS;this.element=nodeName==="span"||nodeName==="body"?SVGElement_createElement(nodeName):SVGElement_doc.createElementNS(this.SVG_NS,nodeName);this.renderer=renderer;this.styles={};SVGElement_fireEvent(this,"afterInit")}SVGElement.prototype._defaultGetter=function(key){var ret=SVGElement_pick(this[key+"Value"],this[key],this.element?this.element.getAttribute(key):null,0);if(/^-?[\d\.]+$/.test(ret)){ret=parseFloat(ret)}return ret};SVGElement.prototype._defaultSetter=function(value,key,element){element.setAttribute(key,value)};SVGElement.prototype.add=function(parent){var renderer=this.renderer,element=this.element;var inserted;if(parent){this.parentGroup=parent}if(typeof this.textStr!=="undefined"&&this.element.nodeName==="text"){renderer.buildText(this)}this.added=true;if(!parent||parent.handleZ||this.zIndex){inserted=this.zIndexSetter()}if(!inserted){(parent?parent.element:renderer.box).appendChild(element)}if(this.onAdd){this.onAdd()}return this};SVGElement.prototype.addClass=function(className,replace){var currentClassName=replace?"":this.attr("class")||"";className=(className||"").split(/ /g).reduce(function(newClassName,name){if(currentClassName.indexOf(name)===-1){newClassName.push(name)}return newClassName},currentClassName?[currentClassName]:[]).join(" ");if(className!==currentClassName){this.attr("class",className)}return this};SVGElement.prototype.afterSetters=function(){if(this.doTransform){this.updateTransform();this.doTransform=false}};SVGElement.prototype.align=function(alignOptions,alignByTranslate,alignTo,redraw){if(redraw===void 0){redraw=true}var attribs={},renderer=this.renderer,alignedObjects=renderer.alignedObjects,initialAlignment=Boolean(alignOptions);if(alignOptions){this.alignOptions=alignOptions;this.alignByTranslate=alignByTranslate;this.alignTo=alignTo}else{alignOptions=this.alignOptions||{};alignByTranslate=this.alignByTranslate;alignTo=this.alignTo}var alignToKey=!alignTo||SVGElement_isString(alignTo)?alignTo||"renderer":void 0;if(alignToKey){if(initialAlignment){SVGElement_pushUnique(alignedObjects,this)}alignTo=void 0}var alignToBox=SVGElement_pick(alignTo,renderer[alignToKey],renderer),x=(alignToBox.x||0)+(alignOptions.x||0)+((alignToBox.width||0)-(alignOptions.width||0))*SVGElement_getAlignFactor(alignOptions.align),y=(alignToBox.y||0)+(alignOptions.y||0)+((alignToBox.height||0)-(alignOptions.height||0))*SVGElement_getAlignFactor(alignOptions.verticalAlign);attribs[alignByTranslate?"translateX":"x"]=Math.round(x);attribs[alignByTranslate?"translateY":"y"]=Math.round(y);if(redraw){this[this.placed?"animate":"attr"](attribs);this.placed=true}this.alignAttr=attribs;return this};SVGElement.prototype.alignSetter=function(value){var convert={left:"start",center:"middle",right:"end"};if(convert[value]){this.alignValue=value;this.element.setAttribute("text-anchor",convert[value])}};SVGElement.prototype.animate=function(params,options,complete){var _this=this;var animOptions=SVGElement_animObject(SVGElement_pick(options,this.renderer.globalAnimation,true)),deferTime=animOptions.defer;if(SVGElement_doc.hidden){animOptions.duration=0}if(animOptions.duration!==0){if(complete){animOptions.complete=complete}SVGElement_syncTimeout(function(){if(_this.element){SVGElement_animate(_this,params,animOptions)}},deferTime)}else{this.attr(params,void 0,complete||animOptions.complete);SVGElement_objectEach(params,function(val,prop){if(animOptions.step){animOptions.step.call(this,val,{prop:prop,pos:1,elem:this})}},this)}return this};SVGElement.prototype.applyTextOutline=function(textOutline){var elem=this.element,hasContrast=textOutline.indexOf("contrast")!==-1,styles={};if(hasContrast){styles.textOutline=textOutline=textOutline.replace(/contrast/g,this.renderer.getContrast(elem.style.fill))}var parts=textOutline.split(" ");var color=parts[parts.length-1];var strokeWidth=parts[0];if(strokeWidth&&strokeWidth!=="none"&&Core_Globals.svg){this.fakeTS=true;strokeWidth=strokeWidth.replace(/(^[\d\.]+)(.*?)$/g,function(match,digit,unit){return 2*Number(digit)+unit});this.removeTextOutline();var outline_1=SVGElement_doc.createElementNS(SVGElement_SVG_NS,"tspan");SVGElement_attr(outline_1,{class:"highcharts-text-outline",fill:color,stroke:color,"stroke-width":strokeWidth,"stroke-linejoin":"round"});var parentElem=elem.querySelector("textPath")||elem;[].forEach.call(parentElem.childNodes,function(childNode){var clone=childNode.cloneNode(true);if(clone.removeAttribute){["fill","stroke","stroke-width","stroke"].forEach(function(prop){return clone.removeAttribute(prop)})}outline_1.appendChild(clone)});var totalHeight_1=0;[].forEach.call(parentElem.querySelectorAll("text tspan"),function(element){totalHeight_1+=Number(element.getAttribute("dy"))});var br=SVGElement_doc.createElementNS(SVGElement_SVG_NS,"tspan");br.textContent="​";SVGElement_attr(br,{x:Number(elem.getAttribute("x")),dy:-totalHeight_1});outline_1.appendChild(br);parentElem.insertBefore(outline_1,parentElem.firstChild)}};SVGElement.prototype.attr=function(hash,val,complete,continueAnimation){var element=this.element,symbolCustomAttribs=SVGElement.symbolCustomAttribs;var key,hasSetSymbolSize,ret=this,skipAttr,setter;if(typeof hash==="string"&&typeof val!=="undefined"){key=hash;hash={};hash[key]=val}if(typeof hash==="string"){ret=(this[hash+"Getter"]||this._defaultGetter).call(this,hash,element)}else{SVGElement_objectEach(hash,function eachAttribute(val,key){skipAttr=false;if(!continueAnimation){SVGElement_stop(this,key)}if(this.symbolName&&symbolCustomAttribs.indexOf(key)!==-1){if(!hasSetSymbolSize){this.symbolAttr(hash);hasSetSymbolSize=true}skipAttr=true}if(this.rotation&&(key==="x"||key==="y")){this.doTransform=true}if(!skipAttr){setter=this[key+"Setter"]||this._defaultSetter;setter.call(this,val,key,element)}},this);this.afterSetters()}if(complete){complete.call(this)}return ret};SVGElement.prototype.clip=function(clipElem){if(clipElem&&!clipElem.clipPath){var id=SVGElement_uniqueKey()+"-",clipPath=this.renderer.createElement("clipPath").attr({id:id}).add(this.renderer.defs);SVGElement_extend(clipElem,{clipPath:clipPath,id:id,count:0});clipElem.add(clipPath)}return this.attr("clip-path",clipElem?"url(".concat(this.renderer.url,"#").concat(clipElem.id,")"):"none")};SVGElement.prototype.crisp=function(rect,strokeWidth){strokeWidth=Math.round(strokeWidth||rect.strokeWidth||0);var x1=rect.x||this.x||0,y1=rect.y||this.y||0,x2=(rect.width||this.width||0)+x1,y2=(rect.height||this.height||0)+y1,x=SVGElement_crisp(x1,strokeWidth),y=SVGElement_crisp(y1,strokeWidth),x2Crisp=SVGElement_crisp(x2,strokeWidth),y2Crisp=SVGElement_crisp(y2,strokeWidth);SVGElement_extend(rect,{x:x,y:y,width:x2Crisp-x,height:y2Crisp-y});if(SVGElement_defined(rect.strokeWidth)){rect.strokeWidth=strokeWidth}return rect};SVGElement.prototype.complexColor=function(colorOptions,prop,elem){var renderer=this.renderer;var colorObject,gradName,gradAttr,radAttr,gradients,stops,stopColor,stopOpacity,radialReference,id,key=[],value;SVGElement_fireEvent(this.renderer,"complexColor",{args:arguments},function(){if(colorOptions.radialGradient){gradName="radialGradient"}else if(colorOptions.linearGradient){gradName="linearGradient"}if(gradName){gradAttr=colorOptions[gradName];gradients=renderer.gradients;stops=colorOptions.stops;radialReference=elem.radialReference;if(SVGElement_isArray(gradAttr)){colorOptions[gradName]=gradAttr={x1:gradAttr[0],y1:gradAttr[1],x2:gradAttr[2],y2:gradAttr[3],gradientUnits:"userSpaceOnUse"}}if(gradName==="radialGradient"&&radialReference&&!SVGElement_defined(gradAttr.gradientUnits)){radAttr=gradAttr;gradAttr=SVGElement_merge(gradAttr,renderer.getRadialAttr(radialReference,radAttr),{gradientUnits:"userSpaceOnUse"})}SVGElement_objectEach(gradAttr,function(value,n){if(n!=="id"){key.push(n,value)}});SVGElement_objectEach(stops,function(val){key.push(val)});key=key.join(",");if(gradients[key]){id=gradients[key].attr("id")}else{gradAttr.id=id=SVGElement_uniqueKey();var gradientObject_1=gradients[key]=renderer.createElement(gradName).attr(gradAttr).add(renderer.defs);gradientObject_1.radAttr=radAttr;gradientObject_1.stops=[];stops.forEach(function(stop){if(stop[1].indexOf("rgba")===0){colorObject=Color_Color.parse(stop[1]);stopColor=colorObject.get("rgb");stopOpacity=colorObject.get("a")}else{stopColor=stop[1];stopOpacity=1}var stopObject=renderer.createElement("stop").attr({offset:stop[0],"stop-color":stopColor,"stop-opacity":stopOpacity}).add(gradientObject_1);gradientObject_1.stops.push(stopObject)})}value="url("+renderer.url+"#"+id+")";elem.setAttribute(prop,value);elem.gradient=key;colorOptions.toString=function(){return value}}})};SVGElement.prototype.css=function(styles){var oldStyles=this.styles,newStyles={},elem=this.element;var textWidth,hasNew=!oldStyles;if(oldStyles){SVGElement_objectEach(styles,function(value,n){if(oldStyles&&oldStyles[n]!==value){newStyles[n]=value;hasNew=true}})}if(hasNew){if(oldStyles){styles=SVGElement_extend(oldStyles,newStyles)}if(styles.width===null||styles.width==="auto"){delete this.textWidth}else if(elem.nodeName.toLowerCase()==="text"&&styles.width){textWidth=this.textWidth=SVGElement_pInt(styles.width)}SVGElement_extend(this.styles,styles);if(textWidth&&(!svg&&this.renderer.forExport)){delete styles.width}var fontSize=isFirefox&&styles.fontSize||null;if(fontSize&&(SVGElement_isNumber(fontSize)||/^\d+$/.test(fontSize))){styles.fontSize+="px"}var stylesToApply_1=SVGElement_merge(styles);if(elem.namespaceURI===this.SVG_NS){["textOutline","textOverflow","whiteSpace","width"].forEach(function(key){return stylesToApply_1&&delete stylesToApply_1[key]});if(stylesToApply_1.color){stylesToApply_1.fill=stylesToApply_1.color}}SVGElement_css(elem,stylesToApply_1)}if(this.added){if(this.element.nodeName==="text"){this.renderer.buildText(this)}if(styles.textOutline){this.applyTextOutline(styles.textOutline)}}return this};SVGElement.prototype.dashstyleSetter=function(value){var i,strokeWidth=this["stroke-width"];if(strokeWidth==="inherit"){strokeWidth=1}value=value&&value.toLowerCase();if(value){var v=value.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");i=v.length;while(i--){v[i]=""+SVGElement_pInt(v[i])*SVGElement_pick(strokeWidth,NaN)}value=v.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",value)}};SVGElement.prototype.destroy=function(){var _a;var wrapper=this,element=wrapper.element||{},renderer=wrapper.renderer,ownerSVGElement=element.ownerSVGElement;var parentToClean=element.nodeName==="SPAN"&&wrapper.parentGroup||void 0,grandParent,i;element.onclick=element.onmouseout=element.onmouseover=element.onmousemove=element.point=null;SVGElement_stop(wrapper);if(wrapper.clipPath&&ownerSVGElement){var clipPath_1=wrapper.clipPath;[].forEach.call(ownerSVGElement.querySelectorAll("[clip-path],[CLIP-PATH]"),function(el){if(el.getAttribute("clip-path").indexOf(clipPath_1.element.id)>-1){el.removeAttribute("clip-path")}});wrapper.clipPath=clipPath_1.destroy()}wrapper.connector=(_a=wrapper.connector)===null||_a===void 0?void 0:_a.destroy();if(wrapper.stops){for(i=0;i<wrapper.stops.length;i++){wrapper.stops[i].destroy()}wrapper.stops.length=0;wrapper.stops=void 0}wrapper.safeRemoveChild(element);while(parentToClean&&parentToClean.div&&parentToClean.div.childNodes.length===0){grandParent=parentToClean.parentGroup;wrapper.safeRemoveChild(parentToClean.div);delete parentToClean.div;parentToClean=grandParent}if(wrapper.alignOptions){SVGElement_erase(renderer.alignedObjects,wrapper)}SVGElement_objectEach(wrapper,function(val,key){if(wrapper[key]&&wrapper[key].parentGroup===wrapper&&wrapper[key].destroy){wrapper[key].destroy()}delete wrapper[key]});return};SVGElement.prototype.dSetter=function(value,key,element){if(SVGElement_isArray(value)){if(typeof value[0]==="string"){value=this.renderer.pathToSegments(value)}this.pathArray=value;value=value.reduce(function(acc,seg,i){if(!seg||!seg.join){return(seg||"").toString()}return(i?acc+" ":"")+seg.join(" ")},"")}if(/(NaN| {2}|^$)/.test(value)){value="M 0 0"}if(this[key]!==value){element.setAttribute(key,value);this[key]=value}};SVGElement.prototype.fillSetter=function(value,key,element){if(typeof value==="string"){element.setAttribute(key,value)}else if(value){this.complexColor(value,key,element)}};SVGElement.prototype.hrefSetter=function(value,key,element){element.setAttributeNS("http://www.w3.org/1999/xlink",key,value)};SVGElement.prototype.getBBox=function(reload,rot){var wrapper=this,alignValue=wrapper.alignValue,element=wrapper.element,renderer=wrapper.renderer,styles=wrapper.styles,textStr=wrapper.textStr,cache=renderer.cache,cacheKeys=renderer.cacheKeys,isSVG=element.namespaceURI===wrapper.SVG_NS,rotation=SVGElement_pick(rot,wrapper.rotation,0),fontSize=renderer.styledMode?element&&SVGElement.prototype.getStyle.call(element,"font-size"):styles.fontSize;var bBox,height,toggleTextShadowShim,cacheKey;if(SVGElement_defined(textStr)){cacheKey=textStr.toString();if(cacheKey.indexOf("<")===-1){cacheKey=cacheKey.replace(/\d/g,"0")}cacheKey+=["",renderer.rootFontSize,fontSize,rotation,wrapper.textWidth,alignValue,styles.lineClamp,styles.textOverflow,styles.fontWeight].join(",")}if(cacheKey&&!reload){bBox=cache[cacheKey]}if(!bBox||bBox.polygon){if(isSVG||renderer.forExport){try{toggleTextShadowShim=this.fakeTS&&function(display){var outline=element.querySelector(".highcharts-text-outline");if(outline){SVGElement_css(outline,{display:display})}};if(SVGElement_isFunction(toggleTextShadowShim)){toggleTextShadowShim("none")}bBox=element.getBBox?SVGElement_extend({},element.getBBox()):{width:element.offsetWidth,height:element.offsetHeight,x:0,y:0};if(SVGElement_isFunction(toggleTextShadowShim)){toggleTextShadowShim("")}}catch(e){""}if(!bBox||bBox.width<0){bBox={x:0,y:0,width:0,height:0}}}else{bBox=wrapper.htmlGetBBox()}height=bBox.height;if(isSVG){bBox.height=height={"11px,17":14,"13px,20":16}[""+(fontSize||"")+",".concat(Math.round(height))]||height}if(rotation){bBox=this.getRotatedBox(bBox,rotation)}var e={bBox:bBox};SVGElement_fireEvent(this,"afterGetBBox",e);bBox=e.bBox}if(cacheKey&&(textStr===""||bBox.height>0)){while(cacheKeys.length>250){delete cache[cacheKeys.shift()]}if(!cache[cacheKey]){cacheKeys.push(cacheKey)}cache[cacheKey]=bBox}return bBox};SVGElement.prototype.getRotatedBox=function(box,rotation){var boxX=box.x,boxY=box.y,width=box.width,height=box.height,_a=this,alignValue=_a.alignValue,translateY=_a.translateY,_b=_a.rotationOriginX,rotationOriginX=_b===void 0?0:_b,_c=_a.rotationOriginY,rotationOriginY=_c===void 0?0:_c,alignFactor=SVGElement_getAlignFactor(alignValue),baseline=Number(this.element.getAttribute("y")||0)-(translateY?0:boxY),rad=rotation*deg2rad,rad90=(rotation-90)*deg2rad,cosRad=Math.cos(rad),sinRad=Math.sin(rad),wCosRad=width*cosRad,wSinRad=width*sinRad,cosRad90=Math.cos(rad90),sinRad90=Math.sin(rad90),_d=[rotationOriginX,rotationOriginY].map(function(rotOrigin){return[rotOrigin-rotOrigin*cosRad,rotOrigin*sinRad]}),_e=_d[0],xOriginCosRad=_e[0],xOriginSinRad=_e[1],_f=_d[1],yOriginCosRad=_f[0],yOriginSinRad=_f[1],pX=boxX+alignFactor*(width-wCosRad)+xOriginCosRad+yOriginSinRad,pY=boxY+baseline-alignFactor*wSinRad-xOriginSinRad+yOriginCosRad,aX=pX+baseline*cosRad90,bX=aX+wCosRad,cX=bX-height*cosRad90,dX=cX-wCosRad,aY=pY+baseline*sinRad90,bY=aY+wSinRad,cY=bY-height*sinRad90,dY=cY-wSinRad;var x=Math.min(aX,bX,cX,dX),y=Math.min(aY,bY,cY,dY),boxWidth=Math.max(aX,bX,cX,dX)-x,boxHeight=Math.max(aY,bY,cY,dY)-y;return{x:x,y:y,width:boxWidth,height:boxHeight,polygon:[[aX,aY],[bX,bY],[cX,cY],[dX,dY]]}};SVGElement.prototype.getStyle=function(prop){return SVGElement_win.getComputedStyle(this.element||this,"").getPropertyValue(prop)};SVGElement.prototype.hasClass=function(className){return(""+this.attr("class")).split(" ").indexOf(className)!==-1};SVGElement.prototype.hide=function(){return this.attr({visibility:"hidden"})};SVGElement.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}};SVGElement.prototype.on=function(eventType,handler){var onEvents=this.onEvents;if(onEvents[eventType]){onEvents[eventType]()}onEvents[eventType]=SVGElement_addEvent(this.element,eventType,handler);return this};SVGElement.prototype.opacitySetter=function(value,key,element){var opacity=Number(Number(value).toFixed(3));this.opacity=opacity;element.setAttribute(key,opacity)};SVGElement.prototype.reAlign=function(){var _a;if(((_a=this.alignOptions)===null||_a===void 0?void 0:_a.width)&&this.alignOptions.align!=="left"){this.alignOptions.width=this.getBBox().width;this.placed=false;this.align()}};SVGElement.prototype.removeClass=function(className){return this.attr("class",(""+this.attr("class")).replace(SVGElement_isString(className)?new RegExp("(^| )".concat(className,"( |$)")):className," ").replace(/ +/g," ").trim())};SVGElement.prototype.removeTextOutline=function(){var outline=this.element.querySelector("tspan.highcharts-text-outline");if(outline){this.safeRemoveChild(outline)}};SVGElement.prototype.safeRemoveChild=function(element){var parentNode=element.parentNode;if(parentNode){parentNode.removeChild(element)}};SVGElement.prototype.setRadialReference=function(coordinates){var existingGradient=this.element.gradient&&this.renderer.gradients[this.element.gradient];this.element.radialReference=coordinates;if(existingGradient&&existingGradient.radAttr){existingGradient.animate(this.renderer.getRadialAttr(coordinates,existingGradient.radAttr))}return this};SVGElement.prototype.shadow=function(shadowOptions){var _a;var renderer=this.renderer,options=SVGElement_merge(((_a=this.parentGroup)===null||_a===void 0?void 0:_a.rotation)===90?{offsetX:-1,offsetY:-1}:{},SVGElement_isObject(shadowOptions)?shadowOptions:{}),id=renderer.shadowDefinition(options);return this.attr({filter:shadowOptions?"url(".concat(renderer.url,"#").concat(id,")"):"none"})};SVGElement.prototype.show=function(inherit){if(inherit===void 0){inherit=true}return this.attr({visibility:inherit?"inherit":"visible"})};SVGElement.prototype["stroke-widthSetter"]=function(value,key,element){this[key]=value;element.setAttribute(key,value)};SVGElement.prototype.strokeWidth=function(){if(!this.renderer.styledMode){return this["stroke-width"]||0}var val=this.getStyle("stroke-width");var ret=0,tempElement;if(/px$/.test(val)){ret=SVGElement_pInt(val)}else if(val!==""){tempElement=SVGElement_doc.createElementNS(SVGElement_SVG_NS,"rect");SVGElement_attr(tempElement,{width:val,"stroke-width":0});this.element.parentNode.appendChild(tempElement);ret=tempElement.getBBox().width;tempElement.parentNode.removeChild(tempElement)}return ret};SVGElement.prototype.symbolAttr=function(hash){var wrapper=this;SVGElement.symbolCustomAttribs.forEach(function(key){wrapper[key]=SVGElement_pick(hash[key],wrapper[key])});wrapper.attr({d:wrapper.renderer.symbols[wrapper.symbolName](wrapper.x,wrapper.y,wrapper.width,wrapper.height,wrapper)})};SVGElement.prototype.textSetter=function(value){if(value!==this.textStr){delete this.textPxLength;this.textStr=value;if(this.added){this.renderer.buildText(this)}this.reAlign()}};SVGElement.prototype.titleSetter=function(value){var el=this.element;var titleNode=el.getElementsByTagName("title")[0]||SVGElement_doc.createElementNS(this.SVG_NS,"title");if(el.insertBefore){el.insertBefore(titleNode,el.firstChild)}else{el.appendChild(titleNode)}titleNode.textContent=SVGElement_replaceNested(SVGElement_pick(value,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")};SVGElement.prototype.toFront=function(){var element=this.element;element.parentNode.appendChild(element);return this};SVGElement.prototype.translate=function(x,y){return this.attr({translateX:x,translateY:y})};SVGElement.prototype.updateTransform=function(attrib){var _a;if(attrib===void 0){attrib="transform"}var _b=this,element=_b.element,matrix=_b.matrix,_c=_b.rotation,rotation=_c===void 0?0:_c,rotationOriginX=_b.rotationOriginX,rotationOriginY=_b.rotationOriginY,scaleX=_b.scaleX,scaleY=_b.scaleY,_d=_b.translateX,translateX=_d===void 0?0:_d,_e=_b.translateY,translateY=_e===void 0?0:_e;var transform=["translate("+translateX+","+translateY+")"];if(SVGElement_defined(matrix)){transform.push("matrix("+matrix.join(",")+")")}if(rotation){transform.push("rotate("+rotation+" "+SVGElement_pick(rotationOriginX,element.getAttribute("x"),0)+" "+SVGElement_pick(rotationOriginY,element.getAttribute("y")||0)+")");if(((_a=this.text)===null||_a===void 0?void 0:_a.element.tagName)==="SPAN"){this.text.attr({rotation:rotation,rotationOriginX:(rotationOriginX||0)-this.padding,rotationOriginY:(rotationOriginY||0)-this.padding})}}if(SVGElement_defined(scaleX)||SVGElement_defined(scaleY)){transform.push("scale("+SVGElement_pick(scaleX,1)+" "+SVGElement_pick(scaleY,1)+")")}if(transform.length&&!(this.text||this).textPath){element.setAttribute(attrib,transform.join(" "))}};SVGElement.prototype.visibilitySetter=function(value,key,element){if(value==="inherit"){element.removeAttribute(key)}else if(this[key]!==value){element.setAttribute(key,value)}this[key]=value};SVGElement.prototype.xGetter=function(key){if(this.element.nodeName==="circle"){if(key==="x"){key="cx"}else if(key==="y"){key="cy"}}return this._defaultGetter(key)};SVGElement.prototype.zIndexSetter=function(value,key){var renderer=this.renderer,parentGroup=this.parentGroup,parentWrapper=parentGroup||renderer,parentNode=parentWrapper.element||renderer.box,element=this.element,svgParent=parentNode===renderer.box;var childNodes,otherElement,otherZIndex,inserted=false,undefinedOtherZIndex,run=this.added,i;if(SVGElement_defined(value)){element.setAttribute("data-z-index",value);value=+value;if(this[key]===value){run=false}}else if(SVGElement_defined(this[key])){element.removeAttribute("data-z-index")}this[key]=value;if(run){value=this.zIndex;if(value&&parentGroup){parentGroup.handleZ=true}childNodes=parentNode.childNodes;for(i=childNodes.length-1;i>=0&&!inserted;i--){otherElement=childNodes[i];otherZIndex=otherElement.getAttribute("data-z-index");undefinedOtherZIndex=!SVGElement_defined(otherZIndex);if(otherElement!==element){if(value<0&&undefinedOtherZIndex&&!svgParent&&!i){parentNode.insertBefore(element,childNodes[i]);inserted=true}else if(SVGElement_pInt(otherZIndex)<=value||undefinedOtherZIndex&&(!SVGElement_defined(value)||value>=0)){parentNode.insertBefore(element,childNodes[i+1]);inserted=true}}}if(!inserted){parentNode.insertBefore(element,childNodes[svgParent?3:0]);inserted=true}}return inserted};SVGElement.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"];return SVGElement}();SVGElement.prototype.strokeSetter=SVGElement.prototype.fillSetter;SVGElement.prototype.yGetter=SVGElement.prototype.xGetter;SVGElement.prototype.matrixSetter=SVGElement.prototype.rotationOriginXSetter=SVGElement.prototype.rotationOriginYSetter=SVGElement.prototype.rotationSetter=SVGElement.prototype.scaleXSetter=SVGElement.prototype.scaleYSetter=SVGElement.prototype.translateXSetter=SVGElement.prototype.translateYSetter=SVGElement.prototype.verticalAlignSetter=function(value,key){this[key]=value;this.doTransform=true};var SVG_SVGElement=SVGElement;"";var __extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var SVGLabel_defined=Core_Utilities.defined,SVGLabel_extend=Core_Utilities.extend,SVGLabel_getAlignFactor=Core_Utilities.getAlignFactor,SVGLabel_isNumber=Core_Utilities.isNumber,SVGLabel_merge=Core_Utilities.merge,SVGLabel_pick=Core_Utilities.pick,SVGLabel_removeEvent=Core_Utilities.removeEvent;var SVGLabel=function(_super){__extends(SVGLabel,_super);function SVGLabel(renderer,str,x,y,shape,anchorX,anchorY,useHTML,baseline,className){var _this=_super.call(this,renderer,"g")||this;_this.paddingLeftSetter=_this.paddingSetter;_this.paddingRightSetter=_this.paddingSetter;_this.doUpdate=false;_this.textStr=str;_this.x=x;_this.y=y;_this.anchorX=anchorX;_this.anchorY=anchorY;_this.baseline=baseline;_this.className=className;_this.addClass(className==="button"?"highcharts-no-tooltip":"highcharts-label");if(className){_this.addClass("highcharts-"+className)}_this.text=renderer.text(void 0,0,0,useHTML).attr({zIndex:1});var hasBGImage;if(typeof shape==="string"){hasBGImage=/^url\((.*?)\)$/.test(shape);if(hasBGImage||_this.renderer.symbols[shape]){_this.symbolKey=shape}}_this.bBox=SVGLabel.emptyBBox;_this.padding=3;_this.baselineOffset=0;_this.needsBox=renderer.styledMode||hasBGImage;_this.deferredAttr={};_this.alignFactor=0;return _this}SVGLabel.prototype.alignSetter=function(value){var alignFactor=SVGLabel_getAlignFactor(value);if(alignFactor!==this.alignFactor){this.alignFactor=alignFactor;if(this.bBox&&SVGLabel_isNumber(this.xSetting)){this.attr({x:this.xSetting})}}};SVGLabel.prototype.anchorXSetter=function(value,key){this.anchorX=value;this.boxAttr(key,Math.round(value)-this.getCrispAdjust()-this.xSetting)};SVGLabel.prototype.anchorYSetter=function(value,key){this.anchorY=value;this.boxAttr(key,value-this.ySetting)};SVGLabel.prototype.boxAttr=function(key,value){if(this.box){this.box.attr(key,value)}else{this.deferredAttr[key]=value}};SVGLabel.prototype.css=function(styles){if(styles){var textStyles_1={};styles=SVGLabel_merge(styles);SVGLabel.textProps.forEach(function(prop){if(typeof styles[prop]!=="undefined"){textStyles_1[prop]=styles[prop];delete styles[prop]}});this.text.css(textStyles_1);if("fontSize"in textStyles_1||"fontWeight"in textStyles_1){this.updateTextPadding()}else if("width"in textStyles_1||"textOverflow"in textStyles_1){this.updateBoxSize()}}return SVG_SVGElement.prototype.css.call(this,styles)};SVGLabel.prototype.destroy=function(){SVGLabel_removeEvent(this.element,"mouseenter");SVGLabel_removeEvent(this.element,"mouseleave");if(this.text){this.text.destroy()}if(this.box){this.box=this.box.destroy()}SVG_SVGElement.prototype.destroy.call(this);return void 0};SVGLabel.prototype.fillSetter=function(value,key){if(value){this.needsBox=true}this.fill=value;this.boxAttr(key,value)};SVGLabel.prototype.getBBox=function(reload,rot){if(this.textStr&&this.bBox.width===0&&this.bBox.height===0){this.updateBoxSize()}var _a=this,padding=_a.padding,_b=_a.height,height=_b===void 0?0:_b,_c=_a.translateX,translateX=_c===void 0?0:_c,_d=_a.translateY,translateY=_d===void 0?0:_d,_e=_a.width,width=_e===void 0?0:_e,paddingLeft=SVGLabel_pick(this.paddingLeft,padding),rotation=rot!==null&&rot!==void 0?rot:this.rotation||0;var bBox={width:width,height:height,x:translateX+this.bBox.x-paddingLeft,y:translateY+this.bBox.y-padding+this.baselineOffset};if(rotation){bBox=this.getRotatedBox(bBox,rotation)}return bBox};SVGLabel.prototype.getCrispAdjust=function(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2};SVGLabel.prototype.heightSetter=function(value){this.heightSetting=value;this.doUpdate=true};SVGLabel.prototype.afterSetters=function(){_super.prototype.afterSetters.call(this);if(this.doUpdate){this.updateBoxSize();this.doUpdate=false}};SVGLabel.prototype.onAdd=function(){this.text.add(this);this.attr({text:SVGLabel_pick(this.textStr,""),x:this.x||0,y:this.y||0});if(this.box&&SVGLabel_defined(this.anchorX)){this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}};SVGLabel.prototype.paddingSetter=function(value,key){if(!SVGLabel_isNumber(value)){this[key]=void 0}else if(value!==this[key]){this[key]=value;this.updateTextPadding()}};SVGLabel.prototype.rSetter=function(value,key){this.boxAttr(key,value)};SVGLabel.prototype.strokeSetter=function(value,key){this.stroke=value;this.boxAttr(key,value)};SVGLabel.prototype["stroke-widthSetter"]=function(value,key){if(value){this.needsBox=true}this["stroke-width"]=value;this.boxAttr(key,value)};SVGLabel.prototype["text-alignSetter"]=function(value){this.textAlign=value};SVGLabel.prototype.textSetter=function(text){if(typeof text!=="undefined"){this.text.attr({text:text})}this.updateTextPadding();this.reAlign()};SVGLabel.prototype.updateBoxSize=function(){var text=this.text,attribs={},padding=this.padding,bBox=this.bBox=(!SVGLabel_isNumber(this.widthSetting)||!SVGLabel_isNumber(this.heightSetting)||this.textAlign)&&SVGLabel_defined(text.textStr)?text.getBBox(void 0,0):SVGLabel.emptyBBox;var crispAdjust;this.width=this.getPaddedWidth();this.height=(this.heightSetting||bBox.height||0)+2*padding;var metrics=this.renderer.fontMetrics(text);this.baselineOffset=padding+Math.min((this.text.firstLineMetrics||metrics).b,bBox.height||Infinity);if(this.heightSetting){this.baselineOffset+=(this.heightSetting-metrics.h)/2}if(this.needsBox&&!text.textPath){if(!this.box){var box=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();box.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":""));box.add(this)}crispAdjust=this.getCrispAdjust();attribs.x=crispAdjust;attribs.y=(this.baseline?-this.baselineOffset:0)+crispAdjust;attribs.width=Math.round(this.width);attribs.height=Math.round(this.height);this.box.attr(SVGLabel_extend(attribs,this.deferredAttr));this.deferredAttr={}}};SVGLabel.prototype.updateTextPadding=function(){var _a;var text=this.text;if(!text.textPath){this.updateBoxSize();var textY=this.baseline?0:this.baselineOffset,textX=((_a=this.paddingLeft)!==null&&_a!==void 0?_a:this.padding)+(SVGLabel_defined(this.widthSetting)&&this.bBox?SVGLabel_getAlignFactor(this.textAlign)*(this.widthSetting-this.bBox.width):0);if(textX!==text.x||textY!==text.y){text.attr("x",textX);if(text.hasBoxWidthChanged){this.bBox=text.getBBox(true)}if(typeof textY!=="undefined"){text.attr("y",textY)}}text.x=textX;text.y=textY}};SVGLabel.prototype.widthSetter=function(value){this.widthSetting=SVGLabel_isNumber(value)?value:void 0;this.doUpdate=true};SVGLabel.prototype.getPaddedWidth=function(){var padding=this.padding;var paddingLeft=SVGLabel_pick(this.paddingLeft,padding);var paddingRight=SVGLabel_pick(this.paddingRight,padding);return(this.widthSetting||this.bBox.width||0)+paddingLeft+paddingRight};SVGLabel.prototype.xSetter=function(value){this.x=value;if(this.alignFactor){value-=this.alignFactor*this.getPaddedWidth();this["forceAnimate:x"]=true}this.xSetting=Math.round(value);this.attr("translateX",this.xSetting)};SVGLabel.prototype.ySetter=function(value){this.ySetting=this.y=Math.round(value);this.attr("translateY",this.ySetting)};SVGLabel.emptyBBox={width:0,height:0,x:0,y:0};SVGLabel.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];return SVGLabel}(SVG_SVGElement);var SVG_SVGLabel=SVGLabel;var Symbols_defined=Core_Utilities.defined,Symbols_isNumber=Core_Utilities.isNumber,Symbols_pick=Core_Utilities.pick;function arc(cx,cy,w,h,options){var arc=[];if(options){var start=options.start||0,rx=Symbols_pick(options.r,w),ry=Symbols_pick(options.r,h||w),proximity=2e-4/(options.borderRadius?1:Math.max(rx,1)),fullCircle=Math.abs((options.end||0)-start-2*Math.PI)<proximity,end=(options.end||0)-(fullCircle?proximity:0),innerRadius=options.innerR,open_1=Symbols_pick(options.open,fullCircle),cosStart=Math.cos(start),sinStart=Math.sin(start),cosEnd=Math.cos(end),sinEnd=Math.sin(end),longArc=Symbols_pick(options.longArc,end-start-Math.PI<proximity?0:1);var arcSegment=["A",rx,ry,0,longArc,Symbols_pick(options.clockwise,1),cx+rx*cosEnd,cy+ry*sinEnd];arcSegment.params={start:start,end:end,cx:cx,cy:cy};arc.push(["M",cx+rx*cosStart,cy+ry*sinStart],arcSegment);if(Symbols_defined(innerRadius)){arcSegment=["A",innerRadius,innerRadius,0,longArc,Symbols_defined(options.clockwise)?1-options.clockwise:0,cx+innerRadius*cosStart,cy+innerRadius*sinStart];arcSegment.params={start:end,end:start,cx:cx,cy:cy};arc.push(open_1?["M",cx+innerRadius*cosEnd,cy+innerRadius*sinEnd]:["L",cx+innerRadius*cosEnd,cy+innerRadius*sinEnd],arcSegment)}if(!open_1){arc.push(["Z"])}}return arc}function callout(x,y,w,h,options){var arrowLength=6,halfDistance=6,r=Math.min(options&&options.r||0,w,h),safeDistance=r+halfDistance,anchorX=options&&options.anchorX,anchorY=options&&options.anchorY||0;var path=roundedRect(x,y,w,h,{r:r});if(!Symbols_isNumber(anchorX)){return path}if(anchorX<w&&anchorX>0&&anchorY<h&&anchorY>0){return path}if(x+anchorX>w-safeDistance){if(anchorY>y+safeDistance&&anchorY<y+h-safeDistance){path.splice(3,1,["L",x+w,anchorY-halfDistance],["L",x+w+arrowLength,anchorY],["L",x+w,anchorY+halfDistance],["L",x+w,y+h-r])}else{if(anchorX<w){var isTopCorner=anchorY<y+safeDistance,cornerY=isTopCorner?y:y+h,sliceStart=isTopCorner?2:5;path.splice(sliceStart,0,["L",anchorX,anchorY],["L",x+w-r,cornerY])}else{path.splice(3,1,["L",x+w,h/2],["L",anchorX,anchorY],["L",x+w,h/2],["L",x+w,y+h-r])}}}else if(x+anchorX<safeDistance){if(anchorY>y+safeDistance&&anchorY<y+h-safeDistance){path.splice(7,1,["L",x,anchorY+halfDistance],["L",x-arrowLength,anchorY],["L",x,anchorY-halfDistance],["L",x,y+r])}else{if(anchorX>0){var isTopCorner=anchorY<y+safeDistance,cornerY=isTopCorner?y:y+h,sliceStart=isTopCorner?1:6;path.splice(sliceStart,0,["L",anchorX,anchorY],["L",x+r,cornerY])}else{path.splice(7,1,["L",x,h/2],["L",anchorX,anchorY],["L",x,h/2],["L",x,y+r])}}}else if(anchorY>h&&anchorX<w-safeDistance){path.splice(5,1,["L",anchorX+halfDistance,y+h],["L",anchorX,y+h+arrowLength],["L",anchorX-halfDistance,y+h],["L",x+r,y+h])}else if(anchorY<0&&anchorX>safeDistance){path.splice(1,1,["L",anchorX-halfDistance,y],["L",anchorX,y-arrowLength],["L",anchorX+halfDistance,y],["L",w-r,y])}return path}function circle(x,y,w,h){return arc(x+w/2,y+h/2,w/2,h/2,{start:Math.PI*.5,end:Math.PI*2.5,open:false})}function diamond(x,y,w,h){return[["M",x+w/2,y],["L",x+w,y+h/2],["L",x+w/2,y+h],["L",x,y+h/2],["Z"]]}function rect(x,y,w,h,options){if(options&&options.r){return roundedRect(x,y,w,h,options)}return[["M",x,y],["L",x+w,y],["L",x+w,y+h],["L",x,y+h],["Z"]]}function roundedRect(x,y,w,h,options){var r=(options===null||options===void 0?void 0:options.r)||0;return[["M",x+r,y],["L",x+w-r,y],["A",r,r,0,0,1,x+w,y+r],["L",x+w,y+h-r],["A",r,r,0,0,1,x+w-r,y+h],["L",x+r,y+h],["A",r,r,0,0,1,x,y+h-r],["L",x,y+r],["A",r,r,0,0,1,x+r,y],["Z"]]}function triangle(x,y,w,h){return[["M",x+w/2,y],["L",x+w,y+h],["L",x,y+h],["Z"]]}function triangleDown(x,y,w,h){return[["M",x,y],["L",x+w,y],["L",x+w/2,y+h],["Z"]]}var Symbols={arc:arc,callout:callout,circle:circle,diamond:diamond,rect:rect,roundedRect:roundedRect,square:rect,triangle:triangle,"triangle-down":triangleDown};var SVG_Symbols=Symbols;var TextBuilder_doc=Core_Globals.doc,TextBuilder_SVG_NS=Core_Globals.SVG_NS,TextBuilder_win=Core_Globals.win;var TextBuilder_attr=Core_Utilities.attr,TextBuilder_extend=Core_Utilities.extend,TextBuilder_fireEvent=Core_Utilities.fireEvent,TextBuilder_isString=Core_Utilities.isString,TextBuilder_objectEach=Core_Utilities.objectEach,TextBuilder_pick=Core_Utilities.pick;var stringWithEllipsis=function(text,currentIndex){return text.substring(0,currentIndex)+"…"};var TextBuilder=function(){function TextBuilder(svgElement){var textStyles=svgElement.styles;this.renderer=svgElement.renderer;this.svgElement=svgElement;this.width=svgElement.textWidth;this.textLineHeight=textStyles&&textStyles.lineHeight;this.textOutline=textStyles&&textStyles.textOutline;this.ellipsis=Boolean(textStyles&&textStyles.textOverflow==="ellipsis");this.lineClamp=textStyles===null||textStyles===void 0?void 0:textStyles.lineClamp;this.noWrap=Boolean(textStyles&&textStyles.whiteSpace==="nowrap")}TextBuilder.prototype.buildSVG=function(){var wrapper=this.svgElement,textNode=wrapper.element,renderer=wrapper.renderer,textStr=TextBuilder_pick(wrapper.textStr,"").toString(),hasMarkup=textStr.indexOf("<")!==-1,childNodes=textNode.childNodes,tempParent=!wrapper.added&&renderer.box,regexMatchBreaks=/<br.*?>/g,textCache=[textStr,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,wrapper.getStyle("font-size"),wrapper.styles.lineClamp,this.width].join(",");if(textCache===wrapper.textCache){return}wrapper.textCache=textCache;delete wrapper.actualWidth;for(var i=childNodes.length;i--;){textNode.removeChild(childNodes[i])}if(!hasMarkup&&!this.ellipsis&&!this.width&&!wrapper.textPath&&(textStr.indexOf(" ")===-1||this.noWrap&&!regexMatchBreaks.test(textStr))){textNode.appendChild(TextBuilder_doc.createTextNode(this.unescapeEntities(textStr)))}else if(textStr!==""){if(tempParent){tempParent.appendChild(textNode)}var ast=new HTML_AST(textStr);this.modifyTree(ast.nodes);ast.addToDOM(textNode);this.modifyDOM();if(this.ellipsis&&(textNode.textContent||"").indexOf("…")!==-1){wrapper.attr("title",this.unescapeEntities(wrapper.textStr||"",["&lt;","&gt;"]))}if(tempParent){tempParent.removeChild(textNode)}}if(TextBuilder_isString(this.textOutline)&&wrapper.applyTextOutline){wrapper.applyTextOutline(this.textOutline)}};TextBuilder.prototype.modifyDOM=function(){var _this=this;var wrapper=this.svgElement;var x=TextBuilder_attr(wrapper.element,"x");wrapper.firstLineMetrics=void 0;var firstChild;while(firstChild=wrapper.element.firstChild){if(/^[\s\u200B]*$/.test(firstChild.textContent||" ")){wrapper.element.removeChild(firstChild)}else{break}}[].forEach.call(wrapper.element.querySelectorAll("tspan.highcharts-br"),function(br,i){if(br.nextSibling&&br.previousSibling){if(i===0&&br.previousSibling.nodeType===1){wrapper.firstLineMetrics=wrapper.renderer.fontMetrics(br.previousSibling)}TextBuilder_attr(br,{dy:_this.getLineHeight(br.nextSibling),x:x})}});var width=this.width||0;if(!width){return}var modifyTextNode=function(textNode,parentElement){var _a;var text=textNode.textContent||"";var words=text.replace(/([^\^])-/g,"$1- ").split(" ");var hasWhiteSpace=!_this.noWrap&&(words.length>1||wrapper.element.childNodes.length>1);var dy=_this.getLineHeight(parentElement),ellipsisWidth=Math.max(0,width-.8*dy);var lineNo=0;var startAt=wrapper.actualWidth;if(hasWhiteSpace){var lines=[];var precedingSiblings=[];while(parentElement.firstChild&&parentElement.firstChild!==textNode){precedingSiblings.push(parentElement.firstChild);parentElement.removeChild(parentElement.firstChild)}while(words.length){if(words.length&&!_this.noWrap&&lineNo>0){lines.push(textNode.textContent||"");textNode.textContent=words.join(" ").replace(/- /g,"-")}_this.truncate(textNode,void 0,words,lineNo===0?startAt||0:0,width,ellipsisWidth,function(t,currentIndex){return words.slice(0,currentIndex).join(" ").replace(/- /g,"-")});startAt=wrapper.actualWidth;lineNo++;if(_this.lineClamp&&lineNo>=_this.lineClamp){if(words.length){_this.truncate(textNode,textNode.textContent||"",void 0,0,width,ellipsisWidth,stringWithEllipsis);textNode.textContent=((_a=textNode.textContent)===null||_a===void 0?void 0:_a.replace("…",""))+"…"}break}}precedingSiblings.forEach(function(childNode){parentElement.insertBefore(childNode,textNode)});lines.forEach(function(line){parentElement.insertBefore(TextBuilder_doc.createTextNode(line),textNode);var br=TextBuilder_doc.createElementNS(TextBuilder_SVG_NS,"tspan");br.textContent="​";TextBuilder_attr(br,{dy:dy,x:x});parentElement.insertBefore(br,textNode)})}else if(_this.ellipsis){if(text){_this.truncate(textNode,text,void 0,0,width,ellipsisWidth,stringWithEllipsis)}}};var modifyChildren=function(node){var childNodes=[].slice.call(node.childNodes);childNodes.forEach(function(childNode){if(childNode.nodeType===TextBuilder_win.Node.TEXT_NODE){modifyTextNode(childNode,node)}else{if(childNode.className.baseVal.indexOf("highcharts-br")!==-1){wrapper.actualWidth=0}modifyChildren(childNode)}})};modifyChildren(wrapper.element)};TextBuilder.prototype.getLineHeight=function(node){var element=node.nodeType===TextBuilder_win.Node.TEXT_NODE?node.parentElement:node;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(element||this.svgElement.element).h};TextBuilder.prototype.modifyTree=function(nodes){var _this=this;var modifyChild=function(node,i){var _a=node.attributes,attributes=_a===void 0?{}:_a,children=node.children,_b=node.style,style=_b===void 0?{}:_b,tagName=node.tagName,styledMode=_this.renderer.styledMode;if(tagName==="b"||tagName==="strong"){if(styledMode){attributes["class"]="highcharts-strong"}else{style.fontWeight="bold"}}else if(tagName==="i"||tagName==="em"){if(styledMode){attributes["class"]="highcharts-emphasized"}else{style.fontStyle="italic"}}if(style&&style.color){style.fill=style.color}if(tagName==="br"){attributes["class"]="highcharts-br";node.textContent="​";var nextNode=nodes[i+1];if(nextNode&&nextNode.textContent){nextNode.textContent=nextNode.textContent.replace(/^ +/gm,"")}}else if(tagName==="a"&&children&&children.some(function(child){return child.tagName==="#text"})){node.children=[{children:children,tagName:"tspan"}]}if(tagName!=="#text"&&tagName!=="a"){node.tagName="tspan"}TextBuilder_extend(node,{attributes:attributes,style:style});if(children){children.filter(function(c){return c.tagName!=="#text"}).forEach(modifyChild)}};nodes.forEach(modifyChild);TextBuilder_fireEvent(this.svgElement,"afterModifyTree",{nodes:nodes})};TextBuilder.prototype.truncate=function(textNode,text,words,startAt,width,ellipsisWidth,getString){var svgElement=this.svgElement;var rotation=svgElement.rotation;var lengths=[];var minIndex=words&&!startAt?1:0;var maxIndex=(text||words||"").length;var currentIndex=maxIndex;var str;var actualWidth;if(!words){width=ellipsisWidth}var getSubStringLength=function(charEnd,concatenatedEnd){var end=concatenatedEnd||charEnd;var parentNode=textNode.parentNode;if(parentNode&&typeof lengths[end]==="undefined"){if(parentNode.getSubStringLength){try{lengths[end]=startAt+parentNode.getSubStringLength(0,words?end+1:end)}catch(e){""}}}return lengths[end]};svgElement.rotation=0;actualWidth=getSubStringLength(textNode.textContent.length);if(startAt+actualWidth>width){while(minIndex<=maxIndex){currentIndex=Math.ceil((minIndex+maxIndex)/2);if(words){str=getString(words,currentIndex)}actualWidth=getSubStringLength(currentIndex,str&&str.length-1);if(minIndex===maxIndex){minIndex=maxIndex+1}else if(actualWidth>width){maxIndex=currentIndex-1}else{minIndex=currentIndex}}if(maxIndex===0){textNode.textContent=""}else if(!(text&&maxIndex===text.length-1)){textNode.textContent=str||getString(text||words,currentIndex)}if(this.ellipsis&&actualWidth>width){this.truncate(textNode,textNode.textContent||"",void 0,0,width,ellipsisWidth,stringWithEllipsis)}}if(words){words.splice(0,currentIndex)}svgElement.actualWidth=actualWidth;svgElement.rotation=rotation};TextBuilder.prototype.unescapeEntities=function(inputStr,except){TextBuilder_objectEach(this.renderer.escapes,function(value,key){if(!except||except.indexOf(value)===-1){inputStr=inputStr.toString().replace(new RegExp(value,"g"),key)}});return inputStr};return TextBuilder}();var SVG_TextBuilder=TextBuilder;var SVGRenderer_spreadArray=undefined&&undefined.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var SVGRenderer_defaultOptions=Defaults.defaultOptions;var SVGRenderer_charts=Core_Globals.charts,SVGRenderer_deg2rad=Core_Globals.deg2rad,SVGRenderer_doc=Core_Globals.doc,SVGRenderer_isFirefox=Core_Globals.isFirefox,isMS=Core_Globals.isMS,isWebKit=Core_Globals.isWebKit,noop=Core_Globals.noop,SVGRenderer_SVG_NS=Core_Globals.SVG_NS,symbolSizes=Core_Globals.symbolSizes,SVGRenderer_win=Core_Globals.win;var SVGRenderer_addEvent=Core_Utilities.addEvent,SVGRenderer_attr=Core_Utilities.attr,SVGRenderer_createElement=Core_Utilities.createElement,SVGRenderer_crisp=Core_Utilities.crisp,SVGRenderer_css=Core_Utilities.css,SVGRenderer_defined=Core_Utilities.defined,SVGRenderer_destroyObjectProperties=Core_Utilities.destroyObjectProperties,SVGRenderer_extend=Core_Utilities.extend,SVGRenderer_isArray=Core_Utilities.isArray,SVGRenderer_isNumber=Core_Utilities.isNumber,SVGRenderer_isObject=Core_Utilities.isObject,SVGRenderer_isString=Core_Utilities.isString,SVGRenderer_merge=Core_Utilities.merge,SVGRenderer_pick=Core_Utilities.pick,SVGRenderer_pInt=Core_Utilities.pInt,SVGRenderer_replaceNested=Core_Utilities.replaceNested,SVGRenderer_uniqueKey=Core_Utilities.uniqueKey;var hasInternalReferenceBug;var SVGRenderer=function(){function SVGRenderer(container,width,height,style,forExport,allowHTML,styledMode){var renderer=this,boxWrapper=renderer.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),element=boxWrapper.element;if(!styledMode){boxWrapper.css(this.getStyle(style||{}))}container.appendChild(element);SVGRenderer_attr(container,"dir","ltr");if(container.innerHTML.indexOf("xmlns")===-1){SVGRenderer_attr(element,"xmlns",this.SVG_NS)}this.box=element;this.boxWrapper=boxWrapper;this.alignedObjects=[];this.url=this.getReferenceURL();var desc=this.createElement("desc").add();desc.element.appendChild(SVGRenderer_doc.createTextNode("Created with Highcharts 12.0.2"));this.defs=this.createElement("defs").add();this.allowHTML=allowHTML;this.forExport=forExport;this.styledMode=styledMode;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.rootFontSize=boxWrapper.getStyle("font-size");renderer.setSize(width,height,false);var subPixelFix,rect;if(SVGRenderer_isFirefox&&container.getBoundingClientRect){subPixelFix=function(){SVGRenderer_css(container,{left:0,top:0});rect=container.getBoundingClientRect();SVGRenderer_css(container,{left:Math.ceil(rect.left)-rect.left+"px",top:Math.ceil(rect.top)-rect.top+"px"})};subPixelFix();renderer.unSubPixelFix=SVGRenderer_addEvent(SVGRenderer_win,"resize",subPixelFix)}}SVGRenderer.prototype.definition=function(def){var ast=new HTML_AST([def]);return ast.addToDOM(this.defs.element)};SVGRenderer.prototype.getReferenceURL=function(){if((SVGRenderer_isFirefox||isWebKit)&&SVGRenderer_doc.getElementsByTagName("base").length){if(!SVGRenderer_defined(hasInternalReferenceBug)){var id=SVGRenderer_uniqueKey();var ast=new HTML_AST([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:id},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#".concat(id,")"),fill:"rgba(0,0,0,0.001)"}}]}]);var svg=ast.addToDOM(SVGRenderer_doc.body);SVGRenderer_css(svg,{position:"fixed",top:0,left:0,zIndex:9e5});var hitElement=SVGRenderer_doc.elementFromPoint(6,6);hasInternalReferenceBug=(hitElement&&hitElement.id)==="hitme";SVGRenderer_doc.body.removeChild(svg)}if(hasInternalReferenceBug){return SVGRenderer_replaceNested(SVGRenderer_win.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}}return""};SVGRenderer.prototype.getStyle=function(style){this.style=SVGRenderer_extend({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", '+'Roboto, Helvetica, Arial, "Apple Color Emoji", '+'"Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},style);return this.style};SVGRenderer.prototype.setStyle=function(style){this.boxWrapper.css(this.getStyle(style))};SVGRenderer.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width};SVGRenderer.prototype.destroy=function(){var renderer=this,rendererDefs=renderer.defs;renderer.box=null;renderer.boxWrapper=renderer.boxWrapper.destroy();SVGRenderer_destroyObjectProperties(renderer.gradients||{});renderer.gradients=null;renderer.defs=rendererDefs.destroy();if(renderer.unSubPixelFix){renderer.unSubPixelFix()}renderer.alignedObjects=null;return null};SVGRenderer.prototype.createElement=function(nodeName){return new this.Element(this,nodeName)};SVGRenderer.prototype.getRadialAttr=function(radialReference,gradAttr){return{cx:radialReference[0]-radialReference[2]/2+(gradAttr.cx||0)*radialReference[2],cy:radialReference[1]-radialReference[2]/2+(gradAttr.cy||0)*radialReference[2],r:(gradAttr.r||0)*radialReference[2]}};SVGRenderer.prototype.shadowDefinition=function(shadowOptions){var id=SVGRenderer_spreadArray(["highcharts-drop-shadow-".concat(this.chartIndex)],Object.keys(shadowOptions).map(function(key){return""+key+"-".concat(shadowOptions[key])}),true).join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),options=SVGRenderer_merge({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},shadowOptions);if(!this.defs.element.querySelector("#".concat(id))){this.definition({tagName:"filter",attributes:{id:id,filterUnits:options.filterUnits},children:this.getShadowFilterContent(options)})}return id};SVGRenderer.prototype.getShadowFilterContent=function(options){return[{tagName:"feDropShadow",attributes:{dx:options.offsetX,dy:options.offsetY,"flood-color":options.color,"flood-opacity":Math.min(options.opacity*5,1),stdDeviation:options.width/2}}]};SVGRenderer.prototype.buildText=function(wrapper){new SVG_TextBuilder(wrapper).buildSVG()};SVGRenderer.prototype.getContrast=function(color){var rgba=Color_Color.parse(color).rgba.map(function(b8){var c=b8/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)});var l=.2126*rgba[0]+.7152*rgba[1]+.0722*rgba[2];return 1.05/(l+.05)>(l+.05)/.05?"#FFFFFF":"#000000"};SVGRenderer.prototype.button=function(text,x,y,callback,theme,hoverState,selectState,disabledState,shape,useHTML){if(theme===void 0){theme={}}var label=this.label(text,x,y,shape,void 0,void 0,useHTML,void 0,"button"),styledMode=this.styledMode,args=arguments;var curState=0;theme=SVGRenderer_merge(SVGRenderer_defaultOptions.global.buttonTheme,theme);if(styledMode){delete theme.fill;delete theme.stroke;delete theme["stroke-width"]}var states=theme.states||{},normalStyle=theme.style||{};delete theme.states;delete theme.style;var stateAttribs=[HTML_AST.filterUserAttributes(theme)],stateStyles=[normalStyle];if(!styledMode){["hover","select","disabled"].forEach(function(stateName,i){stateAttribs.push(SVGRenderer_merge(stateAttribs[0],HTML_AST.filterUserAttributes(args[i+5]||states[stateName]||{})));stateStyles.push(stateAttribs[i+1].style);delete stateAttribs[i+1].style})}SVGRenderer_addEvent(label.element,isMS?"mouseover":"mouseenter",function(){if(curState!==3){label.setState(1)}});SVGRenderer_addEvent(label.element,isMS?"mouseout":"mouseleave",function(){if(curState!==3){label.setState(curState)}});label.setState=function(state){if(state===void 0){state=0}if(state!==1){label.state=curState=state}label.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][state]);if(!styledMode){label.attr(stateAttribs[state]);var css_1=stateStyles[state];if(SVGRenderer_isObject(css_1)){label.css(css_1)}}};label.attr(stateAttribs[0]);if(!styledMode){label.css(SVGRenderer_extend({cursor:"default"},normalStyle));if(useHTML){label.text.css({pointerEvents:"none"})}}return label.on("touchstart",function(e){return e.stopPropagation()}).on("click",function(e){if(curState!==3){callback.call(label,e)}})};SVGRenderer.prototype.crispLine=function(points,width){var start=points[0],end=points[1];if(SVGRenderer_defined(start[1])&&start[1]===end[1]){start[1]=end[1]=SVGRenderer_crisp(start[1],width)}if(SVGRenderer_defined(start[2])&&start[2]===end[2]){start[2]=end[2]=SVGRenderer_crisp(start[2],width)}return points};SVGRenderer.prototype.path=function(path){var attribs=this.styledMode?{}:{fill:"none"};if(SVGRenderer_isArray(path)){attribs.d=path}else if(SVGRenderer_isObject(path)){SVGRenderer_extend(attribs,path)}return this.createElement("path").attr(attribs)};SVGRenderer.prototype.circle=function(x,y,r){var attribs=SVGRenderer_isObject(x)?x:typeof x==="undefined"?{}:{x:x,y:y,r:r},wrapper=this.createElement("circle");wrapper.xSetter=wrapper.ySetter=function(value,key,element){element.setAttribute("c"+key,value)};return wrapper.attr(attribs)};SVGRenderer.prototype.arc=function(x,y,r,innerR,start,end){var options;if(SVGRenderer_isObject(x)){options=x;y=options.y;r=options.r;innerR=options.innerR;start=options.start;end=options.end;x=options.x}else{options={innerR:innerR,start:start,end:end}}var arc=this.symbol("arc",x,y,r,r,options);arc.r=r;return arc};SVGRenderer.prototype.rect=function(x,y,width,height,r,strokeWidth){var attribs=SVGRenderer_isObject(x)?x:typeof x==="undefined"?{}:{x:x,y:y,r:r,width:Math.max(width||0,0),height:Math.max(height||0,0)},wrapper=this.createElement("rect");if(!this.styledMode){if(typeof strokeWidth!=="undefined"){attribs["stroke-width"]=strokeWidth;SVGRenderer_extend(attribs,wrapper.crisp(attribs))}attribs.fill="none"}wrapper.rSetter=function(value,_key,element){wrapper.r=value;SVGRenderer_attr(element,{rx:value,ry:value})};wrapper.rGetter=function(){return wrapper.r||0};return wrapper.attr(attribs)};SVGRenderer.prototype.roundedRect=function(attribs){return this.symbol("roundedRect").attr(attribs)};SVGRenderer.prototype.setSize=function(width,height,animate){var renderer=this;renderer.width=width;renderer.height=height;renderer.boxWrapper.animate({width:width,height:height},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:SVGRenderer_pick(animate,true)?void 0:0});renderer.alignElements()};SVGRenderer.prototype.g=function(name){var elem=this.createElement("g");return name?elem.attr({class:"highcharts-"+name}):elem};SVGRenderer.prototype.image=function(href,x,y,width,height,onload){var attribs={preserveAspectRatio:"none"};if(SVGRenderer_isNumber(x)){attribs.x=x}if(SVGRenderer_isNumber(y)){attribs.y=y}if(SVGRenderer_isNumber(width)){attribs.width=width}if(SVGRenderer_isNumber(height)){attribs.height=height}var elemWrapper=this.createElement("image").attr(attribs),onDummyLoad=function(e){elemWrapper.attr({href:href});onload.call(elemWrapper,e)};if(onload){elemWrapper.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});var dummy=new SVGRenderer_win.Image;SVGRenderer_addEvent(dummy,"load",onDummyLoad);dummy.src=href;if(dummy.complete){onDummyLoad({})}}else{elemWrapper.attr({href:href})}return elemWrapper};SVGRenderer.prototype.symbol=function(symbol,x,y,width,height,options){var ren=this,imageRegex=/^url\((.*?)\)$/,isImage=imageRegex.test(symbol),sym=!isImage&&(this.symbols[symbol]?symbol:"circle"),symbolFn=sym&&this.symbols[sym];var obj,path,imageSrc,centerImage;if(symbolFn){if(typeof x==="number"){path=symbolFn.call(this.symbols,x||0,y||0,width||0,height||0,options)}obj=this.path(path);if(!ren.styledMode){obj.attr("fill","none")}SVGRenderer_extend(obj,{symbolName:sym||void 0,x:x,y:y,width:width,height:height});if(options){SVGRenderer_extend(obj,options)}}else if(isImage){imageSrc=symbol.match(imageRegex)[1];var img_1=obj=this.image(imageSrc);img_1.imgwidth=SVGRenderer_pick(options&&options.width,symbolSizes[imageSrc]&&symbolSizes[imageSrc].width);img_1.imgheight=SVGRenderer_pick(options&&options.height,symbolSizes[imageSrc]&&symbolSizes[imageSrc].height);centerImage=function(obj){return obj.attr({width:obj.width,height:obj.height})};["width","height"].forEach(function(key){img_1[""+key+"Setter"]=function(value,key){this[key]=value;var _a=this,alignByTranslate=_a.alignByTranslate,element=_a.element,width=_a.width,height=_a.height,imgwidth=_a.imgwidth,imgheight=_a.imgheight,imgSize=key==="width"?imgwidth:imgheight;var scale=1;if(options&&options.backgroundSize==="within"&&width&&height&&imgwidth&&imgheight){scale=Math.min(width/imgwidth,height/imgheight);SVGRenderer_attr(element,{width:Math.round(imgwidth*scale),height:Math.round(imgheight*scale)})}else if(element&&imgSize){element.setAttribute(key,imgSize)}if(!alignByTranslate&&imgwidth&&imgheight){this.translate(((width||0)-imgwidth*scale)/2,((height||0)-imgheight*scale)/2)}}});if(SVGRenderer_defined(x)){img_1.attr({x:x,y:y})}img_1.isImg=true;img_1.symbolUrl=symbol;if(SVGRenderer_defined(img_1.imgwidth)&&SVGRenderer_defined(img_1.imgheight)){centerImage(img_1)}else{img_1.attr({width:0,height:0});SVGRenderer_createElement("img",{onload:function(){var chart=SVGRenderer_charts[ren.chartIndex];if(this.width===0){SVGRenderer_css(this,{position:"absolute",top:"-999em"});SVGRenderer_doc.body.appendChild(this)}symbolSizes[imageSrc]={width:this.width,height:this.height};img_1.imgwidth=this.width;img_1.imgheight=this.height;if(img_1.element){centerImage(img_1)}if(this.parentNode){this.parentNode.removeChild(this)}ren.imgCount--;if(!ren.imgCount&&chart&&!chart.hasLoaded){chart.onload()}},src:imageSrc});this.imgCount++}}return obj};SVGRenderer.prototype.clipRect=function(x,y,width,height){return this.rect(x,y,width,height,0)};SVGRenderer.prototype.text=function(str,x,y,useHTML){var renderer=this,attribs={};if(useHTML&&(renderer.allowHTML||!renderer.forExport)){return renderer.html(str,x,y)}attribs.x=Math.round(x||0);if(y){attribs.y=Math.round(y)}if(SVGRenderer_defined(str)){attribs.text=str}var wrapper=renderer.createElement("text").attr(attribs);if(!useHTML||renderer.forExport&&!renderer.allowHTML){wrapper.xSetter=function(value,key,element){var tspans=element.getElementsByTagName("tspan"),parentVal=element.getAttribute(key);for(var i=0,tspan=void 0;i<tspans.length;i++){tspan=tspans[i];if(tspan.getAttribute(key)===parentVal){tspan.setAttribute(key,value)}}element.setAttribute(key,value)}}return wrapper};SVGRenderer.prototype.fontMetrics=function(element){var f=SVGRenderer_pInt(SVG_SVGElement.prototype.getStyle.call(element,"font-size")||0);var h=f<24?f+3:Math.round(f*1.2),b=Math.round(h*.8);return{h:h,b:b,f:f}};SVGRenderer.prototype.rotCorr=function(baseline,rotation,alterY){var y=baseline;if(rotation&&alterY){y=Math.max(y*Math.cos(rotation*SVGRenderer_deg2rad),4)}return{x:-baseline/3*Math.sin(rotation*SVGRenderer_deg2rad),y:y}};SVGRenderer.prototype.pathToSegments=function(path){var ret=[];var segment=[];var commandLength={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(var i=0;i<path.length;i++){if(SVGRenderer_isString(segment[0])&&SVGRenderer_isNumber(path[i])&&segment.length===commandLength[segment[0].toUpperCase()]){path.splice(i,0,segment[0].replace("M","L").replace("m","l"))}if(typeof path[i]==="string"){if(segment.length){ret.push(segment.slice(0))}segment.length=0}segment.push(path[i])}ret.push(segment.slice(0));return ret};SVGRenderer.prototype.label=function(str,x,y,shape,anchorX,anchorY,useHTML,baseline,className){return new SVG_SVGLabel(this,str,x,y,shape,anchorX,anchorY,useHTML,baseline,className)};SVGRenderer.prototype.alignElements=function(){this.alignedObjects.forEach(function(el){return el.align()})};return SVGRenderer}();SVGRenderer_extend(SVGRenderer.prototype,{Element:SVG_SVGElement,SVG_NS:SVGRenderer_SVG_NS,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:SVG_Symbols,draw:noop});Renderer_RendererRegistry.registerRendererType("svg",SVGRenderer,true);var SVG_SVGRenderer=SVGRenderer;"";var HTMLElement_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __assign=undefined&&undefined.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var composed=Core_Globals.composed;var HTMLElement_attr=Core_Utilities.attr,HTMLElement_css=Core_Utilities.css,HTMLElement_createElement=Core_Utilities.createElement,HTMLElement_defined=Core_Utilities.defined,HTMLElement_extend=Core_Utilities.extend,HTMLElement_getAlignFactor=Core_Utilities.getAlignFactor,HTMLElement_isNumber=Core_Utilities.isNumber,HTMLElement_pInt=Core_Utilities.pInt,HTMLElement_pushUnique=Core_Utilities.pushUnique;function commonSetter(value,key,elem){var _a;var style=((_a=this.div)===null||_a===void 0?void 0:_a.style)||elem.style;SVG_SVGElement.prototype[""+key+"Setter"].call(this,value,key,elem);if(style){style[key]=value}}var decorateSVGGroup=function(g,container){var _a;if(!g.div){var className=HTMLElement_attr(g.element,"class"),cssProto_1=g.css;var div_1=HTMLElement_createElement("div",className?{className:className}:void 0,__assign(__assign({position:"absolute",left:""+(g.translateX||0)+"px",top:""+(g.translateY||0)+"px"},g.styles),{display:g.display,opacity:g.opacity,visibility:g.visibility}),((_a=g.parentGroup)===null||_a===void 0?void 0:_a.div)||container);g.classSetter=function(value,key,element){element.setAttribute("class",value);div_1.className=value};g.translateXSetter=g.translateYSetter=function(value,key){g[key]=value;div_1.style[key==="translateX"?"left":"top"]=""+value+"px";g.doTransform=true};g.opacitySetter=g.visibilitySetter=commonSetter;g.css=function(styles){cssProto_1.call(g,styles);if(styles.cursor){div_1.style.cursor=styles.cursor}if(styles.pointerEvents){div_1.style.pointerEvents=styles.pointerEvents}return g};g.on=function(){SVG_SVGElement.prototype.on.apply({element:div_1,onEvents:g.onEvents},arguments);return g};g.div=div_1}return g.div};var HTMLElement=function(_super){HTMLElement_extends(HTMLElement,_super);function HTMLElement(renderer,nodeName){var _this=_super.call(this,renderer,nodeName)||this;_this.css(__assign({position:"absolute"},renderer.styledMode?{}:{fontFamily:renderer.style.fontFamily,fontSize:renderer.style.fontSize}));return _this}HTMLElement.compose=function(SVGRendererClass){if(HTMLElement_pushUnique(composed,this.compose)){SVGRendererClass.prototype.html=function(str,x,y){return new HTMLElement(this,"span").attr({text:str,x:Math.round(x),y:Math.round(y)})}}};HTMLElement.prototype.getSpanCorrection=function(width,baseline,alignCorrection){this.xCorr=-width*alignCorrection;this.yCorr=-baseline};HTMLElement.prototype.css=function(styles){var element=this.element,isSettingWidth=element.tagName==="SPAN"&&styles&&"width"in styles,textWidth=isSettingWidth&&styles.width;var doTransform;if(isSettingWidth){delete styles.width;this.textWidth=HTMLElement_pInt(textWidth)||void 0;doTransform=true}if((styles===null||styles===void 0?void 0:styles.textOverflow)==="ellipsis"){styles.overflow="hidden"}if(styles===null||styles===void 0?void 0:styles.lineClamp){styles.display="-webkit-box";styles.WebkitLineClamp=styles.lineClamp;styles.WebkitBoxOrient="vertical";styles.overflow="hidden"}if(HTMLElement_isNumber(Number(styles===null||styles===void 0?void 0:styles.fontSize))){styles.fontSize=styles.fontSize+"px"}HTMLElement_extend(this.styles,styles);HTMLElement_css(element,styles);if(doTransform){this.updateTransform()}return this};HTMLElement.prototype.htmlGetBBox=function(){var element=this.element;return{x:element.offsetLeft,y:element.offsetTop,width:element.offsetWidth,height:element.offsetHeight}};HTMLElement.prototype.updateTransform=function(){var _this=this;var _a;if(!this.added){this.alignOnAdd=true;return}var _b=this,element=_b.element,renderer=_b.renderer,rotation=_b.rotation,rotationOriginX=_b.rotationOriginX,rotationOriginY=_b.rotationOriginY,scaleX=_b.scaleX,scaleY=_b.scaleY,styles=_b.styles,_c=_b.textAlign,textAlign=_c===void 0?"left":_c,textWidth=_b.textWidth,_d=_b.translateX,translateX=_d===void 0?0:_d,_e=_b.translateY,translateY=_e===void 0?0:_e,_f=_b.x,x=_f===void 0?0:_f,_g=_b.y,y=_g===void 0?0:_g,_h=styles.display,display=_h===void 0?"block":_h,whiteSpace=styles.whiteSpace;var getTextPxLength=function(){if(_this.textPxLength){return _this.textPxLength}HTMLElement_css(element,{width:"",whiteSpace:whiteSpace||"nowrap"});return element.offsetWidth};HTMLElement_css(element,{marginLeft:""+translateX+"px",marginTop:""+translateY+"px"});if(element.tagName==="SPAN"){var currentTextTransform=[rotation,textAlign,element.innerHTML,textWidth,this.textAlign].join(","),parentPadding=((_a=this.parentGroup)===null||_a===void 0?void 0:_a.padding)*-1||0;var baseline=void 0,hasBoxWidthChanged=false;if(textWidth!==this.oldTextWidth){var textPxLength=getTextPxLength(),textWidthNum=textWidth||0;if((textWidthNum>this.oldTextWidth||textPxLength>textWidthNum)&&(/[ \-]/.test(element.textContent||element.innerText)||element.style.textOverflow==="ellipsis")){HTMLElement_css(element,{width:textPxLength>textWidthNum||rotation||scaleX?textWidth+"px":"auto",display:display,whiteSpace:whiteSpace||"normal"});this.oldTextWidth=textWidth;hasBoxWidthChanged=true}}this.hasBoxWidthChanged=hasBoxWidthChanged;if(currentTextTransform!==this.cTT){baseline=renderer.fontMetrics(element).b;if(HTMLElement_defined(rotation)&&(rotation!==(this.oldRotation||0)||textAlign!==this.oldAlign)){this.setSpanRotation(rotation,parentPadding,parentPadding)}this.getSpanCorrection(!HTMLElement_defined(rotation)&&!this.textWidth&&this.textPxLength||element.offsetWidth,baseline,HTMLElement_getAlignFactor(textAlign))}var _j=this,_k=_j.xCorr,xCorr=_k===void 0?0:_k,_l=_j.yCorr,yCorr=_l===void 0?0:_l,rotOriginX=(rotationOriginX!==null&&rotationOriginX!==void 0?rotationOriginX:x)-xCorr-x-parentPadding,rotOriginY=(rotationOriginY!==null&&rotationOriginY!==void 0?rotationOriginY:y)-yCorr-y-parentPadding,styles_1={left:""+(x+xCorr)+"px",top:""+(y+yCorr)+"px",textAlign:textAlign,transformOrigin:""+rotOriginX+"px "+rotOriginY+"px"};if(scaleX||scaleY){styles_1.transform="scale(".concat(scaleX!==null&&scaleX!==void 0?scaleX:1,",").concat(scaleY!==null&&scaleY!==void 0?scaleY:1,")")}HTMLElement_css(element,styles_1);this.cTT=currentTextTransform;this.oldRotation=rotation;this.oldAlign=textAlign}};HTMLElement.prototype.setSpanRotation=function(rotation,originX,originY){HTMLElement_css(this.element,{transform:"rotate(".concat(rotation,"deg)"),transformOrigin:""+originX+"% "+originY+"px"})};HTMLElement.prototype.add=function(parentGroup){var container=this.renderer.box.parentNode,parents=[];var div;this.parentGroup=parentGroup;if(parentGroup){div=parentGroup.div;if(!div){var svgGroup=parentGroup;while(svgGroup){parents.push(svgGroup);svgGroup=svgGroup.parentGroup}for(var _i=0,_a=parents.reverse();_i<_a.length;_i++){var parentGroup_1=_a[_i];div=decorateSVGGroup(parentGroup_1,container)}}}(div||container).appendChild(this.element);this.added=true;if(this.alignOnAdd){this.updateTransform()}return this};HTMLElement.prototype.textSetter=function(value){if(value!==this.textStr){delete this.bBox;delete this.oldTextWidth;HTML_AST.setElementHTML(this.element,value!==null&&value!==void 0?value:"");this.textStr=value;this.doTransform=true}};HTMLElement.prototype.alignSetter=function(value){this.alignValue=this.textAlign=value;this.doTransform=true};HTMLElement.prototype.xSetter=function(value,key){this[key]=value;this.doTransform=true};return HTMLElement}(SVG_SVGElement);var proto=HTMLElement.prototype;proto.visibilitySetter=proto.opacitySetter=commonSetter;proto.ySetter=proto.rotationSetter=proto.rotationOriginXSetter=proto.rotationOriginYSetter=proto.xSetter;var HTML_HTMLElement=HTMLElement;var AxisDefaults;(function(AxisDefaults){AxisDefaults.xAxis={alignTicks:true,allowDecimals:void 0,panningEnabled:true,zIndex:2,zoomEnabled:true,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:false},second:{main:"%[HMS]",range:false},minute:{main:"%[HM]",range:false},hour:{main:"%[HM]",range:false},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:false,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:true,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:false,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:false,showEmpty:true,showFirstLabel:true,showLastLabel:true,startOfWeek:1,startOnTick:false,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:false,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:true,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"};AxisDefaults.yAxis={reversedStacks:true,endOnTick:true,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:true,labels:{x:void 0},startOnTick:true,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:false,enabled:false,crop:true,overflow:"justify",formatter:function(){var numberFormatter=this.axis.chart.numberFormatter;return numberFormatter(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}})(AxisDefaults||(AxisDefaults={}));var Axis_AxisDefaults=AxisDefaults;var Foundation_addEvent=Core_Utilities.addEvent,Foundation_isFunction=Core_Utilities.isFunction,Foundation_objectEach=Core_Utilities.objectEach,Foundation_removeEvent=Core_Utilities.removeEvent;var Foundation;(function(Foundation){function registerEventOptions(component,options){component.eventOptions=component.eventOptions||{};Foundation_objectEach(options.events,function(event,eventType){if(component.eventOptions[eventType]!==event){if(component.eventOptions[eventType]){Foundation_removeEvent(component,eventType,component.eventOptions[eventType]);delete component.eventOptions[eventType]}if(Foundation_isFunction(event)){component.eventOptions[eventType]=event;Foundation_addEvent(component,eventType,event,{order:0})}}})}Foundation.registerEventOptions=registerEventOptions})(Foundation||(Foundation={}));var Core_Foundation=Foundation;var Tick_deg2rad=Core_Globals.deg2rad;var Tick_clamp=Core_Utilities.clamp,Tick_correctFloat=Core_Utilities.correctFloat,Tick_defined=Core_Utilities.defined,Tick_destroyObjectProperties=Core_Utilities.destroyObjectProperties,Tick_extend=Core_Utilities.extend,Tick_fireEvent=Core_Utilities.fireEvent,Tick_getAlignFactor=Core_Utilities.getAlignFactor,Tick_isNumber=Core_Utilities.isNumber,Tick_merge=Core_Utilities.merge,Tick_objectEach=Core_Utilities.objectEach,Tick_pick=Core_Utilities.pick;var Tick=function(){function Tick(axis,pos,type,noLabel,parameters){this.isNew=true;this.isNewLabel=true;this.axis=axis;this.pos=pos;this.type=type||"";this.parameters=parameters||{};this.tickmarkOffset=this.parameters.tickmarkOffset;this.options=this.parameters.options;Tick_fireEvent(this,"init");if(!type&&!noLabel){this.addLabel()}}Tick.prototype.addLabel=function(){var tick=this,axis=tick.axis,options=axis.options,chart=axis.chart,categories=axis.categories,log=axis.logarithmic,names=axis.names,pos=tick.pos,labelOptions=Tick_pick(tick.options&&tick.options.labels,options.labels),tickPositions=axis.tickPositions,isFirst=pos===tickPositions[0],isLast=pos===tickPositions[tickPositions.length-1],animateLabels=(!labelOptions.step||labelOptions.step===1)&&axis.tickInterval===1,tickPositionInfo=tickPositions.info;var label=tick.label,dateTimeLabelFormat,dateTimeLabelFormats,i;var value=this.parameters.category||(categories?Tick_pick(categories[pos],names[pos],pos):pos);if(log&&Tick_isNumber(value)){value=Tick_correctFloat(log.lin2log(value))}if(axis.dateTime){if(tickPositionInfo){dateTimeLabelFormats=chart.time.resolveDTLFormat(options.dateTimeLabelFormats[!options.grid&&tickPositionInfo.higherRanks[pos]||tickPositionInfo.unitName]);dateTimeLabelFormat=dateTimeLabelFormats.main}else if(Tick_isNumber(value)){dateTimeLabelFormat=axis.dateTime.getXDateFormat(value,options.dateTimeLabelFormats||{})}}tick.isFirst=isFirst;tick.isLast=isLast;var ctx={axis:axis,chart:chart,dateTimeLabelFormat:dateTimeLabelFormat,isFirst:isFirst,isLast:isLast,pos:pos,tick:tick,tickPositionInfo:tickPositionInfo,value:value};Tick_fireEvent(this,"labelFormat",ctx);var labelFormatter=function(ctx){if(labelOptions.formatter){return labelOptions.formatter.call(ctx,ctx)}if(labelOptions.format){ctx.text=axis.defaultLabelFormatter.call(ctx);return Core_Templating.format(labelOptions.format,ctx,chart)}return axis.defaultLabelFormatter.call(ctx)};var str=labelFormatter.call(ctx,ctx);var list=dateTimeLabelFormats&&dateTimeLabelFormats.list;if(list){tick.shortenLabel=function(){for(i=0;i<list.length;i++){Tick_extend(ctx,{dateTimeLabelFormat:list[i]});label.attr({text:labelFormatter.call(ctx,ctx)});if(label.getBBox().width<axis.getSlotWidth(tick)-2*(labelOptions.padding||0)){return}}label.attr({text:""})}}else{tick.shortenLabel=void 0}if(animateLabels&&axis._addedPlotLB){tick.moveLabel(str,labelOptions)}if(!Tick_defined(label)&&!tick.movedLabel){tick.label=label=tick.createLabel(str,labelOptions);tick.rotation=0}else if(label&&label.textStr!==str&&!animateLabels){if(label.textWidth&&!labelOptions.style.width&&!label.styles.width){label.css({width:null})}label.attr({text:str});label.textPxLength=label.getBBox().width}};Tick.prototype.createLabel=function(str,labelOptions,xy){var axis=this.axis,_a=axis.chart,renderer=_a.renderer,styledMode=_a.styledMode,label=Tick_defined(str)&&labelOptions.enabled?renderer.text(str,xy===null||xy===void 0?void 0:xy.x,xy===null||xy===void 0?void 0:xy.y,labelOptions.useHTML).add(axis.labelGroup):void 0;if(label){var whiteSpace=labelOptions.style.whiteSpace||"normal";if(!styledMode){label.css(Tick_merge(labelOptions.style,{whiteSpace:"nowrap"}))}label.textPxLength=label.getBBox().width;if(!styledMode){label.css({whiteSpace:whiteSpace})}}return label};Tick.prototype.destroy=function(){Tick_destroyObjectProperties(this,this.axis)};Tick.prototype.getPosition=function(horiz,tickPos,tickmarkOffset,old){var axis=this.axis,chart=axis.chart,cHeight=old&&chart.oldChartHeight||chart.chartHeight,pos={x:horiz?Tick_correctFloat(axis.translate(tickPos+tickmarkOffset,void 0,void 0,old)+axis.transB):axis.left+axis.offset+(axis.opposite?(old&&chart.oldChartWidth||chart.chartWidth)-axis.right-axis.left:0),y:horiz?cHeight-axis.bottom+axis.offset-(axis.opposite?axis.height:0):Tick_correctFloat(cHeight-axis.translate(tickPos+tickmarkOffset,void 0,void 0,old)-axis.transB)};pos.y=Tick_clamp(pos.y,-1e9,1e9);Tick_fireEvent(this,"afterGetPosition",{pos:pos});return pos};Tick.prototype.getLabelPosition=function(x,y,label,horiz,labelOptions,tickmarkOffset,index,step){var axis=this.axis,transA=axis.transA,reversed=axis.isLinked&&axis.linkedParent?axis.linkedParent.reversed:axis.reversed,staggerLines=axis.staggerLines,rotCorr=axis.tickRotCorr||{x:0,y:0},labelOffsetCorrection=!horiz&&!axis.reserveSpaceDefault?-axis.labelOffset*(axis.labelAlign==="center"?.5:1):0,distance=labelOptions.distance,pos={};var yOffset,line;if(axis.side===0){yOffset=label.rotation?-distance:-label.getBBox().height}else if(axis.side===2){yOffset=rotCorr.y+distance}else{yOffset=Math.cos(label.rotation*Tick_deg2rad)*(rotCorr.y-label.getBBox(false,0).height/2)}if(Tick_defined(labelOptions.y)){yOffset=axis.side===0&&axis.horiz?labelOptions.y+yOffset:labelOptions.y}x=x+Tick_pick(labelOptions.x,[0,1,0,-1][axis.side]*distance)+labelOffsetCorrection+rotCorr.x-(tickmarkOffset&&horiz?tickmarkOffset*transA*(reversed?-1:1):0);y=y+yOffset-(tickmarkOffset&&!horiz?tickmarkOffset*transA*(reversed?1:-1):0);if(staggerLines){line=index/(step||1)%staggerLines;if(axis.opposite){line=staggerLines-line-1}y+=line*(axis.labelOffset/staggerLines)}pos.x=x;pos.y=Math.round(y);Tick_fireEvent(this,"afterGetLabelPosition",{pos:pos,tickmarkOffset:tickmarkOffset,index:index});return pos};Tick.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0};Tick.prototype.getMarkPath=function(x,y,tickLength,tickWidth,horiz,renderer){if(horiz===void 0){horiz=false}return renderer.crispLine([["M",x,y],["L",x+(horiz?0:-tickLength),y+(horiz?tickLength:0)]],tickWidth)};Tick.prototype.handleOverflow=function(xy){var tick=this,axis=this.axis,labelOptions=axis.options.labels,pxPos=xy.x,chartWidth=axis.chart.chartWidth,spacing=axis.chart.spacing,leftBound=Tick_pick(axis.labelLeft,Math.min(axis.pos,spacing[3])),rightBound=Tick_pick(axis.labelRight,Math.max(!axis.isRadial?axis.pos+axis.len:0,chartWidth-spacing[1])),label=this.label,rotation=this.rotation,factor=Tick_getAlignFactor(axis.labelAlign||label.attr("align")),labelWidth=label.getBBox().width,slotWidth=axis.getSlotWidth(tick),xCorrection=factor,css={};var modifiedSlotWidth=slotWidth,goRight=1,leftPos,rightPos,textWidth;if(!rotation&&labelOptions.overflow==="justify"){leftPos=pxPos-factor*labelWidth;rightPos=pxPos+(1-factor)*labelWidth;if(leftPos<leftBound){modifiedSlotWidth=xy.x+modifiedSlotWidth*(1-factor)-leftBound}else if(rightPos>rightBound){modifiedSlotWidth=rightBound-xy.x+modifiedSlotWidth*factor;goRight=-1}modifiedSlotWidth=Math.min(slotWidth,modifiedSlotWidth);if(modifiedSlotWidth<slotWidth&&axis.labelAlign==="center"){xy.x+=goRight*(slotWidth-modifiedSlotWidth-xCorrection*(slotWidth-Math.min(labelWidth,modifiedSlotWidth)))}if(labelWidth>modifiedSlotWidth||axis.autoRotation&&(label.styles||{}).width){textWidth=modifiedSlotWidth}}else if(rotation<0&&pxPos-factor*labelWidth<leftBound){textWidth=Math.round(pxPos/Math.cos(rotation*Tick_deg2rad)-leftBound)}else if(rotation>0&&pxPos+factor*labelWidth>rightBound){textWidth=Math.round((chartWidth-pxPos)/Math.cos(rotation*Tick_deg2rad))}if(textWidth&&label){if(tick.shortenLabel){tick.shortenLabel()}else{label.css(Tick_extend(css,{width:Math.floor(textWidth)+"px",lineClamp:axis.isRadial?0:1}))}}};Tick.prototype.moveLabel=function(str,labelOptions){var tick=this,label=tick.label,axis=tick.axis;var moved=false,labelPos;if(label&&label.textStr===str){tick.movedLabel=label;moved=true;delete tick.label}else{Tick_objectEach(axis.ticks,function(currentTick){if(!moved&&!currentTick.isNew&&currentTick!==tick&&currentTick.label&&currentTick.label.textStr===str){tick.movedLabel=currentTick.label;moved=true;currentTick.labelPos=tick.movedLabel.xy;delete currentTick.label}})}if(!moved&&(tick.labelPos||label)){labelPos=tick.labelPos||label.xy;tick.movedLabel=tick.createLabel(str,labelOptions,labelPos);if(tick.movedLabel){tick.movedLabel.attr({opacity:0})}}};Tick.prototype.render=function(index,old,opacity){var tick=this,axis=tick.axis,horiz=axis.horiz,pos=tick.pos,tickmarkOffset=Tick_pick(tick.tickmarkOffset,axis.tickmarkOffset),xy=tick.getPosition(horiz,pos,tickmarkOffset,old),x=xy.x,y=xy.y,axisStart=axis.pos,axisEnd=axisStart+axis.len,pxPos=horiz?x:y;if(!axis.chart.polar&&tick.isNew&&(Tick_correctFloat(pxPos)<axisStart||pxPos>axisEnd)){opacity=0}var labelOpacity=Tick_pick(opacity,tick.label&&tick.label.newOpacity,1);opacity=Tick_pick(opacity,1);this.isActive=true;this.renderGridLine(old,opacity);this.renderMark(xy,opacity);this.renderLabel(xy,old,labelOpacity,index);tick.isNew=false;Tick_fireEvent(this,"afterRender")};Tick.prototype.renderGridLine=function(old,opacity){var tick=this,axis=tick.axis,options=axis.options,attribs={},pos=tick.pos,type=tick.type,tickmarkOffset=Tick_pick(tick.tickmarkOffset,axis.tickmarkOffset),renderer=axis.chart.renderer;var gridLine=tick.gridLine,gridLinePath,gridLineWidth=options.gridLineWidth,gridLineColor=options.gridLineColor,dashStyle=options.gridLineDashStyle;if(tick.type==="minor"){gridLineWidth=options.minorGridLineWidth;gridLineColor=options.minorGridLineColor;dashStyle=options.minorGridLineDashStyle}if(!gridLine){if(!axis.chart.styledMode){attribs.stroke=gridLineColor;attribs["stroke-width"]=gridLineWidth||0;attribs.dashstyle=dashStyle}if(!type){attribs.zIndex=1}if(old){opacity=0}tick.gridLine=gridLine=renderer.path().attr(attribs).addClass("highcharts-"+(type?type+"-":"")+"grid-line").add(axis.gridGroup)}if(gridLine){gridLinePath=axis.getPlotLinePath({value:pos+tickmarkOffset,lineWidth:gridLine.strokeWidth(),force:"pass",old:old,acrossPanes:false});if(gridLinePath){gridLine[old||tick.isNew?"attr":"animate"]({d:gridLinePath,opacity:opacity})}}};Tick.prototype.renderMark=function(xy,opacity){var tick=this,axis=tick.axis,options=axis.options,renderer=axis.chart.renderer,type=tick.type,tickSize=axis.tickSize(type?type+"Tick":"tick"),x=xy.x,y=xy.y,tickWidth=Tick_pick(options[type!=="minor"?"tickWidth":"minorTickWidth"],!type&&axis.isXAxis?1:0),tickColor=options[type!=="minor"?"tickColor":"minorTickColor"];var mark=tick.mark;var isNewMark=!mark;if(tickSize){if(axis.opposite){tickSize[0]=-tickSize[0]}if(!mark){tick.mark=mark=renderer.path().addClass("highcharts-"+(type?type+"-":"")+"tick").add(axis.axisGroup);if(!axis.chart.styledMode){mark.attr({stroke:tickColor,"stroke-width":tickWidth})}}mark[isNewMark?"attr":"animate"]({d:tick.getMarkPath(x,y,tickSize[0],mark.strokeWidth(),axis.horiz,renderer),opacity:opacity})}};Tick.prototype.renderLabel=function(xy,old,opacity,index){var tick=this,axis=tick.axis,horiz=axis.horiz,options=axis.options,label=tick.label,labelOptions=options.labels,step=labelOptions.step,tickmarkOffset=Tick_pick(tick.tickmarkOffset,axis.tickmarkOffset),x=xy.x,y=xy.y;var show=true;if(label&&Tick_isNumber(x)){label.xy=xy=tick.getLabelPosition(x,y,label,horiz,labelOptions,tickmarkOffset,index,step);if(tick.isFirst&&!tick.isLast&&!options.showFirstLabel||tick.isLast&&!tick.isFirst&&!options.showLastLabel){show=false}else if(horiz&&!labelOptions.step&&!labelOptions.rotation&&!old&&opacity!==0){tick.handleOverflow(xy)}if(step&&index%step){show=false}if(show&&Tick_isNumber(xy.y)){xy.opacity=opacity;label[tick.isNewLabel?"attr":"animate"](xy).show(true);tick.isNewLabel=false}else{label.hide();tick.isNewLabel=true}}};Tick.prototype.replaceMovedLabel=function(){var tick=this,label=tick.label,axis=tick.axis;if(label&&!tick.isNew){label.animate({opacity:0},void 0,label.destroy);delete tick.label}axis.isDirty=true;tick.label=tick.movedLabel;delete tick.movedLabel};return Tick}();var Axis_Tick=Tick;"";var Axis_animObject=AnimationUtilities.animObject;var xAxis=Axis_AxisDefaults.xAxis,yAxis=Axis_AxisDefaults.yAxis;var Axis_defaultOptions=Defaults.defaultOptions;var registerEventOptions=Core_Foundation.registerEventOptions;var Axis_deg2rad=Core_Globals.deg2rad;var Axis_arrayMax=Core_Utilities.arrayMax,Axis_arrayMin=Core_Utilities.arrayMin,Axis_clamp=Core_Utilities.clamp,Axis_correctFloat=Core_Utilities.correctFloat,Axis_defined=Core_Utilities.defined,Axis_destroyObjectProperties=Core_Utilities.destroyObjectProperties,Axis_erase=Core_Utilities.erase,Axis_error=Core_Utilities.error,Axis_extend=Core_Utilities.extend,Axis_fireEvent=Core_Utilities.fireEvent,Axis_getClosestDistance=Core_Utilities.getClosestDistance,Axis_insertItem=Core_Utilities.insertItem,Axis_isArray=Core_Utilities.isArray,Axis_isNumber=Core_Utilities.isNumber,Axis_isString=Core_Utilities.isString,Axis_merge=Core_Utilities.merge,Axis_normalizeTickInterval=Core_Utilities.normalizeTickInterval,Axis_objectEach=Core_Utilities.objectEach,Axis_pick=Core_Utilities.pick,Axis_relativeLength=Core_Utilities.relativeLength,Axis_removeEvent=Core_Utilities.removeEvent,Axis_splat=Core_Utilities.splat,Axis_syncTimeout=Core_Utilities.syncTimeout;var getNormalizedTickInterval=function(axis,tickInterval){return Axis_normalizeTickInterval(tickInterval,void 0,void 0,Axis_pick(axis.options.allowDecimals,tickInterval<.5||axis.tickAmount!==void 0),!!axis.tickAmount)};Axis_extend(Axis_defaultOptions,{xAxis:xAxis,yAxis:Axis_merge(xAxis,yAxis)});var Axis=function(){function Axis(chart,userOptions,coll){this.init(chart,userOptions,coll)}Axis.prototype.init=function(chart,userOptions,coll){var _a,_b,_c,_d;if(coll===void 0){coll=this.coll}var isXAxis=coll==="xAxis",axis=this,horiz=axis.isZAxis||(chart.inverted?!isXAxis:isXAxis);axis.chart=chart;axis.horiz=horiz;axis.isXAxis=isXAxis;axis.coll=coll;Axis_fireEvent(this,"init",{userOptions:userOptions});axis.opposite=Axis_pick(userOptions.opposite,axis.opposite);axis.side=Axis_pick(userOptions.side,axis.side,horiz?axis.opposite?0:2:axis.opposite?1:3);axis.setOptions(userOptions);var options=axis.options,labelsOptions=options.labels;(_a=axis.type)!==null&&_a!==void 0?_a:axis.type=options.type||"linear";(_b=axis.uniqueNames)!==null&&_b!==void 0?_b:axis.uniqueNames=(_c=options.uniqueNames)!==null&&_c!==void 0?_c:true;Axis_fireEvent(axis,"afterSetType");axis.userOptions=userOptions;axis.minPixelPadding=0;axis.reversed=Axis_pick(options.reversed,axis.reversed);axis.visible=options.visible;axis.zoomEnabled=options.zoomEnabled;axis.hasNames=this.type==="category"||options.categories===true;axis.categories=Axis_isArray(options.categories)&&options.categories||(axis.hasNames?[]:void 0);if(!axis.names){axis.names=[];axis.names.keys={}}axis.plotLinesAndBandsGroups={};axis.positiveValuesOnly=!!axis.logarithmic;axis.isLinked=Axis_defined(options.linkedTo);axis.ticks={};axis.labelEdge=[];axis.minorTicks={};axis.plotLinesAndBands=[];axis.alternateBands={};(_d=axis.len)!==null&&_d!==void 0?_d:axis.len=0;axis.minRange=axis.userMinRange=options.minRange||options.maxZoom;axis.range=options.range;axis.offset=options.offset||0;axis.max=void 0;axis.min=void 0;var crosshair=Axis_pick(options.crosshair,Axis_splat(chart.options.tooltip.crosshairs)[isXAxis?0:1]);axis.crosshair=crosshair===true?{}:crosshair;if(chart.axes.indexOf(axis)===-1){if(isXAxis){chart.axes.splice(chart.xAxis.length,0,axis)}else{chart.axes.push(axis)}Axis_insertItem(this,chart[this.coll])}chart.orderItems(axis.coll);axis.series=axis.series||[];if(chart.inverted&&!axis.isZAxis&&isXAxis&&!Axis_defined(axis.reversed)){axis.reversed=true}axis.labelRotation=Axis_isNumber(labelsOptions.rotation)?labelsOptions.rotation:void 0;registerEventOptions(axis,options);Axis_fireEvent(this,"afterInit")};Axis.prototype.setOptions=function(userOptions){var sideSpecific=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Axis_merge(sideSpecific,Axis_defaultOptions[this.coll],userOptions);Axis_fireEvent(this,"afterSetOptions",{userOptions:userOptions})};Axis.prototype.defaultLabelFormatter=function(){var axis=this.axis,chart=this.chart,numberFormatter=chart.numberFormatter,value=Axis_isNumber(this.value)?this.value:NaN,time=axis.chart.time,categories=axis.categories,dateTimeLabelFormat=this.dateTimeLabelFormat,lang=Axis_defaultOptions.lang,numericSymbols=lang.numericSymbols,numSymMagnitude=lang.numericSymbolMagnitude||1e3,numericSymbolDetector=axis.logarithmic?Math.abs(value):axis.tickInterval;var i=numericSymbols&&numericSymbols.length,multi,ret;if(categories){ret="".concat(this.value)}else if(dateTimeLabelFormat){ret=time.dateFormat(dateTimeLabelFormat,value,true)}else if(i&&numericSymbols&&numericSymbolDetector>=1e3){while(i--&&typeof ret==="undefined"){multi=Math.pow(numSymMagnitude,i+1);if(numericSymbolDetector>=multi&&value*10%multi===0&&numericSymbols[i]!==null&&value!==0){ret=numberFormatter(value/multi,-1)+numericSymbols[i]}}}if(typeof ret==="undefined"){if(Math.abs(value)>=1e4){ret=numberFormatter(value,-1)}else{ret=numberFormatter(value,-1,void 0,"")}}return ret};Axis.prototype.getSeriesExtremes=function(){var axis=this;var xExtremes;Axis_fireEvent(this,"getSeriesExtremes",null,function(){axis.hasVisibleSeries=false;axis.dataMin=axis.dataMax=axis.threshold=void 0;axis.softThreshold=!axis.isXAxis;axis.series.forEach(function(series){if(series.reserveSpace()){var seriesOptions=series.options;var xData=void 0,threshold=seriesOptions.threshold,seriesDataMin=void 0,seriesDataMax=void 0;axis.hasVisibleSeries=true;if(axis.positiveValuesOnly&&(threshold||0)<=0){threshold=void 0}if(axis.isXAxis){xData=series.getColumn("x");if(xData.length){xData=axis.logarithmic?xData.filter(function(x){return x>0}):xData;xExtremes=series.getXExtremes(xData);seriesDataMin=xExtremes.min;seriesDataMax=xExtremes.max;if(!Axis_isNumber(seriesDataMin)&&!(seriesDataMin instanceof Date)){xData=xData.filter(Axis_isNumber);xExtremes=series.getXExtremes(xData);seriesDataMin=xExtremes.min;seriesDataMax=xExtremes.max}if(xData.length){axis.dataMin=Math.min(Axis_pick(axis.dataMin,seriesDataMin),seriesDataMin);axis.dataMax=Math.max(Axis_pick(axis.dataMax,seriesDataMax),seriesDataMax)}}}else{var dataExtremes=series.applyExtremes();if(Axis_isNumber(dataExtremes.dataMin)){seriesDataMin=dataExtremes.dataMin;axis.dataMin=Math.min(Axis_pick(axis.dataMin,seriesDataMin),seriesDataMin)}if(Axis_isNumber(dataExtremes.dataMax)){seriesDataMax=dataExtremes.dataMax;axis.dataMax=Math.max(Axis_pick(axis.dataMax,seriesDataMax),seriesDataMax)}if(Axis_defined(threshold)){axis.threshold=threshold}if(!seriesOptions.softThreshold||axis.positiveValuesOnly){axis.softThreshold=false}}}})});Axis_fireEvent(this,"afterGetSeriesExtremes")};Axis.prototype.translate=function(val,backwards,cvsCoord,old,handleLog,pointPlacement){var _a;var axis=this.linkedParent||this,localMin=old&&axis.old?axis.old.min:axis.min;if(!Axis_isNumber(localMin)){return NaN}var minPixelPadding=axis.minPixelPadding,doPostTranslate=(axis.isOrdinal||((_a=axis.brokenAxis)===null||_a===void 0?void 0:_a.hasBreaks)||axis.logarithmic&&handleLog)&&axis.lin2val;var sign=1,cvsOffset=0,localA=old&&axis.old?axis.old.transA:axis.transA,returnValue=0;if(!localA){localA=axis.transA}if(cvsCoord){sign*=-1;cvsOffset=axis.len}if(axis.reversed){sign*=-1;cvsOffset-=sign*(axis.sector||axis.len)}if(backwards){val=val*sign+cvsOffset;val-=minPixelPadding;returnValue=val/localA+localMin;if(doPostTranslate){returnValue=axis.lin2val(returnValue)}}else{if(doPostTranslate){val=axis.val2lin(val)}var value=sign*(val-localMin)*localA;returnValue=value+cvsOffset+sign*minPixelPadding+(Axis_isNumber(pointPlacement)?localA*pointPlacement:0);if(!axis.isRadial){returnValue=Axis_correctFloat(returnValue)}}return returnValue};Axis.prototype.toPixels=function(value,paneCoordinates){var _a,_b;return this.translate((_b=(_a=this.chart)===null||_a===void 0?void 0:_a.time.parse(value))!==null&&_b!==void 0?_b:NaN,false,!this.horiz,void 0,true)+(paneCoordinates?0:this.pos)};Axis.prototype.toValue=function(pixel,paneCoordinates){return this.translate(pixel-(paneCoordinates?0:this.pos),true,!this.horiz,void 0,true)};Axis.prototype.getPlotLinePath=function(options){var axis=this,chart=axis.chart,axisLeft=axis.left,axisTop=axis.top,old=options.old,value=options.value,lineWidth=options.lineWidth,cHeight=old&&chart.oldChartHeight||chart.chartHeight,cWidth=old&&chart.oldChartWidth||chart.chartWidth,transB=axis.transB;var translatedValue=options.translatedValue,force=options.force,x1,y1,x2,y2,skip;function between(x,a,b){if(force!=="pass"&&(x<a||x>b)){if(force){x=Axis_clamp(x,a,b)}else{skip=true}}return x}var evt={value:value,lineWidth:lineWidth,old:old,force:force,acrossPanes:options.acrossPanes,translatedValue:translatedValue};Axis_fireEvent(this,"getPlotLinePath",evt,function(e){translatedValue=Axis_pick(translatedValue,axis.translate(value,void 0,void 0,old));translatedValue=Axis_clamp(translatedValue,-1e9,1e9);x1=x2=translatedValue+transB;y1=y2=cHeight-translatedValue-transB;if(!Axis_isNumber(translatedValue)){skip=true;force=false}else if(axis.horiz){y1=axisTop;y2=cHeight-axis.bottom+(axis.options.isInternal?0:chart.scrollablePixelsY||0);x1=x2=between(x1,axisLeft,axisLeft+axis.width)}else{x1=axisLeft;x2=cWidth-axis.right+(chart.scrollablePixelsX||0);y1=y2=between(y1,axisTop,axisTop+axis.height)}e.path=skip&&!force?void 0:chart.renderer.crispLine([["M",x1,y1],["L",x2,y2]],lineWidth||1)});return evt.path};Axis.prototype.getLinearTickPositions=function(tickInterval,min,max){var roundedMin=Axis_correctFloat(Math.floor(min/tickInterval)*tickInterval),roundedMax=Axis_correctFloat(Math.ceil(max/tickInterval)*tickInterval),tickPositions=[];var pos,lastPos,precision;if(Axis_correctFloat(roundedMin+tickInterval)===roundedMin){precision=20}if(this.single){return[min]}pos=roundedMin;while(pos<=roundedMax){tickPositions.push(pos);pos=Axis_correctFloat(pos+tickInterval,precision);if(pos===lastPos){break}lastPos=pos}return tickPositions};Axis.prototype.getMinorTickInterval=function(){var _a=this.options,minorTicks=_a.minorTicks,minorTickInterval=_a.minorTickInterval;if(minorTicks===true){return Axis_pick(minorTickInterval,"auto")}if(minorTicks===false){return}return minorTickInterval};Axis.prototype.getMinorTickPositions=function(){var _a;var axis=this,options=axis.options,tickPositions=axis.tickPositions,minorTickInterval=axis.minorTickInterval,pointRangePadding=axis.pointRangePadding||0,min=(axis.min||0)-pointRangePadding,max=(axis.max||0)+pointRangePadding,range=((_a=axis.brokenAxis)===null||_a===void 0?void 0:_a.hasBreaks)?axis.brokenAxis.unitLength:max-min;var minorTickPositions=[],pos;if(range&&range/minorTickInterval<axis.len/3){var logarithmic_1=axis.logarithmic;if(logarithmic_1){this.paddedTicks.forEach(function(_pos,i,paddedTicks){if(i){minorTickPositions.push.apply(minorTickPositions,logarithmic_1.getLogTickPositions(minorTickInterval,paddedTicks[i-1],paddedTicks[i],true))}})}else if(axis.dateTime&&this.getMinorTickInterval()==="auto"){minorTickPositions=minorTickPositions.concat(axis.getTimeTicks(axis.dateTime.normalizeTimeTickInterval(minorTickInterval),min,max,options.startOfWeek))}else{for(pos=min+(tickPositions[0]-min)%minorTickInterval;pos<=max;pos+=minorTickInterval){if(pos===minorTickPositions[0]){break}minorTickPositions.push(pos)}}}if(minorTickPositions.length!==0){axis.trimTicks(minorTickPositions)}return minorTickPositions};Axis.prototype.adjustForMinRange=function(){var _a,_b,_c;var axis=this,options=axis.options,logarithmic=axis.logarithmic,time=axis.chart.time;var max=axis.max,min=axis.min,minRange=axis.minRange,zoomOffset,spaceAvailable,closestDataRange,minArgs,maxArgs;if(axis.isXAxis&&typeof minRange==="undefined"&&!logarithmic){if(Axis_defined(options.min)||Axis_defined(options.max)||Axis_defined(options.floor)||Axis_defined(options.ceiling)){minRange=null}else{closestDataRange=Axis_getClosestDistance(axis.series.map(function(s){var xData=s.getColumn("x");return s.xIncrement?xData.slice(0,2):xData}))||0;minRange=Math.min(closestDataRange*5,axis.dataMax-axis.dataMin)}}if(Axis_isNumber(max)&&Axis_isNumber(min)&&Axis_isNumber(minRange)&&max-min<minRange){spaceAvailable=axis.dataMax-axis.dataMin>=minRange;zoomOffset=(minRange-max+min)/2;minArgs=[min-zoomOffset,(_a=time.parse(options.min))!==null&&_a!==void 0?_a:min-zoomOffset];if(spaceAvailable){minArgs[2]=logarithmic?logarithmic.log2lin(axis.dataMin):axis.dataMin}min=Axis_arrayMax(minArgs);maxArgs=[min+minRange,(_b=time.parse(options.max))!==null&&_b!==void 0?_b:min+minRange];if(spaceAvailable){maxArgs[2]=logarithmic?logarithmic.log2lin(axis.dataMax):axis.dataMax}max=Axis_arrayMin(maxArgs);if(max-min<minRange){minArgs[0]=max-minRange;minArgs[1]=(_c=time.parse(options.min))!==null&&_c!==void 0?_c:max-minRange;min=Axis_arrayMax(minArgs)}}axis.minRange=minRange;axis.min=min;axis.max=max};Axis.prototype.getClosest=function(){var closestSingleDistance,closestDistance;if(this.categories){closestDistance=1}else{var singleXs_1=[];this.series.forEach(function(series){var seriesClosest=series.closestPointRange,xData=series.getColumn("x");if(xData.length===1){singleXs_1.push(xData[0])}else if(series.sorted&&Axis_defined(seriesClosest)&&series.reserveSpace()){closestDistance=Axis_defined(closestDistance)?Math.min(closestDistance,seriesClosest):seriesClosest}});if(singleXs_1.length){singleXs_1.sort(function(a,b){return a-b});closestSingleDistance=Axis_getClosestDistance([singleXs_1])}}if(closestSingleDistance&&closestDistance){return Math.min(closestSingleDistance,closestDistance)}return closestSingleDistance||closestDistance};Axis.prototype.nameToX=function(point){var explicitCategories=Axis_isArray(this.options.categories),names=explicitCategories?this.categories:this.names;var nameX=point.options.x,x;point.series.requireSorting=false;if(!Axis_defined(nameX)){nameX=this.uniqueNames&&names?explicitCategories?names.indexOf(point.name):Axis_pick(names.keys[point.name],-1):point.series.autoIncrement()}if(nameX===-1){if(!explicitCategories&&names){x=names.length}}else if(Axis_isNumber(nameX)){x=nameX}if(typeof x!=="undefined"){this.names[x]=point.name;this.names.keys[point.name]=x}else if(point.x){x=point.x}return x};Axis.prototype.updateNames=function(){var axis=this,names=this.names,i=names.length;if(i>0){Object.keys(names.keys).forEach(function(key){delete names.keys[key]});names.length=0;this.minRange=this.userMinRange;(this.series||[]).forEach(function(series){series.xIncrement=null;if(!series.points||series.isDirtyData){axis.max=Math.max(axis.max||0,series.dataTable.rowCount-1);series.processData();series.generatePoints()}var xData=series.getColumn("x").slice();series.data.forEach(function(point,i){var x=xData[i];if((point===null||point===void 0?void 0:point.options)&&typeof point.name!=="undefined"){x=axis.nameToX(point);if(typeof x!=="undefined"&&x!==point.x){xData[i]=point.x=x}}});series.dataTable.setColumn("x",xData)})}};Axis.prototype.setAxisTranslation=function(){var axis=this,range=axis.max-axis.min,linkedParent=axis.linkedParent,hasCategories=!!axis.categories,isXAxis=axis.isXAxis;var pointRange=axis.axisPointRange||0,closestPointRange,minPointOffset=0,pointRangePadding=0,ordinalCorrection,transA=axis.transA;if(isXAxis||hasCategories||pointRange){closestPointRange=axis.getClosest();if(linkedParent){minPointOffset=linkedParent.minPointOffset;pointRangePadding=linkedParent.pointRangePadding}else{axis.series.forEach(function(series){var seriesPointRange=hasCategories?1:isXAxis?Axis_pick(series.options.pointRange,closestPointRange,0):axis.axisPointRange||0,pointPlacement=series.options.pointPlacement;pointRange=Math.max(pointRange,seriesPointRange);if(!axis.single||hasCategories){var isPointPlacementAxis=series.is("xrange")?!isXAxis:isXAxis;minPointOffset=Math.max(minPointOffset,isPointPlacementAxis&&Axis_isString(pointPlacement)?0:seriesPointRange/2);pointRangePadding=Math.max(pointRangePadding,isPointPlacementAxis&&pointPlacement==="on"?0:seriesPointRange)}})}ordinalCorrection=axis.ordinal&&axis.ordinal.slope&&closestPointRange?axis.ordinal.slope/closestPointRange:1;axis.minPointOffset=minPointOffset=minPointOffset*ordinalCorrection;axis.pointRangePadding=pointRangePadding=pointRangePadding*ordinalCorrection;axis.pointRange=Math.min(pointRange,axis.single&&hasCategories?1:range);if(isXAxis&&closestPointRange){axis.closestPointRange=closestPointRange}}axis.translationSlope=axis.transA=transA=axis.staticScale||axis.len/(range+pointRangePadding||1);axis.transB=axis.horiz?axis.left:axis.bottom;axis.minPixelPadding=transA*minPointOffset;Axis_fireEvent(this,"afterSetAxisTranslation")};Axis.prototype.minFromRange=function(){var _a=this,max=_a.max,min=_a.min;return Axis_isNumber(max)&&Axis_isNumber(min)&&max-min||void 0};Axis.prototype.setTickInterval=function(secondPass){var _a,_b,_c,_d;var axis=this,categories=axis.categories,chart=axis.chart,dataMax=axis.dataMax,dataMin=axis.dataMin,dateTime=axis.dateTime,isXAxis=axis.isXAxis,logarithmic=axis.logarithmic,options=axis.options,softThreshold=axis.softThreshold,time=chart.time,threshold=Axis_isNumber(axis.threshold)?axis.threshold:void 0,minRange=axis.minRange||0,ceiling=options.ceiling,floor=options.floor,linkedTo=options.linkedTo,softMax=options.softMax,softMin=options.softMin,linkedParent=Axis_isNumber(linkedTo)&&((_a=chart[axis.coll])===null||_a===void 0?void 0:_a[linkedTo]),tickPixelIntervalOption=options.tickPixelInterval;var maxPadding=options.maxPadding,minPadding=options.minPadding,range=0,linkedParentExtremes,tickIntervalOption=Axis_isNumber(options.tickInterval)&&options.tickInterval>=0?options.tickInterval:void 0,thresholdMin,thresholdMax,hardMin,hardMax;if(!dateTime&&!categories&&!linkedParent){this.getTickAmount()}hardMin=Axis_pick(axis.userMin,time.parse(options.min));hardMax=Axis_pick(axis.userMax,time.parse(options.max));if(linkedParent){axis.linkedParent=linkedParent;linkedParentExtremes=linkedParent.getExtremes();axis.min=Axis_pick(linkedParentExtremes.min,linkedParentExtremes.dataMin);axis.max=Axis_pick(linkedParentExtremes.max,linkedParentExtremes.dataMax);if(this.type!==linkedParent.type){Axis_error(11,true,chart)}}else{if(softThreshold&&Axis_defined(threshold)&&Axis_isNumber(dataMax)&&Axis_isNumber(dataMin)){if(dataMin>=threshold){thresholdMin=threshold;minPadding=0}else if(dataMax<=threshold){thresholdMax=threshold;maxPadding=0}}axis.min=Axis_pick(hardMin,thresholdMin,dataMin);axis.max=Axis_pick(hardMax,thresholdMax,dataMax)}if(Axis_isNumber(axis.max)&&Axis_isNumber(axis.min)){if(logarithmic){if(axis.positiveValuesOnly&&!secondPass&&Math.min(axis.min,Axis_pick(dataMin,axis.min))<=0){Axis_error(10,true,chart)}axis.min=Axis_correctFloat(logarithmic.log2lin(axis.min),16);axis.max=Axis_correctFloat(logarithmic.log2lin(axis.max),16)}if(axis.range&&Axis_isNumber(dataMin)){axis.userMin=axis.min=hardMin=Math.max(dataMin,axis.minFromRange()||0);axis.userMax=hardMax=axis.max;axis.range=void 0}}Axis_fireEvent(axis,"foundExtremes");axis.adjustForMinRange();if(Axis_isNumber(axis.min)&&Axis_isNumber(axis.max)){if(!Axis_isNumber(axis.userMin)&&Axis_isNumber(softMin)&&softMin<axis.min){axis.min=hardMin=softMin}if(!Axis_isNumber(axis.userMax)&&Axis_isNumber(softMax)&&softMax>axis.max){axis.max=hardMax=softMax}if(!categories&&!axis.axisPointRange&&!((_b=axis.stacking)===null||_b===void 0?void 0:_b.usePercentage)&&!linkedParent){range=axis.max-axis.min;if(range){if(!Axis_defined(hardMin)&&minPadding){axis.min-=range*minPadding}if(!Axis_defined(hardMax)&&maxPadding){axis.max+=range*maxPadding}}}if(!Axis_isNumber(axis.userMin)&&Axis_isNumber(floor)){axis.min=Math.max(axis.min,floor)}if(!Axis_isNumber(axis.userMax)&&Axis_isNumber(ceiling)){axis.max=Math.min(axis.max,ceiling)}if(softThreshold&&Axis_isNumber(dataMin)&&Axis_isNumber(dataMax)){var numThreshold=threshold||0;if(!Axis_defined(hardMin)&&axis.min<numThreshold&&dataMin>=numThreshold){axis.min=options.minRange?Math.min(numThreshold,axis.max-minRange):numThreshold}else if(!Axis_defined(hardMax)&&axis.max>numThreshold&&dataMax<=numThreshold){axis.max=options.minRange?Math.max(numThreshold,axis.min+minRange):numThreshold}}if(!chart.polar&&axis.min>axis.max){if(Axis_defined(options.min)){axis.max=axis.min}else if(Axis_defined(options.max)){axis.min=axis.max}}range=axis.max-axis.min}if(axis.min===axis.max||!Axis_isNumber(axis.min)||!Axis_isNumber(axis.max)){axis.tickInterval=1}else if(linkedParent&&!tickIntervalOption&&tickPixelIntervalOption===linkedParent.options.tickPixelInterval){axis.tickInterval=tickIntervalOption=linkedParent.tickInterval}else{axis.tickInterval=Axis_pick(tickIntervalOption,this.tickAmount?range/Math.max(this.tickAmount-1,1):void 0,categories?1:range*tickPixelIntervalOption/Math.max(axis.len,tickPixelIntervalOption))}if(isXAxis&&!secondPass){var hasExtremesChanged_1=axis.min!==((_c=axis.old)===null||_c===void 0?void 0:_c.min)||axis.max!==((_d=axis.old)===null||_d===void 0?void 0:_d.max);axis.series.forEach(function(series){var _a;series.forceCrop=(_a=series.forceCropping)===null||_a===void 0?void 0:_a.call(series);series.processData(hasExtremesChanged_1)});Axis_fireEvent(this,"postProcessData",{hasExtremesChanged:hasExtremesChanged_1})}axis.setAxisTranslation();Axis_fireEvent(this,"initialAxisTranslation");if(axis.pointRange&&!tickIntervalOption){axis.tickInterval=Math.max(axis.pointRange,axis.tickInterval)}var minTickInterval=Axis_pick(options.minTickInterval,dateTime&&!axis.series.some(function(s){return!s.sorted})?axis.closestPointRange:0);if(!tickIntervalOption&&axis.tickInterval<minTickInterval){axis.tickInterval=minTickInterval}if(!dateTime&&!logarithmic&&!tickIntervalOption){axis.tickInterval=getNormalizedTickInterval(axis,axis.tickInterval)}if(!this.tickAmount){axis.tickInterval=axis.unsquish()}this.setTickPositions()};Axis.prototype.setTickPositions=function(){var _a,_b;var axis=this,options=this.options,tickPositionsOption=options.tickPositions,tickPositioner=options.tickPositioner,minorTickIntervalOption=this.getMinorTickInterval(),allowEndOnTick=!this.isPanning,startOnTick=allowEndOnTick&&options.startOnTick,endOnTick=allowEndOnTick&&options.endOnTick;var tickPositions=[],tickPositionerResult;this.tickmarkOffset=this.categories&&options.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0;this.single=this.min===this.max&&Axis_defined(this.min)&&!this.tickAmount&&(this.min%1===0||options.allowDecimals!==false);if(tickPositionsOption){tickPositions=tickPositionsOption.slice()}else if(Axis_isNumber(this.min)&&Axis_isNumber(this.max)){if(!((_a=axis.ordinal)===null||_a===void 0?void 0:_a.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)){tickPositions=[this.min,this.max];Axis_error(19,false,this.chart)}else if(axis.dateTime){tickPositions=axis.getTimeTicks(axis.dateTime.normalizeTimeTickInterval(this.tickInterval,options.units),this.min,this.max,options.startOfWeek,(_b=axis.ordinal)===null||_b===void 0?void 0:_b.positions,this.closestPointRange,true)}else if(axis.logarithmic){tickPositions=axis.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max)}else{var startingTickInterval=this.tickInterval;var adjustedTickInterval=startingTickInterval;while(adjustedTickInterval<=startingTickInterval*2){tickPositions=this.getLinearTickPositions(this.tickInterval,this.min,this.max);if(this.tickAmount&&tickPositions.length>this.tickAmount){this.tickInterval=getNormalizedTickInterval(this,adjustedTickInterval*=1.1)}else{break}}}if(tickPositions.length>this.len){tickPositions=[tickPositions[0],tickPositions[tickPositions.length-1]];if(tickPositions[0]===tickPositions[1]){tickPositions.length=1}}if(tickPositioner){this.tickPositions=tickPositions;tickPositionerResult=tickPositioner.apply(axis,[this.min,this.max]);if(tickPositionerResult){tickPositions=tickPositionerResult}}}this.tickPositions=tickPositions;this.minorTickInterval=minorTickIntervalOption==="auto"&&this.tickInterval?this.tickInterval/options.minorTicksPerMajor:minorTickIntervalOption;this.paddedTicks=tickPositions.slice(0);this.trimTicks(tickPositions,startOnTick,endOnTick);if(!this.isLinked&&Axis_isNumber(this.min)&&Axis_isNumber(this.max)){if(this.single&&tickPositions.length<2&&!this.categories&&!this.series.some(function(s){return s.is("heatmap")&&s.options.pointPlacement==="between"})){this.min-=.5;this.max+=.5}if(!tickPositionsOption&&!tickPositionerResult){this.adjustTickAmount()}}Axis_fireEvent(this,"afterSetTickPositions")};Axis.prototype.trimTicks=function(tickPositions,startOnTick,endOnTick){var roundedMin=tickPositions[0],roundedMax=tickPositions[tickPositions.length-1],minPointOffset=!this.isOrdinal&&this.minPointOffset||0;Axis_fireEvent(this,"trimTicks");if(!this.isLinked){if(startOnTick&&roundedMin!==-Infinity){this.min=roundedMin}else{while(this.min-minPointOffset>tickPositions[0]){tickPositions.shift()}}if(endOnTick){this.max=roundedMax}else{while(this.max+minPointOffset<tickPositions[tickPositions.length-1]){tickPositions.pop()}}if(tickPositions.length===0&&Axis_defined(roundedMin)&&!this.options.tickPositions){tickPositions.push((roundedMax+roundedMin)/2)}}};Axis.prototype.alignToOthers=function(){var axis=this,chart=axis.chart,alignedAxes=[this],options=axis.options,chartOptions=chart.options.chart,alignThresholds=this.coll==="yAxis"&&chartOptions.alignThresholds,thresholdAlignments=[];var hasOther;axis.thresholdAlignment=void 0;if((chartOptions.alignTicks!==false&&options.alignTicks||alignThresholds)&&options.startOnTick!==false&&options.endOnTick!==false&&!axis.logarithmic){var getKey_1=function(axis){var horiz=axis.horiz,options=axis.options;return[horiz?options.left:options.top,options.width,options.height,options.pane].join(",")};var thisKey_1=getKey_1(this);chart[this.coll].forEach(function(otherAxis){var series=otherAxis.series;if(series.length&&series.some(function(s){return s.visible})&&otherAxis!==axis&&getKey_1(otherAxis)===thisKey_1){hasOther=true;alignedAxes.push(otherAxis)}})}if(hasOther&&alignThresholds){alignedAxes.forEach(function(otherAxis){var threshAlign=otherAxis.getThresholdAlignment(axis);if(Axis_isNumber(threshAlign)){thresholdAlignments.push(threshAlign)}});var thresholdAlignment_1=thresholdAlignments.length>1?thresholdAlignments.reduce(function(sum,n){return sum+=n},0)/thresholdAlignments.length:void 0;alignedAxes.forEach(function(axis){axis.thresholdAlignment=thresholdAlignment_1})}return hasOther};Axis.prototype.getThresholdAlignment=function(callerAxis){if(!Axis_isNumber(this.dataMin)||this!==callerAxis&&this.series.some(function(s){return s.isDirty||s.isDirtyData})){this.getSeriesExtremes()}if(Axis_isNumber(this.threshold)){var thresholdAlignment=Axis_clamp((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);if(this.options.reversed){thresholdAlignment=1-thresholdAlignment}return thresholdAlignment}};Axis.prototype.getTickAmount=function(){var axis=this,options=this.options,tickPixelInterval=options.tickPixelInterval;var tickAmount=options.tickAmount;if(!Axis_defined(options.tickInterval)&&!tickAmount&&this.len<tickPixelInterval&&!this.isRadial&&!axis.logarithmic&&options.startOnTick&&options.endOnTick){tickAmount=2}if(!tickAmount&&this.alignToOthers()){tickAmount=Math.ceil(this.len/tickPixelInterval)+1}if(tickAmount<4){this.finalTickAmt=tickAmount;tickAmount=5}this.tickAmount=tickAmount};Axis.prototype.adjustTickAmount=function(){var axis=this,finalTickAmt=axis.finalTickAmt,max=axis.max,min=axis.min,options=axis.options,tickPositions=axis.tickPositions,tickAmount=axis.tickAmount,thresholdAlignment=axis.thresholdAlignment,currentTickAmount=tickPositions===null||tickPositions===void 0?void 0:tickPositions.length,threshold=Axis_pick(axis.threshold,axis.softThreshold?0:null);var len,i,tickInterval=axis.tickInterval,thresholdTickIndex;var append=function(){return tickPositions.push(Axis_correctFloat(tickPositions[tickPositions.length-1]+tickInterval))},prepend=function(){return tickPositions.unshift(Axis_correctFloat(tickPositions[0]-tickInterval))};if(Axis_isNumber(thresholdAlignment)){thresholdTickIndex=thresholdAlignment<.5?Math.ceil(thresholdAlignment*(tickAmount-1)):Math.floor(thresholdAlignment*(tickAmount-1));if(options.reversed){thresholdTickIndex=tickAmount-1-thresholdTickIndex}}if(axis.hasData()&&Axis_isNumber(min)&&Axis_isNumber(max)){var adjustExtremes=function(){axis.transA*=(currentTickAmount-1)/(tickAmount-1);axis.min=options.startOnTick?tickPositions[0]:Math.min(min,tickPositions[0]);axis.max=options.endOnTick?tickPositions[tickPositions.length-1]:Math.max(max,tickPositions[tickPositions.length-1])};if(Axis_isNumber(thresholdTickIndex)&&Axis_isNumber(axis.threshold)){while(tickPositions[thresholdTickIndex]!==threshold||tickPositions.length!==tickAmount||tickPositions[0]>min||tickPositions[tickPositions.length-1]<max){tickPositions.length=0;tickPositions.push(axis.threshold);while(tickPositions.length<tickAmount){if(tickPositions[thresholdTickIndex]===void 0||tickPositions[thresholdTickIndex]>axis.threshold){prepend()}else{append()}}if(tickInterval>axis.tickInterval*8){break}tickInterval*=2}adjustExtremes()}else if(currentTickAmount<tickAmount){while(tickPositions.length<tickAmount){if(tickPositions.length%2||min===threshold){append()}else{prepend()}}adjustExtremes()}if(Axis_defined(finalTickAmt)){i=len=tickPositions.length;while(i--){if(finalTickAmt===3&&i%2===1||finalTickAmt<=2&&i>0&&i<len-1){tickPositions.splice(i,1)}}axis.finalTickAmt=void 0}}};Axis.prototype.setScale=function(){var _a,_b;var axis=this,coll=axis.coll,stacking=axis.stacking;var isDirtyData=false,isXAxisDirty=false;axis.series.forEach(function(series){isDirtyData=isDirtyData||series.isDirtyData||series.isDirty;isXAxisDirty=isXAxisDirty||series.xAxis&&series.xAxis.isDirty||false});axis.setAxisSize();var isDirtyAxisLength=axis.len!==(axis.old&&axis.old.len);if(isDirtyAxisLength||isDirtyData||isXAxisDirty||axis.isLinked||axis.forceRedraw||axis.userMin!==(axis.old&&axis.old.userMin)||axis.userMax!==(axis.old&&axis.old.userMax)||axis.alignToOthers()){if(stacking&&coll==="yAxis"){stacking.buildStacks()}axis.forceRedraw=false;if(!axis.userMinRange){axis.minRange=void 0}axis.getSeriesExtremes();axis.setTickInterval();if(stacking&&coll==="xAxis"){stacking.buildStacks()}if(!axis.isDirty){axis.isDirty=isDirtyAxisLength||axis.min!==((_a=axis.old)===null||_a===void 0?void 0:_a.min)||axis.max!==((_b=axis.old)===null||_b===void 0?void 0:_b.max)}}else if(stacking){stacking.cleanStacks()}if(isDirtyData){delete axis.allExtremes}Axis_fireEvent(this,"afterSetScale")};Axis.prototype.setExtremes=function(min,max,redraw,animation,eventArguments){var _this=this;if(redraw===void 0){redraw=true}var chart=this.chart;this.series.forEach(function(serie){delete serie.kdTree});min=chart.time.parse(min);max=chart.time.parse(max);eventArguments=Axis_extend(eventArguments,{min:min,max:max});Axis_fireEvent(this,"setExtremes",eventArguments,function(e){_this.userMin=e.min;_this.userMax=e.max;_this.eventArgs=e;if(redraw){chart.redraw(animation)}})};Axis.prototype.setAxisSize=function(){var chart=this.chart,options=this.options,offsets=options.offsets||[0,0,0,0],horiz=this.horiz,width=this.width=Math.round(Axis_relativeLength(Axis_pick(options.width,chart.plotWidth-offsets[3]+offsets[1]),chart.plotWidth)),height=this.height=Math.round(Axis_relativeLength(Axis_pick(options.height,chart.plotHeight-offsets[0]+offsets[2]),chart.plotHeight)),top=this.top=Math.round(Axis_relativeLength(Axis_pick(options.top,chart.plotTop+offsets[0]),chart.plotHeight,chart.plotTop)),left=this.left=Math.round(Axis_relativeLength(Axis_pick(options.left,chart.plotLeft+offsets[3]),chart.plotWidth,chart.plotLeft));this.bottom=chart.chartHeight-height-top;this.right=chart.chartWidth-width-left;this.len=Math.max(horiz?width:height,0);this.pos=horiz?left:top};Axis.prototype.getExtremes=function(){var axis=this,log=axis.logarithmic;return{min:log?Axis_correctFloat(log.lin2log(axis.min)):axis.min,max:log?Axis_correctFloat(log.lin2log(axis.max)):axis.max,dataMin:axis.dataMin,dataMax:axis.dataMax,userMin:axis.userMin,userMax:axis.userMax}};Axis.prototype.getThreshold=function(threshold){var axis=this,log=axis.logarithmic,realMin=log?log.lin2log(axis.min):axis.min,realMax=log?log.lin2log(axis.max):axis.max;if(threshold===null||threshold===-Infinity){threshold=realMin}else if(threshold===Infinity){threshold=realMax}else if(realMin>threshold){threshold=realMin}else if(realMax<threshold){threshold=realMax}return axis.translate(threshold,0,1,0,1)};Axis.prototype.autoLabelAlign=function(rotation){var angle=(Axis_pick(rotation,0)-this.side*90+720)%360,evt={align:"center"};Axis_fireEvent(this,"autoLabelAlign",evt,function(e){if(angle>15&&angle<165){e.align="right"}else if(angle>195&&angle<345){e.align="left"}});return evt.align};Axis.prototype.tickSize=function(prefix){var options=this.options,tickWidth=Axis_pick(options[prefix==="tick"?"tickWidth":"minorTickWidth"],prefix==="tick"&&this.isXAxis&&!this.categories?1:0);var tickLength=options[prefix==="tick"?"tickLength":"minorTickLength"],tickSize;if(tickWidth&&tickLength){if(options[prefix+"Position"]==="inside"){tickLength=-tickLength}tickSize=[tickLength,tickWidth]}var e={tickSize:tickSize};Axis_fireEvent(this,"afterTickSize",e);return e.tickSize};Axis.prototype.labelMetrics=function(){var renderer=this.chart.renderer,ticks=this.ticks,tick=ticks[Object.keys(ticks)[0]]||{};return this.chart.renderer.fontMetrics(tick.label||tick.movedLabel||renderer.box)};Axis.prototype.unsquish=function(){var labelOptions=this.options.labels,padding=labelOptions.padding||0,horiz=this.horiz,tickInterval=this.tickInterval,slotSize=this.len/(((this.categories?1:0)+this.max-this.min)/tickInterval),rotationOption=labelOptions.rotation,lineHeight=Axis_correctFloat(this.labelMetrics().h*.8),range=Math.max(this.max-this.min,0),getStep=function(spaceNeeded){var step=(spaceNeeded+2*padding)/(slotSize||1);step=step>1?Math.ceil(step):1;if(step*tickInterval>range&&spaceNeeded!==Infinity&&slotSize!==Infinity&&range){step=Math.ceil(range/tickInterval)}return Axis_correctFloat(step*tickInterval)};var newTickInterval=tickInterval,rotation,bestScore=Number.MAX_VALUE,autoRotation;if(horiz){if(!labelOptions.staggerLines){if(Axis_isNumber(rotationOption)){autoRotation=[rotationOption]}else if(slotSize<labelOptions.autoRotationLimit){autoRotation=labelOptions.autoRotation}}if(autoRotation){var step=void 0,score=void 0;for(var _i=0,autoRotation_1=autoRotation;_i<autoRotation_1.length;_i++){var rot=autoRotation_1[_i];if(rot===rotationOption||rot&&rot>=-90&&rot<=90){step=getStep(Math.abs(lineHeight/Math.sin(Axis_deg2rad*rot)));score=step+Math.abs(rot/360);if(score<bestScore){bestScore=score;rotation=rot;newTickInterval=step}}}}}else{newTickInterval=getStep(lineHeight*.75)}this.autoRotation=autoRotation;this.labelRotation=Axis_pick(rotation,Axis_isNumber(rotationOption)?rotationOption:0);return labelOptions.step?tickInterval:newTickInterval};Axis.prototype.getSlotWidth=function(tick){var chart=this.chart,horiz=this.horiz,labelOptions=this.options.labels,slotCount=Math.max(this.tickPositions.length-(this.categories?0:1),1),marginLeft=chart.margin[3];if(tick&&Axis_isNumber(tick.slotWidth)){return tick.slotWidth}if(horiz&&labelOptions.step<2&&!this.isRadial){if(labelOptions.rotation){return 0}return(this.staggerLines||1)*this.len/slotCount}if(!horiz){var cssWidth=labelOptions.style.width;if(cssWidth!==void 0){return parseInt(String(cssWidth),10)}if(marginLeft){return marginLeft-chart.spacing[3]}}return chart.chartWidth*.33};Axis.prototype.renderUnsquish=function(){var chart=this.chart,renderer=chart.renderer,tickPositions=this.tickPositions,ticks=this.ticks,labelOptions=this.options.labels,labelStyleOptions=labelOptions.style,horiz=this.horiz,slotWidth=this.getSlotWidth(),innerWidth=Math.max(1,Math.round(slotWidth-(horiz?2*(labelOptions.padding||0):labelOptions.distance||0))),attr={},labelMetrics=this.labelMetrics(),lineClampOption=labelStyleOptions.lineClamp;var commonWidth,lineClamp=lineClampOption!==null&&lineClampOption!==void 0?lineClampOption:Math.floor(this.len/(tickPositions.length*labelMetrics.h))||1,maxLabelLength=0;if(!Axis_isString(labelOptions.rotation)){attr.rotation=labelOptions.rotation||0}tickPositions.forEach(function(tickPosition){var _a;var tick=ticks[tickPosition];if(tick.movedLabel){tick.replaceMovedLabel()}var textPxLength=((_a=tick.label)===null||_a===void 0?void 0:_a.textPxLength)||0;if(textPxLength>maxLabelLength){maxLabelLength=textPxLength}});this.maxLabelLength=maxLabelLength;if(this.autoRotation){if(maxLabelLength>innerWidth&&maxLabelLength>labelMetrics.h){attr.rotation=this.labelRotation}else{this.labelRotation=0}}else if(slotWidth){commonWidth=innerWidth}if(attr.rotation){commonWidth=maxLabelLength>chart.chartHeight*.5?chart.chartHeight*.33:maxLabelLength;if(!lineClampOption){lineClamp=1}}this.labelAlign=labelOptions.align||this.autoLabelAlign(this.labelRotation);if(this.labelAlign){attr.align=this.labelAlign}tickPositions.forEach(function(pos){var tick=ticks[pos],label=tick&&tick.label,widthOption=labelStyleOptions.width,css={};if(label){label.attr(attr);if(tick.shortenLabel){tick.shortenLabel()}else if(commonWidth&&!widthOption&&labelStyleOptions.whiteSpace!=="nowrap"&&(commonWidth<(label.textPxLength||0)||label.element.tagName==="SPAN")){label.css(Axis_extend(css,{width:""+commonWidth+"px",lineClamp:lineClamp}))}else if(label.styles.width&&!css.width&&!widthOption){label.css({width:"auto"})}tick.rotation=attr.rotation}},this);this.tickRotCorr=renderer.rotCorr(labelMetrics.b,this.labelRotation||0,this.side!==0)};Axis.prototype.hasData=function(){return this.series.some(function(s){return s.hasData()})||this.options.showEmpty&&Axis_defined(this.min)&&Axis_defined(this.max)};Axis.prototype.addTitle=function(display){var axis=this,renderer=axis.chart.renderer,horiz=axis.horiz,opposite=axis.opposite,options=axis.options,axisTitleOptions=options.title,styledMode=axis.chart.styledMode;var textAlign;if(!axis.axisTitle){textAlign=axisTitleOptions.textAlign;if(!textAlign){textAlign=(horiz?{low:"left",middle:"center",high:"right"}:{low:opposite?"right":"left",middle:"center",high:opposite?"left":"right"})[axisTitleOptions.align]}axis.axisTitle=renderer.text(axisTitleOptions.text||"",0,0,axisTitleOptions.useHTML).attr({zIndex:7,rotation:axisTitleOptions.rotation||0,align:textAlign}).addClass("highcharts-axis-title");if(!styledMode){axis.axisTitle.css(Axis_merge(axisTitleOptions.style))}axis.axisTitle.add(axis.axisGroup);axis.axisTitle.isNew=true}if(!styledMode&&!axisTitleOptions.style.width&&!axis.isRadial){axis.axisTitle.css({width:axis.len+"px"})}axis.axisTitle[display?"show":"hide"](display)};Axis.prototype.generateTick=function(pos){var axis=this,ticks=axis.ticks;if(!ticks[pos]){ticks[pos]=new Axis_Tick(axis,pos)}else{ticks[pos].addLabel()}};Axis.prototype.createGroups=function(){var _this=this;var _a=this,axisParent=_a.axisParent,chart=_a.chart,coll=_a.coll,options=_a.options,renderer=chart.renderer;var createGroup=function(name,suffix,zIndex){return renderer.g(name).attr({zIndex:zIndex}).addClass("highcharts-".concat(coll.toLowerCase()).concat(suffix," ")+(_this.isRadial?"highcharts-radial-axis".concat(suffix," "):"")+(options.className||"")).add(axisParent)};if(!this.axisGroup){this.gridGroup=createGroup("grid","-grid",options.gridZIndex);this.axisGroup=createGroup("axis","",options.zIndex);this.labelGroup=createGroup("axis-labels","-labels",options.labels.zIndex)}};Axis.prototype.getOffset=function(){var axis=this,chart=axis.chart,horiz=axis.horiz,options=axis.options,side=axis.side,ticks=axis.ticks,tickPositions=axis.tickPositions,coll=axis.coll,invertedSide=chart.inverted&&!axis.isZAxis?[1,0,3,2][side]:side,hasData=axis.hasData(),axisTitleOptions=options.title,labelOptions=options.labels,hasCrossing=Axis_isNumber(options.crossing),axisOffset=chart.axisOffset,clipOffset=chart.clipOffset,directionFactor=[-1,1,1,-1][side];var showAxis,titleOffset=0,titleOffsetOption,titleMargin=0,labelOffset=0,labelOffsetPadded,lineHeightCorrection;axis.showAxis=showAxis=hasData||options.showEmpty;axis.staggerLines=axis.horiz&&labelOptions.staggerLines||void 0;axis.createGroups();if(hasData||axis.isLinked){tickPositions.forEach(function(pos){axis.generateTick(pos)});axis.renderUnsquish();axis.reserveSpaceDefault=side===0||side===2||{1:"left",3:"right"}[side]===axis.labelAlign;if(Axis_pick(labelOptions.reserveSpace,hasCrossing?false:null,axis.labelAlign==="center"?true:null,axis.reserveSpaceDefault)){tickPositions.forEach(function(pos){labelOffset=Math.max(ticks[pos].getLabelSize(),labelOffset)})}if(axis.staggerLines){labelOffset*=axis.staggerLines}axis.labelOffset=labelOffset*(axis.opposite?-1:1)}else{Axis_objectEach(ticks,function(tick,n){tick.destroy();delete ticks[n]})}if((axisTitleOptions===null||axisTitleOptions===void 0?void 0:axisTitleOptions.text)&&axisTitleOptions.enabled!==false){axis.addTitle(showAxis);if(showAxis&&!hasCrossing&&axisTitleOptions.reserveSpace!==false){axis.titleOffset=titleOffset=axis.axisTitle.getBBox()[horiz?"height":"width"];titleOffsetOption=axisTitleOptions.offset;titleMargin=Axis_defined(titleOffsetOption)?0:Axis_pick(axisTitleOptions.margin,horiz?5:10)}}axis.renderLine();axis.offset=directionFactor*Axis_pick(options.offset,axisOffset[side]?axisOffset[side]+(options.margin||0):0);axis.tickRotCorr=axis.tickRotCorr||{x:0,y:0};if(side===0){lineHeightCorrection=-axis.labelMetrics().h}else if(side===2){lineHeightCorrection=axis.tickRotCorr.y}else{lineHeightCorrection=0}labelOffsetPadded=Math.abs(labelOffset)+titleMargin;if(labelOffset){labelOffsetPadded-=lineHeightCorrection;labelOffsetPadded+=directionFactor*(horiz?Axis_pick(labelOptions.y,axis.tickRotCorr.y+directionFactor*labelOptions.distance):Axis_pick(labelOptions.x,directionFactor*labelOptions.distance))}axis.axisTitleMargin=Axis_pick(titleOffsetOption,labelOffsetPadded);if(axis.getMaxLabelDimensions){axis.maxLabelDimensions=axis.getMaxLabelDimensions(ticks,tickPositions)}if(coll!=="colorAxis"&&clipOffset){var tickSize=this.tickSize("tick");axisOffset[side]=Math.max(axisOffset[side],(axis.axisTitleMargin||0)+titleOffset+directionFactor*axis.offset,labelOffsetPadded,tickPositions&&tickPositions.length&&tickSize?tickSize[0]+directionFactor*axis.offset:0);var clip=!axis.axisLine||options.offset?0:axis.axisLine.strokeWidth()/2;clipOffset[invertedSide]=Math.max(clipOffset[invertedSide],clip)}Axis_fireEvent(this,"afterGetOffset")};Axis.prototype.getLinePath=function(lineWidth){var chart=this.chart,opposite=this.opposite,offset=this.offset,horiz=this.horiz,lineLeft=this.left+(opposite?this.width:0)+offset,lineTop=chart.chartHeight-this.bottom-(opposite?this.height:0)+offset;if(opposite){lineWidth*=-1}return chart.renderer.crispLine([["M",horiz?this.left:lineLeft,horiz?lineTop:this.top],["L",horiz?chart.chartWidth-this.right:lineLeft,horiz?lineTop:chart.chartHeight-this.bottom]],lineWidth)};Axis.prototype.renderLine=function(){if(!this.axisLine){this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup);if(!this.chart.styledMode){this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7})}}};Axis.prototype.getTitlePosition=function(axisTitle){var horiz=this.horiz,axisLeft=this.left,axisTop=this.top,axisLength=this.len,axisTitleOptions=this.options.title,margin=horiz?axisLeft:axisTop,opposite=this.opposite,offset=this.offset,xOption=axisTitleOptions.x,yOption=axisTitleOptions.y,fontMetrics=this.chart.renderer.fontMetrics(axisTitle),textHeightOvershoot=axisTitle?Math.max(axisTitle.getBBox(false,0).height-fontMetrics.h-1,0):0,alongAxis={low:margin+(horiz?0:axisLength),middle:margin+axisLength/2,high:margin+(horiz?axisLength:0)}[axisTitleOptions.align],offAxis=(horiz?axisTop+this.height:axisLeft)+(horiz?1:-1)*(opposite?-1:1)*(this.axisTitleMargin||0)+[-textHeightOvershoot,textHeightOvershoot,fontMetrics.f,-textHeightOvershoot][this.side],titlePosition={x:horiz?alongAxis+xOption:offAxis+(opposite?this.width:0)+offset+xOption,y:horiz?offAxis+yOption-(opposite?this.height:0)+offset:alongAxis+yOption};Axis_fireEvent(this,"afterGetTitlePosition",{titlePosition:titlePosition});return titlePosition};Axis.prototype.renderMinorTick=function(pos,slideIn){var axis=this;var minorTicks=axis.minorTicks;if(!minorTicks[pos]){minorTicks[pos]=new Axis_Tick(axis,pos,"minor")}if(slideIn&&minorTicks[pos].isNew){minorTicks[pos].render(null,true)}minorTicks[pos].render(null,false,1)};Axis.prototype.renderTick=function(pos,i,slideIn){var axis=this,isLinked=axis.isLinked,ticks=axis.ticks;if(!isLinked||pos>=axis.min&&pos<=axis.max||axis.grid&&axis.grid.isColumn){if(!ticks[pos]){ticks[pos]=new Axis_Tick(axis,pos)}if(slideIn&&ticks[pos].isNew){ticks[pos].render(i,true,-1)}ticks[pos].render(i)}};Axis.prototype.render=function(){var axis=this,chart=axis.chart,log=axis.logarithmic,renderer=chart.renderer,options=axis.options,isLinked=axis.isLinked,tickPositions=axis.tickPositions,axisTitle=axis.axisTitle,ticks=axis.ticks,minorTicks=axis.minorTicks,alternateBands=axis.alternateBands,stackLabelOptions=options.stackLabels,alternateGridColor=options.alternateGridColor,crossing=options.crossing,tickmarkOffset=axis.tickmarkOffset,axisLine=axis.axisLine,showAxis=axis.showAxis,animation=Axis_animObject(renderer.globalAnimation);var from,to;axis.labelEdge.length=0;axis.overlap=false;[ticks,minorTicks,alternateBands].forEach(function(coll){Axis_objectEach(coll,function(tick){tick.isActive=false})});if(Axis_isNumber(crossing)){var otherAxis=this.isXAxis?chart.yAxis[0]:chart.xAxis[0],directionFactor=[1,-1,-1,1][this.side];if(otherAxis){var px=otherAxis.toPixels(crossing,true);if(axis.horiz){px=otherAxis.len-px}axis.offset=directionFactor*px}}if(axis.hasData()||isLinked){var slideInTicks_1=axis.chart.hasRendered&&axis.old&&Axis_isNumber(axis.old.min);if(axis.minorTickInterval&&!axis.categories){axis.getMinorTickPositions().forEach(function(pos){axis.renderMinorTick(pos,slideInTicks_1)})}if(tickPositions.length){tickPositions.forEach(function(pos,i){axis.renderTick(pos,i,slideInTicks_1)});if(tickmarkOffset&&(axis.min===0||axis.single)){if(!ticks[-1]){ticks[-1]=new Axis_Tick(axis,-1,null,true)}ticks[-1].render(-1)}}if(alternateGridColor){tickPositions.forEach(function(pos,i){to=typeof tickPositions[i+1]!=="undefined"?tickPositions[i+1]+tickmarkOffset:axis.max-tickmarkOffset;if(i%2===0&&pos<axis.max&&to<=axis.max+(chart.polar?-tickmarkOffset:tickmarkOffset)){if(!alternateBands[pos]){alternateBands[pos]=new Core_Globals.PlotLineOrBand(axis,{})}from=pos+tickmarkOffset;alternateBands[pos].options={from:log?log.lin2log(from):from,to:log?log.lin2log(to):to,color:alternateGridColor,className:"highcharts-alternate-grid"};alternateBands[pos].render();alternateBands[pos].isActive=true}})}if(!axis._addedPlotLB){axis._addedPlotLB=true;(options.plotLines||[]).concat(options.plotBands||[]).forEach(function(plotLineOptions){axis.addPlotBandOrLine(plotLineOptions)})}}[ticks,minorTicks,alternateBands].forEach(function(coll){var forDestruction=[],delay=animation.duration,destroyInactiveItems=function(){var i=forDestruction.length;while(i--){if(coll[forDestruction[i]]&&!coll[forDestruction[i]].isActive){coll[forDestruction[i]].destroy();delete coll[forDestruction[i]]}}};Axis_objectEach(coll,function(tick,pos){if(!tick.isActive){tick.render(pos,false,0);tick.isActive=false;forDestruction.push(pos)}});Axis_syncTimeout(destroyInactiveItems,coll===alternateBands||!chart.hasRendered||!delay?0:delay)});if(axisLine){axisLine[axisLine.isPlaced?"animate":"attr"]({d:this.getLinePath(axisLine.strokeWidth())});axisLine.isPlaced=true;axisLine[showAxis?"show":"hide"](showAxis)}if(axisTitle&&showAxis){axisTitle[axisTitle.isNew?"attr":"animate"](axis.getTitlePosition(axisTitle));axisTitle.isNew=false}if(stackLabelOptions&&stackLabelOptions.enabled&&axis.stacking){axis.stacking.renderStackTotals()}axis.old={len:axis.len,max:axis.max,min:axis.min,transA:axis.transA,userMax:axis.userMax,userMin:axis.userMin};axis.isDirty=false;Axis_fireEvent(this,"afterRender")};Axis.prototype.redraw=function(){if(this.visible){this.render();this.plotLinesAndBands.forEach(function(plotLine){plotLine.render()})}this.series.forEach(function(series){series.isDirty=true})};Axis.prototype.getKeepProps=function(){return this.keepProps||Axis.keepProps};Axis.prototype.destroy=function(keepEvents){var axis=this,plotLinesAndBands=axis.plotLinesAndBands,eventOptions=this.eventOptions;Axis_fireEvent(this,"destroy",{keepEvents:keepEvents});if(!keepEvents){Axis_removeEvent(axis)}[axis.ticks,axis.minorTicks,axis.alternateBands].forEach(function(coll){Axis_destroyObjectProperties(coll)});if(plotLinesAndBands){var i=plotLinesAndBands.length;while(i--){plotLinesAndBands[i].destroy()}}["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(prop){if(axis[prop]){axis[prop]=axis[prop].destroy()}});for(var plotGroup in axis.plotLinesAndBandsGroups){axis.plotLinesAndBandsGroups[plotGroup]=axis.plotLinesAndBandsGroups[plotGroup].destroy()}Axis_objectEach(axis,function(val,key){if(axis.getKeepProps().indexOf(key)===-1){delete axis[key]}});this.eventOptions=eventOptions};Axis.prototype.drawCrosshair=function(e,point){var options=this.crosshair,snap=Axis_pick(options&&options.snap,true),chart=this.chart;var path,pos,categorized,graphic=this.cross,crossOptions;Axis_fireEvent(this,"drawCrosshair",{e:e,point:point});if(!e){e=this.cross&&this.cross.e}if(!options||(Axis_defined(point)||!snap)===false){this.hideCrosshair()}else{if(!snap){pos=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos)}else if(Axis_defined(point)){pos=Axis_pick(this.coll!=="colorAxis"?point.crosshairPos:null,this.isXAxis?point.plotX:this.len-point.plotY)}if(Axis_defined(pos)){crossOptions={value:point&&(this.isXAxis?point.x:Axis_pick(point.stackY,point.y)),translatedValue:pos};if(chart.polar){Axis_extend(crossOptions,{isCrosshair:true,chartX:e&&e.chartX,chartY:e&&e.chartY,point:point})}path=this.getPlotLinePath(crossOptions)||null}if(!Axis_defined(path)){this.hideCrosshair();return}categorized=this.categories&&!this.isRadial;if(!graphic){this.cross=graphic=chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(categorized?"category ":"thin ")+(options.className||"")).attr({zIndex:Axis_pick(options.zIndex,2)}).add();if(!chart.styledMode){graphic.attr({stroke:options.color||(categorized?Color_Color.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":Axis_pick(options.width,1)}).css({"pointer-events":"none"});if(options.dashStyle){graphic.attr({dashstyle:options.dashStyle})}}}graphic.show().attr({d:path});if(categorized&&!options.width){graphic.attr({"stroke-width":this.transA})}this.cross.e=e}Axis_fireEvent(this,"afterDrawCrosshair",{e:e,point:point})};Axis.prototype.hideCrosshair=function(){if(this.cross){this.cross.hide()}Axis_fireEvent(this,"afterHideCrosshair")};Axis.prototype.update=function(options,redraw){var chart=this.chart;options=Axis_merge(this.userOptions,options);this.destroy(true);this.init(chart,options);chart.isDirtyBox=true;if(Axis_pick(redraw,true)){chart.redraw()}};Axis.prototype.remove=function(redraw){var chart=this.chart,coll=this.coll,axisSeries=this.series;var i=axisSeries.length;while(i--){if(axisSeries[i]){axisSeries[i].remove(false)}}Axis_erase(chart.axes,this);Axis_erase(chart[coll]||[],this);chart.orderItems(coll);this.destroy();chart.isDirtyBox=true;if(Axis_pick(redraw,true)){chart.redraw()}};Axis.prototype.setTitle=function(titleOptions,redraw){this.update({title:titleOptions},redraw)};Axis.prototype.setCategories=function(categories,redraw){this.update({categories:categories},redraw)};Axis.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];return Axis}();var Axis_Axis=Axis;"";var DateTimeAxis_addEvent=Core_Utilities.addEvent,DateTimeAxis_getMagnitude=Core_Utilities.getMagnitude,DateTimeAxis_normalizeTickInterval=Core_Utilities.normalizeTickInterval,DateTimeAxis_timeUnits=Core_Utilities.timeUnits;var DateTimeAxis;(function(DateTimeAxis){function compose(AxisClass){if(!AxisClass.keepProps.includes("dateTime")){AxisClass.keepProps.push("dateTime");var axisProto=AxisClass.prototype;axisProto.getTimeTicks=getTimeTicks;DateTimeAxis_addEvent(AxisClass,"afterSetType",onAfterSetType)}return AxisClass}DateTimeAxis.compose=compose;function getTimeTicks(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function onAfterSetType(){if(this.type!=="datetime"){this.dateTime=void 0;return}if(!this.dateTime){this.dateTime=new Additions(this)}}var Additions=function(){function Additions(axis){this.axis=axis}Additions.prototype.normalizeTimeTickInterval=function(tickInterval,unitsOption){var units=unitsOption||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];var unit=units[units.length-1],interval=DateTimeAxis_timeUnits[unit[0]],multiples=unit[1],i;for(i=0;i<units.length;i++){unit=units[i];interval=DateTimeAxis_timeUnits[unit[0]];multiples=unit[1];if(units[i+1]){var lessThan=(interval*multiples[multiples.length-1]+DateTimeAxis_timeUnits[units[i+1][0]])/2;if(tickInterval<=lessThan){break}}}if(interval===DateTimeAxis_timeUnits.year&&tickInterval<5*interval){multiples=[1,2,5]}var count=DateTimeAxis_normalizeTickInterval(tickInterval/interval,multiples,unit[0]==="year"?Math.max(DateTimeAxis_getMagnitude(tickInterval/interval),1):1);return{unitRange:interval,count:count,unitName:unit[0]}};Additions.prototype.getXDateFormat=function(x,dateTimeLabelFormats){var axis=this.axis,time=axis.chart.time;return axis.closestPointRange?time.getDateFormat(axis.closestPointRange,x,axis.options.startOfWeek,dateTimeLabelFormats)||time.resolveDTLFormat(dateTimeLabelFormats.year).main:time.resolveDTLFormat(dateTimeLabelFormats.day).main};return Additions}();DateTimeAxis.Additions=Additions})(DateTimeAxis||(DateTimeAxis={}));var Axis_DateTimeAxis=DateTimeAxis;var LogarithmicAxis_addEvent=Core_Utilities.addEvent,LogarithmicAxis_normalizeTickInterval=Core_Utilities.normalizeTickInterval,LogarithmicAxis_pick=Core_Utilities.pick;var LogarithmicAxis;(function(LogarithmicAxis){function compose(AxisClass){if(!AxisClass.keepProps.includes("logarithmic")){AxisClass.keepProps.push("logarithmic");LogarithmicAxis_addEvent(AxisClass,"afterSetType",onAfterSetType);LogarithmicAxis_addEvent(AxisClass,"afterInit",onAfterInit)}return AxisClass}LogarithmicAxis.compose=compose;function onAfterSetType(){var _a;if(this.type!=="logarithmic"){this.logarithmic=void 0}else{(_a=this.logarithmic)!==null&&_a!==void 0?_a:this.logarithmic=new Additions(this)}}function onAfterInit(){var axis=this;var log=axis.logarithmic;if(log){axis.lin2val=function(num){return log.lin2log(num)};axis.val2lin=function(num){return log.log2lin(num)}}}var Additions=function(){function Additions(axis){this.axis=axis}Additions.prototype.getLogTickPositions=function(interval,min,max,minor){var log=this;var axis=log.axis;var axisLength=axis.len;var options=axis.options;var positions=[];if(!minor){log.minorAutoInterval=void 0}if(interval>=.5){interval=Math.round(interval);positions=axis.getLinearTickPositions(interval,min,max)}else if(interval>=.08){var roundedMin=Math.floor(min);var intermediate=void 0,i=void 0,j=void 0,len=void 0,pos=void 0,lastPos=void 0,break2=void 0;if(interval>.3){intermediate=[1,2,4]}else if(interval>.15){intermediate=[1,2,4,6,8]}else{intermediate=[1,2,3,4,5,6,7,8,9]}for(i=roundedMin;i<max+1&&!break2;i++){len=intermediate.length;for(j=0;j<len&&!break2;j++){pos=log.log2lin(log.lin2log(i)*intermediate[j]);if(pos>min&&(!minor||lastPos<=max)&&typeof lastPos!=="undefined"){positions.push(lastPos)}if(lastPos>max){break2=true}lastPos=pos}}}else{var realMin=log.lin2log(min),realMax=log.lin2log(max),tickIntervalOption=minor?axis.getMinorTickInterval():options.tickInterval,filteredTickIntervalOption=tickIntervalOption==="auto"?null:tickIntervalOption,tickPixelIntervalOption=options.tickPixelInterval/(minor?5:1),totalPixelLength=minor?axisLength/axis.tickPositions.length:axisLength;interval=LogarithmicAxis_pick(filteredTickIntervalOption,log.minorAutoInterval,(realMax-realMin)*tickPixelIntervalOption/(totalPixelLength||1));interval=LogarithmicAxis_normalizeTickInterval(interval);positions=axis.getLinearTickPositions(interval,realMin,realMax).map(log.log2lin);if(!minor){log.minorAutoInterval=interval/5}}if(!minor){axis.tickInterval=interval}return positions};Additions.prototype.lin2log=function(num){return Math.pow(10,num)};Additions.prototype.log2lin=function(num){return Math.log(num)/Math.LN10};return Additions}();LogarithmicAxis.Additions=Additions})(LogarithmicAxis||(LogarithmicAxis={}));var Axis_LogarithmicAxis=LogarithmicAxis;var PlotLineOrBandAxis_erase=Core_Utilities.erase,PlotLineOrBandAxis_extend=Core_Utilities.extend,PlotLineOrBandAxis_isNumber=Core_Utilities.isNumber;var PlotLineOrBandAxis;(function(PlotLineOrBandAxis){var PlotLineOrBandClass;function addPlotBand(options){return this.addPlotBandOrLine(options,"plotBands")}function addPlotBandOrLine(options,coll){var _this=this;var userOptions=this.userOptions;var obj=new PlotLineOrBandClass(this,options);if(this.visible){obj=obj.render()}if(obj){if(!this._addedPlotLB){this._addedPlotLB=true;(userOptions.plotLines||[]).concat(userOptions.plotBands||[]).forEach(function(plotLineOptions){_this.addPlotBandOrLine(plotLineOptions)})}if(coll){var updatedOptions=userOptions[coll]||[];updatedOptions.push(options);userOptions[coll]=updatedOptions}this.plotLinesAndBands.push(obj)}return obj}function addPlotLine(options){return this.addPlotBandOrLine(options,"plotLines")}function compose(PlotLineOrBandType,AxisClass){var axisProto=AxisClass.prototype;if(!axisProto.addPlotBand){PlotLineOrBandClass=PlotLineOrBandType;PlotLineOrBandAxis_extend(axisProto,{addPlotBand:addPlotBand,addPlotLine:addPlotLine,addPlotBandOrLine:addPlotBandOrLine,getPlotBandPath:getPlotBandPath,removePlotBand:removePlotBand,removePlotLine:removePlotLine,removePlotBandOrLine:removePlotBandOrLine})}return AxisClass}PlotLineOrBandAxis.compose=compose;function getPlotBandPath(from,to,options){options=options||this.options;var toPath=this.getPlotLinePath({value:to,force:true,acrossPanes:options.acrossPanes}),result=[],horiz=this.horiz,outside=!PlotLineOrBandAxis_isNumber(this.min)||!PlotLineOrBandAxis_isNumber(this.max)||from<this.min&&to<this.min||from>this.max&&to>this.max,path=this.getPlotLinePath({value:from,force:true,acrossPanes:options.acrossPanes});var i,plus=1,isFlat;if(path&&toPath){if(outside){isFlat=path.toString()===toPath.toString();plus=0}for(i=0;i<path.length;i+=2){var pathStart=path[i],pathEnd=path[i+1],toPathStart=toPath[i],toPathEnd=toPath[i+1];if((pathStart[0]==="M"||pathStart[0]==="L")&&(pathEnd[0]==="M"||pathEnd[0]==="L")&&(toPathStart[0]==="M"||toPathStart[0]==="L")&&(toPathEnd[0]==="M"||toPathEnd[0]==="L")){if(horiz&&toPathStart[1]===pathStart[1]){toPathStart[1]+=plus;toPathEnd[1]+=plus}else if(!horiz&&toPathStart[2]===pathStart[2]){toPathStart[2]+=plus;toPathEnd[2]+=plus}result.push(["M",pathStart[1],pathStart[2]],["L",pathEnd[1],pathEnd[2]],["L",toPathEnd[1],toPathEnd[2]],["L",toPathStart[1],toPathStart[2]],["Z"])}result.isFlat=isFlat}}return result}function removePlotBand(id){this.removePlotBandOrLine(id)}function removePlotBandOrLine(id){var plotLinesAndBands=this.plotLinesAndBands,options=this.options,userOptions=this.userOptions;if(plotLinesAndBands){var i_1=plotLinesAndBands.length;while(i_1--){if(plotLinesAndBands[i_1].id===id){plotLinesAndBands[i_1].destroy()}}[options.plotLines||[],userOptions.plotLines||[],options.plotBands||[],userOptions.plotBands||[]].forEach(function(arr){i_1=arr.length;while(i_1--){if((arr[i_1]||{}).id===id){PlotLineOrBandAxis_erase(arr,arr[i_1])}}})}}function removePlotLine(id){this.removePlotBandOrLine(id)}})(PlotLineOrBandAxis||(PlotLineOrBandAxis={}));var PlotLineOrBand_PlotLineOrBandAxis=PlotLineOrBandAxis;var PlotLineOrBand_assign=undefined&&undefined.__assign||function(){PlotLineOrBand_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return PlotLineOrBand_assign.apply(this,arguments)};var PlotLineOrBand_addEvent=Core_Utilities.addEvent,PlotLineOrBand_arrayMax=Core_Utilities.arrayMax,PlotLineOrBand_arrayMin=Core_Utilities.arrayMin,PlotLineOrBand_defined=Core_Utilities.defined,PlotLineOrBand_destroyObjectProperties=Core_Utilities.destroyObjectProperties,PlotLineOrBand_erase=Core_Utilities.erase,PlotLineOrBand_fireEvent=Core_Utilities.fireEvent,PlotLineOrBand_merge=Core_Utilities.merge,PlotLineOrBand_objectEach=Core_Utilities.objectEach,PlotLineOrBand_pick=Core_Utilities.pick;var PlotLineOrBand=function(){function PlotLineOrBand(axis,options){this.axis=axis;this.options=options;this.id=options.id}PlotLineOrBand.compose=function(ChartClass,AxisClass){PlotLineOrBand_addEvent(ChartClass,"afterInit",function(){var _this=this;this.labelCollectors.push(function(){var _a;var labels=[];for(var _i=0,_b=_this.axes;_i<_b.length;_i++){var axis=_b[_i];for(var _c=0,_d=axis.plotLinesAndBands;_c<_d.length;_c++){var _e=_d[_c],label=_e.label,options=_e.options;if(label&&!((_a=options===null||options===void 0?void 0:options.label)===null||_a===void 0?void 0:_a.allowOverlap)){labels.push(label)}}}return labels})});return PlotLineOrBand_PlotLineOrBandAxis.compose(PlotLineOrBand,AxisClass)};PlotLineOrBand.prototype.render=function(){var _this=this;var _a,_b,_c;PlotLineOrBand_fireEvent(this,"render");var _d=this,axis=_d.axis,options=_d.options,horiz=axis.horiz,logarithmic=axis.logarithmic,color=options.color,events=options.events,_e=options.zIndex,zIndex=_e===void 0?0:_e,_f=axis.chart,renderer=_f.renderer,time=_f.time,groupAttribs={},to=time.parse(options.to),from=time.parse(options.from),value=time.parse(options.value),borderWidth=options.borderWidth;var optionsLabel=options.label,_g=this,label=_g.label,svgElem=_g.svgElem,path=[],group;var isBand=PlotLineOrBand_defined(from)&&PlotLineOrBand_defined(to),isLine=PlotLineOrBand_defined(value),isNew=!svgElem,attribs={class:"highcharts-plot-"+(isBand?"band ":"line ")+(options.className||"")};var groupName=isBand?"bands":"lines";if(!axis.chart.styledMode){if(isLine){attribs.stroke=color||"#999999";attribs["stroke-width"]=PlotLineOrBand_pick(options.width,1);if(options.dashStyle){attribs.dashstyle=options.dashStyle}}else if(isBand){attribs.fill=color||"#e6e9ff";if(borderWidth){attribs.stroke=options.borderColor;attribs["stroke-width"]=borderWidth}}}groupAttribs.zIndex=zIndex;groupName+="-"+zIndex;group=axis.plotLinesAndBandsGroups[groupName];if(!group){axis.plotLinesAndBandsGroups[groupName]=group=renderer.g("plot-"+groupName).attr(groupAttribs).add()}if(!svgElem){this.svgElem=svgElem=renderer.path().attr(attribs).add(group)}if(PlotLineOrBand_defined(value)){path=axis.getPlotLinePath({value:(_a=logarithmic===null||logarithmic===void 0?void 0:logarithmic.log2lin(value))!==null&&_a!==void 0?_a:value,lineWidth:svgElem.strokeWidth(),acrossPanes:options.acrossPanes})}else if(PlotLineOrBand_defined(from)&&PlotLineOrBand_defined(to)){path=axis.getPlotBandPath((_b=logarithmic===null||logarithmic===void 0?void 0:logarithmic.log2lin(from))!==null&&_b!==void 0?_b:from,(_c=logarithmic===null||logarithmic===void 0?void 0:logarithmic.log2lin(to))!==null&&_c!==void 0?_c:to,options)}else{return}if(!this.eventsAdded&&events){PlotLineOrBand_objectEach(events,function(event,eventType){svgElem===null||svgElem===void 0?void 0:svgElem.on(eventType,function(e){events[eventType].apply(_this,[e])})});this.eventsAdded=true}if((isNew||!svgElem.d)&&(path===null||path===void 0?void 0:path.length)){svgElem.attr({d:path})}else if(svgElem){if(path){svgElem.show();svgElem.animate({d:path})}else if(svgElem.d){svgElem.hide();if(label){this.label=label=label.destroy()}}}if(optionsLabel&&(PlotLineOrBand_defined(optionsLabel.text)||PlotLineOrBand_defined(optionsLabel.formatter))&&(path===null||path===void 0?void 0:path.length)&&axis.width>0&&axis.height>0&&!path.isFlat){optionsLabel=PlotLineOrBand_merge(PlotLineOrBand_assign({align:horiz&&isBand?"center":void 0,x:horiz?!isBand&&4:10,verticalAlign:!horiz&&isBand?"middle":void 0,y:horiz?isBand?16:10:isBand?6:-4,rotation:horiz&&!isBand?90:0},isBand?{inside:true}:{}),optionsLabel);this.renderLabel(optionsLabel,path,isBand,zIndex)}else if(label){label.hide()}return this};PlotLineOrBand.prototype.renderLabel=function(optionsLabel,path,isBand,zIndex){var _a;var plotLine=this,axis=plotLine.axis,renderer=axis.chart.renderer,inside=optionsLabel.inside;var label=plotLine.label;if(!label){plotLine.label=label=renderer.text(this.getLabelText(optionsLabel),0,0,optionsLabel.useHTML).attr({align:optionsLabel.textAlign||optionsLabel.align,rotation:optionsLabel.rotation,class:"highcharts-plot-"+(isBand?"band":"line")+"-label "+(optionsLabel.className||""),zIndex:zIndex});if(!axis.chart.styledMode){label.css(PlotLineOrBand_merge({fontSize:"0.8em",textOverflow:isBand&&!inside?"":"ellipsis"},optionsLabel.style))}label.add()}var xBounds=path.xBounds||[path[0][1],path[1][1],isBand?path[2][1]:path[0][1]],yBounds=path.yBounds||[path[0][2],path[1][2],isBand?path[2][2]:path[0][2]],x=PlotLineOrBand_arrayMin(xBounds),y=PlotLineOrBand_arrayMin(yBounds),bBoxWidth=PlotLineOrBand_arrayMax(xBounds)-x;label.align(optionsLabel,false,{x:x,y:y,width:bBoxWidth,height:PlotLineOrBand_arrayMax(yBounds)-y});if(!label.alignValue||label.alignValue==="left"||PlotLineOrBand_defined(inside)){label.css({width:(((_a=optionsLabel.style)===null||_a===void 0?void 0:_a.width)||(!isBand||!inside?label.rotation===90?axis.height-(label.alignAttr.y-axis.top):(optionsLabel.clip?axis.width:axis.chart.chartWidth)-(label.alignAttr.x-axis.left):bBoxWidth))+"px"})}label.show(true)};PlotLineOrBand.prototype.getLabelText=function(optionsLabel){return PlotLineOrBand_defined(optionsLabel.formatter)?optionsLabel.formatter.call(this):optionsLabel.text};PlotLineOrBand.prototype.destroy=function(){PlotLineOrBand_erase(this.axis.plotLinesAndBands,this);delete this.axis;PlotLineOrBand_destroyObjectProperties(this)};return PlotLineOrBand}();var PlotLineOrBand_PlotLineOrBand=PlotLineOrBand;"";"";var Tooltip_animObject=AnimationUtilities.animObject;var Tooltip_format=Core_Templating.format;var Tooltip_composed=Core_Globals.composed,dateFormats=Core_Globals.dateFormats,Tooltip_doc=Core_Globals.doc,isSafari=Core_Globals.isSafari;var distribute=Renderer_RendererUtilities.distribute;var Tooltip_addEvent=Core_Utilities.addEvent,Tooltip_clamp=Core_Utilities.clamp,Tooltip_css=Core_Utilities.css,Tooltip_discardElement=Core_Utilities.discardElement,Tooltip_extend=Core_Utilities.extend,Tooltip_fireEvent=Core_Utilities.fireEvent,Tooltip_isArray=Core_Utilities.isArray,Tooltip_isNumber=Core_Utilities.isNumber,Tooltip_isObject=Core_Utilities.isObject,Tooltip_isString=Core_Utilities.isString,Tooltip_merge=Core_Utilities.merge,Tooltip_pick=Core_Utilities.pick,Tooltip_pushUnique=Core_Utilities.pushUnique,Tooltip_splat=Core_Utilities.splat,Tooltip_syncTimeout=Core_Utilities.syncTimeout;var Tooltip=function(){function Tooltip(chart,options,pointer){this.allowShared=true;this.crosshairs=[];this.distance=0;this.isHidden=true;this.isSticky=false;this.options={};this.outside=false;this.chart=chart;this.init(chart,options);this.pointer=pointer}Tooltip.prototype.bodyFormatter=function(points){return points.map(function(point){var tooltipOptions=point.series.tooltipOptions,formatPrefix=point.formatPrefix||"point";return(tooltipOptions[formatPrefix+"Formatter"]||point.tooltipFormatter).call(point,tooltipOptions[formatPrefix+"Format"]||"")})};Tooltip.prototype.cleanSplit=function(force){this.chart.series.forEach(function(series){var tt=series&&series.tt;if(tt){if(!tt.isActive||force){series.tt=tt.destroy()}else{tt.isActive=false}}})};Tooltip.prototype.defaultFormatter=function(tooltip){var hoverPoints=this.points||Tooltip_splat(this);var s;s=[tooltip.headerFooterFormatter(hoverPoints[0])];s=s.concat(tooltip.bodyFormatter(hoverPoints));s.push(tooltip.headerFooterFormatter(hoverPoints[0],true));return s};Tooltip.prototype.destroy=function(){if(this.label){this.label=this.label.destroy()}if(this.split){this.cleanSplit(true);if(this.tt){this.tt=this.tt.destroy()}}if(this.renderer){this.renderer=this.renderer.destroy();Tooltip_discardElement(this.container)}Core_Utilities.clearTimeout(this.hideTimer)};Tooltip.prototype.getAnchor=function(points,mouseEvent){var _a=this,chart=_a.chart,pointer=_a.pointer,inverted=chart.inverted,plotTop=chart.plotTop,plotLeft=chart.plotLeft;var ret;points=Tooltip_splat(points);if(points[0].series&&points[0].series.yAxis&&!points[0].series.yAxis.options.reversedStacks){points=points.slice().reverse()}if(this.followPointer&&mouseEvent){if(typeof mouseEvent.chartX==="undefined"){mouseEvent=pointer.normalize(mouseEvent)}ret=[mouseEvent.chartX-plotLeft,mouseEvent.chartY-plotTop]}else if(points[0].tooltipPos){ret=points[0].tooltipPos}else{var chartX_1=0,chartY_1=0;points.forEach(function(point){var pos=point.pos(true);if(pos){chartX_1+=pos[0];chartY_1+=pos[1]}});chartX_1/=points.length;chartY_1/=points.length;if(this.shared&&points.length>1&&mouseEvent){if(inverted){chartX_1=mouseEvent.chartX}else{chartY_1=mouseEvent.chartY}}ret=[chartX_1-plotLeft,chartY_1-plotTop]}return ret.map(Math.round)};Tooltip.prototype.getClassName=function(point,isSplit,isHeader){var options=this.options,series=point.series,seriesOptions=series.options;return[options.className,"highcharts-label",isHeader&&"highcharts-tooltip-header",isSplit?"highcharts-tooltip-box":"highcharts-tooltip",!isHeader&&"highcharts-color-"+Tooltip_pick(point.colorIndex,series.colorIndex),seriesOptions&&seriesOptions.className].filter(Tooltip_isString).join(" ")};Tooltip.prototype.getLabel=function(_a){var _b=_a===void 0?{anchorX:0,anchorY:0}:_a,anchorX=_b.anchorX,anchorY=_b.anchorY;var tooltip=this,styledMode=this.chart.styledMode,options=this.options,doSplit=this.split&&this.allowShared;var container=this.container,renderer=this.chart.renderer;if(this.label){var wasSplit=!this.label.hasClass("highcharts-label");if(!doSplit&&wasSplit||doSplit&&!wasSplit){this.destroy()}}if(!this.label){if(this.outside){var chart=this.chart,chartStyle=chart.options.chart.style,Renderer=Renderer_RendererRegistry.getRendererType();this.container=container=Core_Globals.doc.createElement("div");container.className="highcharts-tooltip-container "+(chart.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||[].join(" "));Tooltip_css(container,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(chartStyle&&chartStyle.zIndex||0)+3)});this.renderer=renderer=new Renderer(container,0,0,chartStyle,void 0,void 0,renderer.styledMode)}if(doSplit){this.label=renderer.g("tooltip")}else{this.label=renderer.label("",anchorX,anchorY,options.shape,void 0,void 0,options.useHTML,void 0,"tooltip").attr({padding:options.padding,r:options.borderRadius});if(!styledMode){this.label.attr({fill:options.backgroundColor,"stroke-width":options.borderWidth||0}).css(options.style).css({pointerEvents:options.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})}}if(tooltip.outside){var label_1=this.label;[label_1.xSetter,label_1.ySetter].forEach(function(setter,i){label_1[i?"ySetter":"xSetter"]=function(value){setter.call(label_1,tooltip.distance);label_1[i?"y":"x"]=value;if(container){container.style[i?"top":"left"]=""+value+"px"}}})}this.label.attr({zIndex:8}).shadow(options.shadow).add()}if(container&&!container.parentElement){Core_Globals.doc.body.appendChild(container)}return this.label};Tooltip.prototype.getPlayingField=function(){var body=Tooltip_doc.body,documentElement=Tooltip_doc.documentElement,_a=this,chart=_a.chart,distance=_a.distance,outside=_a.outside;return{width:outside?Math.max(body.scrollWidth,documentElement.scrollWidth,body.offsetWidth,documentElement.offsetWidth,documentElement.clientWidth)-2*distance-2:chart.chartWidth,height:outside?Math.max(body.scrollHeight,documentElement.scrollHeight,body.offsetHeight,documentElement.offsetHeight,documentElement.clientHeight):chart.chartHeight}};Tooltip.prototype.getPosition=function(boxWidth,boxHeight,point){var _a,_b;var _c=this,distance=_c.distance,chart=_c.chart,outside=_c.outside,pointer=_c.pointer,inverted=chart.inverted,plotLeft=chart.plotLeft,plotTop=chart.plotTop,polar=chart.polar,_d=point.plotX,plotX=_d===void 0?0:_d,_e=point.plotY,plotY=_e===void 0?0:_e,ret={},h=inverted&&point.h||0,_f=this.getPlayingField(),outerHeight=_f.height,outerWidth=_f.width,chartPosition=pointer.getChartPosition(),scaleX=function(val){return val*chartPosition.scaleX},scaleY=function(val){return val*chartPosition.scaleY},buildDimensionArray=function(dim){var isX=dim==="x";return[dim,isX?outerWidth:outerHeight,isX?boxWidth:boxHeight].concat(outside?[isX?scaleX(boxWidth):scaleY(boxHeight),isX?chartPosition.left-distance+scaleX(plotX+plotLeft):chartPosition.top-distance+scaleY(plotY+plotTop),0,isX?outerWidth:outerHeight]:[isX?boxWidth:boxHeight,isX?plotX+plotLeft:plotY+plotTop,isX?plotLeft:plotTop,isX?plotLeft+chart.plotWidth:plotTop+chart.plotHeight])};var first=buildDimensionArray("y"),second=buildDimensionArray("x"),swapped;var flipped=!!point.negative;if(!polar&&((_b=(_a=chart.hoverSeries)===null||_a===void 0?void 0:_a.yAxis)===null||_b===void 0?void 0:_b.reversed)){flipped=!flipped}var preferFarSide=!this.followPointer&&Tooltip_pick(point.ttBelow,polar?false:!inverted===flipped),firstDimension=function(dim,outerSize,innerSize,scaledInnerSize,point,min,max){var scaledDist=outside?dim==="y"?scaleY(distance):scaleX(distance):distance,scaleDiff=(innerSize-scaledInnerSize)/2,roomLeft=scaledInnerSize<point-distance,roomRight=point+distance+scaledInnerSize<outerSize,alignedLeft=point-scaledDist-innerSize+scaleDiff,alignedRight=point+scaledDist-scaleDiff;if(preferFarSide&&roomRight){ret[dim]=alignedRight}else if(!preferFarSide&&roomLeft){ret[dim]=alignedLeft}else if(roomLeft){ret[dim]=Math.min(max-scaledInnerSize,alignedLeft-h<0?alignedLeft:alignedLeft-h)}else if(roomRight){ret[dim]=Math.max(min,alignedRight+h+innerSize>outerSize?alignedRight:alignedRight+h)}else{return false}},secondDimension=function(dim,outerSize,innerSize,scaledInnerSize,point){if(point<distance||point>outerSize-distance){return false}if(point<innerSize/2){ret[dim]=1}else if(point>outerSize-scaledInnerSize/2){ret[dim]=outerSize-scaledInnerSize-2}else{ret[dim]=point-innerSize/2}},swap=function(count){var _a;_a=[second,first],first=_a[0],second=_a[1];swapped=count},run=function(){if(firstDimension.apply(0,first)!==false){if(secondDimension.apply(0,second)===false&&!swapped){swap(true);run()}}else if(!swapped){swap(true);run()}else{ret.x=ret.y=0}};if(inverted&&!polar||this.len>1){swap()}run();return ret};Tooltip.prototype.hide=function(delay){var tooltip=this;Core_Utilities.clearTimeout(this.hideTimer);delay=Tooltip_pick(delay,this.options.hideDelay);if(!this.isHidden){this.hideTimer=Tooltip_syncTimeout(function(){var label=tooltip.getLabel();tooltip.getLabel().animate({opacity:0},{duration:delay?150:delay,complete:function(){label.hide();if(tooltip.container){tooltip.container.remove()}}});tooltip.isHidden=true},delay)}};Tooltip.prototype.init=function(chart,options){this.chart=chart;this.options=options;this.crosshairs=[];this.isHidden=true;this.split=options.split&&!chart.inverted&&!chart.polar;this.shared=options.shared||this.split;this.outside=Tooltip_pick(options.outside,Boolean(chart.scrollablePixelsX||chart.scrollablePixelsY))};Tooltip.prototype.shouldStickOnContact=function(pointerEvent){return!!(!this.followPointer&&this.options.stickOnContact&&(!pointerEvent||this.pointer.inClass(pointerEvent.target,"highcharts-tooltip")))};Tooltip.prototype.move=function(x,y,anchorX,anchorY){var tooltip=this,animation=Tooltip_animObject(!tooltip.isHidden&&tooltip.options.animation),skipAnchor=tooltip.followPointer||(tooltip.len||0)>1,attr={x:x,y:y};if(!skipAnchor){attr.anchorX=anchorX;attr.anchorY=anchorY}animation.step=function(){return tooltip.drawTracker()};tooltip.getLabel().animate(attr,animation)};Tooltip.prototype.refresh=function(pointOrPoints,mouseEvent){var tooltip=this,_a=this,chart=_a.chart,options=_a.options,pointer=_a.pointer,shared=_a.shared,points=Tooltip_splat(pointOrPoints),point=points[0],formatString=options.format,formatter=options.formatter||tooltip.defaultFormatter,styledMode=chart.styledMode;var wasShared=tooltip.allowShared;if(!options.enabled||!point.series){return}Core_Utilities.clearTimeout(this.hideTimer);tooltip.allowShared=!(!Tooltip_isArray(pointOrPoints)&&pointOrPoints.series&&pointOrPoints.series.noSharedTooltip);wasShared=wasShared&&!tooltip.allowShared;tooltip.followPointer=!tooltip.split&&point.series.tooltipOptions.followPointer;var anchor=tooltip.getAnchor(pointOrPoints,mouseEvent),x=anchor[0],y=anchor[1];if(shared&&tooltip.allowShared){pointer.applyInactiveState(points);points.forEach(function(item){return item.setState("hover")});point.points=points}this.len=points.length;var text=Tooltip_isString(formatString)?Tooltip_format(formatString,point,chart):formatter.call(point,tooltip);point.points=void 0;var currentSeries=point.series;this.distance=Tooltip_pick(currentSeries.tooltipOptions.distance,16);if(text===false){this.hide()}else{if(tooltip.split&&tooltip.allowShared){this.renderSplit(text,points)}else{var checkX_1=x;var checkY_1=y;if(mouseEvent&&pointer.isDirectTouch){checkX_1=mouseEvent.chartX-chart.plotLeft;checkY_1=mouseEvent.chartY-chart.plotTop}if(chart.polar||currentSeries.options.clip===false||points.some(function(p){return pointer.isDirectTouch||p.series.shouldShowTooltip(checkX_1,checkY_1)})){var label=tooltip.getLabel(wasShared&&tooltip.tt||{});if(!options.style.width||styledMode){label.css({width:(this.outside?this.getPlayingField():chart.spacingBox).width+"px"})}label.attr({class:tooltip.getClassName(point),text:text&&text.join?text.join(""):text});if(this.outside){label.attr({x:Tooltip_clamp(label.x||0,0,this.getPlayingField().width-(label.width||0)-1)})}if(!styledMode){label.attr({stroke:options.borderColor||point.color||currentSeries.color||"#666666"})}tooltip.updatePosition({plotX:x,plotY:y,negative:point.negative,ttBelow:point.ttBelow,h:anchor[2]||0})}else{tooltip.hide();return}}if(tooltip.isHidden&&tooltip.label){tooltip.label.attr({opacity:1}).show()}tooltip.isHidden=false}Tooltip_fireEvent(this,"refresh")};Tooltip.prototype.renderSplit=function(labels,points){var _a;var tooltip=this;var chart=tooltip.chart,_b=tooltip.chart,chartWidth=_b.chartWidth,chartHeight=_b.chartHeight,plotHeight=_b.plotHeight,plotLeft=_b.plotLeft,plotTop=_b.plotTop,_c=_b.scrollablePixelsY,scrollablePixelsY=_c===void 0?0:_c,scrollablePixelsX=_b.scrollablePixelsX,styledMode=_b.styledMode,distance=tooltip.distance,options=tooltip.options,positioner=tooltip.options.positioner,pointer=tooltip.pointer;var _d=((_a=chart.scrollablePlotArea)===null||_a===void 0?void 0:_a.scrollingContainer)||{},_e=_d.scrollLeft,scrollLeft=_e===void 0?0:_e,_f=_d.scrollTop,scrollTop=_f===void 0?0:_f;var bounds=tooltip.outside&&typeof scrollablePixelsX!=="number"?Tooltip_doc.documentElement.getBoundingClientRect():{left:scrollLeft,right:scrollLeft+chartWidth,top:scrollTop,bottom:scrollTop+chartHeight};var tooltipLabel=tooltip.getLabel();var ren=this.renderer||chart.renderer;var headerTop=Boolean(chart.xAxis[0]&&chart.xAxis[0].opposite);var _g=pointer.getChartPosition(),chartLeft=_g.left,chartTop=_g.top;var distributionBoxTop=plotTop+scrollTop;var headerHeight=0;var adjustedPlotHeight=plotHeight-scrollablePixelsY;function getAnchor(point){var isHeader=point.isHeader,_a=point.plotX,plotX=_a===void 0?0:_a,_b=point.plotY,plotY=_b===void 0?0:_b,series=point.series;var anchorX;var anchorY;if(isHeader){anchorX=Math.max(plotLeft+plotX,plotLeft);anchorY=plotTop+plotHeight/2}else{var xAxis=series.xAxis,yAxis=series.yAxis;anchorX=xAxis.pos+Tooltip_clamp(plotX,-distance,xAxis.len+distance);if(series.shouldShowTooltip(0,yAxis.pos-plotTop+plotY,{ignoreX:true})){anchorY=yAxis.pos+plotY}}anchorX=Tooltip_clamp(anchorX,bounds.left-distance,bounds.right+distance);return{anchorX:anchorX,anchorY:anchorY}}function defaultPositioner(anchorX,anchorY,isHeader,boxWidth,alignedLeft){if(alignedLeft===void 0){alignedLeft=true}var y;var x;if(isHeader){y=headerTop?0:adjustedPlotHeight;x=Tooltip_clamp(anchorX-boxWidth/2,bounds.left,bounds.right-boxWidth-(tooltip.outside?chartLeft:0))}else{y=anchorY-distributionBoxTop;x=alignedLeft?anchorX-boxWidth-distance:anchorX+distance;x=Tooltip_clamp(x,alignedLeft?x:bounds.left,bounds.right)}return{x:x,y:y}}function updatePartialTooltip(partialTooltip,point,str){var _a;var tt=partialTooltip;var isHeader=point.isHeader,series=point.series;if(!tt){var attribs={padding:options.padding,r:options.borderRadius};if(!styledMode){attribs.fill=options.backgroundColor;attribs["stroke-width"]=(_a=options.borderWidth)!==null&&_a!==void 0?_a:1}tt=ren.label("",0,0,options[isHeader?"headerShape":"shape"],void 0,void 0,options.useHTML).addClass(tooltip.getClassName(point,true,isHeader)).attr(attribs).add(tooltipLabel)}tt.isActive=true;tt.attr({text:str});if(!styledMode){tt.css(options.style).attr({stroke:options.borderColor||point.color||series.color||"#333333"})}return tt}if(Tooltip_isString(labels)){labels=[false,labels]}var boxes=labels.slice(0,points.length+1).reduce(function(boxes,str,i){if(str!==false&&str!==""){var point=points[i-1]||{isHeader:true,plotX:points[0].plotX,plotY:plotHeight,series:{}};var isHeader=point.isHeader;var owner=isHeader?tooltip:point.series;var tt=owner.tt=updatePartialTooltip(owner.tt,point,str.toString());var bBox=tt.getBBox();var boxWidth=bBox.width+tt.strokeWidth();if(isHeader){headerHeight=bBox.height;adjustedPlotHeight+=headerHeight;if(headerTop){distributionBoxTop-=headerHeight}}var _a=getAnchor(point),anchorX=_a.anchorX,anchorY=_a.anchorY;if(typeof anchorY==="number"){var size=bBox.height+1;var boxPosition=positioner?positioner.call(tooltip,boxWidth,size,point):defaultPositioner(anchorX,anchorY,isHeader,boxWidth);boxes.push({align:positioner?0:void 0,anchorX:anchorX,anchorY:anchorY,boxWidth:boxWidth,point:point,rank:Tooltip_pick(boxPosition.rank,isHeader?1:0),size:size,target:boxPosition.y,tt:tt,x:boxPosition.x})}else{tt.isActive=false}}return boxes},[]);if(!positioner&&boxes.some(function(box){var outside=tooltip.outside;var boxStart=(outside?chartLeft:0)+box.anchorX;if(boxStart<bounds.left&&boxStart+box.boxWidth<bounds.right){return true}return boxStart<chartLeft-bounds.left+box.boxWidth&&bounds.right-boxStart>boxStart})){boxes=boxes.map(function(box){var _a=defaultPositioner(box.anchorX,box.anchorY,box.point.isHeader,box.boxWidth,false),x=_a.x,y=_a.y;return Tooltip_extend(box,{target:y,x:x})})}tooltip.cleanSplit();distribute(boxes,adjustedPlotHeight);var boxExtremes={left:chartLeft,right:chartLeft};boxes.forEach(function(box){var x=box.x,boxWidth=box.boxWidth,isHeader=box.isHeader;if(!isHeader){if(tooltip.outside&&chartLeft+x<boxExtremes.left){boxExtremes.left=chartLeft+x}if(!isHeader&&tooltip.outside&&boxExtremes.left+boxWidth>boxExtremes.right){boxExtremes.right=chartLeft+x}}});boxes.forEach(function(box){var x=box.x,anchorX=box.anchorX,anchorY=box.anchorY,pos=box.pos,isHeader=box.point.isHeader;var attributes={visibility:typeof pos==="undefined"?"hidden":"inherit",x:x,y:(pos||0)+distributionBoxTop,anchorX:anchorX,anchorY:anchorY};if(tooltip.outside&&x<anchorX){var offset=chartLeft-boxExtremes.left;if(offset>0){if(!isHeader){attributes.x=x+offset;attributes.anchorX=anchorX+offset}if(isHeader){attributes.x=(boxExtremes.right-boxExtremes.left)/2;attributes.anchorX=anchorX+offset}}}box.tt.attr(attributes)});var container=tooltip.container,outside=tooltip.outside,renderer=tooltip.renderer;if(outside&&container&&renderer){var _h=tooltipLabel.getBBox(),width=_h.width,height=_h.height,x=_h.x,y=_h.y;renderer.setSize(width+x,height+y,false);container.style.left=boxExtremes.left+"px";container.style.top=chartTop+"px"}if(isSafari){tooltipLabel.attr({opacity:tooltipLabel.opacity===1?.999:1})}};Tooltip.prototype.drawTracker=function(){var tooltip=this;if(!this.shouldStickOnContact()){if(tooltip.tracker){tooltip.tracker=tooltip.tracker.destroy()}return}var chart=tooltip.chart;var label=tooltip.label;var points=tooltip.shared?chart.hoverPoints:chart.hoverPoint;if(!label||!points){return}var box={x:0,y:0,width:0,height:0};var anchorPos=this.getAnchor(points);var labelBBox=label.getBBox();anchorPos[0]+=chart.plotLeft-(label.translateX||0);anchorPos[1]+=chart.plotTop-(label.translateY||0);box.x=Math.min(0,anchorPos[0]);box.y=Math.min(0,anchorPos[1]);box.width=anchorPos[0]<0?Math.max(Math.abs(anchorPos[0]),labelBBox.width-anchorPos[0]):Math.max(Math.abs(anchorPos[0]),labelBBox.width);box.height=anchorPos[1]<0?Math.max(Math.abs(anchorPos[1]),labelBBox.height-Math.abs(anchorPos[1])):Math.max(Math.abs(anchorPos[1]),labelBBox.height);if(tooltip.tracker){tooltip.tracker.attr(box)}else{tooltip.tracker=label.renderer.rect(box).addClass("highcharts-tracker").add(label);if(!chart.styledMode){tooltip.tracker.attr({fill:"rgba(0,0,0,0)"})}}};Tooltip.prototype.styledModeFormat=function(formatString){return formatString.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} '+"{series.options.className} "+'{point.options.className}"')};Tooltip.prototype.headerFooterFormatter=function(point,isFooter){var series=point.series,tooltipOptions=series.tooltipOptions,xAxis=series.xAxis,dateTime=xAxis&&xAxis.dateTime,e={isFooter:isFooter,point:point};var xDateFormat=tooltipOptions.xDateFormat||"",formatString=tooltipOptions[isFooter?"footerFormat":"headerFormat"];Tooltip_fireEvent(this,"headerFormatter",e,function(e){if(dateTime&&!xDateFormat&&Tooltip_isNumber(point.key)){xDateFormat=dateTime.getXDateFormat(point.key,tooltipOptions.dateTimeLabelFormats)}if(dateTime&&xDateFormat){if(Tooltip_isObject(xDateFormat)){var format_1=xDateFormat;dateFormats[0]=function(timestamp){return series.chart.time.dateFormat(format_1,timestamp)};xDateFormat="%0"}(point.tooltipDateKeys||["key"]).forEach(function(key){formatString=formatString.replace(new RegExp("point\\."+key+"([ \\)}])",""),"(point.".concat(key,":").concat(xDateFormat,")$1"))})}if(series.chart.styledMode){formatString=this.styledModeFormat(formatString)}e.text=Tooltip_format(formatString,point,this.chart)});return e.text||""};Tooltip.prototype.update=function(options){this.destroy();this.init(this.chart,Tooltip_merge(true,this.options,options))};Tooltip.prototype.updatePosition=function(point){var _a=this,chart=_a.chart,container=_a.container,distance=_a.distance,options=_a.options,pointer=_a.pointer,renderer=_a.renderer,_b=this.getLabel(),_c=_b.height,height=_c===void 0?0:_c,_d=_b.width,width=_d===void 0?0:_d,_e=pointer.getChartPosition(),left=_e.left,top=_e.top,scaleX=_e.scaleX,scaleY=_e.scaleY,pos=(options.positioner||this.getPosition).call(this,width,height,point),doc=Core_Globals.doc;var anchorX=(point.plotX||0)+chart.plotLeft,anchorY=(point.plotY||0)+chart.plotTop,pad;if(renderer&&container){if(options.positioner){pos.x+=left-distance;pos.y+=top-distance}pad=(options.borderWidth||0)+2*distance+2;renderer.setSize(Tooltip_clamp(width+pad,0,doc.documentElement.clientWidth)-1,height+pad,false);if(scaleX!==1||scaleY!==1){Tooltip_css(container,{transform:"scale(".concat(scaleX,", ").concat(scaleY,")")});anchorX*=scaleX;anchorY*=scaleY}anchorX+=left-pos.x;anchorY+=top-pos.y}this.move(Math.round(pos.x),Math.round(pos.y||0),anchorX,anchorY)};return Tooltip}();(function(Tooltip){function compose(PointerClass){if(Tooltip_pushUnique(Tooltip_composed,"Core.Tooltip")){Tooltip_addEvent(PointerClass,"afterInit",function(){var chart=this.chart;if(chart.options.tooltip){chart.tooltip=new Tooltip(chart,chart.options.tooltip,this)}})}}Tooltip.compose=compose})(Tooltip||(Tooltip={}));var Core_Tooltip=Tooltip;"";var Point_animObject=AnimationUtilities.animObject;var Point_defaultOptions=Defaults.defaultOptions;var Point_format=Core_Templating.format;var Point_addEvent=Core_Utilities.addEvent,Point_crisp=Core_Utilities.crisp,Point_erase=Core_Utilities.erase,Point_extend=Core_Utilities.extend,Point_fireEvent=Core_Utilities.fireEvent,Point_getNestedProperty=Core_Utilities.getNestedProperty,Point_isArray=Core_Utilities.isArray,Point_isFunction=Core_Utilities.isFunction,Point_isNumber=Core_Utilities.isNumber,Point_isObject=Core_Utilities.isObject,Point_merge=Core_Utilities.merge,Point_pick=Core_Utilities.pick,Point_syncTimeout=Core_Utilities.syncTimeout,Point_removeEvent=Core_Utilities.removeEvent,Point_uniqueKey=Core_Utilities.uniqueKey;var Point=function(){function Point(series,options,x){var _a;this.formatPrefix="point";this.visible=true;this.point=this;this.series=series;this.applyOptions(options,x);(_a=this.id)!==null&&_a!==void 0?_a:this.id=Point_uniqueKey();this.resolveColor();series.chart.pointCount++;Point_fireEvent(this,"afterInit")}Point.prototype.animateBeforeDestroy=function(){var point=this,animateParams={x:point.startXPos,opacity:0},graphicalProps=point.getGraphicalProps();graphicalProps.singular.forEach(function(prop){var isDataLabel=prop==="dataLabel";point[prop]=point[prop].animate(isDataLabel?{x:point[prop].startXPos,y:point[prop].startYPos,opacity:0}:animateParams)});graphicalProps.plural.forEach(function(plural){point[plural].forEach(function(item){if(item.element){item.animate(Point_extend({x:point.startXPos},item.startYPos?{x:item.startXPos,y:item.startYPos}:{}))}})})};Point.prototype.applyOptions=function(options,x){var point=this,series=point.series,pointValKey=series.options.pointValKey||series.pointValKey;options=Point.prototype.optionsToObject.call(this,options);Point_extend(point,options);point.options=point.options?Point_extend(point.options,options):options;if(options.group){delete point.group}if(options.dataLabels){delete point.dataLabels}if(pointValKey){point.y=Point.prototype.getNestedProperty.call(point,pointValKey)}if(point.selected){point.state="select"}if("name"in point&&typeof x==="undefined"&&series.xAxis&&series.xAxis.hasNames){point.x=series.xAxis.nameToX(point)}if(typeof point.x==="undefined"&&series){point.x=x!==null&&x!==void 0?x:series.autoIncrement()}else if(Point_isNumber(options.x)&&series.options.relativeXValue){point.x=series.autoIncrement(options.x)}else if(typeof point.x==="string"){x!==null&&x!==void 0?x:x=series.chart.time.parse(point.x);if(Point_isNumber(x)){point.x=x}}point.isNull=this.isValid&&!this.isValid();point.formatPrefix=point.isNull?"null":"point";return point};Point.prototype.destroy=function(){if(!this.destroyed){var point_1=this,series=point_1.series,chart=series.chart,dataSorting=series.options.dataSorting,hoverPoints=chart.hoverPoints,globalAnimation=point_1.series.chart.renderer.globalAnimation,animation=Point_animObject(globalAnimation);var destroyPoint=function(){if(point_1.graphic||point_1.graphics||point_1.dataLabel||point_1.dataLabels){Point_removeEvent(point_1);point_1.destroyElements()}for(var prop in point_1){delete point_1[prop]}};if(point_1.legendItem){chart.legend.destroyItem(point_1)}if(hoverPoints){point_1.setState();Point_erase(hoverPoints,point_1);if(!hoverPoints.length){chart.hoverPoints=null}}if(point_1===chart.hoverPoint){point_1.onMouseOut()}if(!dataSorting||!dataSorting.enabled){destroyPoint()}else{this.animateBeforeDestroy();Point_syncTimeout(destroyPoint,animation.duration)}chart.pointCount--}this.destroyed=true};Point.prototype.destroyElements=function(kinds){var point=this,props=point.getGraphicalProps(kinds);props.singular.forEach(function(prop){point[prop]=point[prop].destroy()});props.plural.forEach(function(plural){point[plural].forEach(function(item){if(item&&item.element){item.destroy()}});delete point[plural]})};Point.prototype.firePointEvent=function(eventType,eventArgs,defaultFunction){var point=this,series=this.series,seriesOptions=series.options;point.manageEvent(eventType);if(eventType==="click"&&seriesOptions.allowPointSelect){defaultFunction=function(event){if(!point.destroyed&&point.select){point.select(null,event.ctrlKey||event.metaKey||event.shiftKey)}}}Point_fireEvent(point,eventType,eventArgs,defaultFunction)};Point.prototype.getClassName=function(){var point=this;return"highcharts-point"+(point.selected?" highcharts-point-select":"")+(point.negative?" highcharts-negative":"")+(point.isNull?" highcharts-null-point":"")+(typeof point.colorIndex!=="undefined"?" highcharts-color-"+point.colorIndex:"")+(point.options.className?" "+point.options.className:"")+(point.zone&&point.zone.className?" "+point.zone.className.replace("highcharts-negative",""):"")};Point.prototype.getGraphicalProps=function(kinds){var point=this,props=[],graphicalProps={singular:[],plural:[]};var prop,i;kinds=kinds||{graphic:1,dataLabel:1};if(kinds.graphic){props.push("graphic","connector")}if(kinds.dataLabel){props.push("dataLabel","dataLabelPath","dataLabelUpper")}i=props.length;while(i--){prop=props[i];if(point[prop]){graphicalProps.singular.push(prop)}}["graphic","dataLabel"].forEach(function(prop){var plural=prop+"s";if(kinds[prop]&&point[plural]){graphicalProps.plural.push(plural)}});return graphicalProps};Point.prototype.getNestedProperty=function(key){if(!key){return}if(key.indexOf("custom.")===0){return Point_getNestedProperty(key,this.options)}return this[key]};Point.prototype.getZone=function(){var series=this.series,zones=series.zones,zoneAxis=series.zoneAxis||"y";var zone,i=0;zone=zones[i];while(this[zoneAxis]>=zone.value){zone=zones[++i]}if(!this.nonZonedColor){this.nonZonedColor=this.color}if(zone&&zone.color&&!this.options.color){this.color=zone.color}else{this.color=this.nonZonedColor}return zone};Point.prototype.hasNewShapeType=function(){var point=this;var oldShapeType=point.graphic&&(point.graphic.symbolName||point.graphic.element.nodeName);return oldShapeType!==this.shapeType};Point.prototype.isValid=function(){return(Point_isNumber(this.x)||this.x instanceof Date)&&Point_isNumber(this.y)};Point.prototype.optionsToObject=function(options){var _a;var series=this.series,keys=series.options.keys,pointArrayMap=keys||series.pointArrayMap||["y"],valueCount=pointArrayMap.length;var ret={},firstItemType,i=0,j=0;if(Point_isNumber(options)||options===null){ret[pointArrayMap[0]]=options}else if(Point_isArray(options)){if(!keys&&options.length>valueCount){firstItemType=typeof options[0];if(firstItemType==="string"){if((_a=series.xAxis)===null||_a===void 0?void 0:_a.dateTime){ret.x=series.chart.time.parse(options[0])}else{ret.name=options[0]}}else if(firstItemType==="number"){ret.x=options[0]}i++}while(j<valueCount){if(!keys||typeof options[i]!=="undefined"){if(pointArrayMap[j].indexOf(".")>0){Point.prototype.setNestedProperty(ret,options[i],pointArrayMap[j])}else{ret[pointArrayMap[j]]=options[i]}}i++;j++}}else if(typeof options==="object"){ret=options;if(options.dataLabels){series.hasDataLabels=function(){return true}}if(options.marker){series._hasPointMarkers=true}}return ret};Point.prototype.pos=function(chartCoordinates,plotY){if(plotY===void 0){plotY=this.plotY}if(!this.destroyed){var _a=this,plotX=_a.plotX,series=_a.series,chart=series.chart,xAxis=series.xAxis,yAxis=series.yAxis;var posX=0,posY=0;if(Point_isNumber(plotX)&&Point_isNumber(plotY)){if(chartCoordinates){posX=xAxis?xAxis.pos:chart.plotLeft;posY=yAxis?yAxis.pos:chart.plotTop}return chart.inverted&&xAxis&&yAxis?[yAxis.len-plotY+posY,xAxis.len-plotX+posX]:[plotX+posX,plotY+posY]}}};Point.prototype.resolveColor=function(){var series=this.series,optionsChart=series.chart.options.chart,styledMode=series.chart.styledMode;var color,colors,colorCount=optionsChart.colorCount,colorIndex;delete this.nonZonedColor;if(series.options.colorByPoint){if(!styledMode){colors=series.options.colors||series.chart.options.colors;color=colors[series.colorCounter];colorCount=colors.length}colorIndex=series.colorCounter;series.colorCounter++;if(series.colorCounter===colorCount){series.colorCounter=0}}else{if(!styledMode){color=series.color}colorIndex=series.colorIndex}this.colorIndex=Point_pick(this.options.colorIndex,colorIndex);this.color=Point_pick(this.options.color,color)};Point.prototype.setNestedProperty=function(object,value,key){var nestedKeys=key.split(".");nestedKeys.reduce(function(result,key,i,arr){var isLastKey=arr.length-1===i;result[key]=isLastKey?value:Point_isObject(result[key],true)?result[key]:{};return result[key]},object);return object};Point.prototype.shouldDraw=function(){return!this.isNull};Point.prototype.tooltipFormatter=function(pointFormat){var _a;var _b=this.series,chart=_b.chart,_c=_b.pointArrayMap,pointArrayMap=_c===void 0?["y"]:_c,tooltipOptions=_b.tooltipOptions,_d=tooltipOptions.valueDecimals,valueDecimals=_d===void 0?"":_d,_e=tooltipOptions.valuePrefix,valuePrefix=_e===void 0?"":_e,_f=tooltipOptions.valueSuffix,valueSuffix=_f===void 0?"":_f;if(chart.styledMode){pointFormat=((_a=chart.tooltip)===null||_a===void 0?void 0:_a.styledModeFormat(pointFormat))||pointFormat}pointArrayMap.forEach(function(key){key="{point."+key;if(valuePrefix||valueSuffix){pointFormat=pointFormat.replace(RegExp(key+"}","g"),valuePrefix+key+"}"+valueSuffix)}pointFormat=pointFormat.replace(RegExp(key+"}","g"),key+":,."+valueDecimals+"f}")});return Point_format(pointFormat,this,chart)};Point.prototype.update=function(options,redraw,animation,runEvent){var point=this,series=point.series,graphic=point.graphic,chart=series.chart,seriesOptions=series.options;var i;redraw=Point_pick(redraw,true);function update(){point.applyOptions(options);var hasMockGraphic=graphic&&point.hasMockGraphic;var shouldDestroyGraphic=point.y===null?!hasMockGraphic:hasMockGraphic;if(graphic&&shouldDestroyGraphic){point.graphic=graphic.destroy();delete point.hasMockGraphic}if(Point_isObject(options,true)){if(graphic&&graphic.element){if(options&&options.marker&&typeof options.marker.symbol!=="undefined"){point.graphic=graphic.destroy()}}if((options===null||options===void 0?void 0:options.dataLabels)&&point.dataLabel){point.dataLabel=point.dataLabel.destroy()}}i=point.index;var row={};for(var _i=0,_a=series.dataColumnKeys();_i<_a.length;_i++){var key=_a[_i];row[key]=point[key]}series.dataTable.setRow(row,i);seriesOptions.data[i]=Point_isObject(seriesOptions.data[i],true)||Point_isObject(options,true)?point.options:Point_pick(options,seriesOptions.data[i]);series.isDirty=series.isDirtyData=true;if(!series.fixedBox&&series.hasCartesianSeries){chart.isDirtyBox=true}if(seriesOptions.legendType==="point"){chart.isDirtyLegend=true}if(redraw){chart.redraw(animation)}}if(runEvent===false){update()}else{point.firePointEvent("update",{options:options},update)}};Point.prototype.remove=function(redraw,animation){this.series.removePoint(this.series.data.indexOf(this),redraw,animation)};Point.prototype.select=function(selected,accumulate){var point=this,series=point.series,chart=series.chart;selected=Point_pick(selected,!point.selected);this.selectedStaging=selected;point.firePointEvent(selected?"select":"unselect",{accumulate:accumulate},function(){point.selected=point.options.selected=selected;series.options.data[series.data.indexOf(point)]=point.options;point.setState(selected&&"select");if(!accumulate){chart.getSelectedPoints().forEach(function(loopPoint){var loopSeries=loopPoint.series;if(loopPoint.selected&&loopPoint!==point){loopPoint.selected=loopPoint.options.selected=false;loopSeries.options.data[loopSeries.data.indexOf(loopPoint)]=loopPoint.options;loopPoint.setState(chart.hoverPoints&&loopSeries.options.inactiveOtherPoints?"inactive":"");loopPoint.firePointEvent("unselect")}})}});delete this.selectedStaging};Point.prototype.onMouseOver=function(e){var point=this,series=point.series,_a=series.chart,inverted=_a.inverted,pointer=_a.pointer;if(pointer){e=e?pointer.normalize(e):pointer.getChartCoordinatesFromPoint(point,inverted);pointer.runPointActions(e,point)}};Point.prototype.onMouseOut=function(){var point=this,chart=point.series.chart;point.firePointEvent("mouseOut");if(!point.series.options.inactiveOtherPoints){(chart.hoverPoints||[]).forEach(function(p){p.setState()})}chart.hoverPoints=chart.hoverPoint=null};Point.prototype.manageEvent=function(eventType){var _a,_b,_c,_d,_e,_f,_g;var point=this,options=Point_merge(point.series.options.point,point.options),userEvent=(_a=options.events)===null||_a===void 0?void 0:_a[eventType];if(Point_isFunction(userEvent)&&(!((_b=point.hcEvents)===null||_b===void 0?void 0:_b[eventType])||((_d=(_c=point.hcEvents)===null||_c===void 0?void 0:_c[eventType])===null||_d===void 0?void 0:_d.map(function(el){return el.fn}).indexOf(userEvent))===-1)){(_e=point.importedUserEvent)===null||_e===void 0?void 0:_e.call(point);point.importedUserEvent=Point_addEvent(point,eventType,userEvent);if(point.hcEvents){point.hcEvents[eventType].userEvent=true}}else if(point.importedUserEvent&&!userEvent&&((_f=point.hcEvents)===null||_f===void 0?void 0:_f[eventType])&&((_g=point.hcEvents)===null||_g===void 0?void 0:_g[eventType].userEvent)){Point_removeEvent(point,eventType);delete point.hcEvents[eventType];if(!Object.keys(point.hcEvents)){delete point.importedUserEvent}}};Point.prototype.setState=function(state,move){var _a;var point=this,series=point.series,previousState=point.state,stateOptions=series.options.states[state||"normal"]||{},markerOptions=Point_defaultOptions.plotOptions[series.type].marker&&series.options.marker,normalDisabled=markerOptions&&markerOptions.enabled===false,markerStateOptions=markerOptions&&markerOptions.states&&markerOptions.states[state||"normal"]||{},stateDisabled=markerStateOptions.enabled===false,pointMarker=point.marker||{},chart=series.chart,hasMarkers=markerOptions&&series.markerAttribs;var halo=series.halo,markerAttribs,pointAttribs,pointAttribsAnimation,stateMarkerGraphic=series.stateMarkerGraphic,newSymbol;state=state||"";if(state===point.state&&!move||point.selected&&state!=="select"||stateOptions.enabled===false||state&&(stateDisabled||normalDisabled&&markerStateOptions.enabled===false)||state&&pointMarker.states&&pointMarker.states[state]&&pointMarker.states[state].enabled===false){return}point.state=state;if(hasMarkers){markerAttribs=series.markerAttribs(point,state)}if(point.graphic&&!point.hasMockGraphic){if(previousState){point.graphic.removeClass("highcharts-point-"+previousState)}if(state){point.graphic.addClass("highcharts-point-"+state)}if(!chart.styledMode){pointAttribs=series.pointAttribs(point,state);pointAttribsAnimation=Point_pick(chart.options.chart.animation,stateOptions.animation);var opacity_1=pointAttribs.opacity;if(series.options.inactiveOtherPoints&&Point_isNumber(opacity_1)){(point.dataLabels||[]).forEach(function(label){if(label&&!label.hasClass("highcharts-data-label-hidden")){label.animate({opacity:opacity_1},pointAttribsAnimation);if(label.connector){label.connector.animate({opacity:opacity_1},pointAttribsAnimation)}}})}point.graphic.animate(pointAttribs,pointAttribsAnimation)}if(markerAttribs){point.graphic.animate(markerAttribs,Point_pick(chart.options.chart.animation,markerStateOptions.animation,markerOptions.animation))}if(stateMarkerGraphic){stateMarkerGraphic.hide()}}else{if(state&&markerStateOptions){newSymbol=pointMarker.symbol||series.symbol;if(stateMarkerGraphic&&stateMarkerGraphic.currentSymbol!==newSymbol){stateMarkerGraphic=stateMarkerGraphic.destroy()}if(markerAttribs){if(!stateMarkerGraphic){if(newSymbol){series.stateMarkerGraphic=stateMarkerGraphic=chart.renderer.symbol(newSymbol,markerAttribs.x,markerAttribs.y,markerAttribs.width,markerAttribs.height,Point_merge(markerOptions,markerStateOptions)).add(series.markerGroup);stateMarkerGraphic.currentSymbol=newSymbol}}else{stateMarkerGraphic[move?"animate":"attr"]({x:markerAttribs.x,y:markerAttribs.y})}}if(!chart.styledMode&&stateMarkerGraphic&&point.state!=="inactive"){stateMarkerGraphic.attr(series.pointAttribs(point,state))}}if(stateMarkerGraphic){stateMarkerGraphic[state&&point.isInside?"show":"hide"]();stateMarkerGraphic.element.point=point;stateMarkerGraphic.addClass(point.getClassName(),true)}}var haloOptions=stateOptions.halo;var markerGraphic=point.graphic||stateMarkerGraphic;var markerVisibility=markerGraphic&&markerGraphic.visibility||"inherit";if(haloOptions&&haloOptions.size&&markerGraphic&&markerVisibility!=="hidden"&&!point.isCluster){if(!halo){series.halo=halo=chart.renderer.path().add(markerGraphic.parentGroup)}halo.show()[move?"animate":"attr"]({d:point.haloPath(haloOptions.size)});halo.attr({class:"highcharts-halo highcharts-color-"+Point_pick(point.colorIndex,series.colorIndex)+(point.className?" "+point.className:""),visibility:markerVisibility,zIndex:-1});halo.point=point;if(!chart.styledMode){halo.attr(Point_extend({fill:point.color||series.color,"fill-opacity":haloOptions.opacity},HTML_AST.filterUserAttributes(haloOptions.attributes||{})))}}else if(((_a=halo===null||halo===void 0?void 0:halo.point)===null||_a===void 0?void 0:_a.haloPath)&&!halo.point.destroyed){halo.animate({d:halo.point.haloPath(0)},null,halo.hide)}Point_fireEvent(point,"afterSetState",{state:state})};Point.prototype.haloPath=function(size){var pos=this.pos();return pos?this.series.chart.renderer.symbols.circle(Point_crisp(pos[0],1)-size,pos[1]-size,size*2,size*2):[]};return Point}();var Series_Point=Point;"";var Pointer_assign=undefined&&undefined.__assign||function(){Pointer_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return Pointer_assign.apply(this,arguments)};var Pointer_color=Color_Color.parse;var Pointer_charts=Core_Globals.charts,Pointer_composed=Core_Globals.composed,Pointer_isTouchDevice=Core_Globals.isTouchDevice;var Pointer_addEvent=Core_Utilities.addEvent,Pointer_attr=Core_Utilities.attr,Pointer_css=Core_Utilities.css,Pointer_extend=Core_Utilities.extend,Pointer_find=Core_Utilities.find,Pointer_fireEvent=Core_Utilities.fireEvent,Pointer_isNumber=Core_Utilities.isNumber,Pointer_isObject=Core_Utilities.isObject,Pointer_objectEach=Core_Utilities.objectEach,Pointer_offset=Core_Utilities.offset,Pointer_pick=Core_Utilities.pick,Pointer_pushUnique=Core_Utilities.pushUnique,Pointer_splat=Core_Utilities.splat;var Pointer=function(){function Pointer(chart,options){var _a;this.hasDragged=0;this.pointerCaptureEventsToUnbind=[];this.eventsToUnbind=[];this.options=options;this.chart=chart;this.runChartClick=Boolean((_a=options.chart.events)===null||_a===void 0?void 0:_a.click);this.pinchDown=[];this.setDOMEvents();Pointer_fireEvent(this,"afterInit")}Pointer.prototype.applyInactiveState=function(points){var activeSeries=[],series;(points||[]).forEach(function(item){series=item.series;activeSeries.push(series);if(series.linkedParent){activeSeries.push(series.linkedParent)}if(series.linkedSeries){activeSeries=activeSeries.concat(series.linkedSeries)}if(series.navigatorSeries){activeSeries.push(series.navigatorSeries)}});this.chart.series.forEach(function(inactiveSeries){if(activeSeries.indexOf(inactiveSeries)===-1){inactiveSeries.setState("inactive",true)}else if(inactiveSeries.options.inactiveOtherPoints){inactiveSeries.setAllPointsToState("inactive")}})};Pointer.prototype.destroy=function(){var pointer=this;this.eventsToUnbind.forEach(function(unbind){return unbind()});this.eventsToUnbind=[];if(!Core_Globals.chartCount){Pointer.unbindDocumentMouseUp.forEach(function(el){return el.unbind()});Pointer.unbindDocumentMouseUp.length=0;if(Pointer.unbindDocumentTouchEnd){Pointer.unbindDocumentTouchEnd=Pointer.unbindDocumentTouchEnd()}}clearInterval(pointer.tooltipTimeout);Pointer_objectEach(pointer,function(_val,prop){pointer[prop]=void 0})};Pointer.prototype.getSelectionMarkerAttrs=function(chartX,chartY){var _this=this;var e={args:{chartX:chartX,chartY:chartY},attrs:{},shapeType:"rect"};Pointer_fireEvent(this,"getSelectionMarkerAttrs",e,function(e){var _a=_this,chart=_a.chart,zoomHor=_a.zoomHor,zoomVert=_a.zoomVert,_b=chart.mouseDownX,mouseDownX=_b===void 0?0:_b,_c=chart.mouseDownY,mouseDownY=_c===void 0?0:_c,attrs=e.attrs;var size;attrs.x=chart.plotLeft;attrs.y=chart.plotTop;attrs.width=zoomHor?1:chart.plotWidth;attrs.height=zoomVert?1:chart.plotHeight;if(zoomHor){size=chartX-mouseDownX;attrs.width=Math.max(1,Math.abs(size));attrs.x=(size>0?0:size)+mouseDownX}if(zoomVert){size=chartY-mouseDownY;attrs.height=Math.max(1,Math.abs(size));attrs.y=(size>0?0:size)+mouseDownY}});return e};Pointer.prototype.drag=function(e){var chart=this.chart,_a=chart.mouseDownX,mouseDownX=_a===void 0?0:_a,_b=chart.mouseDownY,mouseDownY=_b===void 0?0:_b,_c=chart.options.chart,panning=_c.panning,panKey=_c.panKey,selectionMarkerFill=_c.selectionMarkerFill,plotLeft=chart.plotLeft,plotTop=chart.plotTop,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,panningEnabled=Pointer_isObject(panning)?panning.enabled:panning,panKeyPressed=panKey&&e[""+panKey+"Key"];var chartX=e.chartX,chartY=e.chartY,clickedInside,selectionMarker=this.selectionMarker;if(selectionMarker&&selectionMarker.touch){return}if(chartX<plotLeft){chartX=plotLeft}else if(chartX>plotLeft+plotWidth){chartX=plotLeft+plotWidth}if(chartY<plotTop){chartY=plotTop}else if(chartY>plotTop+plotHeight){chartY=plotTop+plotHeight}this.hasDragged=Math.sqrt(Math.pow(mouseDownX-chartX,2)+Math.pow(mouseDownY-chartY,2));if(this.hasDragged>10){clickedInside=chart.isInsidePlot(mouseDownX-plotLeft,mouseDownY-plotTop,{visiblePlotOnly:true});var _d=this.getSelectionMarkerAttrs(chartX,chartY),shapeType=_d.shapeType,attrs=_d.attrs;if((chart.hasCartesianSeries||chart.mapView)&&this.hasZoom&&clickedInside&&!panKeyPressed){if(!selectionMarker){this.selectionMarker=selectionMarker=chart.renderer[shapeType]();selectionMarker.attr({class:"highcharts-selection-marker",zIndex:7}).add();if(!chart.styledMode){selectionMarker.attr({fill:selectionMarkerFill||Pointer_color("#334eff").setOpacity(.25).get()})}}}if(selectionMarker){selectionMarker.attr(attrs)}if(clickedInside&&!selectionMarker&&panningEnabled){chart.pan(e,panning)}}};Pointer.prototype.dragStart=function(e){var chart=this.chart;chart.mouseIsDown=e.type;chart.cancelClick=false;chart.mouseDownX=e.chartX;chart.mouseDownY=e.chartY};Pointer.prototype.getSelectionBox=function(marker){var e={args:{marker:marker},result:marker.getBBox()};Pointer_fireEvent(this,"getSelectionBox",e);return e.result};Pointer.prototype.drop=function(e){var _this=this;var _a=this,chart=_a.chart,selectionMarker=_a.selectionMarker;var redraw;for(var _i=0,_b=chart.axes;_i<_b.length;_i++){var axis=_b[_i];if(axis.isPanning){axis.isPanning=false;if(axis.options.startOnTick||axis.options.endOnTick||axis.series.some(function(s){return s.boosted})){axis.forceRedraw=true;axis.setExtremes(axis.userMin,axis.userMax,false);redraw=true}}}if(redraw){chart.redraw()}if(selectionMarker&&e){if(this.hasDragged){var from=this.getSelectionBox(selectionMarker);chart.transform({axes:chart.axes.filter(function(a){return a.zoomEnabled&&(a.coll==="xAxis"&&_this.zoomX||a.coll==="yAxis"&&_this.zoomY)}),selection:Pointer_assign({originalEvent:e,xAxis:[],yAxis:[]},from),from:from})}if(Pointer_isNumber(chart.index)){this.selectionMarker=selectionMarker.destroy()}}if(chart&&Pointer_isNumber(chart.index)){Pointer_css(chart.container,{cursor:chart._cursor});chart.cancelClick=this.hasDragged>10;chart.mouseIsDown=false;this.hasDragged=0;this.pinchDown=[]}};Pointer.prototype.findNearestKDPoint=function(series,shared,e){var closest;function sort(p1,p2){var _a,_b;var isCloserX=p1.distX-p2.distX,isCloser=p1.dist-p2.dist,isAbove=((_a=p2.series.group)===null||_a===void 0?void 0:_a.zIndex)-((_b=p1.series.group)===null||_b===void 0?void 0:_b.zIndex);var result;if(isCloserX!==0&&shared){result=isCloserX}else if(isCloser!==0){result=isCloser}else if(isAbove!==0){result=isAbove}else{result=p1.series.index>p2.series.index?-1:1}return result}series.forEach(function(s){var noSharedTooltip=s.noSharedTooltip&&shared,compareX=!noSharedTooltip&&s.options.findNearestPointBy.indexOf("y")<0,point=s.searchPoint(e,compareX);if(Pointer_isObject(point,true)&&point.series&&(!Pointer_isObject(closest,true)||sort(closest,point)>0)){closest=point}});return closest};Pointer.prototype.getChartCoordinatesFromPoint=function(point,inverted){var _a,_b;var _c=point.series,xAxis=_c.xAxis,yAxis=_c.yAxis,shapeArgs=point.shapeArgs;if(xAxis&&yAxis){var x=(_b=(_a=point.clientX)!==null&&_a!==void 0?_a:point.plotX)!==null&&_b!==void 0?_b:0,y=point.plotY||0;if(point.isNode&&shapeArgs&&Pointer_isNumber(shapeArgs.x)&&Pointer_isNumber(shapeArgs.y)){x=shapeArgs.x;y=shapeArgs.y}return inverted?{chartX:yAxis.len+yAxis.pos-y,chartY:xAxis.len+xAxis.pos-x}:{chartX:x+xAxis.pos,chartY:y+yAxis.pos}}if(shapeArgs&&shapeArgs.x&&shapeArgs.y){return{chartX:shapeArgs.x,chartY:shapeArgs.y}}};Pointer.prototype.getChartPosition=function(){if(this.chartPosition){return this.chartPosition}var container=this.chart.container;var pos=Pointer_offset(container);this.chartPosition={left:pos.left,top:pos.top,scaleX:1,scaleY:1};var offsetHeight=container.offsetHeight,offsetWidth=container.offsetWidth;if(offsetWidth>2&&offsetHeight>2){this.chartPosition.scaleX=pos.width/offsetWidth;this.chartPosition.scaleY=pos.height/offsetHeight}return this.chartPosition};Pointer.prototype.getCoordinates=function(e){var coordinates={xAxis:[],yAxis:[]};for(var _i=0,_a=this.chart.axes;_i<_a.length;_i++){var axis=_a[_i];coordinates[axis.isXAxis?"xAxis":"yAxis"].push({axis:axis,value:axis.toValue(e[axis.horiz?"chartX":"chartY"])})}return coordinates};Pointer.prototype.getHoverData=function(existingHoverPoint,existingHoverSeries,series,isDirectTouch,shared,e){var hoverPoints=[],useExisting=!!(isDirectTouch&&existingHoverPoint),filter=function(s){return s.visible&&!(!shared&&s.directTouch)&&Pointer_pick(s.options.enableMouseTracking,true)};var hoverSeries=existingHoverSeries,searchSeries,eventArgs={chartX:e?e.chartX:void 0,chartY:e?e.chartY:void 0,shared:shared};Pointer_fireEvent(this,"beforeGetHoverData",eventArgs);var notSticky=hoverSeries&&!hoverSeries.stickyTracking;searchSeries=notSticky?[hoverSeries]:series.filter(function(s){return s.stickyTracking&&(eventArgs.filter||filter)(s)});var hoverPoint=useExisting||!e?existingHoverPoint:this.findNearestKDPoint(searchSeries,shared,e);hoverSeries=hoverPoint&&hoverPoint.series;if(hoverPoint){if(shared&&!hoverSeries.noSharedTooltip){searchSeries=series.filter(function(s){return eventArgs.filter?eventArgs.filter(s):filter(s)&&!s.noSharedTooltip});searchSeries.forEach(function(s){var point=Pointer_find(s.points,function(p){return p.x===hoverPoint.x&&!p.isNull});if(Pointer_isObject(point)){if(s.boosted&&s.boost){point=s.boost.getPoint(point)}hoverPoints.push(point)}})}else{hoverPoints.push(hoverPoint)}}eventArgs={hoverPoint:hoverPoint};Pointer_fireEvent(this,"afterGetHoverData",eventArgs);return{hoverPoint:eventArgs.hoverPoint,hoverSeries:hoverSeries,hoverPoints:hoverPoints}};Pointer.prototype.getPointFromEvent=function(e){var target=e.target,point;while(target&&!point){point=target.point;target=target.parentNode}return point};Pointer.prototype.onTrackerMouseOut=function(e){var chart=this.chart;var relatedTarget=e.relatedTarget;var series=chart.hoverSeries;this.isDirectTouch=false;if(series&&relatedTarget&&!series.stickyTracking&&!this.inClass(relatedTarget,"highcharts-tooltip")&&(!this.inClass(relatedTarget,"highcharts-series-"+series.index)||!this.inClass(relatedTarget,"highcharts-tracker"))){series.onMouseOut()}};Pointer.prototype.inClass=function(element,className){var elem=element,elemClassName;while(elem){elemClassName=Pointer_attr(elem,"class");if(elemClassName){if(elemClassName.indexOf(className)!==-1){return true}if(elemClassName.indexOf("highcharts-container")!==-1){return false}}elem=elem.parentElement}};Pointer.prototype.normalize=function(e,chartPosition){var touches=e.touches;var ePos=touches?touches.length?touches.item(0):Pointer_pick(touches.changedTouches,e.changedTouches)[0]:e;if(!chartPosition){chartPosition=this.getChartPosition()}var chartX=ePos.pageX-chartPosition.left,chartY=ePos.pageY-chartPosition.top;chartX/=chartPosition.scaleX;chartY/=chartPosition.scaleY;return Pointer_extend(e,{chartX:Math.round(chartX),chartY:Math.round(chartY)})};Pointer.prototype.onContainerClick=function(e){var chart=this.chart;var hoverPoint=chart.hoverPoint;var pEvt=this.normalize(e);var plotLeft=chart.plotLeft;var plotTop=chart.plotTop;if(!chart.cancelClick){if(hoverPoint&&this.inClass(pEvt.target,"highcharts-tracker")){Pointer_fireEvent(hoverPoint.series,"click",Pointer_extend(pEvt,{point:hoverPoint}));if(chart.hoverPoint){hoverPoint.firePointEvent("click",pEvt)}}else{Pointer_extend(pEvt,this.getCoordinates(pEvt));if(chart.isInsidePlot(pEvt.chartX-plotLeft,pEvt.chartY-plotTop,{visiblePlotOnly:true})){Pointer_fireEvent(chart,"click",pEvt)}}}};Pointer.prototype.onContainerMouseDown=function(e){var _a;var isPrimaryButton=((e.buttons||e.button)&1)===1;e=this.normalize(e);if(Core_Globals.isFirefox&&e.button!==0){this.onContainerMouseMove(e)}if(typeof e.button==="undefined"||isPrimaryButton){this.zoomOption(e);if(isPrimaryButton){(_a=e.preventDefault)===null||_a===void 0?void 0:_a.call(e)}this.dragStart(e)}};Pointer.prototype.onContainerMouseLeave=function(e){var pointer=(Pointer_charts[Pointer_pick(Pointer.hoverChartIndex,-1)]||{}).pointer;e=this.normalize(e);this.onContainerMouseMove(e);if(pointer&&!this.inClass(e.relatedTarget,"highcharts-tooltip")){pointer.reset();pointer.chartPosition=void 0}};Pointer.prototype.onContainerMouseEnter=function(){delete this.chartPosition};Pointer.prototype.onContainerMouseMove=function(e){var chart=this.chart,tooltip=chart.tooltip,pEvt=this.normalize(e);this.setHoverChartIndex(e);if(chart.mouseIsDown==="mousedown"||this.touchSelect(pEvt)){this.drag(pEvt)}if(!chart.openMenu&&(this.inClass(pEvt.target,"highcharts-tracker")||chart.isInsidePlot(pEvt.chartX-chart.plotLeft,pEvt.chartY-chart.plotTop,{visiblePlotOnly:true}))&&!(tooltip&&tooltip.shouldStickOnContact(pEvt))){if(this.inClass(pEvt.target,"highcharts-no-tooltip")){this.reset(false,0)}else{this.runPointActions(pEvt)}}};Pointer.prototype.onDocumentTouchEnd=function(e){this.onDocumentMouseUp(e)};Pointer.prototype.onContainerTouchMove=function(e){if(this.touchSelect(e)){this.onContainerMouseMove(e)}else{this.touch(e)}};Pointer.prototype.onContainerTouchStart=function(e){if(this.touchSelect(e)){this.onContainerMouseDown(e)}else{this.zoomOption(e);this.touch(e,true)}};Pointer.prototype.onDocumentMouseMove=function(e){var chart=this.chart;var tooltip=chart.tooltip;var chartPosition=this.chartPosition;var pEvt=this.normalize(e,chartPosition);if(chartPosition&&!chart.isInsidePlot(pEvt.chartX-chart.plotLeft,pEvt.chartY-chart.plotTop,{visiblePlotOnly:true})&&!(tooltip&&tooltip.shouldStickOnContact(pEvt))&&(pEvt.target===chart.container.ownerDocument||!this.inClass(pEvt.target,"highcharts-tracker"))){this.reset()}};Pointer.prototype.onDocumentMouseUp=function(e){var _a,_b;(_b=(_a=Pointer_charts[Pointer_pick(Pointer.hoverChartIndex,-1)])===null||_a===void 0?void 0:_a.pointer)===null||_b===void 0?void 0:_b.drop(e)};Pointer.prototype.pinch=function(e){var _this=this;var pointer=this,chart=pointer.chart,hasZoom=pointer.hasZoom,lastTouches=pointer.lastTouches,touches=[].map.call(e.touches||[],function(touch){return pointer.normalize(touch)}),touchesLength=touches.length,fireClickEvent=touchesLength===1&&(pointer.inClass(e.target,"highcharts-tracker")&&chart.runTrackerClick||pointer.runChartClick),tooltip=chart.tooltip,followTouchMove=touchesLength===1&&Pointer_pick(tooltip===null||tooltip===void 0?void 0:tooltip.options.followTouchMove,true);if(touchesLength>1){pointer.initiated=true}else if(followTouchMove){pointer.initiated=false}if(hasZoom&&pointer.initiated&&!fireClickEvent&&e.cancelable!==false){e.preventDefault()}if(e.type==="touchstart"){pointer.pinchDown=touches;pointer.res=true;chart.mouseDownX=e.chartX}else if(followTouchMove){this.runPointActions(pointer.normalize(e))}else if(lastTouches){Pointer_fireEvent(chart,"touchpan",{originalEvent:e,touches:touches},function(){var boxFromTouches=function(touches){var finger0=touches[0],finger1=touches[1]||finger0;return{x:finger0.chartX,y:finger0.chartY,width:finger1.chartX-finger0.chartX,height:finger1.chartY-finger0.chartY}};chart.transform({axes:chart.axes.filter(function(axis){return axis.zoomEnabled&&(_this.zoomHor&&axis.horiz||_this.zoomVert&&!axis.horiz)}),to:boxFromTouches(touches),from:boxFromTouches(lastTouches),trigger:e.type})});if(pointer.res){pointer.res=false;this.reset(false,0)}}pointer.lastTouches=touches};Pointer.prototype.reset=function(allowMove,delay){var pointer=this,chart=pointer.chart,hoverSeries=chart.hoverSeries,hoverPoint=chart.hoverPoint,hoverPoints=chart.hoverPoints,tooltip=chart.tooltip,tooltipPoints=tooltip&&tooltip.shared?hoverPoints:hoverPoint;if(allowMove&&tooltipPoints){Pointer_splat(tooltipPoints).forEach(function(point){if(point.series.isCartesian&&typeof point.plotX==="undefined"){allowMove=false}})}if(allowMove){if(tooltip&&tooltipPoints&&Pointer_splat(tooltipPoints).length){tooltip.refresh(tooltipPoints);if(tooltip.shared&&hoverPoints){hoverPoints.forEach(function(point){point.setState(point.state,true);if(point.series.isCartesian){if(point.series.xAxis.crosshair){point.series.xAxis.drawCrosshair(null,point)}if(point.series.yAxis.crosshair){point.series.yAxis.drawCrosshair(null,point)}}})}else if(hoverPoint){hoverPoint.setState(hoverPoint.state,true);chart.axes.forEach(function(axis){if(axis.crosshair&&hoverPoint.series[axis.coll]===axis){axis.drawCrosshair(null,hoverPoint)}})}}}else{if(hoverPoint){hoverPoint.onMouseOut()}if(hoverPoints){hoverPoints.forEach(function(point){point.setState()})}if(hoverSeries){hoverSeries.onMouseOut()}if(tooltip){tooltip.hide(delay)}if(pointer.unDocMouseMove){pointer.unDocMouseMove=pointer.unDocMouseMove()}chart.axes.forEach(function(axis){axis.hideCrosshair()});chart.hoverPoints=chart.hoverPoint=void 0}};Pointer.prototype.runPointActions=function(e,p,force){var pointer=this,chart=pointer.chart,series=chart.series,tooltip=chart.tooltip&&chart.tooltip.options.enabled?chart.tooltip:void 0,shared=tooltip?tooltip.shared:false;var hoverPoint=p||chart.hoverPoint,hoverSeries=hoverPoint&&hoverPoint.series||chart.hoverSeries;var isDirectTouch=(!e||e.type!=="touchmove")&&(!!p||hoverSeries&&hoverSeries.directTouch&&pointer.isDirectTouch),hoverData=this.getHoverData(hoverPoint,hoverSeries,series,isDirectTouch,shared,e);hoverPoint=hoverData.hoverPoint;hoverSeries=hoverData.hoverSeries;var points=hoverData.hoverPoints,followPointer=hoverSeries&&hoverSeries.tooltipOptions.followPointer&&!hoverSeries.tooltipOptions.split,useSharedTooltip=shared&&hoverSeries&&!hoverSeries.noSharedTooltip;if(hoverPoint&&(force||hoverPoint!==chart.hoverPoint||tooltip&&tooltip.isHidden)){(chart.hoverPoints||[]).forEach(function(p){if(points.indexOf(p)===-1){p.setState()}});if(chart.hoverSeries!==hoverSeries){hoverSeries.onMouseOver()}pointer.applyInactiveState(points);(points||[]).forEach(function(p){p.setState("hover")});if(chart.hoverPoint){chart.hoverPoint.firePointEvent("mouseOut")}if(!hoverPoint.series){return}chart.hoverPoints=points;chart.hoverPoint=hoverPoint;hoverPoint.firePointEvent("mouseOver",void 0,function(){if(tooltip&&hoverPoint){tooltip.refresh(useSharedTooltip?points:hoverPoint,e)}})}else if(followPointer&&tooltip&&!tooltip.isHidden){var anchor=tooltip.getAnchor([{}],e);if(chart.isInsidePlot(anchor[0],anchor[1],{visiblePlotOnly:true})){tooltip.updatePosition({plotX:anchor[0],plotY:anchor[1]})}}if(!pointer.unDocMouseMove){pointer.unDocMouseMove=Pointer_addEvent(chart.container.ownerDocument,"mousemove",function(e){var _a,_b,_c;return(_c=(_b=Pointer_charts[(_a=Pointer.hoverChartIndex)!==null&&_a!==void 0?_a:-1])===null||_b===void 0?void 0:_b.pointer)===null||_c===void 0?void 0:_c.onDocumentMouseMove(e)});pointer.eventsToUnbind.push(pointer.unDocMouseMove)}chart.axes.forEach(function drawAxisCrosshair(axis){var snap=Pointer_pick((axis.crosshair||{}).snap,true);var point;if(snap){point=chart.hoverPoint;if(!point||point.series[axis.coll]!==axis){point=Pointer_find(points,function(p){return p.series&&p.series[axis.coll]===axis})}}if(point||!snap){axis.drawCrosshair(e,point)}else{axis.hideCrosshair()}})};Pointer.prototype.setDOMEvents=function(){var _this=this;var container=this.chart.container,ownerDoc=container.ownerDocument;container.onmousedown=this.onContainerMouseDown.bind(this);container.onmousemove=this.onContainerMouseMove.bind(this);container.onclick=this.onContainerClick.bind(this);this.eventsToUnbind.push(Pointer_addEvent(container,"mouseenter",this.onContainerMouseEnter.bind(this)),Pointer_addEvent(container,"mouseleave",this.onContainerMouseLeave.bind(this)));if(!Pointer.unbindDocumentMouseUp.some(function(el){return el.doc===ownerDoc})){Pointer.unbindDocumentMouseUp.push({doc:ownerDoc,unbind:Pointer_addEvent(ownerDoc,"mouseup",this.onDocumentMouseUp.bind(this))})}var parent=this.chart.renderTo.parentElement;while(parent&&parent.tagName!=="BODY"){this.eventsToUnbind.push(Pointer_addEvent(parent,"scroll",function(){delete _this.chartPosition}));parent=parent.parentElement}this.eventsToUnbind.push(Pointer_addEvent(container,"touchstart",this.onContainerTouchStart.bind(this),{passive:false}),Pointer_addEvent(container,"touchmove",this.onContainerTouchMove.bind(this),{passive:false}));if(!Pointer.unbindDocumentTouchEnd){Pointer.unbindDocumentTouchEnd=Pointer_addEvent(ownerDoc,"touchend",this.onDocumentTouchEnd.bind(this),{passive:false})}this.setPointerCapture();Pointer_addEvent(this.chart,"redraw",this.setPointerCapture.bind(this))};Pointer.prototype.setPointerCapture=function(){var _a,_b;if(!Pointer_isTouchDevice){return}var pointer=this,events=pointer.pointerCaptureEventsToUnbind,chart=pointer.chart,container=chart.container,followTouchMove=Pointer_pick((_a=chart.options.tooltip)===null||_a===void 0?void 0:_a.followTouchMove,true),shouldHave=followTouchMove&&chart.series.some(function(series){return series.options.findNearestPointBy.indexOf("y")>-1});if(!pointer.hasPointerCapture&&shouldHave){events.push(Pointer_addEvent(container,"pointerdown",function(e){var _a,_b;if((_a=e.target)===null||_a===void 0?void 0:_a.hasPointerCapture(e.pointerId)){(_b=e.target)===null||_b===void 0?void 0:_b.releasePointerCapture(e.pointerId)}}),Pointer_addEvent(container,"pointermove",function(e){var _a,_b;(_b=(_a=chart.pointer)===null||_a===void 0?void 0:_a.getPointFromEvent(e))===null||_b===void 0?void 0:_b.onMouseOver(e)}));if(!chart.styledMode){Pointer_css(container,{"touch-action":"none"})}container.className+=" highcharts-no-touch-action";pointer.hasPointerCapture=true}else if(pointer.hasPointerCapture&&!shouldHave){events.forEach(function(e){return e()});events.length=0;if(!chart.styledMode){Pointer_css(container,{"touch-action":Pointer_pick((_b=chart.options.chart.style)===null||_b===void 0?void 0:_b["touch-action"],"manipulation")})}container.className=container.className.replace(" highcharts-no-touch-action","");pointer.hasPointerCapture=false}};Pointer.prototype.setHoverChartIndex=function(e){var _a;var chart=this.chart;var hoverChart=Core_Globals.charts[Pointer_pick(Pointer.hoverChartIndex,-1)];if(hoverChart&&hoverChart!==chart){var relatedTargetObj={relatedTarget:chart.container};if(e&&!(e===null||e===void 0?void 0:e.relatedTarget)){e=Pointer_assign(Pointer_assign({},relatedTargetObj),e)}(_a=hoverChart.pointer)===null||_a===void 0?void 0:_a.onContainerMouseLeave(e||relatedTargetObj)}if(!hoverChart||!hoverChart.mouseIsDown){Pointer.hoverChartIndex=chart.index}};Pointer.prototype.touch=function(e,start){var _a=this,chart=_a.chart,_b=_a.pinchDown,pinchDown=_b===void 0?[]:_b;var hasMoved,isInside;this.setHoverChartIndex();e=this.normalize(e);if(e.touches.length===1){isInside=chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop,{visiblePlotOnly:true});if(isInside&&!chart.openMenu){if(start){this.runPointActions(e)}if(e.type==="touchmove"){hasMoved=pinchDown[0]?Math.pow(pinchDown[0].chartX-e.chartX,2)+Math.pow(pinchDown[0].chartY-e.chartY,2)>=16:false}if(Pointer_pick(hasMoved,true)){this.pinch(e)}}else if(start){this.reset()}}else if(e.touches.length===2){this.pinch(e)}};Pointer.prototype.touchSelect=function(e){return Boolean(this.chart.zooming.singleTouch&&e.touches&&e.touches.length===1)};Pointer.prototype.zoomOption=function(e){var chart=this.chart,inverted=chart.inverted;var zoomType=chart.zooming.type||"",zoomX,zoomY;if(/touch/.test(e.type)){zoomType=Pointer_pick(chart.zooming.pinchType,zoomType)}this.zoomX=zoomX=/x/.test(zoomType);this.zoomY=zoomY=/y/.test(zoomType);this.zoomHor=zoomX&&!inverted||zoomY&&inverted;this.zoomVert=zoomY&&!inverted||zoomX&&inverted;this.hasZoom=zoomX||zoomY};Pointer.unbindDocumentMouseUp=[];return Pointer}();(function(Pointer){function compose(ChartClass){if(Pointer_pushUnique(Pointer_composed,"Core.Pointer")){Pointer_addEvent(ChartClass,"beforeRender",function(){this.pointer=new Pointer(this,this.options)})}}Pointer.compose=compose})(Pointer||(Pointer={}));var Core_Pointer=Pointer;"";var DataTableCore_fireEvent=Core_Utilities.fireEvent,DataTableCore_isArray=Core_Utilities.isArray,DataTableCore_objectEach=Core_Utilities.objectEach,DataTableCore_uniqueKey=Core_Utilities.uniqueKey;var DataTableCore=function(){function DataTableCore(options){if(options===void 0){options={}}var _this=this;this.autoId=!options.id;this.columns={};this.id=options.id||DataTableCore_uniqueKey();this.modified=this;this.rowCount=0;this.versionTag=DataTableCore_uniqueKey();var rowCount=0;DataTableCore_objectEach(options.columns||{},function(column,columnName){_this.columns[columnName]=column.slice();rowCount=Math.max(rowCount,column.length)});this.applyRowCount(rowCount)}DataTableCore.prototype.applyRowCount=function(rowCount){this.rowCount=rowCount;DataTableCore_objectEach(this.columns,function(column){if(DataTableCore_isArray(column)){column.length=rowCount}})};DataTableCore.prototype.getColumn=function(columnName,asReference){return this.columns[columnName]};DataTableCore.prototype.getColumns=function(columnNames,asReference){var _this=this;return(columnNames||Object.keys(this.columns)).reduce(function(columns,columnName){columns[columnName]=_this.columns[columnName];return columns},{})};DataTableCore.prototype.getRow=function(rowIndex,columnNames){var _this=this;return(columnNames||Object.keys(this.columns)).map(function(key){var _a;return(_a=_this.columns[key])===null||_a===void 0?void 0:_a[rowIndex]})};DataTableCore.prototype.setColumn=function(columnName,column,rowIndex,eventDetail){var _a;if(column===void 0){column=[]}if(rowIndex===void 0){rowIndex=0}this.setColumns((_a={},_a[columnName]=column,_a),rowIndex,eventDetail)};DataTableCore.prototype.setColumns=function(columns,rowIndex,eventDetail){var _this=this;var rowCount=this.rowCount;DataTableCore_objectEach(columns,function(column,columnName){_this.columns[columnName]=column.slice();rowCount=column.length});this.applyRowCount(rowCount);if(!(eventDetail===null||eventDetail===void 0?void 0:eventDetail.silent)){DataTableCore_fireEvent(this,"afterSetColumns");this.versionTag=DataTableCore_uniqueKey()}};DataTableCore.prototype.setRow=function(row,rowIndex,insert,eventDetail){if(rowIndex===void 0){rowIndex=this.rowCount}var columns=this.columns,indexRowCount=insert?this.rowCount+1:rowIndex+1;DataTableCore_objectEach(row,function(cellValue,columnName){var column=columns[columnName]||(eventDetail===null||eventDetail===void 0?void 0:eventDetail.addColumns)!==false&&new Array(indexRowCount);if(column){if(insert){column.splice(rowIndex,0,cellValue)}else{column[rowIndex]=cellValue}columns[columnName]=column}});if(indexRowCount>this.rowCount){this.applyRowCount(indexRowCount)}if(!(eventDetail===null||eventDetail===void 0?void 0:eventDetail.silent)){DataTableCore_fireEvent(this,"afterSetRows");this.versionTag=DataTableCore_uniqueKey()}};return DataTableCore}();var Data_DataTableCore=DataTableCore;"";var LegendSymbol_spreadArray=undefined&&undefined.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var LegendSymbol_extend=Core_Utilities.extend,LegendSymbol_merge=Core_Utilities.merge,LegendSymbol_pick=Core_Utilities.pick;var LegendSymbol;(function(LegendSymbol){function areaMarker(legend,item){lineMarker.call(this,legend,item,true)}LegendSymbol.areaMarker=areaMarker;function lineMarker(legend,item,hasArea){var _a,_b;var legendItem=this.legendItem=this.legendItem||{},_c=this,chart=_c.chart,options=_c.options,_d=legend.baseline,baseline=_d===void 0?0:_d,symbolWidth=legend.symbolWidth,symbolHeight=legend.symbolHeight,symbol=this.symbol||"circle",generalRadius=symbolHeight/2,renderer=chart.renderer,legendItemGroup=legendItem.group,verticalCenter=baseline-Math.round((((_a=legend.fontMetrics)===null||_a===void 0?void 0:_a.b)||symbolHeight)*(hasArea?.4:.3)),attr={};var legendSymbol,markerOptions=options.marker,lineSizer=0;if(!chart.styledMode){attr["stroke-width"]=Math.min(options.lineWidth||0,24);if(options.dashStyle){attr.dashstyle=options.dashStyle}else if(options.linecap!=="square"){attr["stroke-linecap"]="round"}}legendItem.line=renderer.path().addClass("highcharts-graph").attr(attr).add(legendItemGroup);if(hasArea){legendItem.area=renderer.path().addClass("highcharts-area").add(legendItemGroup)}if(attr["stroke-linecap"]){lineSizer=Math.min(legendItem.line.strokeWidth(),symbolWidth)/2}if(symbolWidth){var d=[["M",lineSizer,verticalCenter],["L",symbolWidth-lineSizer,verticalCenter]];legendItem.line.attr({d:d});(_b=legendItem.area)===null||_b===void 0?void 0:_b.attr({d:LegendSymbol_spreadArray(LegendSymbol_spreadArray([],d,true),[["L",symbolWidth-lineSizer,baseline],["L",lineSizer,baseline]],false)})}if(markerOptions&&markerOptions.enabled!==false&&symbolWidth){var radius=Math.min(LegendSymbol_pick(markerOptions.radius,generalRadius),generalRadius);if(symbol.indexOf("url")===0){markerOptions=LegendSymbol_merge(markerOptions,{width:symbolHeight,height:symbolHeight});radius=0}legendItem.symbol=legendSymbol=renderer.symbol(symbol,symbolWidth/2-radius,verticalCenter-radius,2*radius,2*radius,LegendSymbol_extend({context:"legend"},markerOptions)).addClass("highcharts-point").add(legendItemGroup);legendSymbol.isMarker=true}}LegendSymbol.lineMarker=lineMarker;function rectangle(legend,item){var legendItem=item.legendItem||{},options=legend.options,symbolHeight=legend.symbolHeight,square=options.squareSymbol,symbolWidth=square?symbolHeight:legend.symbolWidth;legendItem.symbol=this.chart.renderer.rect(square?(legend.symbolWidth-symbolHeight)/2:0,legend.baseline-symbolHeight+1,symbolWidth,symbolHeight,LegendSymbol_pick(legend.options.symbolRadius,symbolHeight/2)).addClass("highcharts-point").attr({zIndex:3}).add(legendItem.group)}LegendSymbol.rectangle=rectangle})(LegendSymbol||(LegendSymbol={}));var Legend_LegendSymbol=LegendSymbol;var seriesDefaults={lineWidth:2,allowPointSelect:false,crisp:true,showCheckbox:false,animation:{duration:1e3},enableMouseTracking:true,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:true},hover:{animation:{duration:150},enabled:true,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:true,formatter:function(){var numberFormatter=this.series.chart.numberFormatter;return typeof this.y!=="number"?"":numberFormatter(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:true,states:{normal:{animation:true},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:true,turboThreshold:1e3,findNearestPointBy:"x"};var SeriesDefaults=seriesDefaults;var SeriesRegistry_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var SeriesRegistry_defaultOptions=Defaults.defaultOptions;var SeriesRegistry_extend=Core_Utilities.extend,SeriesRegistry_extendClass=Core_Utilities.extendClass,SeriesRegistry_merge=Core_Utilities.merge;var SeriesRegistry;(function(SeriesRegistry){SeriesRegistry.seriesTypes=Core_Globals.seriesTypes;function registerSeriesType(seriesType,SeriesClass){var defaultPlotOptions=SeriesRegistry_defaultOptions.plotOptions||{},seriesOptions=SeriesClass.defaultOptions,seriesProto=SeriesClass.prototype;seriesProto.type=seriesType;if(!seriesProto.pointClass){seriesProto.pointClass=Series_Point}if(SeriesRegistry.seriesTypes[seriesType]){return false}if(seriesOptions){defaultPlotOptions[seriesType]=seriesOptions}SeriesRegistry.seriesTypes[seriesType]=SeriesClass;return true}SeriesRegistry.registerSeriesType=registerSeriesType;function seriesType(type,parent,options,seriesProto,pointProto){var defaultPlotOptions=SeriesRegistry_defaultOptions.plotOptions||{};parent=parent||"";defaultPlotOptions[type]=SeriesRegistry_merge(defaultPlotOptions[parent],options);delete SeriesRegistry.seriesTypes[type];registerSeriesType(type,SeriesRegistry_extendClass(SeriesRegistry.seriesTypes[parent]||function(){},seriesProto));SeriesRegistry.seriesTypes[type].prototype.type=type;if(pointProto){var PointClass=function(_super){SeriesRegistry_extends(PointClass,_super);function PointClass(){return _super!==null&&_super.apply(this,arguments)||this}return PointClass}(Series_Point);SeriesRegistry_extend(PointClass.prototype,pointProto);SeriesRegistry.seriesTypes[type].prototype.pointClass=PointClass}return SeriesRegistry.seriesTypes[type]}SeriesRegistry.seriesType=seriesType})(SeriesRegistry||(SeriesRegistry={}));var Series_SeriesRegistry=SeriesRegistry;var Series_assign=undefined&&undefined.__assign||function(){Series_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return Series_assign.apply(this,arguments)};var Series_spreadArray=undefined&&undefined.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var Series_animObject=AnimationUtilities.animObject,Series_setAnimation=AnimationUtilities.setAnimation;var Series_defaultOptions=Defaults.defaultOptions;var Series_registerEventOptions=Core_Foundation.registerEventOptions;var Series_svg=Core_Globals.svg,Series_win=Core_Globals.win;var seriesTypes=Series_SeriesRegistry.seriesTypes;var Series_arrayMax=Core_Utilities.arrayMax,Series_arrayMin=Core_Utilities.arrayMin,Series_clamp=Core_Utilities.clamp,Series_correctFloat=Core_Utilities.correctFloat,Series_crisp=Core_Utilities.crisp,Series_defined=Core_Utilities.defined,Series_destroyObjectProperties=Core_Utilities.destroyObjectProperties,Series_diffObjects=Core_Utilities.diffObjects,Series_erase=Core_Utilities.erase,Series_error=Core_Utilities.error,Series_extend=Core_Utilities.extend,Series_find=Core_Utilities.find,Series_fireEvent=Core_Utilities.fireEvent,Series_getClosestDistance=Core_Utilities.getClosestDistance,Series_getNestedProperty=Core_Utilities.getNestedProperty,Series_insertItem=Core_Utilities.insertItem,Series_isArray=Core_Utilities.isArray,Series_isNumber=Core_Utilities.isNumber,Series_isString=Core_Utilities.isString,Series_merge=Core_Utilities.merge,Series_objectEach=Core_Utilities.objectEach,Series_pick=Core_Utilities.pick,Series_removeEvent=Core_Utilities.removeEvent,Series_syncTimeout=Core_Utilities.syncTimeout;var Series=function(){function Series(){this.zoneAxis="y"}Series.prototype.init=function(chart,userOptions){var _a;Series_fireEvent(this,"init",{options:userOptions});(_a=this.dataTable)!==null&&_a!==void 0?_a:this.dataTable=new Data_DataTableCore;var series=this,chartSeries=chart.series;this.eventsToUnbind=[];series.chart=chart;series.options=series.setOptions(userOptions);var options=series.options,visible=options.visible!==false;series.linkedSeries=[];series.bindAxes();Series_extend(series,{name:options.name,state:"",visible:visible,selected:options.selected===true});Series_registerEventOptions(this,options);var events=options.events;if(events&&events.click||options.point&&options.point.events&&options.point.events.click||options.allowPointSelect){chart.runTrackerClick=true}series.getColor();series.getSymbol();if(series.isCartesian){chart.hasCartesianSeries=true}var lastSeries;if(chartSeries.length){lastSeries=chartSeries[chartSeries.length-1]}series._i=Series_pick(lastSeries&&lastSeries._i,-1)+1;series.opacity=series.options.opacity;chart.orderItems("series",Series_insertItem(this,chartSeries));if(options.dataSorting&&options.dataSorting.enabled){series.setDataSortingOptions()}else if(!series.points&&!series.data){series.setData(options.data,false)}Series_fireEvent(this,"afterInit")};Series.prototype.is=function(type){return seriesTypes[type]&&this instanceof seriesTypes[type]};Series.prototype.bindAxes=function(){var series=this,seriesOptions=series.options,chart=series.chart;var axisOptions;Series_fireEvent(this,"bindAxes",null,function(){(series.axisTypes||[]).forEach(function(coll){(chart[coll]||[]).forEach(function(axis){axisOptions=axis.options;if(Series_pick(seriesOptions[coll],0)===axis.index||typeof seriesOptions[coll]!=="undefined"&&seriesOptions[coll]===axisOptions.id){Series_insertItem(series,axis.series);series[coll]=axis;axis.isDirty=true}});if(!series[coll]&&series.optionalAxis!==coll){Series_error(18,true,chart)}})});Series_fireEvent(this,"afterBindAxes")};Series.prototype.hasData=function(){return this.visible&&typeof this.dataMax!=="undefined"&&typeof this.dataMin!=="undefined"||this.visible&&this.dataTable.rowCount>0};Series.prototype.hasMarkerChanged=function(options,oldOptions){var marker=options.marker,oldMarker=oldOptions.marker||{};return marker&&(oldMarker.enabled&&!marker.enabled||oldMarker.symbol!==marker.symbol||oldMarker.height!==marker.height||oldMarker.width!==marker.width)};Series.prototype.autoIncrement=function(x){var _a,_b;var options=this.options,_c=this.options,pointIntervalUnit=_c.pointIntervalUnit,relativeXValue=_c.relativeXValue,time=this.chart.time,xIncrement=(_b=(_a=this.xIncrement)!==null&&_a!==void 0?_a:time.parse(options.pointStart))!==null&&_b!==void 0?_b:0;var pointInterval;this.pointInterval=pointInterval=Series_pick(this.pointInterval,options.pointInterval,1);if(relativeXValue&&Series_isNumber(x)){pointInterval*=x}if(pointIntervalUnit){var d=time.toParts(xIncrement);if(pointIntervalUnit==="day"){d[2]+=pointInterval}else if(pointIntervalUnit==="month"){d[1]+=pointInterval}else if(pointIntervalUnit==="year"){d[0]+=pointInterval}pointInterval=time.makeTime.apply(time,d)-xIncrement}if(relativeXValue&&Series_isNumber(x)){return xIncrement+pointInterval}this.xIncrement=xIncrement+pointInterval;return xIncrement};Series.prototype.setDataSortingOptions=function(){var options=this.options;Series_extend(this,{requireSorting:false,sorted:false,enabledDataSorting:true,allowDG:false});if(!Series_defined(options.pointRange)){options.pointRange=1}};Series.prototype.setOptions=function(itemOptions){var _a,_b;var chart=this.chart,chartOptions=chart.options,plotOptions=chartOptions.plotOptions,userOptions=chart.userOptions||{},seriesUserOptions=Series_merge(itemOptions),styledMode=chart.styledMode,e={plotOptions:plotOptions,userOptions:seriesUserOptions};var zone;Series_fireEvent(this,"setOptions",e);var typeOptions=e.plotOptions[this.type],userPlotOptions=userOptions.plotOptions||{},userPlotOptionsSeries=userPlotOptions.series||{},defaultPlotOptionsType=Series_defaultOptions.plotOptions[this.type]||{},userPlotOptionsType=userPlotOptions[this.type]||{};this.userOptions=e.userOptions;var options=Series_merge(typeOptions,plotOptions.series,userPlotOptionsType,seriesUserOptions);this.tooltipOptions=Series_merge(Series_defaultOptions.tooltip,(_a=Series_defaultOptions.plotOptions.series)===null||_a===void 0?void 0:_a.tooltip,defaultPlotOptionsType===null||defaultPlotOptionsType===void 0?void 0:defaultPlotOptionsType.tooltip,chart.userOptions.tooltip,(_b=userPlotOptions.series)===null||_b===void 0?void 0:_b.tooltip,userPlotOptionsType.tooltip,seriesUserOptions.tooltip);this.stickyTracking=Series_pick(seriesUserOptions.stickyTracking,userPlotOptionsType.stickyTracking,userPlotOptionsSeries.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?true:options.stickyTracking);if(typeOptions.marker===null){delete options.marker}this.zoneAxis=options.zoneAxis||"y";var zones=this.zones=(options.zones||[]).map(function(z){return Series_assign({},z)});if((options.negativeColor||options.negativeFillColor)&&!options.zones){zone={value:options[this.zoneAxis+"Threshold"]||options.threshold||0,className:"highcharts-negative"};if(!styledMode){zone.color=options.negativeColor;zone.fillColor=options.negativeFillColor}zones.push(zone)}if(zones.length&&Series_defined(zones[zones.length-1].value)){zones.push(styledMode?{}:{color:this.color,fillColor:this.fillColor})}Series_fireEvent(this,"afterSetOptions",{options:options});return options};Series.prototype.getName=function(){return Series_pick(this.options.name,"Series "+(this.index+1))};Series.prototype.getCyclic=function(prop,value,defaults){var chart=this.chart,indexName=""+prop+"Index",counterName=""+prop+"Counter",len=(defaults===null||defaults===void 0?void 0:defaults.length)||chart.options.chart.colorCount;var i,setting;if(!value){setting=Series_pick(prop==="color"?this.options.colorIndex:void 0,this[indexName]);if(Series_defined(setting)){i=setting}else{if(!chart.series.length){chart[counterName]=0}i=chart[counterName]%len;chart[counterName]+=1}if(defaults){value=defaults[i]}}if(typeof i!=="undefined"){this[indexName]=i}this[prop]=value};Series.prototype.getColor=function(){if(this.chart.styledMode){this.getCyclic("color")}else if(this.options.colorByPoint){this.color="#cccccc"}else{this.getCyclic("color",this.options.color||Series_defaultOptions.plotOptions[this.type].color,this.chart.options.colors)}};Series.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]};Series.prototype.getSymbol=function(){var seriesMarkerOption=this.options.marker;this.getCyclic("symbol",seriesMarkerOption.symbol,this.chart.options.symbols)};Series.prototype.getColumn=function(columnName,modified){return(modified?this.dataTable.modified:this.dataTable).getColumn(columnName,true)||[]};Series.prototype.findPointIndex=function(optionsObject,fromIndex){var id=optionsObject.id,x=optionsObject.x,oldData=this.points,dataSorting=this.options.dataSorting;var matchingPoint,matchedById,pointIndex;if(id){var item=this.chart.get(id);if(item instanceof Series_Point){matchingPoint=item}}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){var matcher=function(oldPoint){return!oldPoint.touched&&oldPoint.index===optionsObject.index};if(dataSorting&&dataSorting.matchByName){matcher=function(oldPoint){return!oldPoint.touched&&oldPoint.name===optionsObject.name}}else if(this.options.relativeXValue){matcher=function(oldPoint){return!oldPoint.touched&&oldPoint.options.x===optionsObject.x}}matchingPoint=Series_find(oldData,matcher);if(!matchingPoint){return void 0}}if(matchingPoint){pointIndex=matchingPoint&&matchingPoint.index;if(typeof pointIndex!=="undefined"){matchedById=true}}if(typeof pointIndex==="undefined"&&Series_isNumber(x)){pointIndex=this.getColumn("x").indexOf(x,fromIndex)}if(pointIndex!==-1&&typeof pointIndex!=="undefined"&&this.cropped){pointIndex=pointIndex>=this.cropStart?pointIndex-this.cropStart:pointIndex}if(!matchedById&&Series_isNumber(pointIndex)&&oldData[pointIndex]&&oldData[pointIndex].touched){pointIndex=void 0}return pointIndex};Series.prototype.updateData=function(data,animation){var options=this.options,dataSorting=options.dataSorting,oldData=this.points,pointsToAdd=[],requireSorting=this.requireSorting,equalLength=data.length===oldData.length;var hasUpdatedByKey,i,point,lastIndex,succeeded=true;this.xIncrement=null;data.forEach(function(pointOptions,i){var optionsObject=Series_defined(pointOptions)&&this.pointClass.prototype.optionsToObject.call({series:this},pointOptions)||{};var pointIndex;var x=optionsObject.x,id=optionsObject.id;if(id||Series_isNumber(x)){pointIndex=this.findPointIndex(optionsObject,lastIndex);if(pointIndex===-1||typeof pointIndex==="undefined"){pointsToAdd.push(pointOptions)}else if(oldData[pointIndex]&&pointOptions!==options.data[pointIndex]){oldData[pointIndex].update(pointOptions,false,null,false);oldData[pointIndex].touched=true;if(requireSorting){lastIndex=pointIndex+1}}else if(oldData[pointIndex]){oldData[pointIndex].touched=true}if(!equalLength||i!==pointIndex||dataSorting&&dataSorting.enabled||this.hasDerivedData){hasUpdatedByKey=true}}else{pointsToAdd.push(pointOptions)}},this);if(hasUpdatedByKey){i=oldData.length;while(i--){point=oldData[i];if(point&&!point.touched&&point.remove){point.remove(false,animation)}}}else if(equalLength&&(!dataSorting||!dataSorting.enabled)){data.forEach(function(point,i){if(point!==oldData[i].y&&!oldData[i].destroyed){oldData[i].update(point,false,null,false)}});pointsToAdd.length=0}else{succeeded=false}oldData.forEach(function(point){if(point){point.touched=false}});if(!succeeded){return false}pointsToAdd.forEach(function(point){this.addPoint(point,false,null,null,false)},this);var xData=this.getColumn("x");if(this.xIncrement===null&&xData.length){this.xIncrement=Series_arrayMax(xData);this.autoIncrement()}return true};Series.prototype.dataColumnKeys=function(){return Series_spreadArray(["x"],this.pointArrayMap||["y"],true)};Series.prototype.setData=function(data,redraw,animation,updatePoints){var _a,_b;var _c,_d;if(redraw===void 0){redraw=true}var series=this,oldData=series.points,oldDataLength=oldData&&oldData.length||0,options=series.options,chart=series.chart,dataSorting=options.dataSorting,xAxis=series.xAxis,turboThreshold=options.turboThreshold,table=this.dataTable,dataColumnKeys=this.dataColumnKeys(),pointValKey=series.pointValKey||"y",pointArrayMap=series.pointArrayMap||[],valueCount=pointArrayMap.length,keys=options.keys;var i,updatedData,indexOfX=0,indexOfY=1,copiedData;if(!chart.options.chart.allowMutatingData){if(options.data){delete series.options.data}if(series.userOptions.data){delete series.userOptions.data}copiedData=Series_merge(true,data)}data=copiedData||data||[];var dataLength=data.length;if(dataSorting&&dataSorting.enabled){data=this.sortData(data)}if(chart.options.chart.allowMutatingData&&updatePoints!==false&&dataLength&&oldDataLength&&!series.cropped&&!series.hasGroupedData&&series.visible&&!series.boosted){updatedData=this.updateData(data,animation)}if(!updatedData){series.xIncrement=null;series.colorCounter=0;var runTurbo=turboThreshold&&dataLength>turboThreshold;if(runTurbo){var firstPoint=series.getFirstValidPoint(data),lastPoint=series.getFirstValidPoint(data,dataLength-1,-1),isShortArray=function(a){return Boolean(Series_isArray(a)&&(keys||Series_isNumber(a[0])))};if(Series_isNumber(firstPoint)&&Series_isNumber(lastPoint)){var x=[],valueData=[];for(var _e=0,data_1=data;_e<data_1.length;_e++){var value=data_1[_e];x.push(this.autoIncrement());valueData.push(value)}table.setColumns((_a={x:x},_a[pointValKey]=valueData,_a))}else if(isShortArray(firstPoint)&&isShortArray(lastPoint)){if(valueCount){var autoX=firstPoint.length===valueCount?1:0,colArray_1=new Array(dataColumnKeys.length).fill(0).map(function(){return[]});for(var _f=0,_g=data;_f<_g.length;_f++){var pt=_g[_f];if(autoX){colArray_1[0].push(this.autoIncrement())}for(var j=autoX;j<=valueCount;j++){(_c=colArray_1[j])===null||_c===void 0?void 0:_c.push(pt[j-autoX])}}table.setColumns(dataColumnKeys.reduce(function(columns,columnName,i){columns[columnName]=colArray_1[i];return columns},{}))}else{if(keys){indexOfX=keys.indexOf("x");indexOfY=keys.indexOf("y");indexOfX=indexOfX>=0?indexOfX:0;indexOfY=indexOfY>=0?indexOfY:1}if(firstPoint.length===1){indexOfY=0}var xData=[],valueData=[];if(indexOfX===indexOfY){for(var _h=0,data_2=data;_h<data_2.length;_h++){var pt=data_2[_h];xData.push(this.autoIncrement());valueData.push(pt[indexOfY])}}else{for(var _j=0,data_3=data;_j<data_3.length;_j++){var pt=data_3[_j];xData.push(pt[indexOfX]);valueData.push(pt[indexOfY])}}table.setColumns((_b={x:xData},_b[pointValKey]=valueData,_b))}}else{runTurbo=false}}if(!runTurbo){var columns=dataColumnKeys.reduce(function(columns,columnName){columns[columnName]=[];return columns},{});for(i=0;i<dataLength;i++){var pt=series.pointClass.prototype.applyOptions.apply({series:series},[data[i]]);for(var _k=0,dataColumnKeys_1=dataColumnKeys;_k<dataColumnKeys_1.length;_k++){var key=dataColumnKeys_1[_k];columns[key][i]=pt[key]}}table.setColumns(columns)}if(Series_isString(this.getColumn("y")[0])){Series_error(14,true,chart)}series.data=[];series.options.data=series.userOptions.data=data;i=oldDataLength;while(i--){(_d=oldData[i])===null||_d===void 0?void 0:_d.destroy()}if(xAxis){xAxis.minRange=xAxis.userMinRange}series.isDirty=chart.isDirtyBox=true;series.isDirtyData=!!oldData;animation=false}if(options.legendType==="point"){this.processData();this.generatePoints()}if(redraw){chart.redraw(animation)}};Series.prototype.sortData=function(data){var series=this,options=series.options,dataSorting=options.dataSorting,sortKey=dataSorting.sortKey||"y",getPointOptionsObject=function(series,pointOptions){return Series_defined(pointOptions)&&series.pointClass.prototype.optionsToObject.call({series:series},pointOptions)||{}};data.forEach(function(pointOptions,i){data[i]=getPointOptionsObject(series,pointOptions);data[i].index=i},this);var sortedData=data.concat().sort(function(a,b){var aValue=Series_getNestedProperty(sortKey,a);var bValue=Series_getNestedProperty(sortKey,b);return bValue<aValue?-1:bValue>aValue?1:0});sortedData.forEach(function(point,i){point.x=i},this);if(series.linkedSeries){series.linkedSeries.forEach(function(linkedSeries){var options=linkedSeries.options,seriesData=options.data;if((!options.dataSorting||!options.dataSorting.enabled)&&seriesData){seriesData.forEach(function(pointOptions,i){seriesData[i]=getPointOptionsObject(linkedSeries,pointOptions);if(data[i]){seriesData[i].x=data[i].x;seriesData[i].index=i}});linkedSeries.setData(seriesData,false)}})}return data};Series.prototype.getProcessedData=function(forceExtremesFromAll){var series=this,table=series.dataTable,isCartesian=series.isCartesian,options=series.options,xAxis=series.xAxis,cropThreshold=options.cropThreshold,getExtremesFromAll=forceExtremesFromAll||series.getExtremesFromAll,logarithmic=xAxis===null||xAxis===void 0?void 0:xAxis.logarithmic,dataLength=table.rowCount;var croppedData,cropped,cropStart=0,xExtremes,min,max,xData=series.getColumn("x"),modified=table,updatingNames=false;if(xAxis){xExtremes=xAxis.getExtremes();min=xExtremes.min;max=xExtremes.max;updatingNames=!!(xAxis.categories&&!xAxis.names.length);if(isCartesian&&series.sorted&&!getExtremesFromAll&&(!cropThreshold||dataLength>cropThreshold||series.forceCrop)){if(xData[dataLength-1]<min||xData[0]>max){modified=new Data_DataTableCore}else if(series.getColumn(series.pointValKey||"y").length&&(xData[0]<min||xData[dataLength-1]>max)){croppedData=this.cropData(table,min,max);modified=croppedData.modified;cropStart=croppedData.start;cropped=true}}}xData=modified.getColumn("x")||[];var closestPointRange=Series_getClosestDistance([logarithmic?xData.map(logarithmic.log2lin):xData],function(){return series.requireSorting&&!updatingNames&&Series_error(15,false,series.chart)});return{modified:modified,cropped:cropped,cropStart:cropStart,closestPointRange:closestPointRange}};Series.prototype.processData=function(force){var series=this,xAxis=series.xAxis,table=series.dataTable;if(series.isCartesian&&!series.isDirty&&!xAxis.isDirty&&!series.yAxis.isDirty&&!force){return false}var processedData=series.getProcessedData();table.modified=processedData.modified;series.cropped=processedData.cropped;series.cropStart=processedData.cropStart;series.closestPointRange=series.basePointRange=processedData.closestPointRange;Series_fireEvent(series,"afterProcessData")};Series.prototype.cropData=function(table,min,max){var xData=table.getColumn("x",true)||[],dataLength=xData.length,columns={};var i,j,start=0,end=dataLength;for(i=0;i<dataLength;i++){if(xData[i]>=min){start=Math.max(0,i-1);break}}for(j=i;j<dataLength;j++){if(xData[j]>max){end=j+1;break}}for(var _a=0,_b=this.dataColumnKeys();_a<_b.length;_a++){var key=_b[_a];var column=table.getColumn(key,true);if(column){columns[key]=column.slice(start,end)}}return{modified:new Data_DataTableCore({columns:columns}),start:start,end:end}};Series.prototype.generatePoints=function(){var _a,_b,_c,_d;var series=this,options=series.options,dataOptions=series.processedData||options.data,table=series.dataTable.modified,xData=series.getColumn("x",true),PointClass=series.pointClass,processedDataLength=table.rowCount,cropStart=series.cropStart||0,hasGroupedData=series.hasGroupedData,keys=options.keys,points=[],groupCropStartIndex=options.dataGrouping&&options.dataGrouping.groupAll?cropStart:0,categories=(_a=series.xAxis)===null||_a===void 0?void 0:_a.categories,pointArrayMap=series.pointArrayMap||["y"],dataColumnKeys=this.dataColumnKeys();var dataLength,cursor,point,i,data=series.data,pOptions;if(!data&&!hasGroupedData){var arr=[];arr.length=(dataOptions===null||dataOptions===void 0?void 0:dataOptions.length)||0;data=series.data=arr}if(keys&&hasGroupedData){series.options.keys=false}for(i=0;i<processedDataLength;i++){cursor=cropStart+i;if(!hasGroupedData){point=data[cursor];pOptions=dataOptions?dataOptions[cursor]:table.getRow(i,pointArrayMap);if(!point&&pOptions!==void 0){data[cursor]=point=new PointClass(series,pOptions,xData[i])}}else{point=new PointClass(series,table.getRow(i,dataColumnKeys)||[]);point.dataGroup=series.groupMap[groupCropStartIndex+i];if((_b=point.dataGroup)===null||_b===void 0?void 0:_b.options){point.options=point.dataGroup.options;Series_extend(point,point.dataGroup.options);delete point.dataLabels}}if(point){point.index=hasGroupedData?groupCropStartIndex+i:cursor;points[i]=point;point.category=(_c=categories===null||categories===void 0?void 0:categories[point.x])!==null&&_c!==void 0?_c:point.x;point.key=(_d=point.name)!==null&&_d!==void 0?_d:point.category}}series.options.keys=keys;if(data&&(processedDataLength!==(dataLength=data.length)||hasGroupedData)){for(i=0;i<dataLength;i++){if(i===cropStart&&!hasGroupedData){i+=processedDataLength}if(data[i]){data[i].destroyElements();data[i].plotX=void 0}}}series.data=data;series.points=points;Series_fireEvent(this,"afterGeneratePoints")};Series.prototype.getXExtremes=function(xData){return{min:Series_arrayMin(xData),max:Series_arrayMax(xData)}};Series.prototype.getExtremes=function(yData,forceExtremesFromAll){var _a;var _b=this,xAxis=_b.xAxis,yAxis=_b.yAxis,getExtremesFromAll=forceExtremesFromAll||this.getExtremesFromAll||this.options.getExtremesFromAll,table=getExtremesFromAll&&this.cropped?this.dataTable:this.dataTable.modified,rowCount=table.rowCount,customData=yData||this.stackedYData,yAxisData=customData?[customData]:((_a=this.keysAffectYAxis||this.pointArrayMap||["y"])===null||_a===void 0?void 0:_a.map(function(key){return table.getColumn(key,true)||[]}))||[],xData=this.getColumn("x",true),activeYData=[],shoulder=this.requireSorting&&!this.is("column")?1:0,positiveValuesOnly=yAxis?yAxis.positiveValuesOnly:false,doAll=getExtremesFromAll||this.cropped||!xAxis;var xExtremes,x,i,xMin=0,xMax=0;if(xAxis){xExtremes=xAxis.getExtremes();xMin=xExtremes.min;xMax=xExtremes.max}for(i=0;i<rowCount;i++){x=xData[i];if(doAll||(xData[i+shoulder]||x)>=xMin&&(xData[i-shoulder]||x)<=xMax){for(var _c=0,yAxisData_1=yAxisData;_c<yAxisData_1.length;_c++){var values=yAxisData_1[_c];var val=values[i];if(Series_isNumber(val)&&(val>0||!positiveValuesOnly)){activeYData.push(val)}}}}var dataExtremes={activeYData:activeYData,dataMin:Series_arrayMin(activeYData),dataMax:Series_arrayMax(activeYData)};Series_fireEvent(this,"afterGetExtremes",{dataExtremes:dataExtremes});return dataExtremes};Series.prototype.applyExtremes=function(){var dataExtremes=this.getExtremes();this.dataMin=dataExtremes.dataMin;this.dataMax=dataExtremes.dataMax;return dataExtremes};Series.prototype.getFirstValidPoint=function(data,start,increment){if(start===void 0){start=0}if(increment===void 0){increment=1}var dataLength=data.length;var i=start;while(i>=0&&i<dataLength){if(Series_defined(data[i])){return data[i]}i+=increment}};Series.prototype.translate=function(){var _a;this.generatePoints();var series=this,options=series.options,stacking=options.stacking,xAxis=series.xAxis,enabledDataSorting=series.enabledDataSorting,yAxis=series.yAxis,points=series.points,dataLength=points.length,pointPlacement=series.pointPlacementToXValue(),dynamicallyPlaced=Boolean(pointPlacement),threshold=options.threshold,stackThreshold=options.startFromThreshold?threshold:0;var i,plotX,lastPlotX,stackIndicator,closestPointRangePx=Number.MAX_VALUE;function limitedRange(val){return Series_clamp(val,-1e9,1e9)}for(i=0;i<dataLength;i++){var point=points[i],xValue=point.x;var stackItem=void 0,stackValues=void 0,yValue=point.y,lowValue=point.low;var stacks=stacking&&((_a=yAxis.stacking)===null||_a===void 0?void 0:_a.stacks[(series.negStacks&&yValue<(stackThreshold?0:threshold)?"-":"")+series.stackKey]);plotX=xAxis.translate(xValue,false,false,false,true,pointPlacement);point.plotX=Series_isNumber(plotX)?Series_correctFloat(limitedRange(plotX)):void 0;if(stacking&&series.visible&&stacks&&stacks[xValue]){stackIndicator=series.getStackIndicator(stackIndicator,xValue,series.index);if(!point.isNull&&stackIndicator.key){stackItem=stacks[xValue];stackValues=stackItem.points[stackIndicator.key]}if(stackItem&&Series_isArray(stackValues)){lowValue=stackValues[0];yValue=stackValues[1];if(lowValue===stackThreshold&&stackIndicator.key===stacks[xValue].base){lowValue=Series_pick(Series_isNumber(threshold)?threshold:yAxis.min)}if(yAxis.positiveValuesOnly&&Series_defined(lowValue)&&lowValue<=0){lowValue=void 0}point.total=point.stackTotal=Series_pick(stackItem.total);point.percentage=Series_defined(point.y)&&stackItem.total?point.y/stackItem.total*100:void 0;point.stackY=yValue;if(!series.irregularWidths){stackItem.setOffset(series.pointXOffset||0,series.barW||0,void 0,void 0,void 0,series.xAxis)}}}point.yBottom=Series_defined(lowValue)?limitedRange(yAxis.translate(lowValue,false,true,false,true)):void 0;if(series.dataModify){yValue=series.dataModify.modifyValue(yValue,i)}var plotY=void 0;if(Series_isNumber(yValue)&&point.plotX!==void 0){plotY=yAxis.translate(yValue,false,true,false,true);plotY=Series_isNumber(plotY)?limitedRange(plotY):void 0}point.plotY=plotY;point.isInside=this.isPointInside(point);point.clientX=dynamicallyPlaced?Series_correctFloat(xAxis.translate(xValue,false,false,false,true,pointPlacement)):plotX;point.negative=(point.y||0)<(threshold||0);if(!point.isNull&&point.visible!==false){if(typeof lastPlotX!=="undefined"){closestPointRangePx=Math.min(closestPointRangePx,Math.abs(plotX-lastPlotX))}lastPlotX=plotX}point.zone=this.zones.length?point.getZone():void 0;if(!point.graphic&&series.group&&enabledDataSorting){point.isNew=true}}series.closestPointRangePx=closestPointRangePx;Series_fireEvent(this,"afterTranslate")};Series.prototype.getValidPoints=function(points,insideOnly,allowNull){var chart=this.chart;return(points||this.points||[]).filter(function(point){var plotX=point.plotX,plotY=point.plotY,asNull=!allowNull&&(point.isNull||!Series_isNumber(plotY));if(asNull||insideOnly&&!chart.isInsidePlot(plotX,plotY,{inverted:chart.inverted})){return false}return point.visible!==false})};Series.prototype.getClipBox=function(){var _a;var _b=this,chart=_b.chart,xAxis=_b.xAxis,yAxis=_b.yAxis;var _c=Series_merge(chart.clipBox),x=_c.x,y=_c.y,width=_c.width,height=_c.height;if(xAxis&&xAxis.len!==chart.plotSizeX){width=xAxis.len}if(yAxis&&yAxis.len!==chart.plotSizeY){height=yAxis.len}if(chart.inverted&&!this.invertible){_a=[height,width],width=_a[0],height=_a[1]}return{x:x,y:y,width:width,height:height}};Series.prototype.getSharedClipKey=function(){this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0);return this.sharedClipKey};Series.prototype.setClip=function(){var _a=this,chart=_a.chart,group=_a.group,markerGroup=_a.markerGroup,sharedClips=chart.sharedClips,renderer=chart.renderer,clipBox=this.getClipBox(),sharedClipKey=this.getSharedClipKey();var clipRect=sharedClips[sharedClipKey];if(!clipRect){sharedClips[sharedClipKey]=clipRect=renderer.clipRect(clipBox)}else{clipRect.animate(clipBox)}if(group){group.clip(this.options.clip===false?void 0:clipRect)}if(markerGroup){markerGroup.clip()}};Series.prototype.animate=function(init){var _a=this,chart=_a.chart,group=_a.group,markerGroup=_a.markerGroup,inverted=chart.inverted,animation=Series_animObject(this.options.animation),animationClipKey=[this.getSharedClipKey(),animation.duration,animation.easing,animation.defer].join(",");var animationClipRect=chart.sharedClips[animationClipKey],markerAnimationClipRect=chart.sharedClips[animationClipKey+"m"];if(init&&group){var clipBox=this.getClipBox();if(!animationClipRect){clipBox.width=0;if(inverted){clipBox.x=chart.plotHeight}animationClipRect=chart.renderer.clipRect(clipBox);chart.sharedClips[animationClipKey]=animationClipRect;var markerClipBox={x:inverted?-99:-99,y:inverted?-99:-99,width:inverted?chart.plotWidth+199:99,height:inverted?99:chart.plotHeight+199};markerAnimationClipRect=chart.renderer.clipRect(markerClipBox);chart.sharedClips[animationClipKey+"m"]=markerAnimationClipRect}else{animationClipRect.attr("height",clipBox.height)}group.clip(animationClipRect);markerGroup===null||markerGroup===void 0?void 0:markerGroup.clip(markerAnimationClipRect)}else if(animationClipRect&&!animationClipRect.hasClass("highcharts-animating")){var finalBox=this.getClipBox(),step_1=animation.step;if((markerGroup===null||markerGroup===void 0?void 0:markerGroup.element.childNodes.length)||chart.series.length>1){animation.step=function(val,fx){if(step_1){step_1.apply(fx,arguments)}if(fx.prop==="width"&&(markerAnimationClipRect===null||markerAnimationClipRect===void 0?void 0:markerAnimationClipRect.element)){markerAnimationClipRect.attr(inverted?"height":"width",val+99)}}}animationClipRect.addClass("highcharts-animating").animate(finalBox,animation)}};Series.prototype.afterAnimate=function(){var _this=this;this.setClip();Series_objectEach(this.chart.sharedClips,function(clip,key,sharedClips){if(clip&&!_this.chart.container.querySelector('[clip-path="url(#'.concat(clip.id,')"]'))){clip.destroy();delete sharedClips[key]}});this.finishedAnimating=true;Series_fireEvent(this,"afterAnimate")};Series.prototype.drawPoints=function(points){if(points===void 0){points=this.points}var series=this,chart=series.chart,styledMode=chart.styledMode,colorAxis=series.colorAxis,options=series.options,seriesMarkerOptions=options.marker,markerGroup=series[series.specialGroup||"markerGroup"],xAxis=series.xAxis,globallyEnabled=Series_pick(seriesMarkerOptions.enabled,!xAxis||xAxis.isRadial?true:null,series.closestPointRangePx>=seriesMarkerOptions.enabledThreshold*seriesMarkerOptions.radius);var i,point,graphic,verb,pointMarkerOptions,hasPointMarker,markerAttribs;if(seriesMarkerOptions.enabled!==false||series._hasPointMarkers){for(i=0;i<points.length;i++){point=points[i];graphic=point.graphic;verb=graphic?"animate":"attr";pointMarkerOptions=point.marker||{};hasPointMarker=!!point.marker;var shouldDrawMarker=(globallyEnabled&&typeof pointMarkerOptions.enabled==="undefined"||pointMarkerOptions.enabled)&&!point.isNull&&point.visible!==false;if(shouldDrawMarker){var symbol=Series_pick(pointMarkerOptions.symbol,series.symbol,"rect");markerAttribs=series.markerAttribs(point,point.selected&&"select");if(series.enabledDataSorting){point.startXPos=xAxis.reversed?-(markerAttribs.width||0):xAxis.width}var isInside=point.isInside!==false;if(!graphic&&isInside&&((markerAttribs.width||0)>0||point.hasImage)){point.graphic=graphic=chart.renderer.symbol(symbol,markerAttribs.x,markerAttribs.y,markerAttribs.width,markerAttribs.height,hasPointMarker?pointMarkerOptions:seriesMarkerOptions).add(markerGroup);if(series.enabledDataSorting&&chart.hasRendered){graphic.attr({x:point.startXPos});verb="animate"}}if(graphic&&verb==="animate"){graphic[isInside?"show":"hide"](isInside).animate(markerAttribs)}if(graphic){var pointAttr=series.pointAttribs(point,styledMode||!point.selected?void 0:"select");if(!styledMode){graphic[verb](pointAttr)}else if(colorAxis){graphic["css"]({fill:pointAttr.fill})}}if(graphic){graphic.addClass(point.getClassName(),true)}}else if(graphic){point.graphic=graphic.destroy()}}}};Series.prototype.markerAttribs=function(point,state){var seriesOptions=this.options,seriesMarkerOptions=seriesOptions.marker,pointMarkerOptions=point.marker||{},symbol=pointMarkerOptions.symbol||seriesMarkerOptions.symbol,attribs={};var seriesStateOptions,pointStateOptions,radius=Series_pick(pointMarkerOptions.radius,seriesMarkerOptions&&seriesMarkerOptions.radius);if(state){seriesStateOptions=seriesMarkerOptions.states[state];pointStateOptions=pointMarkerOptions.states&&pointMarkerOptions.states[state];radius=Series_pick(pointStateOptions&&pointStateOptions.radius,seriesStateOptions&&seriesStateOptions.radius,radius&&radius+(seriesStateOptions&&seriesStateOptions.radiusPlus||0))}point.hasImage=symbol&&symbol.indexOf("url")===0;if(point.hasImage){radius=0}var pos=point.pos();if(Series_isNumber(radius)&&pos){if(seriesOptions.crisp){pos[0]=Series_crisp(pos[0],point.hasImage?0:symbol==="rect"?(seriesMarkerOptions===null||seriesMarkerOptions===void 0?void 0:seriesMarkerOptions.lineWidth)||0:1)}attribs.x=pos[0]-radius;attribs.y=pos[1]-radius}if(radius){attribs.width=attribs.height=2*radius}return attribs};Series.prototype.pointAttribs=function(point,state){var seriesMarkerOptions=this.options.marker,pointOptions=point&&point.options,pointMarkerOptions=pointOptions&&pointOptions.marker||{},pointColorOption=pointOptions&&pointOptions.color,pointColor=point&&point.color,zoneColor=point&&point.zone&&point.zone.color;var seriesStateOptions,pointStateOptions,color=this.color,fill,stroke,strokeWidth=Series_pick(pointMarkerOptions.lineWidth,seriesMarkerOptions.lineWidth),opacity=1;color=pointColorOption||zoneColor||pointColor||color;fill=pointMarkerOptions.fillColor||seriesMarkerOptions.fillColor||color;stroke=pointMarkerOptions.lineColor||seriesMarkerOptions.lineColor||color;state=state||"normal";if(state){seriesStateOptions=seriesMarkerOptions.states[state]||{};pointStateOptions=pointMarkerOptions.states&&pointMarkerOptions.states[state]||{};strokeWidth=Series_pick(pointStateOptions.lineWidth,seriesStateOptions.lineWidth,strokeWidth+Series_pick(pointStateOptions.lineWidthPlus,seriesStateOptions.lineWidthPlus,0));fill=pointStateOptions.fillColor||seriesStateOptions.fillColor||fill;stroke=pointStateOptions.lineColor||seriesStateOptions.lineColor||stroke;opacity=Series_pick(pointStateOptions.opacity,seriesStateOptions.opacity,opacity)}return{stroke:stroke,"stroke-width":strokeWidth,fill:fill,opacity:opacity}};Series.prototype.destroy=function(keepEventsForUpdate){var series=this,chart=series.chart,issue134=/AppleWebKit\/533/.test(Series_win.navigator.userAgent),data=series.data||[];var destroy,i,point,axis;Series_fireEvent(series,"destroy",{keepEventsForUpdate:keepEventsForUpdate});this.removeEvents(keepEventsForUpdate);(series.axisTypes||[]).forEach(function(AXIS){axis=series[AXIS];if(axis&&axis.series){Series_erase(axis.series,series);axis.isDirty=axis.forceRedraw=true}});if(series.legendItem){series.chart.legend.destroyItem(series)}i=data.length;while(i--){point=data[i];if(point&&point.destroy){point.destroy()}}for(var _a=0,_b=series.zones;_a<_b.length;_a++){var zone=_b[_a];Series_destroyObjectProperties(zone,void 0,true)}Core_Utilities.clearTimeout(series.animationTimeout);Series_objectEach(series,function(val,prop){if(val instanceof SVG_SVGElement&&!val.survive){destroy=issue134&&prop==="group"?"hide":"destroy";val[destroy]()}});if(chart.hoverSeries===series){chart.hoverSeries=void 0}Series_erase(chart.series,series);chart.orderItems("series");Series_objectEach(series,function(val,prop){if(!keepEventsForUpdate||prop!=="hcEvents"){delete series[prop]}})};Series.prototype.applyZones=function(){var series=this,area=series.area,chart=series.chart,graph=series.graph,zones=series.zones,points=series.points,xAxis=series.xAxis,yAxis=series.yAxis,zoneAxis=series.zoneAxis,inverted=chart.inverted,renderer=chart.renderer,axis=this[""+zoneAxis+"Axis"],_a=axis||{},isXAxis=_a.isXAxis,_b=_a.len,len=_b===void 0?0:_b,_c=_a.minPointOffset,minPointOffset=_c===void 0?0:_c,halfWidth=((graph===null||graph===void 0?void 0:graph.strokeWidth())||0)/2+1,avoidClose=function(zone,plotX,plotY){if(plotX===void 0){plotX=0}if(plotY===void 0){plotY=0}if(inverted){plotY=len-plotY}var _a=zone.translated,translated=_a===void 0?0:_a,lineClip=zone.lineClip,distance=plotY-translated;lineClip===null||lineClip===void 0?void 0:lineClip.push(["L",plotX,Math.abs(distance)<halfWidth?plotY-halfWidth*(distance<=0?-1:1):translated])};if(zones.length&&(graph||area)&&axis&&Series_isNumber(axis.min)){var axisMax_1=axis.getExtremes().max+minPointOffset,invertPath_1=function(path){path.forEach(function(segment,i){if(segment[0]==="M"||segment[0]==="L"){path[i]=[segment[0],isXAxis?len-segment[1]:segment[1],isXAxis?segment[2]:len-segment[2]]}})};zones.forEach(function(zone){zone.lineClip=[];zone.translated=Series_clamp(axis.toPixels(Series_pick(zone.value,axisMax_1),true)||0,0,len)});if(graph&&!this.showLine){graph.hide()}if(area){area.hide()}if(zoneAxis==="y"&&points.length<xAxis.len){for(var _d=0,points_1=points;_d<points_1.length;_d++){var point=points_1[_d];var plotX=point.plotX,plotY=point.plotY,zone=point.zone,zoneBelow=zone&&zones[zones.indexOf(zone)-1];if(zone){avoidClose(zone,plotX,plotY)}if(zoneBelow){avoidClose(zoneBelow,plotX,plotY)}}}var lastLineClip_1=[],lastTranslated_1=axis.toPixels(axis.getExtremes().min-minPointOffset,true);zones.forEach(function(zone){var _a,_b;var lineClip=zone.lineClip||[],translated=Math.round(zone.translated||0);if(xAxis.reversed){lineClip.reverse()}var clip=zone.clip,simpleClip=zone.simpleClip,x1=0,y1=0,x2=xAxis.len,y2=yAxis.len;if(isXAxis){x1=translated;x2=lastTranslated_1}else{y1=translated;y2=lastTranslated_1}var simplePath=[["M",x1,y1],["L",x2,y1],["L",x2,y2],["L",x1,y2],["Z"]],adaptivePath=Series_spreadArray(Series_spreadArray(Series_spreadArray(Series_spreadArray([simplePath[0]],lineClip,true),[simplePath[1],simplePath[2]],false),lastLineClip_1,true),[simplePath[3],simplePath[4]],false);lastLineClip_1=lineClip.reverse();lastTranslated_1=translated;if(inverted){invertPath_1(adaptivePath);if(area){invertPath_1(simplePath)}}if(clip){clip.animate({d:adaptivePath});simpleClip===null||simpleClip===void 0?void 0:simpleClip.animate({d:simplePath})}else{clip=zone.clip=renderer.path(adaptivePath);if(area){simpleClip=zone.simpleClip=renderer.path(simplePath)}}if(graph){(_a=zone.graph)===null||_a===void 0?void 0:_a.clip(clip)}if(area){(_b=zone.area)===null||_b===void 0?void 0:_b.clip(simpleClip)}})}else if(series.visible){if(graph){graph.show()}if(area){area.show()}}};Series.prototype.plotGroup=function(prop,name,visibility,zIndex,parent){var group=this[prop];var isNew=!group,attrs={visibility:visibility,zIndex:zIndex||.1};if(Series_defined(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"){attrs.opacity=this.opacity}if(!group){this[prop]=group=this.chart.renderer.g().add(parent)}group.addClass("highcharts-"+name+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Series_defined(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(group.hasClass("highcharts-tracker")?" highcharts-tracker":""),true);group.attr(attrs)[isNew?"attr":"animate"](this.getPlotBox(name));return group};Series.prototype.getPlotBox=function(name){var horAxis=this.xAxis,vertAxis=this.yAxis;var chart=this.chart,inverted=chart.inverted&&!chart.polar&&horAxis&&this.invertible&&name==="series";if(chart.inverted){horAxis=vertAxis;vertAxis=this.xAxis}return{translateX:horAxis?horAxis.left:chart.plotLeft,translateY:vertAxis?vertAxis.top:chart.plotTop,rotation:inverted?90:0,rotationOriginX:inverted?(horAxis.len-vertAxis.len)/2:0,rotationOriginY:inverted?(horAxis.len+vertAxis.len)/2:0,scaleX:inverted?-1:1,scaleY:1}};Series.prototype.removeEvents=function(keepEventsForUpdate){var eventsToUnbind=this.eventsToUnbind;if(!keepEventsForUpdate){Series_removeEvent(this)}if(eventsToUnbind.length){eventsToUnbind.forEach(function(unbind){unbind()});eventsToUnbind.length=0}};Series.prototype.render=function(){var _a,_b,_c,_d,_e;var series=this,chart=series.chart,options=series.options,hasRendered=series.hasRendered,animOptions=Series_animObject(options.animation),visibility=series.visible?"inherit":"hidden",zIndex=options.zIndex,chartSeriesGroup=chart.seriesGroup;var animDuration=series.finishedAnimating?0:animOptions.duration;Series_fireEvent(this,"render");series.plotGroup("group","series",visibility,zIndex,chartSeriesGroup);series.markerGroup=series.plotGroup("markerGroup","markers",visibility,zIndex,chartSeriesGroup);if(options.clip!==false){series.setClip()}if(animDuration){(_a=series.animate)===null||_a===void 0?void 0:_a.call(series,true)}if(series.drawGraph){series.drawGraph();series.applyZones()}if(series.visible){series.drawPoints()}(_b=series.drawDataLabels)===null||_b===void 0?void 0:_b.call(series);(_c=series.redrawPoints)===null||_c===void 0?void 0:_c.call(series);if(options.enableMouseTracking){(_d=series.drawTracker)===null||_d===void 0?void 0:_d.call(series)}if(animDuration){(_e=series.animate)===null||_e===void 0?void 0:_e.call(series)}if(!hasRendered){if(animDuration&&animOptions.defer){animDuration+=animOptions.defer}series.animationTimeout=Series_syncTimeout(function(){series.afterAnimate()},animDuration||0)}series.isDirty=false;series.hasRendered=true;Series_fireEvent(series,"afterRender")};Series.prototype.redraw=function(){var wasDirty=this.isDirty||this.isDirtyData;this.translate();this.render();if(wasDirty){delete this.kdTree}};Series.prototype.reserveSpace=function(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries};Series.prototype.searchPoint=function(e,compareX){var _a=this,xAxis=_a.xAxis,yAxis=_a.yAxis,inverted=this.chart.inverted;return this.searchKDTree({clientX:inverted?xAxis.len-e.chartY+xAxis.pos:e.chartX-xAxis.pos,plotY:inverted?yAxis.len-e.chartX+yAxis.pos:e.chartY-yAxis.pos},compareX,e)};Series.prototype.buildKDTree=function(e){this.buildingKdTree=true;var series=this,dimensions=series.options.findNearestPointBy.indexOf("y")>-1?2:1;function kdtree(points,depth,dimensions){var length=points===null||points===void 0?void 0:points.length;var axis,median;if(length){axis=series.kdAxisArray[depth%dimensions];points.sort(function(a,b){return(a[axis]||0)-(b[axis]||0)});median=Math.floor(length/2);return{point:points[median],left:kdtree(points.slice(0,median),depth+1,dimensions),right:kdtree(points.slice(median+1),depth+1,dimensions)}}}function startRecursive(){series.kdTree=kdtree(series.getValidPoints(void 0,!series.directTouch),dimensions,dimensions);series.buildingKdTree=false}delete series.kdTree;Series_syncTimeout(startRecursive,series.options.kdNow||(e===null||e===void 0?void 0:e.type)==="touchstart"?0:1)};Series.prototype.searchKDTree=function(point,compareX,e){var series=this,_a=this.kdAxisArray,kdX=_a[0],kdY=_a[1],kdComparer=compareX?"distX":"dist",kdDimensions=(series.options.findNearestPointBy||"").indexOf("y")>-1?2:1,useRadius=!!series.isBubble;function setDistance(p1,p2){var _a;var p1kdX=p1[kdX],p2kdX=p2[kdX],x=Series_defined(p1kdX)&&Series_defined(p2kdX)?p1kdX-p2kdX:null,p1kdY=p1[kdY],p2kdY=p2[kdY],y=Series_defined(p1kdY)&&Series_defined(p2kdY)?p1kdY-p2kdY:0,radius=useRadius?((_a=p2.marker)===null||_a===void 0?void 0:_a.radius)||0:0;p2.dist=Math.sqrt((x&&x*x||0)+y*y)-radius;p2.distX=Series_defined(x)?Math.abs(x)-radius:Number.MAX_VALUE}function doSearch(search,tree,depth,dimensions){var _a;var point=tree.point,axis=series.kdAxisArray[depth%dimensions];var nPoint1,nPoint2,ret=point;setDistance(search,point);var tdist=(search[axis]||0)-(point[axis]||0)+(useRadius?((_a=point.marker)===null||_a===void 0?void 0:_a.radius)||0:0),sideA=tdist<0?"left":"right",sideB=tdist<0?"right":"left";if(tree[sideA]){nPoint1=doSearch(search,tree[sideA],depth+1,dimensions);ret=nPoint1[kdComparer]<ret[kdComparer]?nPoint1:point}if(tree[sideB]){if(Math.sqrt(tdist*tdist)<ret[kdComparer]){nPoint2=doSearch(search,tree[sideB],depth+1,dimensions);ret=nPoint2[kdComparer]<ret[kdComparer]?nPoint2:ret}}return ret}if(!this.kdTree&&!this.buildingKdTree){this.buildKDTree(e)}if(this.kdTree){return doSearch(point,this.kdTree,kdDimensions,kdDimensions)}};Series.prototype.pointPlacementToXValue=function(){var _a=this,options=_a.options,xAxis=_a.xAxis;var factor=options.pointPlacement;if(factor==="between"){factor=xAxis.reversed?-.5:.5}return Series_isNumber(factor)?factor*(options.pointRange||xAxis.pointRange):0};Series.prototype.isPointInside=function(point){var _a=this,chart=_a.chart,xAxis=_a.xAxis,yAxis=_a.yAxis,_b=point.plotX,plotX=_b===void 0?-1:_b,_c=point.plotY,plotY=_c===void 0?-1:_c,isInside=plotY>=0&&plotY<=(yAxis?yAxis.len:chart.plotHeight)&&plotX>=0&&plotX<=(xAxis?xAxis.len:chart.plotWidth);return isInside};Series.prototype.drawTracker=function(){var _a;var series=this,options=series.options,trackByArea=options.trackByArea,trackerPath=[].concat((trackByArea?series.areaPath:series.graphPath)||[]),chart=series.chart,pointer=chart.pointer,renderer=chart.renderer,snap=((_a=chart.options.tooltip)===null||_a===void 0?void 0:_a.snap)||0,onMouseOver=function(){if(options.enableMouseTracking&&chart.hoverSeries!==series){series.onMouseOver()}},TRACKER_FILL="rgba(192,192,192,"+(Series_svg?1e-4:.002)+")";var tracker=series.tracker;if(tracker){tracker.attr({d:trackerPath})}else if(series.graph){series.tracker=tracker=renderer.path(trackerPath).attr({visibility:series.visible?"inherit":"hidden",zIndex:2}).addClass(trackByArea?"highcharts-tracker-area":"highcharts-tracker-line").add(series.group);if(!chart.styledMode){tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:TRACKER_FILL,fill:trackByArea?TRACKER_FILL:"none","stroke-width":series.graph.strokeWidth()+(trackByArea?0:2*snap)})}[series.tracker,series.markerGroup,series.dataLabelsGroup].forEach(function(tracker){if(tracker){tracker.addClass("highcharts-tracker").on("mouseover",onMouseOver).on("mouseout",function(e){pointer===null||pointer===void 0?void 0:pointer.onTrackerMouseOut(e)});if(options.cursor&&!chart.styledMode){tracker.css({cursor:options.cursor})}tracker.on("touchstart",onMouseOver)}})}Series_fireEvent(this,"afterDrawTracker")};Series.prototype.addPoint=function(options,redraw,shift,animation,withEvent){var series=this,seriesOptions=series.options,chart=series.chart,data=series.data,table=series.dataTable,xAxis=series.xAxis,names=xAxis&&xAxis.hasNames&&xAxis.names,dataOptions=seriesOptions.data,xData=series.getColumn("x");var isInTheMiddle,i;redraw=Series_pick(redraw,true);var point={series:series};series.pointClass.prototype.applyOptions.apply(point,[options]);var x=point.x;i=xData.length;if(series.requireSorting&&x<xData[i-1]){isInTheMiddle=true;while(i&&xData[i-1]>x){i--}}table.setRow(point,i,true,{addColumns:false});if(names&&point.name){names[x]=point.name}dataOptions===null||dataOptions===void 0?void 0:dataOptions.splice(i,0,options);if(isInTheMiddle||series.processedData){series.data.splice(i,0,null);series.processData()}if(seriesOptions.legendType==="point"){series.generatePoints()}if(shift){if(data[0]&&!!data[0].remove){data[0].remove(false)}else{Series_spreadArray([data,dataOptions],Object.values(table.getColumns()),true).filter(Series_defined).forEach(function(coll){coll.shift()});table.rowCount-=1;Series_fireEvent(table,"afterDeleteRows")}}if(withEvent!==false){Series_fireEvent(series,"addPoint",{point:point})}series.isDirty=true;series.isDirtyData=true;if(redraw){chart.redraw(animation)}};Series.prototype.removePoint=function(i,redraw,animation){var series=this,chart=series.chart,data=series.data,points=series.points,table=series.dataTable,point=data[i],remove=function(){Series_spreadArray([(points===null||points===void 0?void 0:points.length)===data.length?points:void 0,data,series.options.data],Object.values(table.getColumns()),true).filter(Series_defined).forEach(function(coll){coll.splice(i,1)});table.rowCount-=1;Series_fireEvent(table,"afterDeleteRows");point===null||point===void 0?void 0:point.destroy();series.isDirty=true;series.isDirtyData=true;if(redraw){chart.redraw()}};Series_setAnimation(animation,chart);redraw=Series_pick(redraw,true);if(point){point.firePointEvent("remove",null,remove)}else{remove()}};Series.prototype.remove=function(redraw,animation,withEvent,keepEvents){var series=this,chart=series.chart;function remove(){series.destroy(keepEvents);chart.isDirtyLegend=chart.isDirtyBox=true;chart.linkSeries(keepEvents);if(Series_pick(redraw,true)){chart.redraw(animation)}}if(withEvent!==false){Series_fireEvent(series,"remove",null,remove)}else{remove()}};Series.prototype.update=function(options,redraw){var _a,_b,_c,_d;options=Series_diffObjects(options,this.userOptions);Series_fireEvent(this,"update",{options:options});var series=this,chart=series.chart,oldOptions=series.userOptions,initialType=series.initialType||series.type,plotOptions=chart.options.plotOptions,initialSeriesProto=seriesTypes[initialType].prototype,groups=["group","markerGroup","dataLabelsGroup","transformGroup"],optionsToCheck=["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"],animation=series.finishedAnimating&&{animation:false},kinds={};var seriesOptions,n,preserve=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],newType=options.type||oldOptions.type||chart.options.chart.type;var keepPoints=!(this.hasDerivedData||newType&&newType!==this.type||typeof options.keys!=="undefined"||typeof options.pointStart!=="undefined"||typeof options.pointInterval!=="undefined"||typeof options.relativeXValue!=="undefined"||options.joinBy||options.mapData||optionsToCheck.some(function(option){return series.hasOptionChanged(option)}));newType=newType||initialType;if(keepPoints){preserve.push("data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups");if(options.visible!==false){preserve.push("area","graph")}series.parallelArrays.forEach(function(key){preserve.push(key+"Data")});if(options.data){if(options.dataSorting){Series_extend(series.options.dataSorting,options.dataSorting)}this.setData(options.data,false)}}else{this.dataTable.modified=this.dataTable}options=Series_merge(oldOptions,{index:oldOptions.index===void 0?series.index:oldOptions.index,pointStart:(_c=(_b=(_a=plotOptions===null||plotOptions===void 0?void 0:plotOptions.series)===null||_a===void 0?void 0:_a.pointStart)!==null&&_b!==void 0?_b:oldOptions.pointStart)!==null&&_c!==void 0?_c:series.getColumn("x")[0]},!keepPoints&&{data:series.options.data},options,animation);if(keepPoints&&options.data){options.data=series.options.data}preserve=groups.concat(preserve);preserve.forEach(function(prop){preserve[prop]=series[prop];delete series[prop]});var casting=false;if(seriesTypes[newType]){casting=newType!==series.type;series.remove(false,false,false,true);if(casting){chart.propFromSeries();if(Object.setPrototypeOf){Object.setPrototypeOf(series,seriesTypes[newType].prototype)}else{var ownEvents=Object.hasOwnProperty.call(series,"hcEvents")&&series.hcEvents;for(n in initialSeriesProto){series[n]=void 0}Series_extend(series,seriesTypes[newType].prototype);if(ownEvents){series.hcEvents=ownEvents}else{delete series.hcEvents}}}}else{Series_error(17,true,chart,{missingModuleFor:newType})}preserve.forEach(function(prop){series[prop]=preserve[prop]});series.init(chart,options);if(keepPoints&&this.points){seriesOptions=series.options;if(seriesOptions.visible===false){kinds.graphic=1;kinds.dataLabel=1}else{if(this.hasMarkerChanged(seriesOptions,oldOptions)){kinds.graphic=1}if(!((_d=series.hasDataLabels)===null||_d===void 0?void 0:_d.call(series))){kinds.dataLabel=1}}for(var _e=0,_f=this.points;_e<_f.length;_e++){var point=_f[_e];if(point&&point.series){point.resolveColor();if(Object.keys(kinds).length){point.destroyElements(kinds)}if(seriesOptions.showInLegend===false&&point.legendItem){chart.legend.destroyItem(point)}}}}series.initialType=initialType;chart.linkSeries();chart.setSortedData();if(casting&&series.linkedSeries.length){series.isDirtyData=true}Series_fireEvent(this,"afterUpdate");if(Series_pick(redraw,true)){chart.redraw(keepPoints?void 0:false)}};Series.prototype.setName=function(name){this.name=this.options.name=this.userOptions.name=name;this.chart.isDirtyLegend=true};Series.prototype.hasOptionChanged=function(optionName){var _a,_b;var chart=this.chart,option=this.options[optionName],plotOptions=chart.options.plotOptions,oldOption=this.userOptions[optionName],plotOptionsOption=Series_pick((_a=plotOptions===null||plotOptions===void 0?void 0:plotOptions[this.type])===null||_a===void 0?void 0:_a[optionName],(_b=plotOptions===null||plotOptions===void 0?void 0:plotOptions.series)===null||_b===void 0?void 0:_b[optionName]);if(oldOption&&!Series_defined(plotOptionsOption)){return option!==oldOption}return option!==Series_pick(plotOptionsOption,option)};Series.prototype.onMouseOver=function(){var series=this,chart=series.chart,hoverSeries=chart.hoverSeries,pointer=chart.pointer;pointer===null||pointer===void 0?void 0:pointer.setHoverChartIndex();if(hoverSeries&&hoverSeries!==series){hoverSeries.onMouseOut()}if(series.options.events.mouseOver){Series_fireEvent(series,"mouseOver")}series.setState("hover");chart.hoverSeries=series};Series.prototype.onMouseOut=function(){var series=this,options=series.options,chart=series.chart,tooltip=chart.tooltip,hoverPoint=chart.hoverPoint;chart.hoverSeries=null;if(hoverPoint){hoverPoint.onMouseOut()}if(series&&options.events.mouseOut){Series_fireEvent(series,"mouseOut")}if(tooltip&&!series.stickyTracking&&(!tooltip.shared||series.noSharedTooltip)){tooltip.hide()}chart.series.forEach(function(s){s.setState("",true)})};Series.prototype.setState=function(state,inherit){var series=this,options=series.options,graph=series.graph,inactiveOtherPoints=options.inactiveOtherPoints,stateOptions=options.states,stateAnimation=Series_pick(stateOptions[state||"normal"]&&stateOptions[state||"normal"].animation,series.chart.options.chart.animation);var lineWidth=options.lineWidth,opacity=options.opacity;state=state||"";if(series.state!==state){[series.group,series.markerGroup,series.dataLabelsGroup].forEach(function(group){if(group){if(series.state){group.removeClass("highcharts-series-"+series.state)}if(state){group.addClass("highcharts-series-"+state)}}});series.state=state;if(!series.chart.styledMode){if(stateOptions[state]&&stateOptions[state].enabled===false){return}if(state){lineWidth=stateOptions[state].lineWidth||lineWidth+(stateOptions[state].lineWidthPlus||0);opacity=Series_pick(stateOptions[state].opacity,opacity)}if(graph&&!graph.dashstyle&&Series_isNumber(lineWidth)){for(var _a=0,_b=Series_spreadArray([graph],this.zones.map(function(zone){return zone.graph}),true);_a<_b.length;_a++){var graphElement=_b[_a];graphElement===null||graphElement===void 0?void 0:graphElement.animate({"stroke-width":lineWidth},stateAnimation)}}if(!inactiveOtherPoints){[series.group,series.markerGroup,series.dataLabelsGroup,series.labelBySeries].forEach(function(group){if(group){group.animate({opacity:opacity},stateAnimation)}})}}}if(inherit&&inactiveOtherPoints&&series.points){series.setAllPointsToState(state||void 0)}};Series.prototype.setAllPointsToState=function(state){this.points.forEach(function(point){if(point.setState){point.setState(state)}})};Series.prototype.setVisible=function(vis,redraw){var _a;var series=this,chart=series.chart,ignoreHiddenSeries=chart.options.chart.ignoreHiddenSeries,oldVisibility=series.visible;series.visible=vis=series.options.visible=series.userOptions.visible=typeof vis==="undefined"?!oldVisibility:vis;var showOrHide=vis?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(key){var _a;(_a=series[key])===null||_a===void 0?void 0:_a[showOrHide]()});if(chart.hoverSeries===series||((_a=chart.hoverPoint)===null||_a===void 0?void 0:_a.series)===series){series.onMouseOut()}if(series.legendItem){chart.legend.colorizeItem(series,vis)}series.isDirty=true;if(series.options.stacking){chart.series.forEach(function(otherSeries){if(otherSeries.options.stacking&&otherSeries.visible){otherSeries.isDirty=true}})}series.linkedSeries.forEach(function(otherSeries){otherSeries.setVisible(vis,false)});if(ignoreHiddenSeries){chart.isDirtyBox=true}Series_fireEvent(series,showOrHide);if(redraw!==false){chart.redraw()}};Series.prototype.show=function(){this.setVisible(true)};Series.prototype.hide=function(){this.setVisible(false)};Series.prototype.select=function(selected){var series=this;series.selected=selected=this.options.selected=typeof selected==="undefined"?!series.selected:selected;if(series.checkbox){series.checkbox.checked=selected}Series_fireEvent(series,selected?"select":"unselect")};Series.prototype.shouldShowTooltip=function(plotX,plotY,options){if(options===void 0){options={}}options.series=this;options.visiblePlotOnly=true;return this.chart.isInsidePlot(plotX,plotY,options)};Series.prototype.drawLegendSymbol=function(legend,item){var _a;(_a=Legend_LegendSymbol[this.options.legendSymbol||"rectangle"])===null||_a===void 0?void 0:_a.call(this,legend,item)};Series.defaultOptions=SeriesDefaults;Series.types=Series_SeriesRegistry.seriesTypes;Series.registerType=Series_SeriesRegistry.registerSeriesType;return Series}();Series_extend(Series.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:false,invertible:true,isCartesian:true,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Series_Point,requireSorting:true,sorted:true});Series_SeriesRegistry.series=Series;var Series_Series=Series;"";"";var Legend_animObject=AnimationUtilities.animObject,Legend_setAnimation=AnimationUtilities.setAnimation;var Legend_registerEventOptions=Core_Foundation.registerEventOptions;var Legend_composed=Core_Globals.composed,marginNames=Core_Globals.marginNames;var Legend_distribute=Renderer_RendererUtilities.distribute;var Legend_format=Core_Templating.format;var Legend_addEvent=Core_Utilities.addEvent,Legend_createElement=Core_Utilities.createElement,Legend_css=Core_Utilities.css,Legend_defined=Core_Utilities.defined,Legend_discardElement=Core_Utilities.discardElement,Legend_find=Core_Utilities.find,Legend_fireEvent=Core_Utilities.fireEvent,Legend_isNumber=Core_Utilities.isNumber,Legend_merge=Core_Utilities.merge,Legend_pick=Core_Utilities.pick,Legend_pushUnique=Core_Utilities.pushUnique,Legend_relativeLength=Core_Utilities.relativeLength,Legend_stableSort=Core_Utilities.stableSort,Legend_syncTimeout=Core_Utilities.syncTimeout;var Legend=function(){function Legend(chart,options){var _this=this;this.allItems=[];this.initialItemY=0;this.itemHeight=0;this.itemMarginBottom=0;this.itemMarginTop=0;this.itemX=0;this.itemY=0;this.lastItemY=0;this.lastLineHeight=0;this.legendHeight=0;this.legendWidth=0;this.maxItemWidth=0;this.maxLegendWidth=0;this.offsetWidth=0;this.padding=0;this.pages=[];this.symbolHeight=0;this.symbolWidth=0;this.titleHeight=0;this.totalItemWidth=0;this.widthOption=0;this.chart=chart;this.setOptions(options);if(options.enabled){this.render();Legend_registerEventOptions(this,options);Legend_addEvent(this.chart,"endResize",function(){this.legend.positionCheckboxes()})}Legend_addEvent(this.chart,"render",function(){if(_this.options.enabled&&_this.proximate){_this.proximatePositions();_this.positionItems()}})}Legend.prototype.setOptions=function(options){var padding=Legend_pick(options.padding,8);this.options=options;if(!this.chart.styledMode){this.itemStyle=options.itemStyle;this.itemHiddenStyle=Legend_merge(this.itemStyle,options.itemHiddenStyle)}this.itemMarginTop=options.itemMarginTop;this.itemMarginBottom=options.itemMarginBottom;this.padding=padding;this.initialItemY=padding-5;this.symbolWidth=Legend_pick(options.symbolWidth,16);this.pages=[];this.proximate=options.layout==="proximate"&&!this.chart.inverted;this.baseline=void 0};Legend.prototype.update=function(options,redraw){var chart=this.chart;this.setOptions(Legend_merge(true,this.options,options));if("events"in this.options){Legend_registerEventOptions(this,this.options)}this.destroy();chart.isDirtyLegend=chart.isDirtyBox=true;if(Legend_pick(redraw,true)){chart.redraw()}Legend_fireEvent(this,"afterUpdate",{redraw:redraw})};Legend.prototype.colorizeItem=function(item,visible){var _a;var originalColor=item.color,_b=item.legendItem||{},area=_b.area,group=_b.group,label=_b.label,line=_b.line,symbol=_b.symbol;if(item instanceof Series_Series||item instanceof Series_Point){item.color=((_a=item.options)===null||_a===void 0?void 0:_a.legendSymbolColor)||originalColor}group===null||group===void 0?void 0:group[visible?"removeClass":"addClass"]("highcharts-legend-item-hidden");if(!this.chart.styledMode){var _c=this.itemHiddenStyle,itemHiddenStyle=_c===void 0?{}:_c,hiddenColor_1=itemHiddenStyle.color,_d=item.options,fillColor=_d.fillColor,fillOpacity=_d.fillOpacity,lineColor=_d.lineColor,marker=_d.marker,colorizeHidden=function(attr){if(!visible){if(attr.fill){attr.fill=hiddenColor_1}if(attr.stroke){attr.stroke=hiddenColor_1}}return attr};label===null||label===void 0?void 0:label.css(Legend_merge(visible?this.itemStyle:itemHiddenStyle));line===null||line===void 0?void 0:line.attr(colorizeHidden({stroke:lineColor||item.color}));if(symbol){symbol.attr(colorizeHidden(marker&&symbol.isMarker?item.pointAttribs():{fill:item.color}))}area===null||area===void 0?void 0:area.attr(colorizeHidden({fill:fillColor||item.color,"fill-opacity":fillColor?1:fillOpacity!==null&&fillOpacity!==void 0?fillOpacity:.75}))}item.color=originalColor;Legend_fireEvent(this,"afterColorizeItem",{item:item,visible:visible})};Legend.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this);if(!this.chart.isResizing){this.positionCheckboxes()}};Legend.prototype.positionItem=function(item){var _this=this;var legend=this,_a=item.legendItem||{},group=_a.group,_b=_a.x,x=_b===void 0?0:_b,_c=_a.y,y=_c===void 0?0:_c,options=legend.options,symbolPadding=options.symbolPadding,ltr=!options.rtl,checkbox=item.checkbox;if(group&&group.element){var attribs={translateX:ltr?x:legend.legendWidth-x-2*symbolPadding-4,translateY:y};var complete=function(){Legend_fireEvent(_this,"afterPositionItem",{item:item})};group[Legend_defined(group.translateY)?"animate":"attr"](attribs,void 0,complete)}if(checkbox){checkbox.x=x;checkbox.y=y}};Legend.prototype.destroyItem=function(item){var checkbox=item.checkbox,legendItem=item.legendItem||{};for(var _i=0,_a=["group","label","line","symbol"];_i<_a.length;_i++){var key=_a[_i];if(legendItem[key]){legendItem[key]=legendItem[key].destroy()}}if(checkbox){Legend_discardElement(checkbox)}item.legendItem=void 0};Legend.prototype.destroy=function(){var legend=this;for(var _i=0,_a=this.getAllItems();_i<_a.length;_i++){var item=_a[_i];this.destroyItem(item)}for(var _b=0,_c=["clipRect","up","down","pager","nav","box","title","group"];_b<_c.length;_b++){var key=_c[_b];if(legend[key]){legend[key]=legend[key].destroy()}}this.display=null};Legend.prototype.positionCheckboxes=function(){var alignAttr=this.group&&this.group.alignAttr,clipHeight=this.clipHeight||this.legendHeight,titleHeight=this.titleHeight;var translateY;if(alignAttr){translateY=alignAttr.translateY;this.allItems.forEach(function(item){var checkbox=item.checkbox;var top;if(checkbox){top=translateY+titleHeight+checkbox.y+(this.scrollOffset||0)+3;Legend_css(checkbox,{left:alignAttr.translateX+item.checkboxOffset+checkbox.x-20+"px",top:top+"px",display:this.proximate||top>translateY-6&&top<translateY+clipHeight-6?"":"none"})}},this)}};Legend.prototype.renderTitle=function(){var options=this.options,padding=this.padding,titleOptions=options.title;var bBox,titleHeight=0;if(titleOptions.text){if(!this.title){this.title=this.chart.renderer.label(titleOptions.text,padding-3,padding-4,void 0,void 0,void 0,options.useHTML,void 0,"legend-title").attr({zIndex:1});if(!this.chart.styledMode){this.title.css(titleOptions.style)}this.title.add(this.group)}if(!titleOptions.width){this.title.css({width:this.maxLegendWidth+"px"})}bBox=this.title.getBBox();titleHeight=bBox.height;this.offsetWidth=bBox.width;this.contentGroup.attr({translateY:titleHeight})}this.titleHeight=titleHeight};Legend.prototype.setText=function(item){var options=this.options;item.legendItem.label.attr({text:options.labelFormat?Legend_format(options.labelFormat,item,this.chart):options.labelFormatter.call(item)})};Legend.prototype.renderItem=function(item){var legend=this,legendItem=item.legendItem=item.legendItem||{},chart=legend.chart,renderer=chart.renderer,options=legend.options,horizontal=options.layout==="horizontal",symbolWidth=legend.symbolWidth,symbolPadding=options.symbolPadding||0,itemStyle=legend.itemStyle,itemHiddenStyle=legend.itemHiddenStyle,itemDistance=horizontal?Legend_pick(options.itemDistance,20):0,ltr=!options.rtl,isSeries=!item.series,series=!isSeries&&item.series.drawLegendSymbol?item.series:item,seriesOptions=series.options,showCheckbox=!!legend.createCheckboxForItem&&seriesOptions&&seriesOptions.showCheckbox,useHTML=options.useHTML,itemClassName=item.options.className;var label=legendItem.label,itemExtraWidth=symbolWidth+symbolPadding+itemDistance+(showCheckbox?20:0);if(!label){legendItem.group=renderer.g("legend-item").addClass("highcharts-"+series.type+"-series "+"highcharts-color-"+item.colorIndex+(itemClassName?" "+itemClassName:"")+(isSeries?" highcharts-series-"+item.index:"")).attr({zIndex:1}).add(legend.scrollGroup);legendItem.label=label=renderer.text("",ltr?symbolWidth+symbolPadding:-symbolPadding,legend.baseline||0,useHTML);if(!chart.styledMode){label.css(Legend_merge(item.visible?itemStyle:itemHiddenStyle))}label.attr({align:ltr?"left":"right",zIndex:2}).add(legendItem.group);if(!legend.baseline){legend.fontMetrics=renderer.fontMetrics(label);legend.baseline=legend.fontMetrics.f+3+legend.itemMarginTop;label.attr("y",legend.baseline);legend.symbolHeight=Legend_pick(options.symbolHeight,legend.fontMetrics.f);if(options.squareSymbol){legend.symbolWidth=Legend_pick(options.symbolWidth,Math.max(legend.symbolHeight,16));itemExtraWidth=legend.symbolWidth+symbolPadding+itemDistance+(showCheckbox?20:0);if(ltr){label.attr("x",legend.symbolWidth+symbolPadding)}}}series.drawLegendSymbol(legend,item);if(legend.setItemEvents){legend.setItemEvents(item,label,useHTML)}}if(showCheckbox&&!item.checkbox&&legend.createCheckboxForItem){legend.createCheckboxForItem(item)}legend.colorizeItem(item,item.visible);if(chart.styledMode||!itemStyle.width){label.css({width:(options.itemWidth||legend.widthOption||chart.spacingBox.width)-itemExtraWidth+"px"})}legend.setText(item);var bBox=label.getBBox();var fontMetricsH=legend.fontMetrics&&legend.fontMetrics.h||0;item.itemWidth=item.checkboxOffset=options.itemWidth||legendItem.labelWidth||bBox.width+itemExtraWidth;legend.maxItemWidth=Math.max(legend.maxItemWidth,item.itemWidth);legend.totalItemWidth+=item.itemWidth;legend.itemHeight=item.itemHeight=Math.round(legendItem.labelHeight||(bBox.height>fontMetricsH*1.5?bBox.height:fontMetricsH))};Legend.prototype.layoutItem=function(item){var options=this.options,padding=this.padding,horizontal=options.layout==="horizontal",itemHeight=item.itemHeight,itemMarginBottom=this.itemMarginBottom,itemMarginTop=this.itemMarginTop,itemDistance=horizontal?Legend_pick(options.itemDistance,20):0,maxLegendWidth=this.maxLegendWidth,itemWidth=options.alignColumns&&this.totalItemWidth>maxLegendWidth?this.maxItemWidth:item.itemWidth,legendItem=item.legendItem||{};if(horizontal&&this.itemX-padding+itemWidth>maxLegendWidth){this.itemX=padding;if(this.lastLineHeight){this.itemY+=itemMarginTop+this.lastLineHeight+itemMarginBottom}this.lastLineHeight=0}this.lastItemY=itemMarginTop+this.itemY+itemMarginBottom;this.lastLineHeight=Math.max(itemHeight,this.lastLineHeight);legendItem.x=this.itemX;legendItem.y=this.itemY;if(horizontal){this.itemX+=itemWidth}else{this.itemY+=itemMarginTop+itemHeight+itemMarginBottom;this.lastLineHeight=itemHeight}this.offsetWidth=this.widthOption||Math.max((horizontal?this.itemX-padding-(item.checkbox?0:itemDistance):itemWidth)+padding,this.offsetWidth)};Legend.prototype.getAllItems=function(){var allItems=[];this.chart.series.forEach(function(series){var seriesOptions=series&&series.options;if(series&&Legend_pick(seriesOptions.showInLegend,!Legend_defined(seriesOptions.linkedTo)?void 0:false,true)){allItems=allItems.concat((series.legendItem||{}).labels||(seriesOptions.legendType==="point"?series.data:series))}});Legend_fireEvent(this,"afterGetAllItems",{allItems:allItems});return allItems};Legend.prototype.getAlignment=function(){var options=this.options;if(this.proximate){return options.align.charAt(0)+"tv"}return options.floating?"":options.align.charAt(0)+options.verticalAlign.charAt(0)+options.layout.charAt(0)};Legend.prototype.adjustMargins=function(margin,spacing){var chart=this.chart,options=this.options,alignment=this.getAlignment();if(alignment){[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(alignments,side){if(alignments.test(alignment)&&!Legend_defined(margin[side])){chart[marginNames[side]]=Math.max(chart[marginNames[side]],chart.legend[(side+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][side]*options[side%2?"x":"y"]+Legend_pick(options.margin,12)+spacing[side]+(chart.titleOffset[side]||0))}})}};Legend.prototype.proximatePositions=function(){var chart=this.chart,boxes=[],alignLeft=this.options.align==="left";this.allItems.forEach(function(item){var lastPoint,height,useFirstPoint=alignLeft,target,top;if(item.yAxis){if(item.xAxis.options.reversed){useFirstPoint=!useFirstPoint}if(item.points){lastPoint=Legend_find(useFirstPoint?item.points:item.points.slice(0).reverse(),function(item){return Legend_isNumber(item.plotY)})}height=this.itemMarginTop+item.legendItem.label.getBBox().height+this.itemMarginBottom;top=item.yAxis.top-chart.plotTop;if(item.visible){target=lastPoint?lastPoint.plotY:item.yAxis.height;target+=top-.3*height}else{target=top+item.yAxis.height}boxes.push({target:target,size:height,item:item})}},this);var legendItem;for(var _i=0,_a=Legend_distribute(boxes,chart.plotHeight);_i<_a.length;_i++){var box=_a[_i];legendItem=box.item.legendItem||{};if(Legend_isNumber(box.pos)){legendItem.y=chart.plotTop-chart.spacing[0]+box.pos}}};Legend.prototype.render=function(){var legend=this,chart=legend.chart,renderer=chart.renderer,options=legend.options,padding=legend.padding,allItems=legend.getAllItems();var display,legendWidth,legendHeight,legendGroup=legend.group,allowedWidth,box=legend.box;legend.itemX=padding;legend.itemY=legend.initialItemY;legend.offsetWidth=0;legend.lastItemY=0;legend.widthOption=Legend_relativeLength(options.width,chart.spacingBox.width-padding);allowedWidth=chart.spacingBox.width-2*padding-options.x;if(["rm","lm"].indexOf(legend.getAlignment().substring(0,2))>-1){allowedWidth/=2}legend.maxLegendWidth=legend.widthOption||allowedWidth;if(!legendGroup){legend.group=legendGroup=renderer.g("legend").addClass(options.className||"").attr({zIndex:7}).add();legend.contentGroup=renderer.g().attr({zIndex:1}).add(legendGroup);legend.scrollGroup=renderer.g().add(legend.contentGroup)}legend.renderTitle();Legend_stableSort(allItems,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)});if(options.reversed){allItems.reverse()}legend.allItems=allItems;legend.display=display=!!allItems.length;legend.lastLineHeight=0;legend.maxItemWidth=0;legend.totalItemWidth=0;legend.itemHeight=0;allItems.forEach(legend.renderItem,legend);allItems.forEach(legend.layoutItem,legend);legendWidth=(legend.widthOption||legend.offsetWidth)+padding;legendHeight=legend.lastItemY+legend.lastLineHeight+legend.titleHeight;legendHeight=legend.handleOverflow(legendHeight);legendHeight+=padding;if(!box){legend.box=box=renderer.rect().addClass("highcharts-legend-box").attr({r:options.borderRadius}).add(legendGroup)}if(!chart.styledMode){box.attr({stroke:options.borderColor,"stroke-width":options.borderWidth||0,fill:options.backgroundColor||"none"}).shadow(options.shadow)}if(legendWidth>0&&legendHeight>0){box[box.placed?"animate":"attr"](box.crisp.call({},{x:0,y:0,width:legendWidth,height:legendHeight},box.strokeWidth()))}legendGroup[display?"show":"hide"]();if(chart.styledMode&&legendGroup.getStyle("display")==="none"){legendWidth=legendHeight=0}legend.legendWidth=legendWidth;legend.legendHeight=legendHeight;if(display){legend.align()}if(!this.proximate){this.positionItems()}Legend_fireEvent(this,"afterRender")};Legend.prototype.align=function(alignTo){if(alignTo===void 0){alignTo=this.chart.spacingBox}var chart=this.chart,options=this.options;var y=alignTo.y;if(/(lth|ct|rth)/.test(this.getAlignment())&&chart.titleOffset[0]>0){y+=chart.titleOffset[0]}else if(/(lbh|cb|rbh)/.test(this.getAlignment())&&chart.titleOffset[2]>0){y-=chart.titleOffset[2]}if(y!==alignTo.y){alignTo=Legend_merge(alignTo,{y:y})}if(!chart.hasRendered){this.group.placed=false}this.group.align(Legend_merge(options,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":options.verticalAlign}),true,alignTo)};Legend.prototype.handleOverflow=function(legendHeight){var legend=this,chart=this.chart,renderer=chart.renderer,options=this.options,optionsY=options.y,alignTop=options.verticalAlign==="top",padding=this.padding,maxHeight=options.maxHeight,navOptions=options.navigation,animation=Legend_pick(navOptions.animation,true),arrowSize=navOptions.arrowSize||12,pages=this.pages,allItems=this.allItems,clipToHeight=function(height){if(typeof height==="number"){clipRect.attr({height:height})}else if(clipRect){legend.clipRect=clipRect.destroy();legend.contentGroup.clip()}if(legend.contentGroup.div){legend.contentGroup.div.style.clip=height?"rect("+padding+"px,9999px,"+(padding+height)+"px,0)":"auto"}},addTracker=function(key){legend[key]=renderer.circle(0,0,arrowSize*1.3).translate(arrowSize/2,arrowSize/2).add(nav);if(!chart.styledMode){legend[key].attr("fill","rgba(0,0,0,0.0001)")}return legend[key]};var clipHeight,lastY,legendItem,spaceHeight=chart.spacingBox.height+(alignTop?-optionsY:optionsY)-padding,nav=this.nav,clipRect=this.clipRect;if(options.layout==="horizontal"&&options.verticalAlign!=="middle"&&!options.floating){spaceHeight/=2}if(maxHeight){spaceHeight=Math.min(spaceHeight,maxHeight)}pages.length=0;if(legendHeight&&spaceHeight>0&&legendHeight>spaceHeight&&navOptions.enabled!==false){this.clipHeight=clipHeight=Math.max(spaceHeight-20-this.titleHeight-padding,0);this.currentPage=Legend_pick(this.currentPage,1);this.fullHeight=legendHeight;allItems.forEach(function(item,i){legendItem=item.legendItem||{};var y=legendItem.y||0,h=Math.round(legendItem.label.getBBox().height);var len=pages.length;if(!len||y-pages[len-1]>clipHeight&&(lastY||y)!==pages[len-1]){pages.push(lastY||y);len++}legendItem.pageIx=len-1;if(lastY){(allItems[i-1].legendItem||{}).pageIx=len-1}if(i===allItems.length-1&&y+h-pages[len-1]>clipHeight&&y>pages[len-1]){pages.push(y);legendItem.pageIx=len}if(y!==lastY){lastY=y}});if(!clipRect){clipRect=legend.clipRect=renderer.clipRect(0,padding-2,9999,0);legend.contentGroup.clip(clipRect)}clipToHeight(clipHeight);if(!nav){this.nav=nav=renderer.g().attr({zIndex:1}).add(this.group);this.up=renderer.symbol("triangle",0,0,arrowSize,arrowSize).add(nav);addTracker("upTracker").on("click",function(){legend.scroll(-1,animation)});this.pager=renderer.text("",15,10).addClass("highcharts-legend-navigation");if(!chart.styledMode&&navOptions.style){this.pager.css(navOptions.style)}this.pager.add(nav);this.down=renderer.symbol("triangle-down",0,0,arrowSize,arrowSize).add(nav);addTracker("downTracker").on("click",function(){legend.scroll(1,animation)})}legend.scroll(0);legendHeight=spaceHeight}else if(nav){clipToHeight();this.nav=nav.destroy();this.scrollGroup.attr({translateY:1});this.clipHeight=0}return legendHeight};Legend.prototype.scroll=function(scrollBy,animation){var _this=this;var chart=this.chart,pages=this.pages,pageCount=pages.length,clipHeight=this.clipHeight,navOptions=this.options.navigation,pager=this.pager,padding=this.padding;var currentPage=this.currentPage+scrollBy;if(currentPage>pageCount){currentPage=pageCount}if(currentPage>0){if(typeof animation!=="undefined"){Legend_setAnimation(animation,chart)}this.nav.attr({translateX:padding,translateY:clipHeight+this.padding+7+this.titleHeight,visibility:"inherit"});[this.up,this.upTracker].forEach(function(elem){elem.attr({class:currentPage===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})});pager.attr({text:currentPage+"/"+pageCount});[this.down,this.downTracker].forEach(function(elem){elem.attr({x:18+this.pager.getBBox().width,class:currentPage===pageCount?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this);if(!chart.styledMode){this.up.attr({fill:currentPage===1?navOptions.inactiveColor:navOptions.activeColor});this.upTracker.css({cursor:currentPage===1?"default":"pointer"});this.down.attr({fill:currentPage===pageCount?navOptions.inactiveColor:navOptions.activeColor});this.downTracker.css({cursor:currentPage===pageCount?"default":"pointer"})}this.scrollOffset=-pages[currentPage-1]+this.initialItemY;this.scrollGroup.animate({translateY:this.scrollOffset});this.currentPage=currentPage;this.positionCheckboxes();var animOptions=Legend_animObject(Legend_pick(animation,chart.renderer.globalAnimation,true));Legend_syncTimeout(function(){Legend_fireEvent(_this,"afterScroll",{currentPage:currentPage})},animOptions.duration)}};Legend.prototype.setItemEvents=function(item,legendLabel,useHTML){var legend=this,legendItem=item.legendItem||{},boxWrapper=legend.chart.renderer.boxWrapper,isPoint=item instanceof Series_Point,isSeries=item instanceof Series_Series,activeClass="highcharts-legend-"+(isPoint?"point":"series")+"-active",styledMode=legend.chart.styledMode,legendElements=useHTML?[legendLabel,legendItem.symbol]:[legendItem.group];var setOtherItemsState=function(state){legend.allItems.forEach(function(otherItem){if(item!==otherItem){[otherItem].concat(otherItem.linkedSeries||[]).forEach(function(otherItem){otherItem.setState(state,!isPoint)})}})};for(var _i=0,legendElements_1=legendElements;_i<legendElements_1.length;_i++){var element=legendElements_1[_i];if(element){element.on("mouseover",function(){if(item.visible){setOtherItemsState("inactive")}item.setState("hover");if(item.visible){boxWrapper.addClass(activeClass)}if(!styledMode){legendLabel.css(legend.options.itemHoverStyle)}}).on("mouseout",function(){if(!legend.chart.styledMode){legendLabel.css(Legend_merge(item.visible?legend.itemStyle:legend.itemHiddenStyle))}setOtherItemsState("");boxWrapper.removeClass(activeClass);item.setState()}).on("click",function(event){var defaultItemClick=function(){if(item.setVisible){item.setVisible()}setOtherItemsState(item.visible?"inactive":"")};boxWrapper.removeClass(activeClass);Legend_fireEvent(legend,"itemClick",{browserEvent:event,legendItem:item},defaultItemClick);if(isPoint){item.firePointEvent("legendItemClick",{browserEvent:event})}else if(isSeries){Legend_fireEvent(item,"legendItemClick",{browserEvent:event})}})}}};Legend.prototype.createCheckboxForItem=function(item){var legend=this;item.checkbox=Legend_createElement("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:item.selected,defaultChecked:item.selected},legend.options.itemCheckboxStyle,legend.chart.container);Legend_addEvent(item.checkbox,"click",function(event){var target=event.target;Legend_fireEvent(item.series||item,"checkboxClick",{checked:target.checked,item:item},function(){item.select()})})};return Legend}();(function(Legend){function compose(ChartClass){if(Legend_pushUnique(Legend_composed,"Core.Legend")){Legend_addEvent(ChartClass,"beforeMargins",function(){this.legend=new Legend(this,this.options.legend)})}}Legend.compose=compose})(Legend||(Legend={}));var Legend_Legend=Legend;"";var Chart_assign=undefined&&undefined.__assign||function(){Chart_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return Chart_assign.apply(this,arguments)};var Chart_spreadArray=undefined&&undefined.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var Chart_animate=AnimationUtilities.animate,Chart_animObject=AnimationUtilities.animObject,Chart_setAnimation=AnimationUtilities.setAnimation;var Chart_defaultOptions=Defaults.defaultOptions;var Chart_numberFormat=Core_Templating.numberFormat;var Chart_registerEventOptions=Core_Foundation.registerEventOptions;var Chart_charts=Core_Globals.charts,Chart_doc=Core_Globals.doc,Chart_marginNames=Core_Globals.marginNames,Chart_svg=Core_Globals.svg,Chart_win=Core_Globals.win;var Chart_seriesTypes=Series_SeriesRegistry.seriesTypes;var Chart_addEvent=Core_Utilities.addEvent,Chart_attr=Core_Utilities.attr,Chart_createElement=Core_Utilities.createElement,Chart_css=Core_Utilities.css,Chart_defined=Core_Utilities.defined,Chart_diffObjects=Core_Utilities.diffObjects,Chart_discardElement=Core_Utilities.discardElement,Chart_erase=Core_Utilities.erase,Chart_error=Core_Utilities.error,Chart_extend=Core_Utilities.extend,Chart_find=Core_Utilities.find,Chart_fireEvent=Core_Utilities.fireEvent,Chart_getAlignFactor=Core_Utilities.getAlignFactor,Chart_getStyle=Core_Utilities.getStyle,Chart_isArray=Core_Utilities.isArray,Chart_isNumber=Core_Utilities.isNumber,Chart_isObject=Core_Utilities.isObject,Chart_isString=Core_Utilities.isString,Chart_merge=Core_Utilities.merge,Chart_objectEach=Core_Utilities.objectEach,Chart_pick=Core_Utilities.pick,Chart_pInt=Core_Utilities.pInt,Chart_relativeLength=Core_Utilities.relativeLength,Chart_removeEvent=Core_Utilities.removeEvent,Chart_splat=Core_Utilities.splat,Chart_syncTimeout=Core_Utilities.syncTimeout,Chart_uniqueKey=Core_Utilities.uniqueKey;var Chart=function(){function Chart(a,b,c){this.sharedClips={};var args=Chart_spreadArray([],arguments,true);if(Chart_isString(a)||a.nodeName){this.renderTo=args.shift()}this.init(args[0],args[1])}Chart.chart=function(a,b,c){return new Chart(a,b,c)};Chart.prototype.setZoomOptions=function(){var chart=this,options=chart.options.chart,zooming=options.zooming;chart.zooming=Chart_assign(Chart_assign({},zooming),{type:Chart_pick(options.zoomType,zooming.type),key:Chart_pick(options.zoomKey,zooming.key),pinchType:Chart_pick(options.pinchType,zooming.pinchType),singleTouch:Chart_pick(options.zoomBySingleTouch,zooming.singleTouch,false),resetButton:Chart_merge(zooming.resetButton,options.resetZoomButton)})};Chart.prototype.init=function(userOptions,callback){Chart_fireEvent(this,"init",{args:arguments},function(){var _a,_b;var options=Chart_merge(Chart_defaultOptions,userOptions),optionsChart=options.chart,renderTo=this.renderTo||optionsChart.renderTo;this.userOptions=Chart_extend({},userOptions);if(!(this.renderTo=Chart_isString(renderTo)?Chart_doc.getElementById(renderTo):renderTo)){Chart_error(13,true,this)}this.margin=[];this.spacing=[];this.labelCollectors=[];this.callback=callback;this.isResizing=0;this.options=options;this.axes=[];this.series=[];this.locale=(_a=options.lang.locale)!==null&&_a!==void 0?_a:(_b=this.renderTo.closest("[lang]"))===null||_b===void 0?void 0:_b.lang;this.time=new Core_Time(Chart_extend(options.time||{},{locale:this.locale}));options.time=this.time.options;this.numberFormatter=(optionsChart.numberFormatter||Chart_numberFormat).bind(this);this.styledMode=optionsChart.styledMode;this.hasCartesianSeries=optionsChart.showAxes;var chart=this;chart.index=Chart_charts.length;Chart_charts.push(chart);Core_Globals.chartCount++;Chart_registerEventOptions(this,optionsChart);chart.xAxis=[];chart.yAxis=[];chart.pointCount=chart.colorCounter=chart.symbolCounter=0;this.setZoomOptions();Chart_fireEvent(chart,"afterInit");chart.firstRender()})};Chart.prototype.initSeries=function(options){var chart=this,optionsChart=chart.options.chart,type=options.type||optionsChart.type,SeriesClass=Chart_seriesTypes[type];if(!SeriesClass){Chart_error(17,true,chart,{missingModuleFor:type})}var series=new SeriesClass;if(typeof series.init==="function"){series.init(chart,options)}return series};Chart.prototype.setSortedData=function(){this.getSeriesOrderByLinks().forEach(function(series){if(!series.points&&!series.data&&series.enabledDataSorting){series.setData(series.options.data,false)}})};Chart.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(a,b){if(a.linkedSeries.length||b.linkedSeries.length){return b.linkedSeries.length-a.linkedSeries.length}return 0})};Chart.prototype.orderItems=function(coll,fromIndex){if(fromIndex===void 0){fromIndex=0}var collection=this[coll],optionsArray=this.options[coll]=Chart_splat(this.options[coll]).slice(),userOptionsArray=this.userOptions[coll]=this.userOptions[coll]?Chart_splat(this.userOptions[coll]).slice():[];if(this.hasRendered){optionsArray.splice(fromIndex);userOptionsArray.splice(fromIndex)}if(collection){for(var i=fromIndex,iEnd=collection.length;i<iEnd;++i){var item=collection[i];if(item){item.index=i;if(item instanceof Series_Series){item.name=item.getName()}if(!item.options.isInternal){optionsArray[i]=item.options;userOptionsArray[i]=item.userOptions}}}}};Chart.prototype.isInsidePlot=function(plotX,plotY,options){var _a;if(options===void 0){options={}}var _b=this,inverted=_b.inverted,plotBox=_b.plotBox,plotLeft=_b.plotLeft,plotTop=_b.plotTop,scrollablePlotBox=_b.scrollablePlotBox,_c=options.visiblePlotOnly&&((_a=this.scrollablePlotArea)===null||_a===void 0?void 0:_a.scrollingContainer)||{},_d=_c.scrollLeft,scrollLeft=_d===void 0?0:_d,_e=_c.scrollTop,scrollTop=_e===void 0?0:_e,series=options.series,box=options.visiblePlotOnly&&scrollablePlotBox||plotBox,x=options.inverted?plotY:plotX,y=options.inverted?plotX:plotY,e={x:x,y:y,isInsidePlot:true,options:options};if(!options.ignoreX){var xAxis=series&&(inverted&&!this.polar?series.yAxis:series.xAxis)||{pos:plotLeft,len:Infinity};var chartX=options.paneCoordinates?xAxis.pos+x:plotLeft+x;if(!(chartX>=Math.max(scrollLeft+plotLeft,xAxis.pos)&&chartX<=Math.min(scrollLeft+plotLeft+box.width,xAxis.pos+xAxis.len))){e.isInsidePlot=false}}if(!options.ignoreY&&e.isInsidePlot){var yAxis=!inverted&&options.axis&&!options.axis.isXAxis&&options.axis||series&&(inverted?series.xAxis:series.yAxis)||{pos:plotTop,len:Infinity};var chartY=options.paneCoordinates?yAxis.pos+y:plotTop+y;if(!(chartY>=Math.max(scrollTop+plotTop,yAxis.pos)&&chartY<=Math.min(scrollTop+plotTop+box.height,yAxis.pos+yAxis.len))){e.isInsidePlot=false}}Chart_fireEvent(this,"afterIsInsidePlot",e);return e.isInsidePlot};Chart.prototype.redraw=function(animation){Chart_fireEvent(this,"beforeRedraw");var chart=this,axes=chart.hasCartesianSeries?chart.axes:chart.colorAxis||[],series=chart.series,pointer=chart.pointer,legend=chart.legend,legendUserOptions=chart.userOptions.legend,renderer=chart.renderer,isHiddenChart=renderer.isHidden(),afterRedraw=[];var hasDirtyStacks,hasStackedSeries,i,isDirtyBox=chart.isDirtyBox,redrawLegend=chart.isDirtyLegend,serie;renderer.rootFontSize=renderer.boxWrapper.getStyle("font-size");if(chart.setResponsive){chart.setResponsive(false)}Chart_setAnimation(chart.hasRendered?animation:false,chart);if(isHiddenChart){chart.temporaryDisplay()}chart.layOutTitles(false);i=series.length;while(i--){serie=series[i];if(serie.options.stacking||serie.options.centerInCategory){hasStackedSeries=true;if(serie.isDirty){hasDirtyStacks=true;break}}}if(hasDirtyStacks){i=series.length;while(i--){serie=series[i];if(serie.options.stacking){serie.isDirty=true}}}series.forEach(function(serie){if(serie.isDirty){if(serie.options.legendType==="point"){if(typeof serie.updateTotals==="function"){serie.updateTotals()}redrawLegend=true}else if(legendUserOptions&&(!!legendUserOptions.labelFormatter||legendUserOptions.labelFormat)){redrawLegend=true}}if(serie.isDirtyData){Chart_fireEvent(serie,"updatedData")}});if(redrawLegend&&legend&&legend.options.enabled){legend.render();chart.isDirtyLegend=false}if(hasStackedSeries){chart.getStacks()}axes.forEach(function(axis){axis.updateNames();axis.setScale()});chart.getMargins();axes.forEach(function(axis){if(axis.isDirty){isDirtyBox=true}});axes.forEach(function(axis){var key=axis.min+","+axis.max;if(axis.extKey!==key){axis.extKey=key;afterRedraw.push(function(){Chart_fireEvent(axis,"afterSetExtremes",Chart_extend(axis.eventArgs,axis.getExtremes()));delete axis.eventArgs})}if(isDirtyBox||hasStackedSeries){axis.redraw()}});if(isDirtyBox){chart.drawChartBox()}Chart_fireEvent(chart,"predraw");series.forEach(function(serie){if((isDirtyBox||serie.isDirty)&&serie.visible){serie.redraw()}serie.isDirtyData=false});if(pointer){pointer.reset(true)}renderer.draw();Chart_fireEvent(chart,"redraw");Chart_fireEvent(chart,"render");if(isHiddenChart){chart.temporaryDisplay(true)}afterRedraw.forEach(function(callback){callback.call()})};Chart.prototype.get=function(id){var series=this.series;function itemById(item){return item.id===id||item.options&&item.options.id===id}var ret=Chart_find(this.axes,itemById)||Chart_find(this.series,itemById);for(var i=0;!ret&&i<series.length;i++){ret=Chart_find(series[i].points||[],itemById)}return ret};Chart.prototype.createAxes=function(){var options=this.userOptions;Chart_fireEvent(this,"createAxes");for(var _i=0,_a=["xAxis","yAxis"];_i<_a.length;_i++){var coll=_a[_i];var arr=options[coll]=Chart_splat(options[coll]||{});for(var _b=0,arr_1=arr;_b<arr_1.length;_b++){var axisOptions=arr_1[_b];new Axis_Axis(this,axisOptions,coll)}}Chart_fireEvent(this,"afterCreateAxes")};Chart.prototype.getSelectedPoints=function(){return this.series.reduce(function(acc,series){series.getPointsCollection().forEach(function(point){if(Chart_pick(point.selectedStaging,point.selected)){acc.push(point)}});return acc},[])};Chart.prototype.getSelectedSeries=function(){return this.series.filter(function(s){return s.selected})};Chart.prototype.setTitle=function(titleOptions,subtitleOptions,redraw){this.applyDescription("title",titleOptions);this.applyDescription("subtitle",subtitleOptions);this.applyDescription("caption",void 0);this.layOutTitles(redraw)};Chart.prototype.applyDescription=function(key,explicitOptions){var _a;var chart=this;var options=this.options[key]=Chart_merge(this.options[key],explicitOptions);var elem=this[key];if(elem&&explicitOptions){this[key]=elem=elem.destroy()}if(options&&!elem){elem=this.renderer.text(options.text,0,0,options.useHTML).attr({align:options.align,class:"highcharts-"+key,zIndex:options.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add();elem.update=function(updateOptions,redraw){chart.applyDescription(key,updateOptions);chart.layOutTitles(redraw)};if(!this.styledMode){elem.css(Chart_extend(key==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},options.style))}elem.textPxLength=elem.getBBox().width;elem.css({whiteSpace:(_a=options.style)===null||_a===void 0?void 0:_a.whiteSpace});this[key]=elem}};Chart.prototype.layOutTitles=function(redraw){var _this=this;var _a,_b,_c,_d;if(redraw===void 0){redraw=true}var titleOffset=[0,0,0],_e=this,options=_e.options,renderer=_e.renderer,spacingBox=_e.spacingBox;["title","subtitle","caption"].forEach(function(key){var _a;var desc=_this[key],descOptions=_this.options[key],alignTo=Chart_merge(spacingBox),textPxLength=(desc===null||desc===void 0?void 0:desc.textPxLength)||0;if(desc&&descOptions){Chart_fireEvent(_this,"layOutTitle",{alignTo:alignTo,key:key,textPxLength:textPxLength});var fontMetrics=renderer.fontMetrics(desc),baseline=fontMetrics.b,lineHeight=fontMetrics.h,verticalAlign=descOptions.verticalAlign||"top",topAligned=verticalAlign==="top",minScale=topAligned&&descOptions.minScale||1,offset=key==="title"?topAligned?-3:0:topAligned?titleOffset[0]+2:0,uncappedScale=Math.min(alignTo.width/textPxLength,1),scale=Math.max(minScale,uncappedScale),alignAttr=Chart_merge({y:verticalAlign==="bottom"?baseline:offset+baseline},{align:key==="title"?uncappedScale<minScale?"left":"center":(_a=_this.title)===null||_a===void 0?void 0:_a.alignValue},descOptions),width=descOptions.width||(uncappedScale>minScale?_this.chartWidth:alignTo.width)/scale;if(desc.alignValue!==alignAttr.align){desc.placed=false}var height=Math.round(desc.css({width:""+width+"px"}).getBBox(descOptions.useHTML).height);alignAttr.height=height;desc.align(alignAttr,false,alignTo).attr({align:alignAttr.align,scaleX:scale,scaleY:scale,"transform-origin":""+(alignTo.x+textPxLength*scale*Chart_getAlignFactor(alignAttr.align))+" ".concat(lineHeight)});if(!descOptions.floating){var offset_1=height*(height<lineHeight*1.2?1:scale);if(verticalAlign==="top"){titleOffset[0]=Math.ceil(titleOffset[0]+offset_1)}else if(verticalAlign==="bottom"){titleOffset[2]=Math.ceil(titleOffset[2]+offset_1)}}}},this);if(titleOffset[0]&&(((_a=options.title)===null||_a===void 0?void 0:_a.verticalAlign)||"top")==="top"){titleOffset[0]+=((_b=options.title)===null||_b===void 0?void 0:_b.margin)||0}if(titleOffset[2]&&((_c=options.caption)===null||_c===void 0?void 0:_c.verticalAlign)==="bottom"){titleOffset[2]+=((_d=options.caption)===null||_d===void 0?void 0:_d.margin)||0}var requiresDirtyBox=!this.titleOffset||this.titleOffset.join(",")!==titleOffset.join(",");this.titleOffset=titleOffset;Chart_fireEvent(this,"afterLayOutTitles");if(!this.isDirtyBox&&requiresDirtyBox){this.isDirtyBox=this.isDirtyLegend=requiresDirtyBox;if(this.hasRendered&&redraw&&this.isDirtyBox){this.redraw()}}};Chart.prototype.getContainerBox=function(){var _this=this;var nonContainers=[].map.call(this.renderTo.children,function(child){if(child!==_this.container){var display=child.style.display;child.style.display="none";return[child,display]}}),box={width:Chart_getStyle(this.renderTo,"width",true)||0,height:Chart_getStyle(this.renderTo,"height",true)||0};nonContainers.filter(Boolean).forEach(function(_a){var div=_a[0],display=_a[1];div.style.display=display});return box};Chart.prototype.getChartSize=function(){var _a;var chart=this,optionsChart=chart.options.chart,widthOption=optionsChart.width,heightOption=optionsChart.height,containerBox=chart.getContainerBox(),enableDefaultHeight=containerBox.height<=1||!((_a=chart.renderTo.parentElement)===null||_a===void 0?void 0:_a.style.height)&&chart.renderTo.style.height==="100%";chart.chartWidth=Math.max(0,widthOption||containerBox.width||600);chart.chartHeight=Math.max(0,Chart_relativeLength(heightOption,chart.chartWidth)||(enableDefaultHeight?400:containerBox.height));chart.containerBox=containerBox};Chart.prototype.temporaryDisplay=function(revert){var node=this.renderTo,tempStyle;if(!revert){while(node&&node.style){if(!Chart_doc.body.contains(node)&&!node.parentNode){node.hcOrigDetached=true;Chart_doc.body.appendChild(node)}if(Chart_getStyle(node,"display",false)==="none"||node.hcOricDetached){node.hcOrigStyle={display:node.style.display,height:node.style.height,overflow:node.style.overflow};tempStyle={display:"block",overflow:"hidden"};if(node!==this.renderTo){tempStyle.height=0}Chart_css(node,tempStyle);if(!node.offsetWidth){node.style.setProperty("display","block","important")}}node=node.parentNode;if(node===Chart_doc.body){break}}}else{while(node&&node.style){if(node.hcOrigStyle){Chart_css(node,node.hcOrigStyle);delete node.hcOrigStyle}if(node.hcOrigDetached){Chart_doc.body.removeChild(node);node.hcOrigDetached=false}node=node.parentNode}}};Chart.prototype.setClassName=function(className){this.container.className="highcharts-container "+(className||"")};Chart.prototype.getContainer=function(){var _a;var chart=this,options=chart.options,optionsChart=options.chart,indexAttrName="data-highcharts-chart",containerId=Chart_uniqueKey(),renderTo=chart.renderTo;var containerStyle;var oldChartIndex=Chart_pInt(Chart_attr(renderTo,indexAttrName));if(Chart_isNumber(oldChartIndex)&&Chart_charts[oldChartIndex]&&Chart_charts[oldChartIndex].hasRendered){Chart_charts[oldChartIndex].destroy()}Chart_attr(renderTo,indexAttrName,chart.index);renderTo.innerHTML=HTML_AST.emptyHTML;if(!optionsChart.skipClone&&!renderTo.offsetWidth){chart.temporaryDisplay()}chart.getChartSize();var chartHeight=chart.chartHeight;var chartWidth=chart.chartWidth;Chart_css(renderTo,{overflow:"hidden"});if(!chart.styledMode){containerStyle=Chart_extend({position:"relative",overflow:"hidden",width:chartWidth+"px",height:chartHeight+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},optionsChart.style||{})}var container=Chart_createElement("div",{id:containerId},containerStyle,renderTo);chart.container=container;chart.getChartSize();if(chartWidth!==chart.chartWidth){chartWidth=chart.chartWidth;if(!chart.styledMode){Chart_css(container,{width:Chart_pick((_a=optionsChart.style)===null||_a===void 0?void 0:_a.width,chartWidth+"px")})}}chart.containerBox=chart.getContainerBox();chart._cursor=container.style.cursor;var Renderer=optionsChart.renderer||!Chart_svg?Renderer_RendererRegistry.getRendererType(optionsChart.renderer):SVG_SVGRenderer;chart.renderer=new Renderer(container,chartWidth,chartHeight,void 0,optionsChart.forExport,options.exporting&&options.exporting.allowHTML,chart.styledMode);Chart_setAnimation(void 0,chart);chart.setClassName(optionsChart.className);if(!chart.styledMode){chart.renderer.setStyle(optionsChart.style)}else{for(var key in options.defs){this.renderer.definition(options.defs[key])}}chart.renderer.chartIndex=chart.index;Chart_fireEvent(this,"afterGetContainer")};Chart.prototype.getMargins=function(skipAxes){var _a=this,spacing=_a.spacing,margin=_a.margin,titleOffset=_a.titleOffset;this.resetMargins();if(titleOffset[0]&&!Chart_defined(margin[0])){this.plotTop=Math.max(this.plotTop,titleOffset[0]+spacing[0])}if(titleOffset[2]&&!Chart_defined(margin[2])){this.marginBottom=Math.max(this.marginBottom,titleOffset[2]+spacing[2])}if(this.legend&&this.legend.display){this.legend.adjustMargins(margin,spacing)}Chart_fireEvent(this,"getMargins");if(!skipAxes){this.getAxisMargins()}};Chart.prototype.getAxisMargins=function(){var chart=this,axisOffset=chart.axisOffset=[0,0,0,0],colorAxis=chart.colorAxis,margin=chart.margin,getOffset=function(axes){axes.forEach(function(axis){if(axis.visible){axis.getOffset()}})};if(chart.hasCartesianSeries){getOffset(chart.axes)}else if(colorAxis&&colorAxis.length){getOffset(colorAxis)}Chart_marginNames.forEach(function(m,side){if(!Chart_defined(margin[side])){chart[m]+=axisOffset[side]}});chart.setChartSize()};Chart.prototype.getOptions=function(){return Chart_diffObjects(this.userOptions,Chart_defaultOptions)};Chart.prototype.reflow=function(e){var _a;var chart=this,oldBox=chart.containerBox,containerBox=chart.getContainerBox();(_a=chart.pointer)===null||_a===void 0?true:delete _a.chartPosition;if(!chart.isPrinting&&!chart.isResizing&&oldBox&&containerBox.width){if(containerBox.width!==oldBox.width||containerBox.height!==oldBox.height){Core_Utilities.clearTimeout(chart.reflowTimeout);chart.reflowTimeout=Chart_syncTimeout(function(){if(chart.container){chart.setSize(void 0,void 0,false)}},e?100:0)}chart.containerBox=containerBox}};Chart.prototype.setReflow=function(){var chart=this;var runReflow=function(e){var _a;if(((_a=chart.options)===null||_a===void 0?void 0:_a.chart.reflow)&&chart.hasLoaded){chart.reflow(e)}};if(typeof ResizeObserver==="function"){new ResizeObserver(runReflow).observe(chart.renderTo)}else{var unbind=Chart_addEvent(Chart_win,"resize",runReflow);Chart_addEvent(this,"destroy",unbind)}};Chart.prototype.setSize=function(width,height,animation){var chart=this,renderer=chart.renderer;chart.isResizing+=1;Chart_setAnimation(animation,chart);var globalAnimation=renderer.globalAnimation;chart.oldChartHeight=chart.chartHeight;chart.oldChartWidth=chart.chartWidth;if(typeof width!=="undefined"){chart.options.chart.width=width}if(typeof height!=="undefined"){chart.options.chart.height=height}chart.getChartSize();var chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,_a=chart.scrollablePixelsX,scrollablePixelsX=_a===void 0?0:_a,_b=chart.scrollablePixelsY,scrollablePixelsY=_b===void 0?0:_b;if(chart.isDirtyBox||chartWidth!==chart.oldChartWidth||chartHeight!==chart.oldChartHeight){if(!chart.styledMode){(globalAnimation?Chart_animate:Chart_css)(chart.container,{width:""+(chartWidth+scrollablePixelsX)+"px",height:""+(chartHeight+scrollablePixelsY)+"px"},globalAnimation)}chart.setChartSize(true);renderer.setSize(chartWidth,chartHeight,globalAnimation);chart.axes.forEach(function(axis){axis.isDirty=true;axis.setScale()});chart.isDirtyLegend=true;chart.isDirtyBox=true;chart.layOutTitles();chart.getMargins();chart.redraw(globalAnimation);chart.oldChartHeight=void 0;Chart_fireEvent(chart,"resize");setTimeout(function(){if(chart){Chart_fireEvent(chart,"endResize")}},Chart_animObject(globalAnimation).duration)}chart.isResizing-=1};Chart.prototype.setChartSize=function(skipAxes){var chart=this,chartHeight=chart.chartHeight,chartWidth=chart.chartWidth,inverted=chart.inverted,spacing=chart.spacing,renderer=chart.renderer,clipOffset=chart.clipOffset,clipRoundFunc=Math[inverted?"floor":"round"];var plotLeft,plotTop,plotWidth,plotHeight;chart.plotLeft=plotLeft=Math.round(chart.plotLeft);chart.plotTop=plotTop=Math.round(chart.plotTop);chart.plotWidth=plotWidth=Math.max(0,Math.round(chartWidth-plotLeft-chart.marginRight));chart.plotHeight=plotHeight=Math.max(0,Math.round(chartHeight-plotTop-chart.marginBottom));chart.plotSizeX=inverted?plotHeight:plotWidth;chart.plotSizeY=inverted?plotWidth:plotHeight;chart.spacingBox=renderer.spacingBox={x:spacing[3],y:spacing[0],width:chartWidth-spacing[3]-spacing[1],height:chartHeight-spacing[0]-spacing[2]};chart.plotBox=renderer.plotBox={x:plotLeft,y:plotTop,width:plotWidth,height:plotHeight};if(clipOffset){chart.clipBox={x:clipRoundFunc(clipOffset[3]),y:clipRoundFunc(clipOffset[0]),width:clipRoundFunc(chart.plotSizeX-clipOffset[1]-clipOffset[3]),height:clipRoundFunc(chart.plotSizeY-clipOffset[0]-clipOffset[2])}}if(!skipAxes){chart.axes.forEach(function(axis){axis.setAxisSize();axis.setAxisTranslation()});renderer.alignElements()}Chart_fireEvent(chart,"afterSetChartSize",{skipAxes:skipAxes})};Chart.prototype.resetMargins=function(){Chart_fireEvent(this,"resetMargins");var chart=this,chartOptions=chart.options.chart,plotBorderWidth=chartOptions.plotBorderWidth||0,halfWidth=plotBorderWidth/2;["margin","spacing"].forEach(function splashArrays(target){var value=chartOptions[target],values=Chart_isObject(value)?value:[value,value,value,value];["Top","Right","Bottom","Left"].forEach(function(sideName,side){chart[target][side]=Chart_pick(chartOptions[target+sideName],values[side])})});Chart_marginNames.forEach(function(m,side){chart[m]=Chart_pick(chart.margin[side],chart.spacing[side])});chart.axisOffset=[0,0,0,0];chart.clipOffset=[halfWidth,halfWidth,halfWidth,halfWidth];chart.plotBorderWidth=plotBorderWidth};Chart.prototype.drawChartBox=function(){var chart=this,optionsChart=chart.options.chart,renderer=chart.renderer,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,styledMode=chart.styledMode,plotBGImage=chart.plotBGImage,chartBackgroundColor=optionsChart.backgroundColor,plotBackgroundColor=optionsChart.plotBackgroundColor,plotBackgroundImage=optionsChart.plotBackgroundImage,plotLeft=chart.plotLeft,plotTop=chart.plotTop,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,plotBox=chart.plotBox,clipRect=chart.clipRect,clipBox=chart.clipBox;var chartBackground=chart.chartBackground,plotBackground=chart.plotBackground,plotBorder=chart.plotBorder,chartBorderWidth,mgn,bgAttr,verb="animate";if(!chartBackground){chart.chartBackground=chartBackground=renderer.rect().addClass("highcharts-background").add();verb="attr"}if(!styledMode){chartBorderWidth=optionsChart.borderWidth||0;mgn=chartBorderWidth+(optionsChart.shadow?8:0);bgAttr={fill:chartBackgroundColor||"none"};if(chartBorderWidth||chartBackground["stroke-width"]){bgAttr.stroke=optionsChart.borderColor;bgAttr["stroke-width"]=chartBorderWidth}chartBackground.attr(bgAttr).shadow(optionsChart.shadow)}else{chartBorderWidth=mgn=chartBackground.strokeWidth()}chartBackground[verb]({x:mgn/2,y:mgn/2,width:chartWidth-mgn-chartBorderWidth%2,height:chartHeight-mgn-chartBorderWidth%2,r:optionsChart.borderRadius});verb="animate";if(!plotBackground){verb="attr";chart.plotBackground=plotBackground=renderer.rect().addClass("highcharts-plot-background").add()}plotBackground[verb](plotBox);if(!styledMode){plotBackground.attr({fill:plotBackgroundColor||"none"}).shadow(optionsChart.plotShadow);if(plotBackgroundImage){if(!plotBGImage){chart.plotBGImage=renderer.image(plotBackgroundImage,plotLeft,plotTop,plotWidth,plotHeight).add()}else{if(plotBackgroundImage!==plotBGImage.attr("href")){plotBGImage.attr("href",plotBackgroundImage)}plotBGImage.animate(plotBox)}}}if(!clipRect){chart.clipRect=renderer.clipRect(clipBox)}else{clipRect.animate({width:clipBox.width,height:clipBox.height})}verb="animate";if(!plotBorder){verb="attr";chart.plotBorder=plotBorder=renderer.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()}if(!styledMode){plotBorder.attr({stroke:optionsChart.plotBorderColor,"stroke-width":optionsChart.plotBorderWidth||0,fill:"none"})}plotBorder[verb](plotBorder.crisp({x:plotLeft,y:plotTop,width:plotWidth,height:plotHeight},-plotBorder.strokeWidth()));chart.isDirtyBox=false;Chart_fireEvent(this,"afterDrawChartBox")};Chart.prototype.propFromSeries=function(){var chart=this,optionsChart=chart.options.chart,seriesOptions=chart.options.series;var i,klass,value;["inverted","angular","polar"].forEach(function(key){klass=Chart_seriesTypes[optionsChart.type];value=optionsChart[key]||klass&&klass.prototype[key];i=seriesOptions&&seriesOptions.length;while(!value&&i--){klass=Chart_seriesTypes[seriesOptions[i].type];if(klass&&klass.prototype[key]){value=true}}chart[key]=value})};Chart.prototype.linkSeries=function(isUpdating){var chart=this,chartSeries=chart.series;chartSeries.forEach(function(series){series.linkedSeries.length=0});chartSeries.forEach(function(series){var linkedTo=series.options.linkedTo;if(Chart_isString(linkedTo)){var linkedParent=void 0;if(linkedTo===":previous"){linkedParent=chart.series[series.index-1]}else{linkedParent=chart.get(linkedTo)}if(linkedParent&&linkedParent.linkedParent!==series){linkedParent.linkedSeries.push(series);series.linkedParent=linkedParent;if(linkedParent.enabledDataSorting){series.setDataSortingOptions()}series.visible=Chart_pick(series.options.visible,linkedParent.options.visible,series.visible)}}});Chart_fireEvent(this,"afterLinkSeries",{isUpdating:isUpdating})};Chart.prototype.renderSeries=function(){this.series.forEach(function(serie){serie.translate();serie.render()})};Chart.prototype.render=function(){var _a;var chart=this,axes=chart.axes,colorAxis=chart.colorAxis,renderer=chart.renderer,axisLayoutRuns=chart.options.chart.axisLayoutRuns||2,renderAxes=function(axes){axes.forEach(function(axis){if(axis.visible){axis.render()}})};var expectedSpace=0,redoHorizontal=true,redoVertical,run=0;chart.setTitle();Chart_fireEvent(chart,"beforeMargins");(_a=chart.getStacks)===null||_a===void 0?void 0:_a.call(chart);chart.getMargins(true);chart.setChartSize();for(var _i=0,axes_1=axes;_i<axes_1.length;_i++){var axis=axes_1[_i];var options=axis.options,labels=options.labels;if(chart.hasCartesianSeries&&axis.horiz&&axis.visible&&labels.enabled&&axis.series.length&&axis.coll!=="colorAxis"&&!chart.polar){expectedSpace=options.tickLength;axis.createGroups();var mockTick=new Axis_Tick(axis,0,"",true),label=mockTick.createLabel("x",labels);mockTick.destroy();if(label&&Chart_pick(labels.reserveSpace,!Chart_isNumber(options.crossing))){expectedSpace=label.getBBox().height+labels.distance+Math.max(options.offset||0,0)}if(expectedSpace){label===null||label===void 0?void 0:label.destroy();break}}}chart.plotHeight=Math.max(chart.plotHeight-expectedSpace,0);while((redoHorizontal||redoVertical||axisLayoutRuns>1)&&run<axisLayoutRuns){var tempWidth=chart.plotWidth,tempHeight=chart.plotHeight;for(var _b=0,axes_2=axes;_b<axes_2.length;_b++){var axis=axes_2[_b];if(run===0){axis.setScale()}else if(axis.horiz&&redoHorizontal||!axis.horiz&&redoVertical){axis.setTickInterval(true)}}if(run===0){chart.getAxisMargins()}else{chart.getMargins()}redoHorizontal=tempWidth/chart.plotWidth>(run?1:1.1);redoVertical=tempHeight/chart.plotHeight>(run?1:1.05);run++}chart.drawChartBox();if(chart.hasCartesianSeries){renderAxes(axes)}else if(colorAxis&&colorAxis.length){renderAxes(colorAxis)}if(!chart.seriesGroup){chart.seriesGroup=renderer.g("series-group").attr({zIndex:3}).shadow(chart.options.chart.seriesGroupShadow).add()}chart.renderSeries();chart.addCredits();if(chart.setResponsive){chart.setResponsive()}chart.hasRendered=true};Chart.prototype.addCredits=function(credits){var chart=this,creds=Chart_merge(true,this.options.credits,credits);if(creds.enabled&&!this.credits){this.credits=this.renderer.text(creds.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){if(creds.href){Chart_win.location.href=creds.href}}).attr({align:creds.position.align,zIndex:8});if(!chart.styledMode){this.credits.css(creds.style)}this.credits.add().align(creds.position);this.credits.update=function(options){chart.credits=chart.credits.destroy();chart.addCredits(options)}}};Chart.prototype.destroy=function(){var chart=this,axes=chart.axes,series=chart.series,container=chart.container,parentNode=container&&container.parentNode;var i;Chart_fireEvent(chart,"destroy");if(chart.renderer.forExport){Chart_erase(Chart_charts,chart)}else{Chart_charts[chart.index]=void 0}Core_Globals.chartCount--;chart.renderTo.removeAttribute("data-highcharts-chart");Chart_removeEvent(chart);i=axes.length;while(i--){axes[i]=axes[i].destroy()}if(this.scroller&&this.scroller.destroy){this.scroller.destroy()}i=series.length;while(i--){series[i]=series[i].destroy()}["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(name){var prop=chart[name];if(prop&&prop.destroy){chart[name]=prop.destroy()}});if(container){container.innerHTML=HTML_AST.emptyHTML;Chart_removeEvent(container);if(parentNode){Chart_discardElement(container)}}Chart_objectEach(chart,function(val,key){delete chart[key]})};Chart.prototype.firstRender=function(){var _a;var chart=this,options=chart.options;chart.getContainer();chart.resetMargins();chart.setChartSize();chart.propFromSeries();chart.createAxes();var series=Chart_isArray(options.series)?options.series:[];options.series=[];series.forEach(function(serieOptions){chart.initSeries(serieOptions)});chart.linkSeries();chart.setSortedData();Chart_fireEvent(chart,"beforeRender");chart.render();(_a=chart.pointer)===null||_a===void 0?void 0:_a.getChartPosition();if(!chart.renderer.imgCount&&!chart.hasLoaded){chart.onload()}chart.temporaryDisplay(true)};Chart.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(fn){if(fn&&typeof this.index!=="undefined"){fn.apply(this,[this])}},this);Chart_fireEvent(this,"load");Chart_fireEvent(this,"render");if(Chart_defined(this.index)){this.setReflow()}this.warnIfA11yModuleNotLoaded();this.hasLoaded=true};Chart.prototype.warnIfA11yModuleNotLoaded=function(){var _a=this,options=_a.options,title=_a.title;if(options&&!this.accessibility){this.renderer.boxWrapper.attr({role:"img","aria-label":(title&&title.element.textContent||"").replace(/</g,"&lt;")});if(!(options.accessibility&&options.accessibility.enabled===false)){Chart_error("Highcharts warning: Consider including the "+'"accessibility.js" module to make your chart more '+"usable for people with disabilities. Set the "+'"accessibility.enabled" option to false to remove this '+"warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.",false,this)}}};Chart.prototype.addSeries=function(options,redraw,animation){var chart=this;var series;if(options){redraw=Chart_pick(redraw,true);Chart_fireEvent(chart,"addSeries",{options:options},function(){series=chart.initSeries(options);chart.isDirtyLegend=true;chart.linkSeries();if(series.enabledDataSorting){series.setData(options.data,false)}Chart_fireEvent(chart,"afterAddSeries",{series:series});if(redraw){chart.redraw(animation)}})}return series};Chart.prototype.addAxis=function(options,isX,redraw,animation){return this.createAxis(isX?"xAxis":"yAxis",{axis:options,redraw:redraw,animation:animation})};Chart.prototype.addColorAxis=function(options,redraw,animation){return this.createAxis("colorAxis",{axis:options,redraw:redraw,animation:animation})};Chart.prototype.createAxis=function(coll,options){var axis=new Axis_Axis(this,options.axis,coll);if(Chart_pick(options.redraw,true)){this.redraw(options.animation)}return axis};Chart.prototype.showLoading=function(str){var chart=this,options=chart.options,loadingOptions=options.loading,setLoadingSize=function(){if(loadingDiv){Chart_css(loadingDiv,{left:chart.plotLeft+"px",top:chart.plotTop+"px",width:chart.plotWidth+"px",height:chart.plotHeight+"px"})}};var loadingDiv=chart.loadingDiv,loadingSpan=chart.loadingSpan;if(!loadingDiv){chart.loadingDiv=loadingDiv=Chart_createElement("div",{className:"highcharts-loading highcharts-loading-hidden"},null,chart.container)}if(!loadingSpan){chart.loadingSpan=loadingSpan=Chart_createElement("span",{className:"highcharts-loading-inner"},null,loadingDiv);Chart_addEvent(chart,"redraw",setLoadingSize)}loadingDiv.className="highcharts-loading";HTML_AST.setElementHTML(loadingSpan,Chart_pick(str,options.lang.loading,""));if(!chart.styledMode){Chart_css(loadingDiv,Chart_extend(loadingOptions.style,{zIndex:10}));Chart_css(loadingSpan,loadingOptions.labelStyle);if(!chart.loadingShown){Chart_css(loadingDiv,{opacity:0,display:""});Chart_animate(loadingDiv,{opacity:loadingOptions.style.opacity||.5},{duration:loadingOptions.showDuration||0})}}chart.loadingShown=true;setLoadingSize()};Chart.prototype.hideLoading=function(){var options=this.options,loadingDiv=this.loadingDiv;if(loadingDiv){loadingDiv.className="highcharts-loading highcharts-loading-hidden";if(!this.styledMode){Chart_animate(loadingDiv,{opacity:0},{duration:options.loading.hideDuration||100,complete:function(){Chart_css(loadingDiv,{display:"none"})}})}}this.loadingShown=false};Chart.prototype.update=function(options,redraw,oneToOne,animation){var chart=this,adders={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},isResponsiveOptions=options.isResponsiveOptions,itemsForRemoval=[];var updateAllAxes,updateAllSeries,runSetSize;Chart_fireEvent(chart,"update",{options:options});if(!isResponsiveOptions){chart.setResponsive(false,true)}options=Chart_diffObjects(options,chart.options);chart.userOptions=Chart_merge(chart.userOptions,options);var optionsChart=options.chart;if(optionsChart){Chart_merge(true,chart.options.chart,optionsChart);this.setZoomOptions();if("className"in optionsChart){chart.setClassName(optionsChart.className)}if("inverted"in optionsChart||"polar"in optionsChart||"type"in optionsChart){chart.propFromSeries();updateAllAxes=true}if("alignTicks"in optionsChart){updateAllAxes=true}if("events"in optionsChart){Chart_registerEventOptions(this,optionsChart)}Chart_objectEach(optionsChart,function(val,key){if(chart.propsRequireUpdateSeries.indexOf("chart."+key)!==-1){updateAllSeries=true}if(chart.propsRequireDirtyBox.indexOf(key)!==-1){chart.isDirtyBox=true}if(chart.propsRequireReflow.indexOf(key)!==-1){chart.isDirtyBox=true;if(!isResponsiveOptions){runSetSize=true}}});if(!chart.styledMode&&optionsChart.style){chart.renderer.setStyle(chart.options.chart.style||{})}}if(!chart.styledMode&&options.colors){this.options.colors=options.colors}Chart_objectEach(options,function(val,key){if(chart[key]&&typeof chart[key].update==="function"){chart[key].update(val,false)}else if(typeof chart[adders[key]]==="function"){chart[adders[key]](val)}else if(key!=="colors"&&chart.collectionsWithUpdate.indexOf(key)===-1){Chart_merge(true,chart.options[key],options[key])}if(key!=="chart"&&chart.propsRequireUpdateSeries.indexOf(key)!==-1){updateAllSeries=true}});this.collectionsWithUpdate.forEach(function(coll){if(options[coll]){Chart_splat(options[coll]).forEach(function(newOptions,i){var hasId=Chart_defined(newOptions.id);var item;if(hasId){item=chart.get(newOptions.id)}if(!item&&chart[coll]){item=chart[coll][Chart_pick(newOptions.index,i)];if(item&&(hasId&&Chart_defined(item.options.id)||item.options.isInternal)){item=void 0}}if(item&&item.coll===coll){item.update(newOptions,false);if(oneToOne){item.touched=true}}if(!item&&oneToOne&&chart.collectionsWithInit[coll]){chart.collectionsWithInit[coll][0].apply(chart,[newOptions].concat(chart.collectionsWithInit[coll][1]||[]).concat([false])).touched=true}});if(oneToOne){chart[coll].forEach(function(item){if(!item.touched&&!item.options.isInternal){itemsForRemoval.push(item)}else{delete item.touched}})}}});itemsForRemoval.forEach(function(item){if(item.chart&&item.remove){item.remove(false)}});if(updateAllAxes){chart.axes.forEach(function(axis){axis.update({},false)})}if(updateAllSeries){chart.getSeriesOrderByLinks().forEach(function(series){if(series.chart){series.update({},false)}},this)}var newWidth=optionsChart&&optionsChart.width;var newHeight=optionsChart&&(Chart_isString(optionsChart.height)?Chart_relativeLength(optionsChart.height,newWidth||chart.chartWidth):optionsChart.height);if(runSetSize||Chart_isNumber(newWidth)&&newWidth!==chart.chartWidth||Chart_isNumber(newHeight)&&newHeight!==chart.chartHeight){chart.setSize(newWidth,newHeight,animation)}else if(Chart_pick(redraw,true)){chart.redraw(animation)}Chart_fireEvent(chart,"afterUpdate",{options:options,redraw:redraw,animation:animation})};Chart.prototype.setSubtitle=function(options,redraw){this.applyDescription("subtitle",options);this.layOutTitles(redraw)};Chart.prototype.setCaption=function(options,redraw){this.applyDescription("caption",options);this.layOutTitles(redraw)};Chart.prototype.showResetZoom=function(){var chart=this,lang=Chart_defaultOptions.lang,btnOptions=chart.zooming.resetButton,theme=btnOptions.theme,alignTo=btnOptions.relativeTo==="chart"||btnOptions.relativeTo==="spacingBox"?null:"plotBox";function zoomOut(){chart.zoomOut()}Chart_fireEvent(this,"beforeShowResetZoom",null,function(){chart.resetZoomButton=chart.renderer.button(lang.resetZoom,null,null,zoomOut,theme).attr({align:btnOptions.position.align,title:lang.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(btnOptions.position,false,alignTo)});Chart_fireEvent(this,"afterShowResetZoom")};Chart.prototype.zoomOut=function(){var _this=this;Chart_fireEvent(this,"selection",{resetSelection:true},function(){return _this.transform({reset:true,trigger:"zoom"})})};Chart.prototype.pan=function(event,panning){var chart=this,panningOptions=typeof panning==="object"?panning:{enabled:panning,type:"x"},type=panningOptions.type,axes=type&&chart[{x:"xAxis",xy:"axes",y:"yAxis"}[type]].filter(function(axis){return axis.options.panningEnabled&&!axis.options.isInternal}),chartOptions=chart.options.chart;if(chartOptions===null||chartOptions===void 0?void 0:chartOptions.panning){chartOptions.panning=panningOptions}Chart_fireEvent(this,"pan",{originalEvent:event},function(){chart.transform({axes:axes,event:event,to:{x:event.chartX-(chart.mouseDownX||0),y:event.chartY-(chart.mouseDownY||0)},trigger:"pan"});Chart_css(chart.container,{cursor:"move"})})};Chart.prototype.transform=function(params){var _a;var _this=this;var _b,_c,_d;var _e=params.axes,axes=_e===void 0?this.axes:_e,event=params.event,_f=params.from,from=_f===void 0?{}:_f,reset=params.reset,selection=params.selection,_g=params.to,to=_g===void 0?{}:_g,trigger=params.trigger,_h=this,inverted=_h.inverted,time=_h.time;var hasZoomed=false,displayButton,isAnyAxisPanning;(_b=this.hoverPoints)===null||_b===void 0?void 0:_b.forEach(function(point){return point.setState()});for(var _i=0,axes_3=axes;_i<axes_3.length;_i++){var axis=axes_3[_i];var horiz=axis.horiz,len=axis.len,_j=axis.minPointOffset,minPointOffset=_j===void 0?0:_j,options=axis.options,reversed=axis.reversed,wh=horiz?"width":"height",xy=horiz?"x":"y",toLength=Chart_pick(to[wh],axis.len),fromLength=Chart_pick(from[wh],axis.len),scale=Math.abs(toLength)<10?1:toLength/fromLength,fromCenter=(from[xy]||0)+fromLength/2-axis.pos,toCenter=((_c=to[xy])!==null&&_c!==void 0?_c:axis.pos)+toLength/2-axis.pos,move=fromCenter-toCenter/scale,pointRangeDirection=reversed&&!inverted||!reversed&&inverted?-1:1,minPx=move;if(!reset&&(fromCenter<0||fromCenter>axis.len)){continue}var newMin=axis.toValue(minPx,true)+(selection||axis.isOrdinal?0:minPointOffset*pointRangeDirection),newMax=axis.toValue(minPx+len/scale,true)-(selection||axis.isOrdinal?0:minPointOffset*pointRangeDirection||0),allExtremes=axis.allExtremes;if(newMin>newMax){_a=[newMax,newMin],newMin=_a[0],newMax=_a[1]}if(scale===1&&!reset&&axis.coll==="yAxis"&&!allExtremes){for(var _k=0,_l=axis.series;_k<_l.length;_k++){var series=_l[_k];var seriesExtremes=series.getExtremes(series.getProcessedData(true).modified.getColumn("y")||[],true);allExtremes!==null&&allExtremes!==void 0?allExtremes:allExtremes={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE};if(Chart_isNumber(seriesExtremes.dataMin)&&Chart_isNumber(seriesExtremes.dataMax)){allExtremes.dataMin=Math.min(seriesExtremes.dataMin,allExtremes.dataMin);allExtremes.dataMax=Math.max(seriesExtremes.dataMax,allExtremes.dataMax)}}axis.allExtremes=allExtremes}var _m=Chart_extend(axis.getExtremes(),allExtremes||{}),dataMin=_m.dataMin,dataMax=_m.dataMax,min=_m.min,max=_m.max,optionsMin=time.parse(options.min),optionsMax=time.parse(options.max),safeDataMin=dataMin!==null&&dataMin!==void 0?dataMin:optionsMin,safeDataMax=dataMax!==null&&dataMax!==void 0?dataMax:optionsMax,range=newMax-newMin,padRange=axis.categories?0:Math.min(range,safeDataMax-safeDataMin),paddedMin=safeDataMin-padRange*(Chart_defined(optionsMin)?0:options.minPadding),paddedMax=safeDataMax+padRange*(Chart_defined(optionsMax)?0:options.maxPadding),allowZoomOutside=axis.allowZoomOutside||scale===1||trigger!=="zoom"&&scale>1,floor=Math.min(optionsMin!==null&&optionsMin!==void 0?optionsMin:paddedMin,paddedMin,allowZoomOutside?min:paddedMin),ceiling=Math.max(optionsMax!==null&&optionsMax!==void 0?optionsMax:paddedMax,paddedMax,allowZoomOutside?max:paddedMax);if(!axis.isOrdinal||axis.options.overscroll||scale!==1||reset){if(newMin<floor){newMin=floor;if(scale>=1){newMax=newMin+range}}if(newMax>ceiling){newMax=ceiling;if(scale>=1){newMin=newMax-range}}if(reset||axis.series.length&&(newMin!==min||newMax!==max)&&newMin>=floor&&newMax<=ceiling){if(selection){selection[axis.coll].push({axis:axis,min:newMin,max:newMax})}else{axis.isPanning=trigger!=="zoom";if(axis.isPanning){isAnyAxisPanning=true}axis.setExtremes(reset?void 0:newMin,reset?void 0:newMax,false,false,{move:move,trigger:trigger,scale:scale});if(!reset&&(newMin>floor||newMax<ceiling)&&trigger!=="mousewheel"){displayButton=true}}hasZoomed=true}if(event){this[horiz?"mouseDownX":"mouseDownY"]=event[horiz?"chartX":"chartY"]}}}if(hasZoomed){if(selection){Chart_fireEvent(this,"selection",selection,function(){delete params.selection;params.trigger="zoom";_this.transform(params)})}else{if(displayButton&&!isAnyAxisPanning&&!this.resetZoomButton){this.showResetZoom()}else if(!displayButton&&this.resetZoomButton){this.resetZoomButton=this.resetZoomButton.destroy()}this.redraw(trigger==="zoom"&&((_d=this.options.chart.animation)!==null&&_d!==void 0?_d:this.pointCount<100))}}return hasZoomed};return Chart}();Chart_extend(Chart.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Chart.prototype.addAxis,[true]],yAxis:[Chart.prototype.addAxis,[false]],series:[Chart.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});var Chart_Chart=Chart;"";var ScrollablePlotArea_stop=AnimationUtilities.stop;var ScrollablePlotArea_composed=Core_Globals.composed;var ScrollablePlotArea_addEvent=Core_Utilities.addEvent,ScrollablePlotArea_createElement=Core_Utilities.createElement,ScrollablePlotArea_css=Core_Utilities.css,ScrollablePlotArea_defined=Core_Utilities.defined,ScrollablePlotArea_erase=Core_Utilities.erase,ScrollablePlotArea_merge=Core_Utilities.merge,ScrollablePlotArea_pushUnique=Core_Utilities.pushUnique;function onChartRender(){var scrollablePlotArea=this.scrollablePlotArea;if((this.scrollablePixelsX||this.scrollablePixelsY)&&!scrollablePlotArea){this.scrollablePlotArea=scrollablePlotArea=new ScrollablePlotArea(this)}scrollablePlotArea===null||scrollablePlotArea===void 0?void 0:scrollablePlotArea.applyFixed()}function markDirty(){if(this.chart.scrollablePlotArea){this.chart.scrollablePlotArea.isDirty=true}}var ScrollablePlotArea=function(){function ScrollablePlotArea(chart){var _a,_b;var chartOptions=chart.options.chart,Renderer=Renderer_RendererRegistry.getRendererType(),scrollableOptions=chartOptions.scrollablePlotArea||{},moveFixedElements=this.moveFixedElements.bind(this),styles={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};if(chart.scrollablePixelsX){styles.overflowX="auto"}if(chart.scrollablePixelsY){styles.overflowY="auto"}this.chart=chart;var parentDiv=this.parentDiv=ScrollablePlotArea_createElement("div",{className:"highcharts-scrolling-parent"},{position:"relative"},chart.renderTo),scrollingContainer=this.scrollingContainer=ScrollablePlotArea_createElement("div",{className:"highcharts-scrolling"},styles,parentDiv),innerContainer=this.innerContainer=ScrollablePlotArea_createElement("div",{className:"highcharts-inner-container"},void 0,scrollingContainer),fixedDiv=this.fixedDiv=ScrollablePlotArea_createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((_a=chartOptions.style)===null||_a===void 0?void 0:_a.zIndex)||0)+2,top:0},void 0,true),fixedRenderer=this.fixedRenderer=new Renderer(fixedDiv,chart.chartWidth,chart.chartHeight,chartOptions.style);this.mask=fixedRenderer.path().attr({fill:chartOptions.backgroundColor||"#fff","fill-opacity":(_b=scrollableOptions.opacity)!==null&&_b!==void 0?_b:.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add();scrollingContainer.parentNode.insertBefore(fixedDiv,scrollingContainer);ScrollablePlotArea_css(chart.renderTo,{overflow:"visible"});ScrollablePlotArea_addEvent(chart,"afterShowResetZoom",moveFixedElements);ScrollablePlotArea_addEvent(chart,"afterApplyDrilldown",moveFixedElements);ScrollablePlotArea_addEvent(chart,"afterLayOutTitles",moveFixedElements);var lastHoverPoint;ScrollablePlotArea_addEvent(scrollingContainer,"scroll",function(){var pointer=chart.pointer,hoverPoint=chart.hoverPoint;if(pointer){delete pointer.chartPosition;if(hoverPoint){lastHoverPoint=hoverPoint}pointer.runPointActions(void 0,lastHoverPoint,true)}});innerContainer.appendChild(chart.container)}ScrollablePlotArea.compose=function(AxisClass,ChartClass,SeriesClass){var _this=this;if(ScrollablePlotArea_pushUnique(ScrollablePlotArea_composed,this.compose)){ScrollablePlotArea_addEvent(AxisClass,"afterInit",markDirty);ScrollablePlotArea_addEvent(ChartClass,"afterSetChartSize",function(e){return _this.afterSetSize(e.target,e)});ScrollablePlotArea_addEvent(ChartClass,"render",onChartRender);ScrollablePlotArea_addEvent(SeriesClass,"show",markDirty)}};ScrollablePlotArea.afterSetSize=function(chart,e){var _a=chart.options.chart.scrollablePlotArea||{},minWidth=_a.minWidth,minHeight=_a.minHeight,clipBox=chart.clipBox,plotBox=chart.plotBox,inverted=chart.inverted,renderer=chart.renderer;var scrollablePixelsX,scrollablePixelsY,recalculateHoriz;if(!renderer.forExport){if(minWidth){chart.scrollablePixelsX=scrollablePixelsX=Math.max(0,minWidth-chart.chartWidth);if(scrollablePixelsX){chart.scrollablePlotBox=ScrollablePlotArea_merge(chart.plotBox);plotBox.width=chart.plotWidth+=scrollablePixelsX;clipBox[inverted?"height":"width"]+=scrollablePixelsX;recalculateHoriz=true}}else if(minHeight){chart.scrollablePixelsY=scrollablePixelsY=Math.max(0,minHeight-chart.chartHeight);if(ScrollablePlotArea_defined(scrollablePixelsY)){chart.scrollablePlotBox=ScrollablePlotArea_merge(chart.plotBox);plotBox.height=chart.plotHeight+=scrollablePixelsY;clipBox[inverted?"width":"height"]+=scrollablePixelsY;recalculateHoriz=false}}if(ScrollablePlotArea_defined(recalculateHoriz)&&!e.skipAxes){for(var _i=0,_b=chart.axes;_i<_b.length;_i++){var axis=_b[_i];if(axis.horiz===recalculateHoriz||chart.hasParallelCoordinates&&axis.coll==="yAxis"){axis.setAxisSize();axis.setAxisTranslation()}}}}};ScrollablePlotArea.prototype.applyFixed=function(){var _a;var _b=this,chart=_b.chart,fixedRenderer=_b.fixedRenderer,isDirty=_b.isDirty,scrollingContainer=_b.scrollingContainer,axisOffset=chart.axisOffset,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,container=chart.container,plotHeight=chart.plotHeight,plotLeft=chart.plotLeft,plotTop=chart.plotTop,plotWidth=chart.plotWidth,_c=chart.scrollablePixelsX,scrollablePixelsX=_c===void 0?0:_c,_d=chart.scrollablePixelsY,scrollablePixelsY=_d===void 0?0:_d,chartOptions=chart.options.chart,scrollableOptions=chartOptions.scrollablePlotArea||{},_e=scrollableOptions.scrollPositionX,scrollPositionX=_e===void 0?0:_e,_f=scrollableOptions.scrollPositionY,scrollPositionY=_f===void 0?0:_f,scrollableWidth=chartWidth+scrollablePixelsX,scrollableHeight=chartHeight+scrollablePixelsY;fixedRenderer.setSize(chartWidth,chartHeight);if(isDirty!==null&&isDirty!==void 0?isDirty:true){this.isDirty=false;this.moveFixedElements()}ScrollablePlotArea_stop(chart.container);ScrollablePlotArea_css(container,{width:""+scrollableWidth+"px",height:""+scrollableHeight+"px"});chart.renderer.boxWrapper.attr({width:scrollableWidth,height:scrollableHeight,viewBox:[0,0,scrollableWidth,scrollableHeight].join(" ")});(_a=chart.chartBackground)===null||_a===void 0?void 0:_a.attr({width:scrollableWidth,height:scrollableHeight});ScrollablePlotArea_css(scrollingContainer,{width:""+chartWidth+"px",height:""+chartHeight+"px"});if(!ScrollablePlotArea_defined(isDirty)){scrollingContainer.scrollLeft=scrollablePixelsX*scrollPositionX;scrollingContainer.scrollTop=scrollablePixelsY*scrollPositionY}var maskTop=plotTop-axisOffset[0]-1,maskLeft=plotLeft-axisOffset[3]-1,maskBottom=plotTop+plotHeight+axisOffset[2]+1,maskRight=plotLeft+plotWidth+axisOffset[1]+1,maskPlotRight=plotLeft+plotWidth-scrollablePixelsX,maskPlotBottom=plotTop+plotHeight-scrollablePixelsY;var d=[["M",0,0]];if(scrollablePixelsX){d=[["M",0,maskTop],["L",plotLeft-1,maskTop],["L",plotLeft-1,maskBottom],["L",0,maskBottom],["Z"],["M",maskPlotRight,maskTop],["L",chartWidth,maskTop],["L",chartWidth,maskBottom],["L",maskPlotRight,maskBottom],["Z"]]}else if(scrollablePixelsY){d=[["M",maskLeft,0],["L",maskLeft,plotTop-1],["L",maskRight,plotTop-1],["L",maskRight,0],["Z"],["M",maskLeft,maskPlotBottom],["L",maskLeft,chartHeight],["L",maskRight,chartHeight],["L",maskRight,maskPlotBottom],["Z"]]}if(chart.redrawTrigger!=="adjustHeight"){this.mask.attr({d:d})}};ScrollablePlotArea.prototype.moveFixedElements=function(){var _a=this.chart,container=_a.container,inverted=_a.inverted,scrollablePixelsX=_a.scrollablePixelsX,scrollablePixelsY=_a.scrollablePixelsY,fixedRenderer=this.fixedRenderer,fixedSelectors=ScrollablePlotArea.fixedSelectors;var axisClass;if(scrollablePixelsX&&!inverted){axisClass=".highcharts-yaxis"}else if(scrollablePixelsX&&inverted){axisClass=".highcharts-xaxis"}else if(scrollablePixelsY&&!inverted){axisClass=".highcharts-xaxis"}else if(scrollablePixelsY&&inverted){axisClass=".highcharts-yaxis"}if(axisClass&&!(this.chart.hasParallelCoordinates&&axisClass===".highcharts-yaxis")){for(var _i=0,_b=[""+axisClass+":not(.highcharts-radial-axis)",""+axisClass+"-labels:not(.highcharts-radial-axis-labels)"];_i<_b.length;_i++){var className=_b[_i];ScrollablePlotArea_pushUnique(fixedSelectors,className)}}else{for(var _c=0,_d=[".highcharts-xaxis",".highcharts-yaxis"];_c<_d.length;_c++){var classBase=_d[_c];for(var _e=0,_f=[""+classBase+":not(.highcharts-radial-axis)",""+classBase+"-labels:not(.highcharts-radial-axis-labels)"];_e<_f.length;_e++){var className=_f[_e];ScrollablePlotArea_erase(fixedSelectors,className)}}}for(var _g=0,fixedSelectors_1=fixedSelectors;_g<fixedSelectors_1.length;_g++){var className=fixedSelectors_1[_g];[].forEach.call(container.querySelectorAll(className),function(elem){(elem.namespaceURI===fixedRenderer.SVG_NS?fixedRenderer.box:fixedRenderer.box.parentNode).appendChild(elem);elem.style.pointerEvents="auto"})}};ScrollablePlotArea.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];return ScrollablePlotArea}();var Extensions_ScrollablePlotArea=ScrollablePlotArea;"";var StackItem_format=Core_Templating.format;var StackItem_Series=Series_SeriesRegistry.series;var StackItem_destroyObjectProperties=Core_Utilities.destroyObjectProperties,StackItem_fireEvent=Core_Utilities.fireEvent,StackItem_getAlignFactor=Core_Utilities.getAlignFactor,StackItem_isNumber=Core_Utilities.isNumber,StackItem_pick=Core_Utilities.pick;var StackItem=function(){function StackItem(axis,options,negativeValue,x,stackOption){var inverted=axis.chart.inverted,reversed=axis.reversed;this.axis=axis;var isNegative=this.isNegative=!!negativeValue!==!!reversed;this.options=options=options||{};this.x=x;this.total=null;this.cumulative=null;this.points={};this.hasValidPoints=false;this.stack=stackOption;this.leftCliff=0;this.rightCliff=0;this.alignOptions={align:options.align||(inverted?isNegative?"left":"right":"center"),verticalAlign:options.verticalAlign||(inverted?"middle":isNegative?"bottom":"top"),y:options.y,x:options.x};this.textAlign=options.textAlign||(inverted?!isNegative?"left":"right":"center")}StackItem.prototype.destroy=function(){StackItem_destroyObjectProperties(this,this.axis)};StackItem.prototype.render=function(group){var chart=this.axis.chart,options=this.options,formatOption=options.format,str=formatOption?StackItem_format(formatOption,this,chart):options.formatter.call(this);if(this.label){this.label.attr({text:str,visibility:"hidden"})}else{this.label=chart.renderer.label(str,null,void 0,options.shape,void 0,void 0,options.useHTML,false,"stack-labels");var attr={r:options.borderRadius||0,text:str,padding:StackItem_pick(options.padding,5),visibility:"hidden"};if(!chart.styledMode){attr.fill=options.backgroundColor;attr.stroke=options.borderColor;attr["stroke-width"]=options.borderWidth;this.label.css(options.style||{})}this.label.attr(attr);if(!this.label.added){this.label.add(group)}}this.label.labelrank=chart.plotSizeY;StackItem_fireEvent(this,"afterRender")};StackItem.prototype.setOffset=function(xOffset,width,boxBottom,boxTop,defaultX,xAxis){var _a=this,alignOptions=_a.alignOptions,axis=_a.axis,label=_a.label,options=_a.options,textAlign=_a.textAlign,chart=axis.chart,stackBox=this.getStackBox({xOffset:xOffset,width:width,boxBottom:boxBottom,boxTop:boxTop,defaultX:defaultX,xAxis:xAxis}),verticalAlign=alignOptions.verticalAlign;if(label&&stackBox){var labelBox=label.getBBox(void 0,0),padding=label.padding;var isJustify=StackItem_pick(options.overflow,"justify")==="justify",visible=void 0;alignOptions.x=options.x||0;alignOptions.y=options.y||0;var _b=this.adjustStackPosition({labelBox:labelBox,verticalAlign:verticalAlign,textAlign:textAlign}),x=_b.x,y=_b.y;stackBox.x-=x;stackBox.y-=y;label.align(alignOptions,false,stackBox);visible=chart.isInsidePlot(label.alignAttr.x+alignOptions.x+x,label.alignAttr.y+alignOptions.y+y);if(!visible){isJustify=false}if(isJustify){StackItem_Series.prototype.justifyDataLabel.call(axis,label,alignOptions,label.alignAttr,labelBox,stackBox)}label.attr({x:label.alignAttr.x,y:label.alignAttr.y,rotation:options.rotation,rotationOriginX:labelBox.width*StackItem_getAlignFactor(options.textAlign||"center"),rotationOriginY:labelBox.height/2});if(StackItem_pick(!isJustify&&options.crop,true)){visible=StackItem_isNumber(label.x)&&StackItem_isNumber(label.y)&&chart.isInsidePlot(label.x-padding+(label.width||0),label.y)&&chart.isInsidePlot(label.x+padding,label.y)}label[visible?"show":"hide"]()}StackItem_fireEvent(this,"afterSetOffset",{xOffset:xOffset,width:width})};StackItem.prototype.adjustStackPosition=function(_a){var labelBox=_a.labelBox,verticalAlign=_a.verticalAlign,textAlign=_a.textAlign;return{x:labelBox.width/2+labelBox.width/2*(2*StackItem_getAlignFactor(textAlign)-1),y:labelBox.height/2*2*(1-StackItem_getAlignFactor(verticalAlign))}};StackItem.prototype.getStackBox=function(stackBoxProps){var stackItem=this,axis=this.axis,chart=axis.chart,boxTop=stackBoxProps.boxTop,defaultX=stackBoxProps.defaultX,xOffset=stackBoxProps.xOffset,width=stackBoxProps.width,boxBottom=stackBoxProps.boxBottom,totalStackValue=axis.stacking.usePercentage?100:StackItem_pick(boxTop,this.total,0),y=axis.toPixels(totalStackValue),xAxis=stackBoxProps.xAxis||chart.xAxis[0],x=StackItem_pick(defaultX,xAxis.translate(this.x))+xOffset,yZero=axis.toPixels(boxBottom||StackItem_isNumber(axis.min)&&axis.logarithmic&&axis.logarithmic.lin2log(axis.min)||0),height=Math.abs(y-yZero),inverted=chart.inverted,neg=stackItem.isNegative;return inverted?{x:(neg?y:y-height)-chart.plotLeft,y:xAxis.height-x-width+xAxis.top-chart.plotTop,width:height,height:width}:{x:x+xAxis.transB-chart.plotLeft,y:(neg?y-height:y)-chart.plotTop,width:width,height:height}};return StackItem}();var Stacking_StackItem=StackItem;"";var StackingAxis_getDeferredAnimation=AnimationUtilities.getDeferredAnimation;var seriesProto=Series_SeriesRegistry.series.prototype;var StackingAxis_addEvent=Core_Utilities.addEvent,StackingAxis_correctFloat=Core_Utilities.correctFloat,StackingAxis_defined=Core_Utilities.defined,StackingAxis_destroyObjectProperties=Core_Utilities.destroyObjectProperties,StackingAxis_fireEvent=Core_Utilities.fireEvent,StackingAxis_isNumber=Core_Utilities.isNumber,StackingAxis_objectEach=Core_Utilities.objectEach,StackingAxis_pick=Core_Utilities.pick;function chartGetStacks(){var chart=this,inverted=chart.inverted;chart.axes.forEach(function(axis){if(axis.stacking&&axis.stacking.stacks&&axis.hasVisibleSeries){axis.stacking.oldStacks=axis.stacking.stacks}});chart.series.forEach(function(series){var xAxisOptions=series.xAxis&&series.xAxis.options||{};if(series.options.stacking&&series.reserveSpace()){series.stackKey=[series.type,StackingAxis_pick(series.options.stack,""),inverted?xAxisOptions.top:xAxisOptions.left,inverted?xAxisOptions.height:xAxisOptions.width].join(",")}})}function onAxisDestroy(){var _a;var stacking=this.stacking;if(stacking){var stacks_1=stacking.stacks;StackingAxis_objectEach(stacks_1,function(stack,stackKey){StackingAxis_destroyObjectProperties(stack);delete stacks_1[stackKey]});(_a=stacking.stackTotalGroup)===null||_a===void 0?void 0:_a.destroy()}}function onAxisInit(){if(!this.stacking){this.stacking=new AxisAdditions(this)}}function seriesGetStackIndicator(stackIndicator,x,index,key){if(!StackingAxis_defined(stackIndicator)||stackIndicator.x!==x||key&&stackIndicator.stackKey!==key){stackIndicator={x:x,index:0,key:key,stackKey:key}}else{stackIndicator.index++}stackIndicator.key=[index,x,stackIndicator.index].join(",");return stackIndicator}function seriesModifyStacks(){var series=this,yAxis=series.yAxis,stackKey=series.stackKey||"",stacks=yAxis.stacking.stacks,processedXData=series.getColumn("x",true),stacking=series.options.stacking,stacker=series[stacking+"Stacker"];var stackIndicator;if(stacker){[stackKey,"-"+stackKey].forEach(function(key){var _a;var i=processedXData.length,x,stackItem,pointExtremes;while(i--){x=processedXData[i];stackIndicator=series.getStackIndicator(stackIndicator,x,series.index,key);stackItem=(_a=stacks[key])===null||_a===void 0?void 0:_a[x];pointExtremes=stackItem===null||stackItem===void 0?void 0:stackItem.points[stackIndicator.key||""];if(pointExtremes){stacker.call(series,pointExtremes,stackItem,i)}}})}}function seriesPercentStacker(pointExtremes,stack,i){var totalFactor=stack.total?100/stack.total:0;pointExtremes[0]=StackingAxis_correctFloat(pointExtremes[0]*totalFactor);pointExtremes[1]=StackingAxis_correctFloat(pointExtremes[1]*totalFactor);this.stackedYData[i]=pointExtremes[1]}function seriesSetGroupedPoints(axis){if(this.is("column")||this.is("columnrange")){if(this.options.centerInCategory&&this.chart.series.length>1){seriesProto.setStackedPoints.call(this,axis,"group")}else{axis.stacking.resetStacks()}}}function seriesSetStackedPoints(axis,stackingParam){var _a,_b;var type=stackingParam||this.options.stacking;if(!type||!this.reserveSpace()||({group:"xAxis"}[type]||"yAxis")!==axis.coll){return}var series=this,xData=series.getColumn("x",true),yData=series.getColumn(series.pointValKey||"y",true),stackedYData=[],yDataLength=yData.length,seriesOptions=series.options,threshold=seriesOptions.threshold||0,stackThreshold=seriesOptions.startFromThreshold?threshold:0,stackOption=seriesOptions.stack,stackKey=stackingParam?""+series.type+",".concat(type):series.stackKey||"",negKey="-"+stackKey,negStacks=series.negStacks,stacking=axis.stacking,stacks=stacking.stacks,oldStacks=stacking.oldStacks;var stackIndicator,isNegative,stack,other,key,pointKey,i;stacking.stacksTouched+=1;for(i=0;i<yDataLength;i++){var x=xData[i]||0,y=yData[i],yNumber=StackingAxis_isNumber(y)&&y||0;stackIndicator=series.getStackIndicator(stackIndicator,x,series.index);pointKey=stackIndicator.key||"";isNegative=negStacks&&yNumber<(stackThreshold?0:threshold);key=isNegative?negKey:stackKey;if(!stacks[key]){stacks[key]={}}if(!stacks[key][x]){if((_a=oldStacks[key])===null||_a===void 0?void 0:_a[x]){stacks[key][x]=oldStacks[key][x];stacks[key][x].total=null}else{stacks[key][x]=new Stacking_StackItem(axis,axis.options.stackLabels,!!isNegative,x,stackOption)}}stack=stacks[key][x];if(y!==null){stack.points[pointKey]=stack.points[series.index]=[StackingAxis_pick(stack.cumulative,stackThreshold)];if(!StackingAxis_defined(stack.cumulative)){stack.base=pointKey}stack.touched=stacking.stacksTouched;if(stackIndicator.index>0&&series.singleStacks===false){stack.points[pointKey][0]=stack.points[series.index+","+x+",0"][0]}}else{delete stack.points[pointKey];delete stack.points[series.index]}var total=stack.total||0;if(type==="percent"){other=isNegative?stackKey:negKey;if(negStacks&&((_b=stacks[other])===null||_b===void 0?void 0:_b[x])){other=stacks[other][x];total=other.total=Math.max(other.total||0,total)+Math.abs(yNumber)}else{total=StackingAxis_correctFloat(total+Math.abs(yNumber))}}else if(type==="group"){if(StackingAxis_isNumber(y)){total++}}else{total=StackingAxis_correctFloat(total+yNumber)}if(type==="group"){stack.cumulative=(total||1)-1}else{stack.cumulative=StackingAxis_correctFloat(StackingAxis_pick(stack.cumulative,stackThreshold)+yNumber)}stack.total=total;if(y!==null){stack.points[pointKey].push(stack.cumulative);stackedYData[i]=stack.cumulative;stack.hasValidPoints=true}}if(type==="percent"){stacking.usePercentage=true}if(type!=="group"){this.stackedYData=stackedYData}stacking.oldStacks={}}var AxisAdditions=function(){function AxisAdditions(axis){this.oldStacks={};this.stacks={};this.stacksTouched=0;this.axis=axis}AxisAdditions.prototype.buildStacks=function(){var stacking=this,axis=stacking.axis,axisSeries=axis.series,isXAxis=axis.coll==="xAxis",reversedStacks=axis.options.reversedStacks,len=axisSeries.length;var actualSeries,i;this.resetStacks();stacking.usePercentage=false;i=len;while(i--){actualSeries=axisSeries[reversedStacks?i:len-i-1];if(isXAxis){actualSeries.setGroupedPoints(axis)}actualSeries.setStackedPoints(axis)}if(!isXAxis){for(i=0;i<len;i++){axisSeries[i].modifyStacks()}}StackingAxis_fireEvent(axis,"afterBuildStacks")};AxisAdditions.prototype.cleanStacks=function(){if(this.oldStacks){this.stacks=this.oldStacks;StackingAxis_objectEach(this.stacks,function(type){StackingAxis_objectEach(type,function(stack){stack.cumulative=stack.total})})}};AxisAdditions.prototype.resetStacks=function(){var _this=this;StackingAxis_objectEach(this.stacks,function(type){StackingAxis_objectEach(type,function(stack,x){if(StackingAxis_isNumber(stack.touched)&&stack.touched<_this.stacksTouched){stack.destroy();delete type[x]}else{stack.total=null;stack.cumulative=null}})})};AxisAdditions.prototype.renderStackTotals=function(){var _a;var stacking=this,axis=stacking.axis,chart=axis.chart,renderer=chart.renderer,stacks=stacking.stacks,stackLabelsAnim=(_a=axis.options.stackLabels)===null||_a===void 0?void 0:_a.animation,animationConfig=StackingAxis_getDeferredAnimation(chart,stackLabelsAnim||false),stackTotalGroup=stacking.stackTotalGroup=stacking.stackTotalGroup||renderer.g("stack-labels").attr({zIndex:6,opacity:0}).add();stackTotalGroup.translate(chart.plotLeft,chart.plotTop);StackingAxis_objectEach(stacks,function(type){StackingAxis_objectEach(type,function(stack){stack.render(stackTotalGroup)})});stackTotalGroup.animate({opacity:1},animationConfig)};return AxisAdditions}();var StackingAxis;(function(StackingAxis){function compose(AxisClass,ChartClass,SeriesClass){var chartProto=ChartClass.prototype,seriesProto=SeriesClass.prototype;if(!chartProto.getStacks){StackingAxis_addEvent(AxisClass,"init",onAxisInit);StackingAxis_addEvent(AxisClass,"destroy",onAxisDestroy);chartProto.getStacks=chartGetStacks;seriesProto.getStackIndicator=seriesGetStackIndicator;seriesProto.modifyStacks=seriesModifyStacks;seriesProto.percentStacker=seriesPercentStacker;seriesProto.setGroupedPoints=seriesSetGroupedPoints;seriesProto.setStackedPoints=seriesSetStackedPoints}}StackingAxis.compose=compose})(StackingAxis||(StackingAxis={}));var Stacking_StackingAxis=StackingAxis;var LineSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var LineSeries_spreadArray=undefined&&undefined.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var LineSeries_defined=Core_Utilities.defined,LineSeries_merge=Core_Utilities.merge,LineSeries_isObject=Core_Utilities.isObject;var LineSeries=function(_super){LineSeries_extends(LineSeries,_super);function LineSeries(){return _super!==null&&_super.apply(this,arguments)||this}LineSeries.prototype.drawGraph=function(){var _this=this;var options=this.options,graphPath=(this.gappedPath||this.getGraphPath).call(this),styledMode=this.chart.styledMode;LineSeries_spreadArray([this],this.zones,true).forEach(function(owner,i){var attribs,graph=owner.graph;var verb=graph?"animate":"attr",dashStyle=owner.dashStyle||options.dashStyle;if(graph){graph.endX=_this.preventGraphAnimation?null:graphPath.xMap;graph.animate({d:graphPath})}else if(graphPath.length){owner.graph=graph=_this.chart.renderer.path(graphPath).addClass("highcharts-graph"+(i?" highcharts-zone-graph-".concat(i-1," "):" ")+(i&&owner.className||"")).attr({zIndex:1}).add(_this.group)}if(graph&&!styledMode){attribs={stroke:!i&&options.lineColor||owner.color||_this.color||"#cccccc","stroke-width":options.lineWidth||0,fill:_this.fillGraph&&_this.color||"none"};if(dashStyle){attribs.dashstyle=dashStyle}else if(options.linecap!=="square"){attribs["stroke-linecap"]=attribs["stroke-linejoin"]="round"}graph[verb](attribs).shadow(options.shadow&&LineSeries_merge({filterUnits:"userSpaceOnUse"},LineSeries_isObject(options.shadow)?options.shadow:{}))}if(graph){graph.startX=graphPath.xMap;graph.isArea=graphPath.isArea}})};LineSeries.prototype.getGraphPath=function(points,nullsAsZeroes,connectCliffs){var series=this,options=series.options,graphPath=[],xMap=[];var gap,step=options.step;points=points||series.points;var reversed=points.reversed;if(reversed){points.reverse()}step={right:1,center:2}[step]||step&&3;if(step&&reversed){step=4-step}points=this.getValidPoints(points,false,!(options.connectNulls&&!nullsAsZeroes&&!connectCliffs));points.forEach(function(point,i){var plotX=point.plotX,plotY=point.plotY,lastPoint=points[i-1],isNull=point.isNull||typeof plotY!=="number";var pathToPoint;if((point.leftCliff||lastPoint&&lastPoint.rightCliff)&&!connectCliffs){gap=true}if(isNull&&!LineSeries_defined(nullsAsZeroes)&&i>0){gap=!options.connectNulls}else if(isNull&&!nullsAsZeroes){gap=true}else{if(i===0||gap){pathToPoint=[["M",point.plotX,point.plotY]]}else if(series.getPointSpline){pathToPoint=[series.getPointSpline(points,point,i)]}else if(step){if(step===1){pathToPoint=[["L",lastPoint.plotX,plotY]]}else if(step===2){pathToPoint=[["L",(lastPoint.plotX+plotX)/2,lastPoint.plotY],["L",(lastPoint.plotX+plotX)/2,plotY]]}else{pathToPoint=[["L",plotX,lastPoint.plotY]]}pathToPoint.push(["L",plotX,plotY])}else{pathToPoint=[["L",plotX,plotY]]}xMap.push(point.x);if(step){xMap.push(point.x);if(step===2){xMap.push(point.x)}}graphPath.push.apply(graphPath,pathToPoint);gap=false}});graphPath.xMap=xMap;series.graphPath=graphPath;return graphPath};LineSeries.defaultOptions=LineSeries_merge(Series_Series.defaultOptions,{legendSymbol:"lineMarker"});return LineSeries}(Series_Series);Series_SeriesRegistry.registerSeriesType("line",LineSeries);var Line_LineSeries=null&&LineSeries;"";var AreaSeriesDefaults={threshold:0,legendSymbol:"areaMarker"};"";var Area_AreaSeriesDefaults=AreaSeriesDefaults;var AreaSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var AreaSeries_spreadArray=undefined&&undefined.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var AreaSeries_LineSeries=Series_SeriesRegistry.seriesTypes.line;var AreaSeries_extend=Core_Utilities.extend,AreaSeries_merge=Core_Utilities.merge,AreaSeries_objectEach=Core_Utilities.objectEach,AreaSeries_pick=Core_Utilities.pick;var AreaSeries=function(_super){AreaSeries_extends(AreaSeries,_super);function AreaSeries(){return _super!==null&&_super.apply(this,arguments)||this}AreaSeries.prototype.drawGraph=function(){var _this=this;this.areaPath=[];_super.prototype.drawGraph.apply(this);var _a=this,areaPath=_a.areaPath,options=_a.options;AreaSeries_spreadArray([this],this.zones,true).forEach(function(owner,i){var _a;var attribs={},fillColor=owner.fillColor||options.fillColor;var area=owner.area;var verb=area?"animate":"attr";if(area){area.endX=_this.preventGraphAnimation?null:areaPath.xMap;area.animate({d:areaPath})}else{attribs.zIndex=0;area=owner.area=_this.chart.renderer.path(areaPath).addClass("highcharts-area"+(i?" highcharts-zone-area-".concat(i-1," "):" ")+(i&&owner.className||"")).add(_this.group);area.isArea=true}if(!_this.chart.styledMode){attribs.fill=fillColor||owner.color||_this.color;attribs["fill-opacity"]=fillColor?1:(_a=options.fillOpacity)!==null&&_a!==void 0?_a:.75;area.css({pointerEvents:_this.stickyTracking?"none":"auto"})}area[verb](attribs);area.startX=areaPath.xMap;area.shiftUnit=options.step?2:1})};AreaSeries.prototype.getGraphPath=function(points){var getGraphPath=AreaSeries_LineSeries.prototype.getGraphPath,options=this.options,stacking=options.stacking,yAxis=this.yAxis,bottomPoints=[],graphPoints=[],seriesIndex=this.index,stacks=yAxis.stacking.stacks[this.stackKey],threshold=options.threshold,translatedThreshold=Math.round(yAxis.getThreshold(options.threshold)),connectNulls=AreaSeries_pick(options.connectNulls,stacking==="percent"),addDummyPoints=function(i,otherI,side){var point=points[i],stackedValues=stacking&&stacks[point.x].points[seriesIndex],nullVal=point[side+"Null"]||0,cliffVal=point[side+"Cliff"]||0;var top,bottom,isNull=true;if(cliffVal||nullVal){top=(nullVal?stackedValues[0]:stackedValues[1])+cliffVal;bottom=stackedValues[0]+cliffVal;isNull=!!nullVal}else if(!stacking&&points[otherI]&&points[otherI].isNull){top=bottom=threshold}if(typeof top!=="undefined"){graphPoints.push({plotX:plotX,plotY:top===null?translatedThreshold:yAxis.getThreshold(top),isNull:isNull,isCliff:true});bottomPoints.push({plotX:plotX,plotY:bottom===null?translatedThreshold:yAxis.getThreshold(bottom),doCurve:false})}};var plotX,isNull,yBottom;points=points||this.points;if(stacking){points=this.getStackPoints(points)}for(var i=0,iEnd=points.length;i<iEnd;++i){if(!stacking){points[i].leftCliff=points[i].rightCliff=points[i].leftNull=points[i].rightNull=void 0}isNull=points[i].isNull;plotX=AreaSeries_pick(points[i].rectPlotX,points[i].plotX);yBottom=stacking?AreaSeries_pick(points[i].yBottom,translatedThreshold):translatedThreshold;if(!isNull||connectNulls){if(!connectNulls){addDummyPoints(i,i-1,"left")}if(!(isNull&&!stacking&&connectNulls)){graphPoints.push(points[i]);bottomPoints.push({x:i,plotX:plotX,plotY:yBottom})}if(!connectNulls){addDummyPoints(i,i+1,"right")}}}var topPath=getGraphPath.call(this,graphPoints,true,true);bottomPoints.reversed=true;var bottomPath=getGraphPath.call(this,bottomPoints,true,true);var firstBottomPoint=bottomPath[0];if(firstBottomPoint&&firstBottomPoint[0]==="M"){bottomPath[0]=["L",firstBottomPoint[1],firstBottomPoint[2]]}var areaPath=topPath.concat(bottomPath);if(areaPath.length){areaPath.push(["Z"])}var graphPath=getGraphPath.call(this,graphPoints,false,connectNulls);if(this.chart.series.length>1&&stacking&&graphPoints.some(function(point){return point.isCliff})){areaPath.hasStackedCliffs=graphPath.hasStackedCliffs=true}areaPath.xMap=topPath.xMap;this.areaPath=areaPath;return graphPath};AreaSeries.prototype.getStackPoints=function(points){var series=this,segment=[],keys=[],xAxis=this.xAxis,yAxis=this.yAxis,stack=yAxis.stacking.stacks[this.stackKey],pointMap={},yAxisSeries=yAxis.series,seriesLength=yAxisSeries.length,upOrDown=yAxis.options.reversedStacks?1:-1,seriesIndex=yAxisSeries.indexOf(series);points=points||this.points;if(this.options.stacking){for(var i=0;i<points.length;i++){points[i].leftNull=points[i].rightNull=void 0;pointMap[points[i].x]=points[i]}AreaSeries_objectEach(stack,function(stackX,x){if(stackX.total!==null){keys.push(x)}});keys.sort(function(a,b){return a-b});var visibleSeries_1=yAxisSeries.map(function(s){return s.visible});keys.forEach(function(x,idx){var y=0,stackPoint,stackedValues;if(pointMap[x]&&!pointMap[x].isNull){segment.push(pointMap[x]);[-1,1].forEach(function(direction){var nullName=direction===1?"rightNull":"leftNull",cliffName=direction===1?"rightCliff":"leftCliff",otherStack=stack[keys[idx+direction]];var cliff=0;if(otherStack){var i=seriesIndex;while(i>=0&&i<seriesLength){var si=yAxisSeries[i].index;stackPoint=otherStack.points[si];if(!stackPoint){if(si===series.index){pointMap[x][nullName]=true}else if(visibleSeries_1[i]){stackedValues=stack[x].points[si];if(stackedValues){cliff-=stackedValues[1]-stackedValues[0]}}}i+=upOrDown}}pointMap[x][cliffName]=cliff})}else{var i=seriesIndex;while(i>=0&&i<seriesLength){var si=yAxisSeries[i].index;stackPoint=stack[x].points[si];if(stackPoint){y=stackPoint[1];break}i+=upOrDown}y=AreaSeries_pick(y,0);y=yAxis.translate(y,0,1,0,1);segment.push({isNull:true,plotX:xAxis.translate(x,0,0,0,1),x:x,plotY:y,yBottom:y})}})}return segment};AreaSeries.defaultOptions=AreaSeries_merge(AreaSeries_LineSeries.defaultOptions,Area_AreaSeriesDefaults);return AreaSeries}(AreaSeries_LineSeries);AreaSeries_extend(AreaSeries.prototype,{singleStacks:false});Series_SeriesRegistry.registerSeriesType("area",AreaSeries);var Area_AreaSeries=null&&AreaSeries;var SplineSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var SplineSeries_LineSeries=Series_SeriesRegistry.seriesTypes.line;var SplineSeries_merge=Core_Utilities.merge,SplineSeries_pick=Core_Utilities.pick;var SplineSeries=function(_super){SplineSeries_extends(SplineSeries,_super);function SplineSeries(){return _super!==null&&_super.apply(this,arguments)||this}SplineSeries.prototype.getPointSpline=function(points,point,i){var smoothing=1.5,denom=smoothing+1,plotX=point.plotX||0,plotY=point.plotY||0,lastPoint=points[i-1],nextPoint=points[i+1];var leftContX,leftContY,rightContX,rightContY;function doCurve(otherPoint){return otherPoint&&!otherPoint.isNull&&otherPoint.doCurve!==false&&!point.isCliff}if(doCurve(lastPoint)&&doCurve(nextPoint)){var lastX=lastPoint.plotX||0,lastY=lastPoint.plotY||0,nextX=nextPoint.plotX||0,nextY=nextPoint.plotY||0;var correction=0;leftContX=(smoothing*plotX+lastX)/denom;leftContY=(smoothing*plotY+lastY)/denom;rightContX=(smoothing*plotX+nextX)/denom;rightContY=(smoothing*plotY+nextY)/denom;if(rightContX!==leftContX){correction=(rightContY-leftContY)*(rightContX-plotX)/(rightContX-leftContX)+plotY-rightContY}leftContY+=correction;rightContY+=correction;if(leftContY>lastY&&leftContY>plotY){leftContY=Math.max(lastY,plotY);rightContY=2*plotY-leftContY}else if(leftContY<lastY&&leftContY<plotY){leftContY=Math.min(lastY,plotY);rightContY=2*plotY-leftContY}if(rightContY>nextY&&rightContY>plotY){rightContY=Math.max(nextY,plotY);leftContY=2*plotY-rightContY}else if(rightContY<nextY&&rightContY<plotY){rightContY=Math.min(nextY,plotY);leftContY=2*plotY-rightContY}point.rightContX=rightContX;point.rightContY=rightContY;point.controlPoints={low:[leftContX,leftContY],high:[rightContX,rightContY]}}var ret=["C",SplineSeries_pick(lastPoint.rightContX,lastPoint.plotX,0),SplineSeries_pick(lastPoint.rightContY,lastPoint.plotY,0),SplineSeries_pick(leftContX,plotX,0),SplineSeries_pick(leftContY,plotY,0),plotX,plotY];lastPoint.rightContX=lastPoint.rightContY=void 0;return ret};SplineSeries.defaultOptions=SplineSeries_merge(SplineSeries_LineSeries.defaultOptions);return SplineSeries}(SplineSeries_LineSeries);Series_SeriesRegistry.registerSeriesType("spline",SplineSeries);var Spline_SplineSeries=SplineSeries;"";var AreaSplineSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var _a=Series_SeriesRegistry.seriesTypes,AreaSplineSeries_AreaSeries=_a.area,areaProto=_a.area.prototype;var AreaSplineSeries_extend=Core_Utilities.extend,AreaSplineSeries_merge=Core_Utilities.merge;var AreaSplineSeries=function(_super){AreaSplineSeries_extends(AreaSplineSeries,_super);function AreaSplineSeries(){return _super!==null&&_super.apply(this,arguments)||this}AreaSplineSeries.defaultOptions=AreaSplineSeries_merge(Spline_SplineSeries.defaultOptions,AreaSplineSeries_AreaSeries.defaultOptions);return AreaSplineSeries}(Spline_SplineSeries);AreaSplineSeries_extend(AreaSplineSeries.prototype,{getGraphPath:areaProto.getGraphPath,getStackPoints:areaProto.getStackPoints,drawGraph:areaProto.drawGraph});Series_SeriesRegistry.registerSeriesType("areaspline",AreaSplineSeries);var AreaSpline_AreaSplineSeries=null&&AreaSplineSeries;"";var ColumnSeriesDefaults={borderRadius:3,centerInCategory:false,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:false,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:true,stickyTracking:false,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"};"";var Column_ColumnSeriesDefaults=ColumnSeriesDefaults;var ColumnSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var ColumnSeries_animObject=AnimationUtilities.animObject;var ColumnSeries_color=Color_Color.parse;var ColumnSeries_noop=Core_Globals.noop;var ColumnSeries_clamp=Core_Utilities.clamp,ColumnSeries_crisp=Core_Utilities.crisp,ColumnSeries_defined=Core_Utilities.defined,ColumnSeries_extend=Core_Utilities.extend,ColumnSeries_fireEvent=Core_Utilities.fireEvent,ColumnSeries_isArray=Core_Utilities.isArray,ColumnSeries_isNumber=Core_Utilities.isNumber,ColumnSeries_merge=Core_Utilities.merge,ColumnSeries_pick=Core_Utilities.pick,ColumnSeries_objectEach=Core_Utilities.objectEach;var ColumnSeries=function(_super){ColumnSeries_extends(ColumnSeries,_super);function ColumnSeries(){return _super!==null&&_super.apply(this,arguments)||this}ColumnSeries.prototype.animate=function(init){var series=this,yAxis=this.yAxis,yAxisPos=yAxis.pos,reversed=yAxis.reversed,options=series.options,_a=this.chart,clipOffset=_a.clipOffset,inverted=_a.inverted,attr={},translateProp=inverted?"translateX":"translateY";var translateStart,translatedThreshold;if(init&&clipOffset){attr.scaleY=.001;translatedThreshold=ColumnSeries_clamp(yAxis.toPixels(options.threshold||0),yAxisPos,yAxisPos+yAxis.len);if(inverted){translatedThreshold+=reversed?-Math.floor(clipOffset[0]):Math.ceil(clipOffset[2]);attr.translateX=translatedThreshold-yAxis.len}else{translatedThreshold+=reversed?Math.ceil(clipOffset[0]):-Math.floor(clipOffset[2]);attr.translateY=translatedThreshold}if(series.clipBox){series.setClip()}series.group.attr(attr)}else{translateStart=Number(series.group.attr(translateProp));series.group.animate({scaleY:1},ColumnSeries_extend(ColumnSeries_animObject(series.options.animation),{step:function(val,fx){if(series.group){attr[translateProp]=translateStart+fx.pos*(yAxisPos-translateStart);series.group.attr(attr)}}}))}};ColumnSeries.prototype.init=function(chart,options){_super.prototype.init.apply(this,arguments);var series=this;chart=series.chart;if(chart.hasRendered){chart.series.forEach(function(otherSeries){if(otherSeries.type===series.type){otherSeries.isDirty=true}})}};ColumnSeries.prototype.getColumnMetrics=function(){var _a,_b;var series=this,options=series.options,xAxis=series.xAxis,yAxis=series.yAxis,reversedStacks=xAxis.options.reversedStacks,reverseStacks=xAxis.reversed&&!reversedStacks||!xAxis.reversed&&reversedStacks,stackGroups={};var stackKey,columnCount=0;if(options.grouping===false){columnCount=1}else{series.chart.series.forEach(function(otherSeries){var otherYAxis=otherSeries.yAxis,otherOptions=otherSeries.options;var columnIndex;if(otherSeries.type===series.type&&otherSeries.reserveSpace()&&yAxis.len===otherYAxis.len&&yAxis.pos===otherYAxis.pos){if(otherOptions.stacking&&otherOptions.stacking!=="group"){stackKey=otherSeries.stackKey;if(typeof stackGroups[stackKey]==="undefined"){stackGroups[stackKey]=columnCount++}columnIndex=stackGroups[stackKey]}else if(otherOptions.grouping!==false){columnIndex=columnCount++}otherSeries.columnIndex=columnIndex}})}var categoryWidth=Math.min(Math.abs(xAxis.transA)*(!((_a=xAxis.brokenAxis)===null||_a===void 0?void 0:_a.hasBreaks)&&((_b=xAxis.ordinal)===null||_b===void 0?void 0:_b.slope)||options.pointRange||xAxis.closestPointRange||xAxis.tickInterval||1),xAxis.len),groupPadding=categoryWidth*options.groupPadding,groupWidth=categoryWidth-2*groupPadding,pointOffsetWidth=groupWidth/(columnCount||1),pointWidth=Math.min(options.maxPointWidth||xAxis.len,ColumnSeries_pick(options.pointWidth,pointOffsetWidth*(1-2*options.pointPadding))),pointPadding=(pointOffsetWidth-pointWidth)/2,colIndex=(series.columnIndex||0)+(reverseStacks?1:0),pointXOffset=pointPadding+(groupPadding+colIndex*pointOffsetWidth-categoryWidth/2)*(reverseStacks?-1:1);series.columnMetrics={width:pointWidth,offset:pointXOffset,paddedWidth:pointOffsetWidth,columnCount:columnCount};return series.columnMetrics};ColumnSeries.prototype.crispCol=function(x,y,width,height){var borderWidth=this.borderWidth,inverted=this.chart.inverted,bottom=ColumnSeries_crisp(y+height,borderWidth,inverted);y=ColumnSeries_crisp(y,borderWidth,inverted);height=bottom-y;if(this.options.crisp){var right=ColumnSeries_crisp(x+width,borderWidth);x=ColumnSeries_crisp(x,borderWidth);width=right-x}return{x:x,y:y,width:width,height:height}};ColumnSeries.prototype.adjustForMissingColumns=function(x,pointWidth,point,metrics){var _this=this;var _a;if(!point.isNull&&metrics.columnCount>1){var visibleSeries_1=this.xAxis.series.filter(function(s){return s.visible}).map(function(s){return s.index});var indexInCategory_1=0,totalInCategory_1=0;ColumnSeries_objectEach((_a=this.xAxis.stacking)===null||_a===void 0?void 0:_a.stacks,function(stack){var _a;var points=typeof point.x==="number"?(_a=stack[point.x.toString()])===null||_a===void 0?void 0:_a.points:void 0,pointValues=points===null||points===void 0?void 0:points[_this.index],yStackMap={};if(points&&ColumnSeries_isArray(pointValues)){var baseIndex_1=_this.index;var seriesIndexes=Object.keys(points).filter(function(pointKey){return!pointKey.match(",")&&points[pointKey]&&points[pointKey].length>1}).map(parseFloat).filter(function(index){return visibleSeries_1.indexOf(index)!==-1}).filter(function(index){var otherOptions=_this.chart.series[index].options,yStack=otherOptions.stacking&&otherOptions.stack;if(ColumnSeries_defined(yStack)){if(ColumnSeries_isNumber(yStackMap[yStack])){if(baseIndex_1===index){baseIndex_1=yStackMap[yStack]}return false}yStackMap[yStack]=index}return true}).sort(function(a,b){return b-a});indexInCategory_1=seriesIndexes.indexOf(baseIndex_1);totalInCategory_1=seriesIndexes.length}});indexInCategory_1=this.xAxis.reversed?totalInCategory_1-1-indexInCategory_1:indexInCategory_1;var boxWidth=(totalInCategory_1-1)*metrics.paddedWidth+pointWidth;x=(point.plotX||0)+boxWidth/2-pointWidth-indexInCategory_1*metrics.paddedWidth}return x};ColumnSeries.prototype.translate=function(){var series=this,chart=series.chart,options=series.options,dense=series.dense=series.closestPointRange*series.xAxis.transA<2,borderWidth=series.borderWidth=ColumnSeries_pick(options.borderWidth,dense?0:1),xAxis=series.xAxis,yAxis=series.yAxis,threshold=options.threshold,minPointLength=ColumnSeries_pick(options.minPointLength,5),metrics=series.getColumnMetrics(),seriesPointWidth=metrics.width,seriesXOffset=series.pointXOffset=metrics.offset,dataMin=series.dataMin,dataMax=series.dataMax,translatedThreshold=series.translatedThreshold=yAxis.getThreshold(threshold);var seriesBarW=series.barW=Math.max(seriesPointWidth,1+2*borderWidth);if(options.pointPadding&&options.crisp){seriesBarW=Math.ceil(seriesBarW)}Series_Series.prototype.translate.apply(series);series.points.forEach(function(point){var yBottom=ColumnSeries_pick(point.yBottom,translatedThreshold),safeDistance=999+Math.abs(yBottom),plotX=point.plotX||0,plotY=ColumnSeries_clamp(point.plotY,-safeDistance,yAxis.len+safeDistance);var up,barY=Math.min(plotY,yBottom),barH=Math.max(plotY,yBottom)-barY,pointWidth=seriesPointWidth,barX=plotX+seriesXOffset,barW=seriesBarW;if(minPointLength&&Math.abs(barH)<minPointLength){barH=minPointLength;up=!yAxis.reversed&&!point.negative||yAxis.reversed&&point.negative;if(ColumnSeries_isNumber(threshold)&&ColumnSeries_isNumber(dataMax)&&point.y===threshold&&dataMax<=threshold&&(yAxis.min||0)<threshold&&(dataMin!==dataMax||(yAxis.max||0)<=threshold)){up=!up;point.negative=!point.negative}barY=Math.abs(barY-translatedThreshold)>minPointLength?yBottom-minPointLength:translatedThreshold-(up?minPointLength:0)}if(ColumnSeries_defined(point.options.pointWidth)){pointWidth=barW=Math.ceil(point.options.pointWidth);barX-=Math.round((pointWidth-seriesPointWidth)/2)}if(options.centerInCategory){barX=series.adjustForMissingColumns(barX,pointWidth,point,metrics)}point.barX=barX;point.pointWidth=pointWidth;point.tooltipPos=chart.inverted?[ColumnSeries_clamp(yAxis.len+yAxis.pos-chart.plotLeft-plotY,yAxis.pos-chart.plotLeft,yAxis.len+yAxis.pos-chart.plotLeft),xAxis.len+xAxis.pos-chart.plotTop-barX-barW/2,barH]:[xAxis.left-chart.plotLeft+barX+barW/2,ColumnSeries_clamp(plotY+yAxis.pos-chart.plotTop,yAxis.pos-chart.plotTop,yAxis.len+yAxis.pos-chart.plotTop),barH];point.shapeType=series.pointClass.prototype.shapeType||"roundedRect";point.shapeArgs=series.crispCol(barX,point.isNull?translatedThreshold:barY,barW,point.isNull?0:barH)});ColumnSeries_fireEvent(this,"afterColumnTranslate")};ColumnSeries.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")};ColumnSeries.prototype.pointAttribs=function(point,state){var options=this.options,p2o=this.pointAttrToOptions||{},strokeOption=p2o.stroke||"borderColor",strokeWidthOption=p2o["stroke-width"]||"borderWidth";var stateOptions,zone,brightness,fill=point&&point.color||this.color,stroke=point&&point[strokeOption]||options[strokeOption]||fill,dashstyle=point&&point.options.dashStyle||options.dashStyle,strokeWidth=point&&point[strokeWidthOption]||options[strokeWidthOption]||this[strokeWidthOption]||0,opacity=ColumnSeries_pick(point&&point.opacity,options.opacity,1);if(point&&this.zones.length){zone=point.getZone();fill=point.options.color||zone&&(zone.color||point.nonZonedColor)||this.color;if(zone){stroke=zone.borderColor||stroke;dashstyle=zone.dashStyle||dashstyle;strokeWidth=zone.borderWidth||strokeWidth}}if(state&&point){stateOptions=ColumnSeries_merge(options.states[state],point.options.states&&point.options.states[state]||{});brightness=stateOptions.brightness;fill=stateOptions.color||typeof brightness!=="undefined"&&ColumnSeries_color(fill).brighten(stateOptions.brightness).get()||fill;stroke=stateOptions[strokeOption]||stroke;strokeWidth=stateOptions[strokeWidthOption]||strokeWidth;dashstyle=stateOptions.dashStyle||dashstyle;opacity=ColumnSeries_pick(stateOptions.opacity,opacity)}var ret={fill:fill,stroke:stroke,"stroke-width":strokeWidth,opacity:opacity};if(dashstyle){ret.dashstyle=dashstyle}return ret};ColumnSeries.prototype.drawPoints=function(points){if(points===void 0){points=this.points}var series=this,chart=this.chart,options=series.options,renderer=chart.renderer,animationLimit=options.animationLimit||250;var shapeArgs;points.forEach(function(point){var plotY=point.plotY;var graphic=point.graphic,hasGraphic=!!graphic,verb=graphic&&chart.pointCount<animationLimit?"animate":"attr";if(ColumnSeries_isNumber(plotY)&&point.y!==null){shapeArgs=point.shapeArgs;if(graphic&&point.hasNewShapeType()){graphic=graphic.destroy()}if(series.enabledDataSorting){point.startXPos=series.xAxis.reversed?-(shapeArgs?shapeArgs.width||0:0):series.xAxis.width}if(!graphic){point.graphic=graphic=renderer[point.shapeType](shapeArgs).add(point.group||series.group);if(graphic&&series.enabledDataSorting&&chart.hasRendered&&chart.pointCount<animationLimit){graphic.attr({x:point.startXPos});hasGraphic=true;verb="animate"}}if(graphic&&hasGraphic){graphic[verb](ColumnSeries_merge(shapeArgs))}if(!chart.styledMode){graphic[verb](series.pointAttribs(point,point.selected&&"select")).shadow(point.allowShadow!==false&&options.shadow)}if(graphic){graphic.addClass(point.getClassName(),true);graphic.attr({visibility:point.visible?"inherit":"hidden"})}}else if(graphic){point.graphic=graphic.destroy()}})};ColumnSeries.prototype.drawTracker=function(points){if(points===void 0){points=this.points}var series=this,chart=series.chart,pointer=chart.pointer,onMouseOver=function(e){pointer===null||pointer===void 0?void 0:pointer.normalize(e);var point=pointer===null||pointer===void 0?void 0:pointer.getPointFromEvent(e),isInsidePlot=chart.scrollablePlotArea?chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop,{visiblePlotOnly:true}):true;if(pointer&&point&&series.options.enableMouseTracking&&isInsidePlot){pointer.isDirectTouch=true;point.onMouseOver(e)}};var dataLabels;points.forEach(function(point){dataLabels=ColumnSeries_isArray(point.dataLabels)?point.dataLabels:point.dataLabel?[point.dataLabel]:[];if(point.graphic){point.graphic.element.point=point}dataLabels.forEach(function(dataLabel){(dataLabel.div||dataLabel.element).point=point})});if(!series._hasTracking){series.trackerGroups.forEach(function(key){if(series[key]){series[key].addClass("highcharts-tracker").on("mouseover",onMouseOver).on("mouseout",function(e){pointer===null||pointer===void 0?void 0:pointer.onTrackerMouseOut(e)}).on("touchstart",onMouseOver);if(!chart.styledMode&&series.options.cursor){series[key].css({cursor:series.options.cursor})}}});series._hasTracking=true}ColumnSeries_fireEvent(this,"afterDrawTracker")};ColumnSeries.prototype.remove=function(){var series=this,chart=series.chart;if(chart.hasRendered){chart.series.forEach(function(otherSeries){if(otherSeries.type===series.type){otherSeries.isDirty=true}})}Series_Series.prototype.remove.apply(series,arguments)};ColumnSeries.defaultOptions=ColumnSeries_merge(Series_Series.defaultOptions,Column_ColumnSeriesDefaults);return ColumnSeries}(Series_Series);ColumnSeries_extend(ColumnSeries.prototype,{directTouch:true,getSymbol:ColumnSeries_noop,negStacks:true,trackerGroups:["group","dataLabelsGroup"]});Series_SeriesRegistry.registerSeriesType("column",ColumnSeries);var Column_ColumnSeries=ColumnSeries;"";var DataLabel_getDeferredAnimation=AnimationUtilities.getDeferredAnimation;var DataLabel_format=Core_Templating.format;var DataLabel_defined=Core_Utilities.defined,DataLabel_extend=Core_Utilities.extend,DataLabel_fireEvent=Core_Utilities.fireEvent,DataLabel_getAlignFactor=Core_Utilities.getAlignFactor,DataLabel_isArray=Core_Utilities.isArray,DataLabel_isString=Core_Utilities.isString,DataLabel_merge=Core_Utilities.merge,DataLabel_objectEach=Core_Utilities.objectEach,DataLabel_pick=Core_Utilities.pick,DataLabel_pInt=Core_Utilities.pInt,DataLabel_splat=Core_Utilities.splat;var DataLabel;(function(DataLabel){function hasDataLabels(){return mergedDataLabelOptions(this).some(function(o){return o===null||o===void 0?void 0:o.enabled})}function alignDataLabel(point,dataLabel,options,alignTo,isNew){var _a;var series=this,_b=this,chart=_b.chart,enabledDataSorting=_b.enabledDataSorting,inverted=this.isCartesian&&chart.inverted,plotX=point.plotX,plotY=point.plotY,rotation=options.rotation||0,isInsidePlot=DataLabel_defined(plotX)&&DataLabel_defined(plotY)&&chart.isInsidePlot(plotX,Math.round(plotY),{inverted:inverted,paneCoordinates:true,series:series}),setStartPos=function(alignOptions){if(enabledDataSorting&&series.xAxis&&!justify){series.setDataLabelStartPos(point,dataLabel,isNew,isInsidePlot,alignOptions)}},justify=rotation===0?DataLabel_pick(options.overflow,enabledDataSorting?"none":"justify")==="justify":false;var visible=this.visible&&point.visible!==false&&DataLabel_defined(plotX)&&(point.series.forceDL||enabledDataSorting&&!justify||isInsidePlot||DataLabel_pick(options.inside,!!this.options.stacking)&&alignTo&&chart.isInsidePlot(plotX,inverted?alignTo.x+1:alignTo.y+alignTo.height-1,{inverted:inverted,paneCoordinates:true,series:series}));var pos=point.pos();if(visible&&pos){var bBox=dataLabel.getBBox(),unrotatedbBox=dataLabel.getBBox(void 0,0);alignTo=DataLabel_extend({x:pos[0],y:Math.round(pos[1]),width:0,height:0},alignTo||{});if(options.alignTo==="plotEdges"&&series.isCartesian){alignTo[inverted?"x":"y"]=0;alignTo[inverted?"width":"height"]=((_a=this.yAxis)===null||_a===void 0?void 0:_a.len)||0}DataLabel_extend(options,{width:bBox.width,height:bBox.height});setStartPos(alignTo);dataLabel.align(DataLabel_merge(options,{width:unrotatedbBox.width,height:unrotatedbBox.height}),false,alignTo,false);dataLabel.alignAttr.x+=DataLabel_getAlignFactor(options.align)*(unrotatedbBox.width-bBox.width);dataLabel.alignAttr.y+=DataLabel_getAlignFactor(options.verticalAlign)*(unrotatedbBox.height-bBox.height);dataLabel[dataLabel.placed?"animate":"attr"]({x:dataLabel.alignAttr.x+(bBox.width-unrotatedbBox.width)/2,y:dataLabel.alignAttr.y+(bBox.height-unrotatedbBox.height)/2,rotationOriginX:(dataLabel.width||0)/2,rotationOriginY:(dataLabel.height||0)/2});if(justify&&alignTo.height>=0){this.justifyDataLabel(dataLabel,options,dataLabel.alignAttr,bBox,alignTo,isNew)}else if(DataLabel_pick(options.crop,true)){var _c=dataLabel.alignAttr,x=_c.x,y=_c.y,correction=1;visible=chart.isInsidePlot(x,y,{paneCoordinates:true,series:series})&&chart.isInsidePlot(x+bBox.width-correction,y+bBox.height-correction,{paneCoordinates:true,series:series})}if(options.shape&&!rotation){dataLabel[isNew?"attr":"animate"]({anchorX:pos[0],anchorY:pos[1]})}}if(isNew&&enabledDataSorting){dataLabel.placed=false}if(!visible&&(!enabledDataSorting||justify)){dataLabel.hide();dataLabel.placed=false}else{dataLabel.show();dataLabel.placed=true}}function applyFilter(point,options){var filter=options.filter;if(filter){var op=filter.operator,prop=point[filter.property],val=filter.value;if(op===">"&&prop>val||op==="<"&&prop<val||op===">="&&prop>=val||op==="<="&&prop<=val||op==="=="&&prop==val||op==="==="&&prop===val||op==="!="&&prop!=val||op==="!=="&&prop!==val){return true}return false}return true}function compose(SeriesClass){var seriesProto=SeriesClass.prototype;if(!seriesProto.initDataLabels){seriesProto.initDataLabels=initDataLabels;seriesProto.initDataLabelsGroup=initDataLabelsGroup;seriesProto.alignDataLabel=alignDataLabel;seriesProto.drawDataLabels=drawDataLabels;seriesProto.justifyDataLabel=justifyDataLabel;seriesProto.setDataLabelStartPos=setDataLabelStartPos;seriesProto.hasDataLabels=hasDataLabels}}DataLabel.compose=compose;function initDataLabelsGroup(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function initDataLabels(animationConfig){var series=this,hasRendered=series.hasRendered||0;var dataLabelsGroup=this.initDataLabelsGroup().attr({opacity:+hasRendered});if(!hasRendered&&dataLabelsGroup){if(series.visible){dataLabelsGroup.show()}if(series.options.animation){dataLabelsGroup.animate({opacity:1},animationConfig)}else{dataLabelsGroup.attr({opacity:1})}}return dataLabelsGroup}function drawDataLabels(points){var _a;points=points||this.points;var series=this,chart=series.chart,seriesOptions=series.options,renderer=chart.renderer,_b=chart.options.chart,backgroundColor=_b.backgroundColor,plotBackgroundColor=_b.plotBackgroundColor,contrastColor=renderer.getContrast(DataLabel_isString(plotBackgroundColor)&&plotBackgroundColor||DataLabel_isString(backgroundColor)&&backgroundColor||"#000000"),seriesDlOptions=mergedDataLabelOptions(series);var pointOptions,dataLabelsGroup;var _c=seriesDlOptions[0],animation=_c.animation,defer=_c.defer,animationConfig=defer?DataLabel_getDeferredAnimation(chart,animation,series):{defer:0,duration:0};DataLabel_fireEvent(this,"drawDataLabels");if((_a=series.hasDataLabels)===null||_a===void 0?void 0:_a.call(series)){dataLabelsGroup=this.initDataLabels(animationConfig);points.forEach(function(point){var _a,_b;var dataLabels=point.dataLabels||[];pointOptions=DataLabel_splat(mergeArrays(seriesDlOptions,point.dlOptions||((_a=point.options)===null||_a===void 0?void 0:_a.dataLabels)));pointOptions.forEach(function(labelOptions,i){var labelEnabled=labelOptions.enabled&&(point.visible||point.dataLabelOnHidden)&&(!point.isNull||point.dataLabelOnNull)&&applyFilter(point,labelOptions),backgroundColor=labelOptions.backgroundColor,borderColor=labelOptions.borderColor,distance=labelOptions.distance,_a=labelOptions.style,style=_a===void 0?{}:_a;var formatString,labelText,rotation,attr={},dataLabel=dataLabels[i],isNew=!dataLabel,labelBgColor;if(labelEnabled){formatString=DataLabel_pick(labelOptions[point.formatPrefix+"Format"],labelOptions.format);labelText=DataLabel_defined(formatString)?DataLabel_format(formatString,point,chart):(labelOptions[point.formatPrefix+"Formatter"]||labelOptions.formatter).call(point,labelOptions);rotation=labelOptions.rotation;if(!chart.styledMode){style.color=DataLabel_pick(labelOptions.color,style.color,DataLabel_isString(series.color)?series.color:void 0,"#000000");if(style.color==="contrast"){if(backgroundColor!=="none"){labelBgColor=backgroundColor}point.contrastColor=renderer.getContrast(labelBgColor!=="auto"&&labelBgColor||(point.color||series.color));style.color=labelBgColor||!DataLabel_defined(distance)&&labelOptions.inside||DataLabel_pInt(distance||0)<0||seriesOptions.stacking?point.contrastColor:contrastColor}else{delete point.contrastColor}if(seriesOptions.cursor){style.cursor=seriesOptions.cursor}}attr={r:labelOptions.borderRadius||0,rotation:rotation,padding:labelOptions.padding,zIndex:1};if(!chart.styledMode){attr.fill=backgroundColor==="auto"?point.color:backgroundColor;attr.stroke=borderColor==="auto"?point.color:borderColor;attr["stroke-width"]=labelOptions.borderWidth}DataLabel_objectEach(attr,function(val,name){if(typeof val==="undefined"){delete attr[name]}})}if(dataLabel&&(!labelEnabled||!DataLabel_defined(labelText)||!!dataLabel.div!==!!labelOptions.useHTML||(!dataLabel.rotation||!labelOptions.rotation)&&dataLabel.rotation!==labelOptions.rotation)){dataLabel=void 0;isNew=true}if(labelEnabled&&DataLabel_defined(labelText)){if(!dataLabel){dataLabel=renderer.label(labelText,0,0,labelOptions.shape,void 0,void 0,labelOptions.useHTML,void 0,"data-label");dataLabel.addClass(" highcharts-data-label-color-"+point.colorIndex+" "+(labelOptions.className||"")+(labelOptions.useHTML?" highcharts-tracker":""))}else{attr.text=labelText}if(dataLabel){dataLabel.options=labelOptions;dataLabel.attr(attr);if(!chart.styledMode){dataLabel.css(style).shadow(labelOptions.shadow)}else if(style.width){dataLabel.css({width:style.width,textOverflow:style.textOverflow,whiteSpace:style.whiteSpace})}DataLabel_fireEvent(dataLabel,"beforeAddingDataLabel",{labelOptions:labelOptions,point:point});if(!dataLabel.added){dataLabel.add(dataLabelsGroup)}series.alignDataLabel(point,dataLabel,labelOptions,void 0,isNew);dataLabel.isActive=true;if(dataLabels[i]&&dataLabels[i]!==dataLabel){dataLabels[i].destroy()}dataLabels[i]=dataLabel}}});var j=dataLabels.length;while(j--){if(!dataLabels[j]||!dataLabels[j].isActive){(_b=dataLabels[j])===null||_b===void 0?void 0:_b.destroy();dataLabels.splice(j,1)}else{dataLabels[j].isActive=false}}point.dataLabel=dataLabels[0];point.dataLabels=dataLabels})}DataLabel_fireEvent(this,"afterDrawDataLabels")}function justifyDataLabel(dataLabel,options,alignAttr,bBox,alignTo,isNew){var chart=this.chart,align=options.align,verticalAlign=options.verticalAlign,padding=dataLabel.box?0:dataLabel.padding||0,horizontalAxis=chart.inverted?this.yAxis:this.xAxis,horizontalAxisShift=horizontalAxis?horizontalAxis.left-chart.plotLeft:0,verticalAxis=chart.inverted?this.xAxis:this.yAxis,verticalAxisShift=verticalAxis?verticalAxis.top-chart.plotTop:0;var _a=options.x,x=_a===void 0?0:_a,_b=options.y,y=_b===void 0?0:_b,off,justified;off=(alignAttr.x||0)+padding+horizontalAxisShift;if(off<0){if(align==="right"&&x>=0){options.align="left";options.inside=true}else{x-=off}justified=true}off=(alignAttr.x||0)+bBox.width-padding+horizontalAxisShift;if(off>chart.plotWidth){if(align==="left"&&x<=0){options.align="right";options.inside=true}else{x+=chart.plotWidth-off}justified=true}off=alignAttr.y+padding+verticalAxisShift;if(off<0){if(verticalAlign==="bottom"&&y>=0){options.verticalAlign="top";options.inside=true}else{y-=off}justified=true}off=(alignAttr.y||0)+bBox.height-padding+verticalAxisShift;if(off>chart.plotHeight){if(verticalAlign==="top"&&y<=0){options.verticalAlign="bottom";options.inside=true}else{y+=chart.plotHeight-off}justified=true}if(justified){options.x=x;options.y=y;dataLabel.placed=!isNew;dataLabel.align(options,void 0,alignTo)}return justified}function mergeArrays(one,two){var res=[],i;if(DataLabel_isArray(one)&&!DataLabel_isArray(two)){res=one.map(function(el){return DataLabel_merge(el,two)})}else if(DataLabel_isArray(two)&&!DataLabel_isArray(one)){res=two.map(function(el){return DataLabel_merge(one,el)})}else if(!DataLabel_isArray(one)&&!DataLabel_isArray(two)){res=DataLabel_merge(one,two)}else if(DataLabel_isArray(one)&&DataLabel_isArray(two)){i=Math.max(one.length,two.length);while(i--){res[i]=DataLabel_merge(one[i],two[i])}}return res}function mergedDataLabelOptions(series){var _a,_b;var plotOptions=series.chart.options.plotOptions;return DataLabel_splat(mergeArrays(mergeArrays((_a=plotOptions===null||plotOptions===void 0?void 0:plotOptions.series)===null||_a===void 0?void 0:_a.dataLabels,(_b=plotOptions===null||plotOptions===void 0?void 0:plotOptions[series.type])===null||_b===void 0?void 0:_b.dataLabels),series.options.dataLabels))}function setDataLabelStartPos(point,dataLabel,isNew,isInside,alignOptions){var chart=this.chart,inverted=chart.inverted,xAxis=this.xAxis,reversed=xAxis.reversed,labelCenter=((inverted?dataLabel.height:dataLabel.width)||0)/2,pointWidth=point.pointWidth,halfWidth=pointWidth?pointWidth/2:0;dataLabel.startXPos=inverted?alignOptions.x:reversed?-labelCenter-halfWidth:xAxis.width-labelCenter+halfWidth;dataLabel.startYPos=inverted?reversed?this.yAxis.height-labelCenter+halfWidth:-labelCenter-halfWidth:alignOptions.y;if(!isInside){dataLabel.attr({opacity:1}).animate({opacity:0},void 0,dataLabel.hide)}else if(dataLabel.visibility==="hidden"){dataLabel.show();dataLabel.attr({opacity:0}).animate({opacity:1})}if(!chart.hasRendered){return}if(isNew){dataLabel.attr({x:dataLabel.startXPos,y:dataLabel.startYPos})}dataLabel.placed=true}})(DataLabel||(DataLabel={}));var Series_DataLabel=DataLabel;"";var ColumnDataLabel_composed=Core_Globals.composed;var ColumnDataLabel_Series=Series_SeriesRegistry.series;var ColumnDataLabel_merge=Core_Utilities.merge,ColumnDataLabel_pick=Core_Utilities.pick,ColumnDataLabel_pushUnique=Core_Utilities.pushUnique;var ColumnDataLabel;(function(ColumnDataLabel){function alignDataLabel(point,dataLabel,options,alignTo,isNew){var inverted=this.chart.inverted,series=point.series,xLen=(series.xAxis?series.xAxis.len:this.chart.plotSizeX)||0,yLen=(series.yAxis?series.yAxis.len:this.chart.plotSizeY)||0,dlBox=point.dlBox||point.shapeArgs,below=ColumnDataLabel_pick(point.below,point.plotY>ColumnDataLabel_pick(this.translatedThreshold,yLen)),inside=ColumnDataLabel_pick(options.inside,!!this.options.stacking);if(dlBox){alignTo=ColumnDataLabel_merge(dlBox);if(!(options.overflow==="allow"&&options.crop===false)){if(alignTo.y<0){alignTo.height+=alignTo.y;alignTo.y=0}var overshoot=alignTo.y+alignTo.height-yLen;if(overshoot>0&&overshoot<alignTo.height-1){alignTo.height-=overshoot}}if(inverted){alignTo={x:yLen-alignTo.y-alignTo.height,y:xLen-alignTo.x-alignTo.width,width:alignTo.height,height:alignTo.width}}if(!inside){if(inverted){alignTo.x+=below?0:alignTo.width;alignTo.width=0}else{alignTo.y+=below?alignTo.height:0;alignTo.height=0}}}options.align=ColumnDataLabel_pick(options.align,!inverted||inside?"center":below?"right":"left");options.verticalAlign=ColumnDataLabel_pick(options.verticalAlign,inverted||inside?"middle":below?"top":"bottom");ColumnDataLabel_Series.prototype.alignDataLabel.call(this,point,dataLabel,options,alignTo,isNew);if(options.inside&&point.contrastColor){dataLabel.css({color:point.contrastColor})}}function compose(ColumnSeriesClass){Series_DataLabel.compose(ColumnDataLabel_Series);if(ColumnDataLabel_pushUnique(ColumnDataLabel_composed,"ColumnDataLabel")){ColumnSeriesClass.prototype.alignDataLabel=alignDataLabel}}ColumnDataLabel.compose=compose})(ColumnDataLabel||(ColumnDataLabel={}));var Column_ColumnDataLabel=ColumnDataLabel;var BarSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var BarSeries_extend=Core_Utilities.extend,BarSeries_merge=Core_Utilities.merge;var BarSeries=function(_super){BarSeries_extends(BarSeries,_super);function BarSeries(){return _super!==null&&_super.apply(this,arguments)||this}BarSeries.defaultOptions=BarSeries_merge(Column_ColumnSeries.defaultOptions,{});return BarSeries}(Column_ColumnSeries);BarSeries_extend(BarSeries.prototype,{inverted:true});Series_SeriesRegistry.registerSeriesType("bar",BarSeries);var Bar_BarSeries=null&&BarSeries;"";var ScatterSeriesDefaults={lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:true},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> '+'<span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}};"";var Scatter_ScatterSeriesDefaults=ScatterSeriesDefaults;var ScatterSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var ScatterSeries_a=Series_SeriesRegistry.seriesTypes,ScatterSeries_ColumnSeries=ScatterSeries_a.column,ScatterSeries_LineSeries=ScatterSeries_a.line;var ScatterSeries_addEvent=Core_Utilities.addEvent,ScatterSeries_extend=Core_Utilities.extend,ScatterSeries_merge=Core_Utilities.merge;var ScatterSeries=function(_super){ScatterSeries_extends(ScatterSeries,_super);function ScatterSeries(){return _super!==null&&_super.apply(this,arguments)||this}ScatterSeries.prototype.applyJitter=function(){var series=this,jitter=this.options.jitter,len=this.points.length;function unrandom(seed){var rand=Math.sin(seed)*1e4;return rand-Math.floor(rand)}if(jitter){this.points.forEach(function(point,i){["x","y"].forEach(function(dim,j){if(jitter[dim]&&!point.isNull){var plotProp="plot".concat(dim.toUpperCase()),axis=series[""+dim+"Axis"],translatedJitter=jitter[dim]*axis.transA;if(axis&&!axis.logarithmic){var min=Math.max(0,(point[plotProp]||0)-translatedJitter),max=Math.min(axis.len,(point[plotProp]||0)+translatedJitter);point[plotProp]=min+(max-min)*unrandom(i+j*len);if(dim==="x"){point.clientX=point.plotX}}}})})}};ScatterSeries.prototype.drawGraph=function(){if(this.options.lineWidth){_super.prototype.drawGraph.call(this)}else if(this.graph){this.graph=this.graph.destroy()}};ScatterSeries.defaultOptions=ScatterSeries_merge(ScatterSeries_LineSeries.defaultOptions,Scatter_ScatterSeriesDefaults);return ScatterSeries}(ScatterSeries_LineSeries);ScatterSeries_extend(ScatterSeries.prototype,{drawTracker:ScatterSeries_ColumnSeries.prototype.drawTracker,sorted:false,requireSorting:false,noSharedTooltip:true,trackerGroups:["group","markerGroup","dataLabelsGroup"]});ScatterSeries_addEvent(ScatterSeries,"afterTranslate",function(){this.applyJitter()});Series_SeriesRegistry.registerSeriesType("scatter",ScatterSeries);var Scatter_ScatterSeries=null&&ScatterSeries;var CenteredUtilities_deg2rad=Core_Globals.deg2rad;var CenteredUtilities_fireEvent=Core_Utilities.fireEvent,CenteredUtilities_isNumber=Core_Utilities.isNumber,CenteredUtilities_pick=Core_Utilities.pick,CenteredUtilities_relativeLength=Core_Utilities.relativeLength;var CenteredUtilities;(function(CenteredUtilities){function getCenter(){var options=this.options,chart=this.chart,slicingRoom=2*(options.slicedOffset||0),plotWidth=chart.plotWidth-2*slicingRoom,plotHeight=chart.plotHeight-2*slicingRoom,centerOption=options.center,smallestSize=Math.min(plotWidth,plotHeight),thickness=options.thickness;var handleSlicingRoom,size=options.size,innerSize=options.innerSize||0,i,value;if(typeof size==="string"){size=parseFloat(size)}if(typeof innerSize==="string"){innerSize=parseFloat(innerSize)}var positions=[CenteredUtilities_pick(centerOption===null||centerOption===void 0?void 0:centerOption[0],"50%"),CenteredUtilities_pick(centerOption===null||centerOption===void 0?void 0:centerOption[1],"50%"),CenteredUtilities_pick(size&&size<0?void 0:options.size,"100%"),CenteredUtilities_pick(innerSize&&innerSize<0?void 0:options.innerSize||0,"0%")];if(chart.angular&&!(this instanceof Series_Series)){positions[3]=0}for(i=0;i<4;++i){value=positions[i];handleSlicingRoom=i<2||i===2&&/%$/.test(value);positions[i]=CenteredUtilities_relativeLength(value,[plotWidth,plotHeight,smallestSize,positions[2]][i])+(handleSlicingRoom?slicingRoom:0)}if(positions[3]>positions[2]){positions[3]=positions[2]}if(CenteredUtilities_isNumber(thickness)&&thickness*2<positions[2]&&thickness>0){positions[3]=positions[2]-thickness*2}CenteredUtilities_fireEvent(this,"afterGetCenter",{positions:positions});return positions}CenteredUtilities.getCenter=getCenter;function getStartAndEndRadians(start,end){var startAngle=CenteredUtilities_isNumber(start)?start:0,endAngle=CenteredUtilities_isNumber(end)&&end>startAngle&&end-startAngle<360?end:startAngle+360,correction=-90;return{start:CenteredUtilities_deg2rad*(startAngle+correction),end:CenteredUtilities_deg2rad*(endAngle+correction)}}CenteredUtilities.getStartAndEndRadians=getStartAndEndRadians})(CenteredUtilities||(CenteredUtilities={}));var Series_CenteredUtilities=CenteredUtilities;"";var PiePoint_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var PiePoint_assign=undefined&&undefined.__assign||function(){PiePoint_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return PiePoint_assign.apply(this,arguments)};var PiePoint_setAnimation=AnimationUtilities.setAnimation;var PiePoint_addEvent=Core_Utilities.addEvent,PiePoint_defined=Core_Utilities.defined,PiePoint_extend=Core_Utilities.extend,PiePoint_isNumber=Core_Utilities.isNumber,PiePoint_pick=Core_Utilities.pick,PiePoint_relativeLength=Core_Utilities.relativeLength;var PiePoint=function(_super){PiePoint_extends(PiePoint,_super);function PiePoint(series,options,x){var _a;var _this=_super.call(this,series,options,x)||this;_this.half=0;(_a=_this.name)!==null&&_a!==void 0?_a:_this.name="Slice";var toggleSlice=function(e){_this.slice(e.type==="select")};PiePoint_addEvent(_this,"select",toggleSlice);PiePoint_addEvent(_this,"unselect",toggleSlice);return _this}PiePoint.prototype.getConnectorPath=function(dataLabel){var labelPosition=dataLabel.dataLabelPosition,options=dataLabel.options||{},connectorShape=options.connectorShape,shapeFunc=this.connectorShapes[connectorShape]||connectorShape;return labelPosition&&shapeFunc.call(this,PiePoint_assign(PiePoint_assign({},labelPosition.computed),{alignment:labelPosition.alignment}),labelPosition.connectorPosition,options)||[]};PiePoint.prototype.getTranslate=function(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}};PiePoint.prototype.haloPath=function(size){var shapeArgs=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(shapeArgs.x,shapeArgs.y,shapeArgs.r+size,shapeArgs.r+size,{innerR:shapeArgs.r-1,start:shapeArgs.start,end:shapeArgs.end,borderRadius:shapeArgs.borderRadius})};PiePoint.prototype.isValid=function(){return PiePoint_isNumber(this.y)&&this.y>=0};PiePoint.prototype.setVisible=function(vis,redraw){if(redraw===void 0){redraw=true}if(vis!==this.visible){this.update({visible:vis!==null&&vis!==void 0?vis:!this.visible},redraw,void 0,false)}};PiePoint.prototype.slice=function(sliced,redraw,animation){var series=this.series,chart=series.chart;PiePoint_setAnimation(animation,chart);redraw=PiePoint_pick(redraw,true);this.sliced=this.options.sliced=sliced=PiePoint_defined(sliced)?sliced:!this.sliced;series.options.data[series.data.indexOf(this)]=this.options;if(this.graphic){this.graphic.animate(this.getTranslate())}};return PiePoint}(Series_Point);PiePoint_extend(PiePoint.prototype,{connectorShapes:{fixedOffset:function(labelPosition,connectorPosition,options){var breakAt=connectorPosition.breakAt,touchingSliceAt=connectorPosition.touchingSliceAt,lineSegment=options.softConnector?["C",labelPosition.x+(labelPosition.alignment==="left"?-5:5),labelPosition.y,2*breakAt.x-touchingSliceAt.x,2*breakAt.y-touchingSliceAt.y,breakAt.x,breakAt.y]:["L",breakAt.x,breakAt.y];return[["M",labelPosition.x,labelPosition.y],lineSegment,["L",touchingSliceAt.x,touchingSliceAt.y]]},straight:function(labelPosition,connectorPosition){var touchingSliceAt=connectorPosition.touchingSliceAt;return[["M",labelPosition.x,labelPosition.y],["L",touchingSliceAt.x,touchingSliceAt.y]]},crookedLine:function(labelPosition,connectorPosition,options){var _a=connectorPosition.angle,angle=_a===void 0?this.angle||0:_a,breakAt=connectorPosition.breakAt,touchingSliceAt=connectorPosition.touchingSliceAt,series=this.series,_b=series.center,cx=_b[0],cy=_b[1],diameter=_b[2],r=diameter/2,_c=series.chart,plotLeft=_c.plotLeft,plotWidth=_c.plotWidth,leftAligned=labelPosition.alignment==="left",x=labelPosition.x,y=labelPosition.y;var crookX=breakAt.x;if(options.crookDistance){var crookDistance=PiePoint_relativeLength(options.crookDistance,1);crookX=leftAligned?cx+r+(plotWidth+plotLeft-cx-r)*(1-crookDistance):plotLeft+(cx-r)*crookDistance}else{crookX=cx+(cy-y)*Math.tan(angle-Math.PI/2)}var path=[["M",x,y]];if(leftAligned?crookX<=x&&crookX>=breakAt.x:crookX>=x&&crookX<=breakAt.x){path.push(["L",crookX,y])}path.push(["L",breakAt.x,breakAt.y],["L",touchingSliceAt.x,touchingSliceAt.y]);return path}}});var Pie_PiePoint=PiePoint;var PieSeriesDefaults={borderRadius:3,center:[null,null],clip:false,colorByPoint:true,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:true,formatter:function(){return this.isNull?void 0:this.name},softConnector:true,x:0},fillColor:void 0,ignoreHiddenPoint:true,inactiveOtherPoints:true,legendType:"point",marker:null,size:null,showInLegend:false,slicedOffset:10,stickyTracking:false,tooltip:{followPointer:true},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}};"";var Pie_PieSeriesDefaults=PieSeriesDefaults;var PieSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var getStartAndEndRadians=Series_CenteredUtilities.getStartAndEndRadians;var PieSeries_noop=Core_Globals.noop;var PieSeries_clamp=Core_Utilities.clamp,PieSeries_extend=Core_Utilities.extend,PieSeries_fireEvent=Core_Utilities.fireEvent,PieSeries_merge=Core_Utilities.merge,PieSeries_pick=Core_Utilities.pick;var PieSeries=function(_super){PieSeries_extends(PieSeries,_super);function PieSeries(){return _super!==null&&_super.apply(this,arguments)||this}PieSeries.prototype.animate=function(init){var series=this,points=series.points,startAngleRad=series.startAngleRad;if(!init){points.forEach(function(point){var graphic=point.graphic,args=point.shapeArgs;if(graphic&&args){graphic.attr({r:PieSeries_pick(point.startR,series.center&&series.center[3]/2),start:startAngleRad,end:startAngleRad});graphic.animate({r:args.r,start:args.start,end:args.end},series.options.animation)}})}};PieSeries.prototype.drawEmpty=function(){var start=this.startAngleRad,end=this.endAngleRad,options=this.options;var centerX,centerY;if(this.total===0&&this.center){centerX=this.center[0];centerY=this.center[1];if(!this.graph){this.graph=this.chart.renderer.arc(centerX,centerY,this.center[1]/2,0,start,end).addClass("highcharts-empty-series").add(this.group)}this.graph.attr({d:SVG_Symbols.arc(centerX,centerY,this.center[2]/2,0,{start:start,end:end,innerR:this.center[3]/2})});if(!this.chart.styledMode){this.graph.attr({"stroke-width":options.borderWidth,fill:options.fillColor||"none",stroke:options.color||"#cccccc"})}}else if(this.graph){this.graph=this.graph.destroy()}};PieSeries.prototype.drawPoints=function(){var renderer=this.chart.renderer;this.points.forEach(function(point){if(point.graphic&&point.hasNewShapeType()){point.graphic=point.graphic.destroy()}if(!point.graphic){point.graphic=renderer[point.shapeType](point.shapeArgs).add(point.series.group);point.delayedRendering=true}})};PieSeries.prototype.generatePoints=function(){_super.prototype.generatePoints.call(this);this.updateTotals()};PieSeries.prototype.getX=function(y,left,point,dataLabel){var center=this.center,radius=this.radii?this.radii[point.index]||0:center[2]/2,labelPosition=dataLabel.dataLabelPosition,distance=(labelPosition===null||labelPosition===void 0?void 0:labelPosition.distance)||0;var angle=Math.asin(PieSeries_clamp((y-center[1])/(radius+distance),-1,1));var x=center[0]+(left?-1:1)*(Math.cos(angle)*(radius+distance))+(distance>0?(left?-1:1)*(dataLabel.padding||0):0);return x};PieSeries.prototype.hasData=function(){return!!this.dataTable.rowCount};PieSeries.prototype.redrawPoints=function(){var series=this,chart=series.chart;var groupTranslation,graphic,pointAttr,shapeArgs;this.drawEmpty();if(series.group&&!chart.styledMode){series.group.shadow(series.options.shadow)}series.points.forEach(function(point){var animateTo={};graphic=point.graphic;if(!point.isNull&&graphic){shapeArgs=point.shapeArgs;groupTranslation=point.getTranslate();if(!chart.styledMode){pointAttr=series.pointAttribs(point,point.selected&&"select")}if(!point.delayedRendering){graphic.setRadialReference(series.center);if(!chart.styledMode){PieSeries_merge(true,animateTo,pointAttr)}PieSeries_merge(true,animateTo,shapeArgs,groupTranslation);graphic.animate(animateTo)}else{graphic.setRadialReference(series.center).attr(shapeArgs).attr(groupTranslation);if(!chart.styledMode){graphic.attr(pointAttr).attr({"stroke-linejoin":"round"})}point.delayedRendering=false}graphic.attr({visibility:point.visible?"inherit":"hidden"});graphic.addClass(point.getClassName(),true)}else if(graphic){point.graphic=graphic.destroy()}})};PieSeries.prototype.sortByAngle=function(points,sign){points.sort(function(a,b){return typeof a.angle!=="undefined"&&(b.angle-a.angle)*sign})};PieSeries.prototype.translate=function(positions){PieSeries_fireEvent(this,"translate");this.generatePoints();var series=this,precision=1e3,options=series.options,slicedOffset=options.slicedOffset,radians=getStartAndEndRadians(options.startAngle,options.endAngle),startAngleRad=series.startAngleRad=radians.start,endAngleRad=series.endAngleRad=radians.end,circ=endAngleRad-startAngleRad,points=series.points,ignoreHiddenPoint=options.ignoreHiddenPoint,len=points.length;var start,end,angle,radiusX,radiusY,i,point,cumulative=0;if(!positions){series.center=positions=series.getCenter()}for(i=0;i<len;i++){point=points[i];start=startAngleRad+cumulative*circ;if(point.isValid()&&(!ignoreHiddenPoint||point.visible)){cumulative+=point.percentage/100}end=startAngleRad+cumulative*circ;var shapeArgs={x:positions[0],y:positions[1],r:positions[2]/2,innerR:positions[3]/2,start:Math.round(start*precision)/precision,end:Math.round(end*precision)/precision};point.shapeType="arc";point.shapeArgs=shapeArgs;angle=(end+start)/2;if(angle>1.5*Math.PI){angle-=2*Math.PI}else if(angle<-Math.PI/2){angle+=2*Math.PI}point.slicedTranslation={translateX:Math.round(Math.cos(angle)*slicedOffset),translateY:Math.round(Math.sin(angle)*slicedOffset)};radiusX=Math.cos(angle)*positions[2]/2;radiusY=Math.sin(angle)*positions[2]/2;point.tooltipPos=[positions[0]+radiusX*.7,positions[1]+radiusY*.7];point.half=angle<-Math.PI/2||angle>Math.PI/2?1:0;point.angle=angle}PieSeries_fireEvent(series,"afterTranslate")};PieSeries.prototype.updateTotals=function(){var points=this.points,len=points.length,ignoreHiddenPoint=this.options.ignoreHiddenPoint;var i,point,total=0;for(i=0;i<len;i++){point=points[i];if(point.isValid()&&(!ignoreHiddenPoint||point.visible)){total+=point.y}}this.total=total;for(i=0;i<len;i++){point=points[i];point.percentage=total>0&&(point.visible||!ignoreHiddenPoint)?point.y/total*100:0;point.total=total}};PieSeries.defaultOptions=PieSeries_merge(Series_Series.defaultOptions,Pie_PieSeriesDefaults);return PieSeries}(Series_Series);PieSeries_extend(PieSeries.prototype,{axisTypes:[],directTouch:true,drawGraph:void 0,drawTracker:Column_ColumnSeries.prototype.drawTracker,getCenter:Series_CenteredUtilities.getCenter,getSymbol:PieSeries_noop,invertible:false,isCartesian:false,noSharedTooltip:true,pointAttribs:Column_ColumnSeries.prototype.pointAttribs,pointClass:Pie_PiePoint,requireSorting:false,searchPoint:PieSeries_noop,trackerGroups:["group","dataLabelsGroup"]});Series_SeriesRegistry.registerSeriesType("pie",PieSeries);var Pie_PieSeries=null&&PieSeries;var PieDataLabel_composed=Core_Globals.composed,PieDataLabel_noop=Core_Globals.noop;var PieDataLabel_distribute=Renderer_RendererUtilities.distribute;var PieDataLabel_Series=Series_SeriesRegistry.series;var PieDataLabel_arrayMax=Core_Utilities.arrayMax,PieDataLabel_clamp=Core_Utilities.clamp,PieDataLabel_defined=Core_Utilities.defined,PieDataLabel_pick=Core_Utilities.pick,PieDataLabel_pushUnique=Core_Utilities.pushUnique,PieDataLabel_relativeLength=Core_Utilities.relativeLength;var PieDataLabel_ColumnDataLabel;(function(ColumnDataLabel){var dataLabelPositioners={radialDistributionY:function(point,dataLabel){var _a;return(((_a=dataLabel.dataLabelPosition)===null||_a===void 0?void 0:_a.top)||0)+point.distributeBox.pos},radialDistributionX:function(series,point,y,naturalY,dataLabel){var pos=dataLabel.dataLabelPosition;return series.getX(y<((pos===null||pos===void 0?void 0:pos.top)||0)+2||y>((pos===null||pos===void 0?void 0:pos.bottom)||0)-2?naturalY:y,point.half,point,dataLabel)},justify:function(point,dataLabel,radius,seriesCenter){var _a;return seriesCenter[0]+(point.half?-1:1)*(radius+(((_a=dataLabel.dataLabelPosition)===null||_a===void 0?void 0:_a.distance)||0))},alignToPlotEdges:function(dataLabel,half,plotWidth,plotLeft){var dataLabelWidth=dataLabel.getBBox().width;return half?dataLabelWidth+plotLeft:plotWidth-dataLabelWidth-plotLeft},alignToConnectors:function(points,half,plotWidth,plotLeft){var maxDataLabelWidth=0,dataLabelWidth;points.forEach(function(point){dataLabelWidth=point.dataLabel.getBBox().width;if(dataLabelWidth>maxDataLabelWidth){maxDataLabelWidth=dataLabelWidth}});return half?maxDataLabelWidth+plotLeft:plotWidth-maxDataLabelWidth-plotLeft}};function compose(PieSeriesClass){Series_DataLabel.compose(PieDataLabel_Series);if(PieDataLabel_pushUnique(PieDataLabel_composed,"PieDataLabel")){var pieProto=PieSeriesClass.prototype;pieProto.dataLabelPositioners=dataLabelPositioners;pieProto.alignDataLabel=PieDataLabel_noop;pieProto.drawDataLabels=drawDataLabels;pieProto.getDataLabelPosition=getDataLabelPosition;pieProto.placeDataLabels=placeDataLabels;pieProto.verifyDataLabelOverflow=verifyDataLabelOverflow}}ColumnDataLabel.compose=compose;function getDataLabelPosition(point,distance){var halfPI=Math.PI/2,_a=point.shapeArgs||{},_b=_a.start,start=_b===void 0?0:_b,_c=_a.end,end=_c===void 0?0:_c;var angle=point.angle||0;if(distance>0&&start<halfPI&&end>halfPI&&angle>halfPI/2&&angle<halfPI*1.5){angle=angle<=halfPI?Math.max(halfPI/2,(start+halfPI)/2):Math.min(halfPI*1.5,(halfPI+end)/2)}var _d=this,center=_d.center,options=_d.options,r=center[2]/2,cosAngle=Math.cos(angle),sinAngle=Math.sin(angle),x=center[0]+cosAngle*r,y=center[1]+sinAngle*r,finalConnectorOffset=Math.min((options.slicedOffset||0)+(options.borderWidth||0),distance/5);return{natural:{x:x+cosAngle*distance,y:y+sinAngle*distance},computed:{},alignment:distance<0?"center":point.half?"right":"left",connectorPosition:{angle:angle,breakAt:{x:x+cosAngle*finalConnectorOffset,y:y+sinAngle*finalConnectorOffset},touchingSliceAt:{x:x,y:y}},distance:distance}}function drawDataLabels(){var _this=this;var _a;var series=this,points=series.points,chart=series.chart,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,plotLeft=chart.plotLeft,maxWidth=Math.round(chart.chartWidth/3),seriesCenter=series.center,radius=seriesCenter[2]/2,centerY=seriesCenter[1],halves=[[],[]],overflow=[0,0,0,0],dataLabelPositioners=series.dataLabelPositioners;var connector,dataLabelWidth,labelHeight,maxLabelDistance=0;if(!series.visible||!((_a=series.hasDataLabels)===null||_a===void 0?void 0:_a.call(series))){return}points.forEach(function(point){(point.dataLabels||[]).forEach(function(dataLabel){if(dataLabel.shortened){dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"});dataLabel.shortened=false}})});PieDataLabel_Series.prototype.drawDataLabels.apply(series);points.forEach(function(point){(point.dataLabels||[]).forEach(function(dataLabel,i){var _a;var r=seriesCenter[2]/2,dataLabelOptions=dataLabel.options,distance=PieDataLabel_relativeLength((dataLabelOptions===null||dataLabelOptions===void 0?void 0:dataLabelOptions.distance)||0,r);if(i===0){halves[point.half].push(point)}if(!PieDataLabel_defined((_a=dataLabelOptions===null||dataLabelOptions===void 0?void 0:dataLabelOptions.style)===null||_a===void 0?void 0:_a.width)){if(dataLabel.getBBox().width>maxWidth){dataLabel.css({width:Math.round(maxWidth*.7)+"px"});dataLabel.shortened=true}}dataLabel.dataLabelPosition=_this.getDataLabelPosition(point,distance);maxLabelDistance=Math.max(maxLabelDistance,distance)})});halves.forEach(function(points,halfIdx){var length=points.length,positions=[];var top,bottom,size=0,distributionLength;if(!length){return}series.sortByAngle(points,halfIdx-.5);if(maxLabelDistance>0){top=Math.max(0,centerY-radius-maxLabelDistance);bottom=Math.min(centerY+radius+maxLabelDistance,chart.plotHeight);points.forEach(function(point){(point.dataLabels||[]).forEach(function(dataLabel){var _a;var labelPosition=dataLabel.dataLabelPosition;if(labelPosition&&labelPosition.distance>0){labelPosition.top=Math.max(0,centerY-radius-labelPosition.distance);labelPosition.bottom=Math.min(centerY+radius+labelPosition.distance,chart.plotHeight);size=dataLabel.getBBox().height||21;dataLabel.lineHeight=chart.renderer.fontMetrics(dataLabel.text||dataLabel).h+2*dataLabel.padding;point.distributeBox={target:(((_a=dataLabel.dataLabelPosition)===null||_a===void 0?void 0:_a.natural.y)||0)-labelPosition.top+dataLabel.lineHeight/2,size:size,rank:point.y};positions.push(point.distributeBox)}})});distributionLength=bottom+size-top;PieDataLabel_distribute(positions,distributionLength,distributionLength/5)}points.forEach(function(point){(point.dataLabels||[]).forEach(function(dataLabel){var dataLabelOptions=dataLabel.options||{},distributeBox=point.distributeBox,labelPosition=dataLabel.dataLabelPosition,naturalY=(labelPosition===null||labelPosition===void 0?void 0:labelPosition.natural.y)||0,connectorPadding=dataLabelOptions.connectorPadding||0,lineHeight=dataLabel.lineHeight||21,bBox=dataLabel.getBBox(),topOffset=(lineHeight-bBox.height)/2;var x=0,y=naturalY,visibility="inherit";if(labelPosition){if(positions&&PieDataLabel_defined(distributeBox)&&labelPosition.distance>0){if(typeof distributeBox.pos==="undefined"){visibility="hidden"}else{labelHeight=distributeBox.size;y=dataLabelPositioners.radialDistributionY(point,dataLabel)}}if(dataLabelOptions.justify){x=dataLabelPositioners.justify(point,dataLabel,radius,seriesCenter)}else{switch(dataLabelOptions.alignTo){case"connectors":x=dataLabelPositioners.alignToConnectors(points,halfIdx,plotWidth,plotLeft);break;case"plotEdges":x=dataLabelPositioners.alignToPlotEdges(dataLabel,halfIdx,plotWidth,plotLeft);break;default:x=dataLabelPositioners.radialDistributionX(series,point,y-topOffset,naturalY,dataLabel)}}labelPosition.attribs={visibility:visibility,align:labelPosition.alignment};labelPosition.posAttribs={x:x+(dataLabelOptions.x||0)+({left:connectorPadding,right:-connectorPadding}[labelPosition.alignment]||0),y:y+(dataLabelOptions.y||0)-lineHeight/2};labelPosition.computed.x=x;labelPosition.computed.y=y-topOffset;if(PieDataLabel_pick(dataLabelOptions.crop,true)){dataLabelWidth=dataLabel.getBBox().width;var sideOverflow=void 0;if(x-dataLabelWidth<connectorPadding&&halfIdx===1){sideOverflow=Math.round(dataLabelWidth-x+connectorPadding);overflow[3]=Math.max(sideOverflow,overflow[3])}else if(x+dataLabelWidth>plotWidth-connectorPadding&&halfIdx===0){sideOverflow=Math.round(x+dataLabelWidth-plotWidth+connectorPadding);overflow[1]=Math.max(sideOverflow,overflow[1])}if(y-labelHeight/2<0){overflow[0]=Math.max(Math.round(-y+labelHeight/2),overflow[0])}else if(y+labelHeight/2>plotHeight){overflow[2]=Math.max(Math.round(y+labelHeight/2-plotHeight),overflow[2])}labelPosition.sideOverflow=sideOverflow}}})})});if(PieDataLabel_arrayMax(overflow)===0||this.verifyDataLabelOverflow(overflow)){this.placeDataLabels();this.points.forEach(function(point){(point.dataLabels||[]).forEach(function(dataLabel){var _a;var _b=dataLabel.options||{},connectorColor=_b.connectorColor,_c=_b.connectorWidth,connectorWidth=_c===void 0?1:_c,labelPosition=dataLabel.dataLabelPosition;if(connectorWidth){var isNew=void 0;connector=dataLabel.connector;if(labelPosition&&labelPosition.distance>0){isNew=!connector;if(!connector){dataLabel.connector=connector=chart.renderer.path().addClass("highcharts-data-label-connector "+" highcharts-color-"+point.colorIndex+(point.className?" "+point.className:"")).add(series.dataLabelsGroup)}if(!chart.styledMode){connector.attr({"stroke-width":connectorWidth,stroke:connectorColor||point.color||"#666666"})}connector[isNew?"attr":"animate"]({d:point.getConnectorPath(dataLabel)});connector.attr({visibility:(_a=labelPosition.attribs)===null||_a===void 0?void 0:_a.visibility})}else if(connector){dataLabel.connector=connector.destroy()}}})})}}function placeDataLabels(){this.points.forEach(function(point){(point.dataLabels||[]).forEach(function(dataLabel){var _a;var labelPosition=dataLabel.dataLabelPosition;if(labelPosition){if(labelPosition.sideOverflow){dataLabel.css({width:Math.max(dataLabel.getBBox().width-labelPosition.sideOverflow,0)+"px",textOverflow:(((_a=dataLabel.options)===null||_a===void 0?void 0:_a.style)||{}).textOverflow||"ellipsis"});dataLabel.shortened=true}dataLabel.attr(labelPosition.attribs);dataLabel[dataLabel.moved?"animate":"attr"](labelPosition.posAttribs);dataLabel.moved=true}else if(dataLabel){dataLabel.attr({y:-9999})}});delete point.distributeBox},this)}function verifyDataLabelOverflow(overflow){var center=this.center,options=this.options,centerOption=options.center,minSize=options.minSize||80;var newSize=minSize,ret=options.size!==null;if(!ret){if(centerOption[0]!==null){newSize=Math.max(center[2]-Math.max(overflow[1],overflow[3]),minSize)}else{newSize=Math.max(center[2]-overflow[1]-overflow[3],minSize);center[0]+=(overflow[3]-overflow[1])/2}if(centerOption[1]!==null){newSize=PieDataLabel_clamp(newSize,minSize,center[2]-Math.max(overflow[0],overflow[2]))}else{newSize=PieDataLabel_clamp(newSize,minSize,center[2]-overflow[0]-overflow[2]);center[1]+=(overflow[0]-overflow[2])/2}if(newSize<center[2]){center[2]=newSize;center[3]=Math.min(options.thickness?Math.max(0,newSize-options.thickness*2):Math.max(0,PieDataLabel_relativeLength(options.innerSize||0,newSize)),newSize);this.translate(center);if(this.drawDataLabels){this.drawDataLabels()}}else{ret=true}}return ret}})(PieDataLabel_ColumnDataLabel||(PieDataLabel_ColumnDataLabel={}));var PieDataLabel=PieDataLabel_ColumnDataLabel;var GeometryUtilities;(function(GeometryUtilities){function getCenterOfPoints(points){var sum=points.reduce(function(sum,point){sum.x+=point.x;sum.y+=point.y;return sum},{x:0,y:0});return{x:sum.x/points.length,y:sum.y/points.length}}GeometryUtilities.getCenterOfPoints=getCenterOfPoints;function getDistanceBetweenPoints(p1,p2){return Math.sqrt(Math.pow(p2.x-p1.x,2)+Math.pow(p2.y-p1.y,2))}GeometryUtilities.getDistanceBetweenPoints=getDistanceBetweenPoints;function getAngleBetweenPoints(p1,p2){return Math.atan2(p2.x-p1.x,p2.y-p1.y)}GeometryUtilities.getAngleBetweenPoints=getAngleBetweenPoints;function pointInPolygon(_a,polygon){var x=_a.x,y=_a.y;var len=polygon.length;var i,j,inside=false;for(i=0,j=len-1;i<len;j=i++){var _b=polygon[i],x1=_b[0],y1=_b[1],_c=polygon[j],x2=_c[0],y2=_c[1];if(y1>y!==y2>y&&x<(x2-x1)*(y-y1)/(y2-y1)+x1){inside=!inside}}return inside}GeometryUtilities.pointInPolygon=pointInPolygon})(GeometryUtilities||(GeometryUtilities={}));var Geometry_GeometryUtilities=GeometryUtilities;var pointInPolygon=Geometry_GeometryUtilities.pointInPolygon;var OverlappingDataLabels_addEvent=Core_Utilities.addEvent,OverlappingDataLabels_fireEvent=Core_Utilities.fireEvent,OverlappingDataLabels_objectEach=Core_Utilities.objectEach,OverlappingDataLabels_pick=Core_Utilities.pick;function chartHideOverlappingLabels(labels){var chart=this,len=labels.length,isIntersectRect=function(box1,box2){return!(box2.x>=box1.x+box1.width||box2.x+box2.width<=box1.x||box2.y>=box1.y+box1.height||box2.y+box2.height<=box1.y)},isPolygonOverlap=function(box1Poly,box2Poly){for(var _i=0,box1Poly_1=box1Poly;_i<box1Poly_1.length;_i++){var p=box1Poly_1[_i];if(pointInPolygon({x:p[0],y:p[1]},box2Poly)){return true}}return false};function getAbsoluteBox(label){var _a,_b;if(label&&(!label.alignAttr||label.placed)){var padding=label.box?0:label.padding||0,pos=label.alignAttr||{x:label.attr("x"),y:label.attr("y")},bBox=label.getBBox();label.width=bBox.width;label.height=bBox.height;return{x:pos.x+(((_a=label.parentGroup)===null||_a===void 0?void 0:_a.translateX)||0)+padding,y:pos.y+(((_b=label.parentGroup)===null||_b===void 0?void 0:_b.translateY)||0)+padding,width:(label.width||0)-2*padding,height:(label.height||0)-2*padding,polygon:bBox===null||bBox===void 0?void 0:bBox.polygon}}}var label,label1,label2,box1,box2,isLabelAffected=false;for(var i=0;i<len;i++){label=labels[i];if(label){label.oldOpacity=label.opacity;label.newOpacity=1;label.absoluteBox=getAbsoluteBox(label)}}labels.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)});for(var i=0;i<len;++i){label1=labels[i];box1=label1&&label1.absoluteBox;var box1Poly=box1===null||box1===void 0?void 0:box1.polygon;for(var j=i+1;j<len;++j){label2=labels[j];box2=label2&&label2.absoluteBox;var toHide=false;if(box1&&box2&&label1!==label2&&label1.newOpacity!==0&&label2.newOpacity!==0&&label1.visibility!=="hidden"&&label2.visibility!=="hidden"){var box2Poly=box2.polygon;if(box1Poly&&box2Poly&&box1Poly!==box2Poly){if(isPolygonOverlap(box1Poly,box2Poly)){toHide=true}}else if(isIntersectRect(box1,box2)){toHide=true}if(toHide){var overlappingLabel=label1.labelrank<label2.labelrank?label1:label2,labelText=overlappingLabel.text;overlappingLabel.newOpacity=0;if(labelText===null||labelText===void 0?void 0:labelText.element.querySelector("textPath")){labelText.hide()}}}}}for(var _i=0,labels_1=labels;_i<labels_1.length;_i++){var label_1=labels_1[_i];if(hideOrShow(label_1,chart)){isLabelAffected=true}}if(isLabelAffected){OverlappingDataLabels_fireEvent(chart,"afterHideAllOverlappingLabels")}}function compose(ChartClass){var chartProto=ChartClass.prototype;if(!chartProto.hideOverlappingLabels){chartProto.hideOverlappingLabels=chartHideOverlappingLabels;OverlappingDataLabels_addEvent(ChartClass,"render",OverlappingDataLabels_onChartRender)}}function hideOrShow(label,chart){var complete,newOpacity,isLabelAffected=false;if(label){newOpacity=label.newOpacity;if(label.oldOpacity!==newOpacity){if(label.hasClass("highcharts-data-label")){label[newOpacity?"removeClass":"addClass"]("highcharts-data-label-hidden");complete=function(){if(!chart.styledMode){label.css({pointerEvents:newOpacity?"auto":"none"})}};isLabelAffected=true;label[label.isOld?"animate":"attr"]({opacity:newOpacity},void 0,complete);OverlappingDataLabels_fireEvent(chart,"afterHideOverlappingLabel")}else{label.attr({opacity:newOpacity})}}label.isOld=true}return isLabelAffected}function OverlappingDataLabels_onChartRender(){var _a;var chart=this;var labels=[];for(var _i=0,_b=chart.labelCollectors||[];_i<_b.length;_i++){var collector=_b[_i];labels=labels.concat(collector())}for(var _c=0,_d=chart.yAxis||[];_c<_d.length;_c++){var yAxis=_d[_c];if(yAxis.stacking&&yAxis.options.stackLabels&&!yAxis.options.stackLabels.allowOverlap){OverlappingDataLabels_objectEach(yAxis.stacking.stacks,function(stack){OverlappingDataLabels_objectEach(stack,function(stackItem){if(stackItem.label){labels.push(stackItem.label)}})})}}for(var _e=0,_f=chart.series||[];_e<_f.length;_e++){var series=_f[_e];if(series.visible&&((_a=series.hasDataLabels)===null||_a===void 0?void 0:_a.call(series))){var push=function(points){var _loop_1=function(point){if(point.visible){(point.dataLabels||[]).forEach(function(label){var _a,_b;var options=label.options||{};label.labelrank=OverlappingDataLabels_pick(options.labelrank,point.labelrank,(_a=point.shapeArgs)===null||_a===void 0?void 0:_a.height);if((_b=options.allowOverlap)!==null&&_b!==void 0?_b:Number(options.distance)>0){label.oldOpacity=label.opacity;label.newOpacity=1;hideOrShow(label,chart)}else{labels.push(label)}})}};for(var _i=0,points_1=points;_i<points_1.length;_i++){var point=points_1[_i];_loop_1(point)}};push(series.nodes||[]);push(series.points)}}this.hideOverlappingLabels(labels)}var OverlappingDataLabels={compose:compose};var Extensions_OverlappingDataLabels=OverlappingDataLabels;var BorderRadius_spreadArray=undefined&&undefined.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var BorderRadius_defaultOptions=Defaults.defaultOptions;var BorderRadius_noop=Core_Globals.noop;var BorderRadius_addEvent=Core_Utilities.addEvent,BorderRadius_extend=Core_Utilities.extend,BorderRadius_isObject=Core_Utilities.isObject,BorderRadius_merge=Core_Utilities.merge,BorderRadius_relativeLength=Core_Utilities.relativeLength;var defaultBorderRadiusOptions={radius:0,scope:"stack",where:void 0};var oldArc=BorderRadius_noop;var oldRoundedRect=BorderRadius_noop;function applyBorderRadius(path,i,r){var a=path[i];var b=path[i+1];if(b[0]==="Z"){b=path[0]}var line,arc,fromLineToArc;if((a[0]==="M"||a[0]==="L")&&b[0]==="A"){line=a;arc=b;fromLineToArc=true}else if(a[0]==="A"&&(b[0]==="M"||b[0]==="L")){line=b;arc=a}if(line&&arc&&arc.params){var bigR=arc[1],clockwise=arc[5],params=arc.params,start=params.start,end=params.end,cx=params.cx,cy=params.cy;var relativeR=clockwise?bigR-r:bigR+r,angleOfBorderRadius=relativeR?Math.asin(r/relativeR):0,angleOffset=clockwise?angleOfBorderRadius:-angleOfBorderRadius,distanceBigCenterToStartArc=Math.cos(angleOfBorderRadius)*relativeR;if(fromLineToArc){params.start=start+angleOffset;line[1]=cx+distanceBigCenterToStartArc*Math.cos(start);line[2]=cy+distanceBigCenterToStartArc*Math.sin(start);path.splice(i+1,0,["A",r,r,0,0,1,cx+bigR*Math.cos(params.start),cy+bigR*Math.sin(params.start)])}else{params.end=end-angleOffset;arc[6]=cx+bigR*Math.cos(params.end);arc[7]=cy+bigR*Math.sin(params.end);path.splice(i+1,0,["A",r,r,0,0,1,cx+distanceBigCenterToStartArc*Math.cos(end),cy+distanceBigCenterToStartArc*Math.sin(end)])}arc[4]=Math.abs(params.end-params.start)<Math.PI?0:1}}function BorderRadius_arc(x,y,w,h,options){if(options===void 0){options={}}var path=oldArc(x,y,w,h,options),_a=options.innerR,innerR=_a===void 0?0:_a,_b=options.r,r=_b===void 0?w:_b,_c=options.start,start=_c===void 0?0:_c,_d=options.end,end=_d===void 0?0:_d;if(options.open||!options.borderRadius){return path}var alpha=end-start,sinHalfAlpha=Math.sin(alpha/2),borderRadius=Math.max(Math.min(BorderRadius_relativeLength(options.borderRadius||0,r-innerR),(r-innerR)/2,r*sinHalfAlpha/(1+sinHalfAlpha)),0),innerBorderRadius=Math.min(borderRadius,2*(alpha/Math.PI)*innerR);var i=path.length-1;while(i--){applyBorderRadius(path,i,i>1?innerBorderRadius:borderRadius)}return path}function seriesOnAfterColumnTranslate(){var _a,_b;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){var _c=this,options=_c.options,yAxis=_c.yAxis,percent=options.stacking==="percent",seriesDefault=(_b=(_a=BorderRadius_defaultOptions.plotOptions)===null||_a===void 0?void 0:_a[this.type])===null||_b===void 0?void 0:_b.borderRadius,borderRadius=optionsToObject(options.borderRadius,BorderRadius_isObject(seriesDefault)?seriesDefault:{}),reversed=yAxis.options.reversed;for(var _i=0,_d=this.points;_i<_d.length;_i++){var point=_d[_i];var shapeArgs=point.shapeArgs;if(point.shapeType==="roundedRect"&&shapeArgs){var _e=shapeArgs.width,width=_e===void 0?0:_e,_f=shapeArgs.height,height=_f===void 0?0:_f,_g=shapeArgs.y,y=_g===void 0?0:_g;var brBoxY=y,brBoxHeight=height;if(borderRadius.scope==="stack"&&point.stackTotal){var stackEnd=yAxis.translate(percent?100:point.stackTotal,false,true,false,true),stackThreshold=yAxis.translate(options.threshold||0,false,true,false,true),box=this.crispCol(0,Math.min(stackEnd,stackThreshold),0,Math.abs(stackEnd-stackThreshold));brBoxY=box.y;brBoxHeight=box.height}var flip=(point.negative?-1:1)*(reversed?-1:1)===-1;var where=borderRadius.where;if(!where&&this.is("waterfall")&&Math.abs((point.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth){where="all"}if(!where){where="end"}var r=Math.min(BorderRadius_relativeLength(borderRadius.radius,width),width/2,where==="all"?height/2:Infinity)||0;if(where==="end"){if(flip){brBoxY-=r;brBoxHeight+=r}else{brBoxHeight+=r}}BorderRadius_extend(shapeArgs,{brBoxHeight:brBoxHeight,brBoxY:brBoxY,r:r})}}}}function BorderRadius_compose(SeriesClass,SVGElementClass,SVGRendererClass){var PieSeriesClass=SeriesClass.types.pie;if(!SVGElementClass.symbolCustomAttribs.includes("borderRadius")){var symbols=SVGRendererClass.prototype.symbols;BorderRadius_addEvent(SeriesClass,"afterColumnTranslate",seriesOnAfterColumnTranslate,{order:9});BorderRadius_addEvent(PieSeriesClass,"afterTranslate",pieSeriesOnAfterTranslate);SVGElementClass.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");oldArc=symbols.arc;oldRoundedRect=symbols.roundedRect;symbols.arc=BorderRadius_arc;symbols.roundedRect=BorderRadius_roundedRect}}function optionsToObject(options,seriesBROptions){if(!BorderRadius_isObject(options)){options={radius:options||0}}return BorderRadius_merge(defaultBorderRadiusOptions,seriesBROptions,options)}function pieSeriesOnAfterTranslate(){var borderRadius=optionsToObject(this.options.borderRadius);for(var _i=0,_a=this.points;_i<_a.length;_i++){var point=_a[_i];var shapeArgs=point.shapeArgs;if(shapeArgs){shapeArgs.borderRadius=BorderRadius_relativeLength(borderRadius.radius,(shapeArgs.r||0)-(shapeArgs.innerR||0))}}}function BorderRadius_roundedRect(x,y,width,height,options){if(options===void 0){options={}}var path=oldRoundedRect(x,y,width,height,options),_a=options.r,r=_a===void 0?0:_a,_b=options.brBoxHeight,brBoxHeight=_b===void 0?height:_b,_c=options.brBoxY,brBoxY=_c===void 0?y:_c,brOffsetTop=y-brBoxY,brOffsetBtm=brBoxY+brBoxHeight-(y+height),rTop=brOffsetTop-r>-.1?0:r,rBtm=brOffsetBtm-r>-.1?0:r,cutTop=Math.max(rTop&&brOffsetTop,0),cutBtm=Math.max(rBtm&&brOffsetBtm,0);var a=[x+rTop,y],b=[x+width-rTop,y],c=[x+width,y+rTop],d=[x+width,y+height-rBtm],e=[x+width-rBtm,y+height],f=[x+rBtm,y+height],g=[x,y+height-rBtm],h=[x,y+rTop];var applyPythagoras=function(r,altitude){return Math.sqrt(Math.pow(r,2)-Math.pow(altitude,2))};if(cutTop){var base=applyPythagoras(rTop,rTop-cutTop);a[0]-=base;b[0]+=base;c[1]=h[1]=y+rTop-cutTop}if(height<rTop-cutTop){var base=applyPythagoras(rTop,rTop-cutTop-height);c[0]=d[0]=x+width-rTop+base;e[0]=Math.min(c[0],e[0]);f[0]=Math.max(d[0],f[0]);g[0]=h[0]=x+rTop-base;c[1]=h[1]=y+height}if(cutBtm){var base=applyPythagoras(rBtm,rBtm-cutBtm);e[0]+=base;f[0]-=base;d[1]=g[1]=y+height-rBtm+cutBtm}if(height<rBtm-cutBtm){var base=applyPythagoras(rBtm,rBtm-cutBtm-height);c[0]=d[0]=x+width-rBtm+base;b[0]=Math.min(c[0],b[0]);a[0]=Math.max(d[0],a[0]);g[0]=h[0]=x+rBtm-base;d[1]=g[1]=y}path.length=0;path.push(BorderRadius_spreadArray(["M"],a,true),BorderRadius_spreadArray(["L"],b,true),BorderRadius_spreadArray(["A",rTop,rTop,0,0,1],c,true),BorderRadius_spreadArray(["L"],d,true),BorderRadius_spreadArray(["A",rBtm,rBtm,0,0,1],e,true),BorderRadius_spreadArray(["L"],f,true),BorderRadius_spreadArray(["A",rBtm,rBtm,0,0,1],g,true),BorderRadius_spreadArray(["L"],h,true),BorderRadius_spreadArray(["A",rTop,rTop,0,0,1],a,true),["Z"]);return path}var BorderRadius={compose:BorderRadius_compose,optionsToObject:optionsToObject};var Extensions_BorderRadius=BorderRadius;"";var Responsive_diffObjects=Core_Utilities.diffObjects,Responsive_extend=Core_Utilities.extend,Responsive_find=Core_Utilities.find,Responsive_merge=Core_Utilities.merge,Responsive_pick=Core_Utilities.pick,Responsive_uniqueKey=Core_Utilities.uniqueKey;var Responsive;(function(Responsive){function compose(ChartClass){var chartProto=ChartClass.prototype;if(!chartProto.matchResponsiveRule){Responsive_extend(chartProto,{matchResponsiveRule:matchResponsiveRule,setResponsive:setResponsive})}return ChartClass}Responsive.compose=compose;function matchResponsiveRule(rule,matches){var condition=rule.condition,fn=condition.callback||function(){return this.chartWidth<=Responsive_pick(condition.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Responsive_pick(condition.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Responsive_pick(condition.minWidth,0)&&this.chartHeight>=Responsive_pick(condition.minHeight,0)};if(fn.call(this)){matches.push(rule._id)}}function setResponsive(redraw,reset){var _this=this;var options=this.options.responsive,currentResponsive=this.currentResponsive;var ruleIds=[],undoOptions;if(!reset&&options&&options.rules){options.rules.forEach(function(rule){if(typeof rule._id==="undefined"){rule._id=Responsive_uniqueKey()}_this.matchResponsiveRule(rule,ruleIds)},this)}var mergedOptions=Responsive_merge.apply(void 0,ruleIds.map(function(ruleId){return Responsive_find((options||{}).rules||[],function(rule){return rule._id===ruleId})}).map(function(rule){return rule&&rule.chartOptions}));mergedOptions.isResponsiveOptions=true;ruleIds=ruleIds.toString()||void 0;var currentRuleIds=currentResponsive&&currentResponsive.ruleIds;if(ruleIds!==currentRuleIds){if(currentResponsive){this.currentResponsive=void 0;this.updatingResponsive=true;this.update(currentResponsive.undoOptions,redraw,true);this.updatingResponsive=false}if(ruleIds){undoOptions=Responsive_diffObjects(mergedOptions,this.options,true,this.collectionsWithUpdate);undoOptions.isResponsiveOptions=true;this.currentResponsive={ruleIds:ruleIds,mergedOptions:mergedOptions,undoOptions:undoOptions};if(!this.updatingResponsive){this.update(mergedOptions,redraw,true)}}else{this.currentResponsive=void 0}}}})(Responsive||(Responsive={}));var Core_Responsive=Responsive;"";"";var G=Core_Globals;G.AST=HTML_AST;G.Axis=Axis_Axis;G.Chart=Chart_Chart;G.Color=Color_Color;G.DataLabel=Series_DataLabel;G.DataTableCore=Data_DataTableCore;G.Fx=Animation_Fx;G.HTMLElement=HTML_HTMLElement;G.Legend=Legend_Legend;G.LegendSymbol=Legend_LegendSymbol;G.OverlappingDataLabels=G.OverlappingDataLabels||Extensions_OverlappingDataLabels;G.PlotLineOrBand=PlotLineOrBand_PlotLineOrBand;G.Point=Series_Point;G.Pointer=Core_Pointer;G.RendererRegistry=Renderer_RendererRegistry;G.Series=Series_Series;G.SeriesRegistry=Series_SeriesRegistry;G.StackItem=Stacking_StackItem;G.SVGElement=SVG_SVGElement;G.SVGRenderer=SVG_SVGRenderer;G.Templating=Core_Templating;G.Tick=Axis_Tick;G.Time=Core_Time;G.Tooltip=Core_Tooltip;G.animate=AnimationUtilities.animate;G.animObject=AnimationUtilities.animObject;G.chart=Chart_Chart.chart;G.color=Color_Color.parse;G.dateFormat=Core_Templating.dateFormat;G.defaultOptions=Defaults.defaultOptions;G.distribute=Renderer_RendererUtilities.distribute;G.format=Core_Templating.format;G.getDeferredAnimation=AnimationUtilities.getDeferredAnimation;G.getOptions=Defaults.getOptions;G.numberFormat=Core_Templating.numberFormat;G.seriesType=Series_SeriesRegistry.seriesType;G.setAnimation=AnimationUtilities.setAnimation;G.setOptions=Defaults.setOptions;G.stop=AnimationUtilities.stop;G.time=Defaults.defaultTime;G.timers=Animation_Fx.timers;Extensions_BorderRadius.compose(G.Series,G.SVGElement,G.SVGRenderer);Column_ColumnDataLabel.compose(G.Series.types.column);Series_DataLabel.compose(G.Series);Axis_DateTimeAxis.compose(G.Axis);HTML_HTMLElement.compose(G.SVGRenderer);Legend_Legend.compose(G.Chart);Axis_LogarithmicAxis.compose(G.Axis);Extensions_OverlappingDataLabels.compose(G.Chart);PieDataLabel.compose(G.Series.types.pie);PlotLineOrBand_PlotLineOrBand.compose(G.Chart,G.Axis);Core_Pointer.compose(G.Chart);Core_Responsive.compose(G.Chart);Extensions_ScrollablePlotArea.compose(G.Axis,G.Chart,G.Series);Stacking_StackingAxis.compose(G.Axis,G.Chart,G.Series);Core_Tooltip.compose(G.Pointer);Core_Utilities.extend(G,Core_Utilities);var highcharts_src=G;var MSPointer_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var MSPointer_charts=Core_Globals.charts,MSPointer_composed=Core_Globals.composed,MSPointer_doc=Core_Globals.doc,MSPointer_noop=Core_Globals.noop,MSPointer_win=Core_Globals.win;var MSPointer_addEvent=Core_Utilities.addEvent,MSPointer_attr=Core_Utilities.attr,MSPointer_css=Core_Utilities.css,MSPointer_defined=Core_Utilities.defined,MSPointer_objectEach=Core_Utilities.objectEach,MSPointer_pick=Core_Utilities.pick,MSPointer_pushUnique=Core_Utilities.pushUnique,MSPointer_removeEvent=Core_Utilities.removeEvent;var touches={};var hasPointerEvent=!!MSPointer_win.PointerEvent;function getWebkitTouches(){var fake=[];fake.item=function(i){return this[i]};MSPointer_objectEach(touches,function(touch){fake.push({pageX:touch.pageX,pageY:touch.pageY,target:touch.target})});return fake}function translateMSPointer(e,method,wktype,func){var _a,_b;var pointer=(_b=MSPointer_charts[(_a=Core_Pointer.hoverChartIndex)!==null&&_a!==void 0?_a:-1])===null||_b===void 0?void 0:_b.pointer;if(pointer&&(e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)){func(e);pointer[method]({type:wktype,target:e.currentTarget,preventDefault:MSPointer_noop,touches:getWebkitTouches()})}}var MSPointer=function(_super){MSPointer_extends(MSPointer,_super);function MSPointer(chart,options){var _this=_super.call(this,chart,options)||this;if(_this.hasZoom){MSPointer_css(chart.container,{"-ms-touch-action":"none","touch-action":"none"})}return _this}MSPointer.isRequired=function(){return!!(!MSPointer_win.TouchEvent&&(MSPointer_win.PointerEvent||MSPointer_win.MSPointerEvent))};MSPointer.prototype.batchMSEvents=function(fn){fn(this.chart.container,hasPointerEvent?"pointerdown":"MSPointerDown",this.onContainerPointerDown);fn(this.chart.container,hasPointerEvent?"pointermove":"MSPointerMove",this.onContainerPointerMove);fn(MSPointer_doc,hasPointerEvent?"pointerup":"MSPointerUp",this.onDocumentPointerUp)};MSPointer.prototype.destroy=function(){this.batchMSEvents(MSPointer_removeEvent);_super.prototype.destroy.call(this)};MSPointer.prototype.inClass=function(element,className){var elem=element,elemClassName;while(elem){elemClassName=MSPointer_attr(elem,"class");if(elemClassName){if(elemClassName.indexOf(className)!==-1){return true}if(elemClassName.indexOf("highcharts-container")!==-1){return false}}elem=elem.parentNode;if(elem&&(elem===document.documentElement||MSPointer_defined(elem.nodeType)&&elem.nodeType===document.nodeType)){elem=null}}};MSPointer.prototype.onContainerPointerDown=function(e){translateMSPointer(e,"onContainerTouchStart","touchstart",function(e){touches[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})};MSPointer.prototype.onContainerPointerMove=function(e){translateMSPointer(e,"onContainerTouchMove","touchmove",function(e){touches[e.pointerId]={pageX:e.pageX,pageY:e.pageY};if(!touches[e.pointerId].target){touches[e.pointerId].target=e.currentTarget}})};MSPointer.prototype.onDocumentPointerUp=function(e){translateMSPointer(e,"onDocumentTouchEnd","touchend",function(e){delete touches[e.pointerId]})};MSPointer.prototype.setDOMEvents=function(){var tooltip=this.chart.tooltip;_super.prototype.setDOMEvents.call(this);if(this.hasZoom||MSPointer_pick(tooltip&&tooltip.options.followTouchMove,true)){this.batchMSEvents(MSPointer_addEvent)}};return MSPointer}(Core_Pointer);(function(MSPointer){function compose(ChartClass){if(MSPointer_pushUnique(MSPointer_composed,"Core.MSPointer")){MSPointer_addEvent(ChartClass,"beforeRender",function(){this.pointer=new MSPointer(this,this.options)})}}MSPointer.compose=compose})(MSPointer||(MSPointer={}));var Core_MSPointer=MSPointer;var highcharts_src_G=highcharts_src;if(Core_MSPointer.isRequired()){highcharts_src_G.Pointer=Core_MSPointer;Core_MSPointer.compose(highcharts_src_G.Chart)}highcharts_src_G.SVGRenderer.prototype.getShadowFilterContent=function(options){return[{tagName:"feFlood",attributes:{"flood-color":options.color,"flood-opacity":options.opacity,result:"flood"}},{tagName:"feComposite",attributes:{in:"flood",in2:"SourceAlpha",operator:"in",result:"shadowColor"}},{tagName:"feOffset",attributes:{dx:options.offsetX,dy:options.offsetY,result:"offsetShadow"}},{tagName:"feGaussianBlur",attributes:{in:"offsetShadow",stdDeviation:options.width/2,result:"blurredShadow"}},{tagName:"feMerge",children:[{tagName:"feMergeNode",attributes:{in:"blurredShadow"}},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]};var masters_es5_highcharts_src=highcharts_src_G;__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__}()});