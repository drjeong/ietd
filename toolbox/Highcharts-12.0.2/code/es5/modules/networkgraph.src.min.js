(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("highcharts"),require("highcharts")["SVGElement"],require("highcharts")["SeriesRegistry"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/networkgraph",[["highcharts/highcharts"],["highcharts/highcharts","SVGElement"],["highcharts/highcharts","SeriesRegistry"]],factory);else if(typeof exports==="object")exports["highcharts/modules/networkgraph"]=factory(require("highcharts"),require("highcharts")["SVGElement"],require("highcharts")["SeriesRegistry"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["SVGElement"],root["Highcharts"]["SeriesRegistry"])})(this,function(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__28__,__WEBPACK_EXTERNAL_MODULE__512__){return function(){"use strict";var __webpack_modules__={28:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__28__},512:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,{a:getter});return getter}}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return networkgraph_src}});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_=__webpack_require__(28);var highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_default=__webpack_require__.n(highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_);var composed=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().composed;var addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,pushUnique=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pushUnique;function compose(ChartClass){if(pushUnique(composed,"DragNodes")){addEvent(ChartClass,"load",onChartLoad)}}function onChartLoad(){var chart=this;var mousedownUnbinder,mousemoveUnbinder,mouseupUnbinder;if(chart.container){mousedownUnbinder=addEvent(chart.container,"mousedown",function(event){var point=chart.hoverPoint;if(point&&point.series&&point.series.hasDraggableNodes&&point.series.options.draggable){point.series.onMouseDown(point,event);mousemoveUnbinder=addEvent(chart.container,"mousemove",function(e){return point&&point.series&&point.series.onMouseMove(point,e)});mouseupUnbinder=addEvent(chart.container.ownerDocument,"mouseup",function(e){mousemoveUnbinder();mouseupUnbinder();return point&&point.series&&point.series.onMouseUp(point,e)})}})}addEvent(chart,"destroy",function(){mousedownUnbinder()})}function onMouseDown(point,event){var _a;var normalizedEvent=((_a=this.chart.pointer)===null||_a===void 0?void 0:_a.normalize(event))||event;point.fixedPosition={chartX:normalizedEvent.chartX,chartY:normalizedEvent.chartY,plotX:point.plotX,plotY:point.plotY};point.inDragMode=true}function onMouseMove(point,event){var _a;if(point.fixedPosition&&point.inDragMode){var series=this,chart=series.chart,normalizedEvent=((_a=chart.pointer)===null||_a===void 0?void 0:_a.normalize(event))||event,diffX=point.fixedPosition.chartX-normalizedEvent.chartX,diffY=point.fixedPosition.chartY-normalizedEvent.chartY,graphLayoutsLookup=chart.graphLayoutsLookup;var newPlotX=void 0,newPlotY=void 0;if(Math.abs(diffX)>5||Math.abs(diffY)>5){newPlotX=point.fixedPosition.plotX-diffX;newPlotY=point.fixedPosition.plotY-diffY;if(chart.isInsidePlot(newPlotX,newPlotY)){point.plotX=newPlotX;point.plotY=newPlotY;point.hasDragged=true;this.redrawHalo(point);graphLayoutsLookup.forEach(function(layout){layout.restartSimulation()})}}}}function onMouseUp(point){if(point.fixedPosition){if(point.hasDragged){if(this.layout.enableSimulation){this.layout.start()}else{this.chart.redraw()}}point.inDragMode=point.hasDragged=false;if(!this.options.fixedDraggable){delete point.fixedPosition}}}function redrawHalo(point){if(point&&this.halo){this.halo.attr({d:point.haloPath(this.options.states.hover.halo.size)})}}var DragNodesComposition={compose:compose,onMouseDown:onMouseDown,onMouseMove:onMouseMove,onMouseUp:onMouseUp,redrawHalo:redrawHalo};var Series_DragNodesComposition=DragNodesComposition;var setAnimation=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().setAnimation;var GraphLayoutComposition_composed=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().composed;var GraphLayoutComposition_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,GraphLayoutComposition_pushUnique=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pushUnique;var integrations={};var layouts={};function GraphLayoutComposition_compose(ChartClass){if(GraphLayoutComposition_pushUnique(GraphLayoutComposition_composed,"GraphLayout")){GraphLayoutComposition_addEvent(ChartClass,"afterPrint",onChartAfterPrint);GraphLayoutComposition_addEvent(ChartClass,"beforePrint",onChartBeforePrint);GraphLayoutComposition_addEvent(ChartClass,"predraw",onChartPredraw);GraphLayoutComposition_addEvent(ChartClass,"render",onChartRender)}}function onChartAfterPrint(){if(this.graphLayoutsLookup){this.graphLayoutsLookup.forEach(function(layout){layout.updateSimulation()});this.redraw()}}function onChartBeforePrint(){if(this.graphLayoutsLookup){this.graphLayoutsLookup.forEach(function(layout){layout.updateSimulation(false)});this.redraw()}}function onChartPredraw(){if(this.graphLayoutsLookup){this.graphLayoutsLookup.forEach(function(layout){layout.stop()})}}function onChartRender(){var systemsStable,afterRender=false;var layoutStep=function(layout){if(layout.maxIterations--&&isFinite(layout.temperature)&&!layout.isStable()&&!layout.enableSimulation){if(layout.beforeStep){layout.beforeStep()}layout.step();systemsStable=false;afterRender=true}};if(this.graphLayoutsLookup){setAnimation(false,this);this.graphLayoutsLookup.forEach(function(layout){return layout.start()});while(!systemsStable){systemsStable=true;this.graphLayoutsLookup.forEach(layoutStep)}if(afterRender){this.series.forEach(function(series){if(series&&series.layout){series.render()}})}}}var GraphLayoutComposition={compose:GraphLayoutComposition_compose,integrations:integrations,layouts:layouts};var Series_GraphLayoutComposition=GraphLayoutComposition;var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);var _a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().series,seriesProto=_a.prototype,pointProto=_a.prototype.pointClass.prototype;var defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,find=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().find,merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;var NodesComposition;(function(NodesComposition){function compose(PointClass,SeriesClass){var pointProto=PointClass.prototype,seriesProto=SeriesClass.prototype;pointProto.setNodeState=setNodeState;pointProto.setState=setNodeState;pointProto.update=updateNode;seriesProto.destroy=destroy;seriesProto.setData=setData;return SeriesClass}NodesComposition.compose=compose;function createNode(id){var PointClass=this.pointClass,findById=function(nodes,id){return find(nodes,function(node){return node.id===id})};var node=findById(this.nodes,id),options;if(!node){options=this.options.nodes&&findById(this.options.nodes,id);var newNode_1=new PointClass(this,extend({className:"highcharts-node",isNode:true,id:id,y:1},options));newNode_1.linksTo=[];newNode_1.linksFrom=[];newNode_1.getSum=function(){var sumTo=0,sumFrom=0;newNode_1.linksTo.forEach(function(link){sumTo+=link.weight||0});newNode_1.linksFrom.forEach(function(link){sumFrom+=link.weight||0});return Math.max(sumTo,sumFrom)};newNode_1.offset=function(point,coll){var offset=0;for(var i=0;i<newNode_1[coll].length;i++){if(newNode_1[coll][i]===point){return offset}offset+=newNode_1[coll][i].weight}};newNode_1.hasShape=function(){var outgoing=0;newNode_1.linksTo.forEach(function(link){if(link.outgoing){outgoing++}});return!newNode_1.linksTo.length||outgoing!==newNode_1.linksTo.length};newNode_1.index=this.nodes.push(newNode_1)-1;node=newNode_1}node.formatPrefix="node";node.name=node.name||node.options.id||"";node.mass=pick(node.options.mass,node.options.marker&&node.options.marker.radius,this.options.marker&&this.options.marker.radius,4);return node}NodesComposition.createNode=createNode;function destroy(){this.data=[].concat(this.points||[],this.nodes);return seriesProto.destroy.apply(this,arguments)}NodesComposition.destroy=destroy;function generatePoints(){var _this=this;var chart=this.chart,nodeLookup={};seriesProto.generatePoints.call(this);if(!this.nodes){this.nodes=[]}this.colorCounter=0;this.nodes.forEach(function(node){node.linksFrom.length=0;node.linksTo.length=0;node.level=node.options.level});this.points.forEach(function(point){if(defined(point.from)){if(!nodeLookup[point.from]){nodeLookup[point.from]=_this.createNode(point.from)}nodeLookup[point.from].linksFrom.push(point);point.fromNode=nodeLookup[point.from];if(chart.styledMode){point.colorIndex=pick(point.options.colorIndex,nodeLookup[point.from].colorIndex)}else{point.color=point.options.color||nodeLookup[point.from].color}}if(defined(point.to)){if(!nodeLookup[point.to]){nodeLookup[point.to]=_this.createNode(point.to)}nodeLookup[point.to].linksTo.push(point);point.toNode=nodeLookup[point.to]}point.name=point.name||point.id},this);this.nodeLookup=nodeLookup}NodesComposition.generatePoints=generatePoints;function setData(){if(this.nodes){this.nodes.forEach(function(node){node.destroy()});this.nodes.length=0}seriesProto.setData.apply(this,arguments)}function setNodeState(state){var args=arguments,others=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];if(state!=="select"){others.forEach(function(linkOrNode){if(linkOrNode&&linkOrNode.series){pointProto.setState.apply(linkOrNode,args);if(!linkOrNode.isNode){if(linkOrNode.fromNode.graphic){pointProto.setState.apply(linkOrNode.fromNode,args)}if(linkOrNode.toNode&&linkOrNode.toNode.graphic){pointProto.setState.apply(linkOrNode.toNode,args)}}}})}pointProto.setState.apply(this,args)}NodesComposition.setNodeState=setNodeState;function updateNode(options,redraw,animation,runEvent){var _this=this;var nodes=this.series.options.nodes,data=this.series.options.data,dataLength=(data===null||data===void 0?void 0:data.length)||0,linkConfig=data===null||data===void 0?void 0:data[this.index];pointProto.update.call(this,options,this.isNode?false:redraw,animation,runEvent);if(this.isNode){var nodeIndex=(nodes||[]).reduce(function(prevIndex,n,index){return _this.id===n.id?index:prevIndex},-1),nodeConfig=merge(nodes&&nodes[nodeIndex]||{},(data===null||data===void 0?void 0:data[this.index])||{});if(data){if(linkConfig){data[this.index]=linkConfig}else{data.length=dataLength}}if(nodes){if(nodeIndex>=0){nodes[nodeIndex]=nodeConfig}else{nodes.push(nodeConfig)}}else{this.series.options.nodes=[nodeConfig]}if(pick(redraw,true)){this.series.chart.redraw(animation)}}}NodesComposition.updateNode=updateNode})(NodesComposition||(NodesComposition={}));var Series_NodesComposition=NodesComposition;var __extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var NetworkgraphPoint_a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().series,NetworkgraphPoint_seriesProto=NetworkgraphPoint_a.prototype,Point=NetworkgraphPoint_a.prototype.pointClass;var NetworkgraphPoint_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,css=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().css,NetworkgraphPoint_defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,NetworkgraphPoint_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,NetworkgraphPoint_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;var NetworkgraphPoint=function(_super){__extends(NetworkgraphPoint,_super);function NetworkgraphPoint(series,options,x){var _this=_super.call(this,series,options,x)||this;if(_this.series.options.draggable&&!_this.series.chart.styledMode){NetworkgraphPoint_addEvent(_this,"mouseOver",function(){css(this.series.chart.container,{cursor:"move"})});NetworkgraphPoint_addEvent(_this,"mouseOut",function(){css(this.series.chart.container,{cursor:"default"})})}return _this}NetworkgraphPoint.prototype.destroy=function(){if(this.isNode){this.linksFrom.concat(this.linksTo).forEach(function(link){if(link.destroyElements){link.destroyElements()}})}this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]);return Point.prototype.destroy.apply(this,arguments)};NetworkgraphPoint.prototype.getDegree=function(){var deg=this.isNode?this.linksFrom.length+this.linksTo.length:0;return deg===0?1:deg};NetworkgraphPoint.prototype.getLinkAttributes=function(){var linkOptions=this.series.options.link,pointOptions=this.options;return{"stroke-width":NetworkgraphPoint_pick(pointOptions.width,linkOptions.width),stroke:pointOptions.color||linkOptions.color,dashstyle:pointOptions.dashStyle||linkOptions.dashStyle,opacity:NetworkgraphPoint_pick(pointOptions.opacity,linkOptions.opacity,1)}};NetworkgraphPoint.prototype.getLinkPath=function(){var left=this.fromNode,right=this.toNode;if(left.plotX>right.plotX){left=this.toNode;right=this.fromNode}return[["M",left.plotX||0,left.plotY||0],["L",right.plotX||0,right.plotY||0]]};NetworkgraphPoint.prototype.getMass=function(){var m1=this.fromNode.mass,m2=this.toNode.mass,sum=m1+m2;return{fromNode:1-m1/sum,toNode:1-m2/sum}};NetworkgraphPoint.prototype.isValid=function(){return!this.isNode||NetworkgraphPoint_defined(this.id)};NetworkgraphPoint.prototype.redrawLink=function(){var path=this.getLinkPath();var attribs;if(this.graphic){this.shapeArgs={d:path};if(!this.series.chart.styledMode){attribs=this.series.pointAttribs(this);this.graphic.attr(attribs);(this.dataLabels||[]).forEach(function(label){if(label){label.attr({opacity:attribs.opacity})}})}this.graphic.animate(this.shapeArgs);var start=path[0];var end=path[1];if(start[0]==="M"&&end[0]==="L"){this.plotX=(start[1]+end[1])/2;this.plotY=(start[2]+end[2])/2}}};NetworkgraphPoint.prototype.remove=function(redraw,animation){var point=this,series=point.series,nodesOptions=series.options.nodes||[];var index,i=nodesOptions.length;if(point.isNode){series.points=[];[].concat(point.linksFrom).concat(point.linksTo).forEach(function(linkFromTo){index=linkFromTo.fromNode.linksFrom.indexOf(linkFromTo);if(index>-1){linkFromTo.fromNode.linksFrom.splice(index,1)}index=linkFromTo.toNode.linksTo.indexOf(linkFromTo);if(index>-1){linkFromTo.toNode.linksTo.splice(index,1)}NetworkgraphPoint_seriesProto.removePoint.call(series,series.data.indexOf(linkFromTo),false,false)});series.points=series.data.slice();series.nodes.splice(series.nodes.indexOf(point),1);while(i--){if(nodesOptions[i].id===point.options.id){series.options.nodes.splice(i,1);break}}if(point){point.destroy()}series.isDirty=true;series.isDirtyData=true;if(redraw){series.chart.redraw(redraw)}}else{series.removePoint(series.data.indexOf(point),redraw,animation)}};NetworkgraphPoint.prototype.renderLink=function(){var attribs;if(!this.graphic){this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),true).add(this.series.group);if(!this.series.chart.styledMode){attribs=this.series.pointAttribs(this);this.graphic.attr(attribs);(this.dataLabels||[]).forEach(function(label){if(label){label.attr({opacity:attribs.opacity})}})}}};return NetworkgraphPoint}(Point);NetworkgraphPoint_extend(NetworkgraphPoint.prototype,{setState:Series_NodesComposition.setNodeState});var Networkgraph_NetworkgraphPoint=NetworkgraphPoint;var NetworkgraphSeriesDefaults={stickyTracking:false,inactiveOtherPoints:true,marker:{enabled:true,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){var _a;return String((_a=this.key)!==null&&_a!==void 0?_a:"")},linkFormatter:function(){return this.fromNode.name+"<br>"+this.toNode.name},linkTextPath:{enabled:true},textPath:{enabled:false},style:{transition:"opacity 2000ms"},defer:true,animation:{defer:1e3}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:true,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:false,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:false};var Networkgraph_NetworkgraphSeriesDefaults=NetworkgraphSeriesDefaults;"";function attractive(link,force,distanceXY,distanceR){var massFactor=link.getMass(),translatedX=distanceXY.x/distanceR*force,translatedY=distanceXY.y/distanceR*force;if(!link.fromNode.fixedPosition){link.fromNode.dispX-=translatedX*massFactor.fromNode/link.fromNode.degree;link.fromNode.dispY-=translatedY*massFactor.fromNode/link.fromNode.degree}if(!link.toNode.fixedPosition){link.toNode.dispX+=translatedX*massFactor.toNode/link.toNode.degree;link.toNode.dispY+=translatedY*massFactor.toNode/link.toNode.degree}}function attractiveForceFunction(d,k){return d*d/k}function barycenter(){var gravitationalConstant=this.options.gravitationalConstant,xFactor=this.barycenter.xFactor,yFactor=this.barycenter.yFactor;this.nodes.forEach(function(node){if(!node.fixedPosition){var degree=node.getDegree(),phi=degree*(1+degree/2);node.dispX+=(xFactor-node.plotX)*gravitationalConstant*phi/node.degree;node.dispY+=(yFactor-node.plotY)*gravitationalConstant*phi/node.degree}})}function getK(layout){return Math.pow(layout.box.width*layout.box.height/layout.nodes.length,.3)}function integrate(layout,node){node.dispX+=node.dispX*layout.options.friction;node.dispY+=node.dispY*layout.options.friction;var distanceR=node.temperature=layout.vectorLength({x:node.dispX,y:node.dispY});if(distanceR!==0){node.plotX+=node.dispX/distanceR*Math.min(Math.abs(node.dispX),layout.temperature);node.plotY+=node.dispY/distanceR*Math.min(Math.abs(node.dispY),layout.temperature)}}function repulsive(node,force,distanceXY,distanceR){node.dispX+=distanceXY.x/distanceR*force/node.degree;node.dispY+=distanceXY.y/distanceR*force/node.degree}function repulsiveForceFunction(d,k){return k*k/d}var EulerIntegration={attractive:attractive,attractiveForceFunction:attractiveForceFunction,barycenter:barycenter,getK:getK,integrate:integrate,repulsive:repulsive,repulsiveForceFunction:repulsiveForceFunction};var Networkgraph_EulerIntegration=EulerIntegration;var QuadTreeNode=function(){function QuadTreeNode(box){this.body=false;this.isEmpty=false;this.isInternal=false;this.nodes=[];this.box=box;this.boxSize=Math.min(box.width,box.height)}QuadTreeNode.prototype.divideBox=function(){var halfWidth=this.box.width/2,halfHeight=this.box.height/2;this.nodes[0]=new QuadTreeNode({left:this.box.left,top:this.box.top,width:halfWidth,height:halfHeight});this.nodes[1]=new QuadTreeNode({left:this.box.left+halfWidth,top:this.box.top,width:halfWidth,height:halfHeight});this.nodes[2]=new QuadTreeNode({left:this.box.left+halfWidth,top:this.box.top+halfHeight,width:halfWidth,height:halfHeight});this.nodes[3]=new QuadTreeNode({left:this.box.left,top:this.box.top+halfHeight,width:halfWidth,height:halfHeight})};QuadTreeNode.prototype.getBoxPosition=function(point){var left=point.plotX<this.box.left+this.box.width/2,top=point.plotY<this.box.top+this.box.height/2;var index;if(left){if(top){index=0}else{index=3}}else{if(top){index=1}else{index=2}}return index};QuadTreeNode.prototype.insert=function(point,depth){var newQuadTreeNode;if(this.isInternal){this.nodes[this.getBoxPosition(point)].insert(point,depth-1)}else{this.isEmpty=false;if(!this.body){this.isInternal=false;this.body=point}else{if(depth){this.isInternal=true;this.divideBox();if(this.body!==true){this.nodes[this.getBoxPosition(this.body)].insert(this.body,depth-1);this.body=true}this.nodes[this.getBoxPosition(point)].insert(point,depth-1)}else{newQuadTreeNode=new QuadTreeNode({top:point.plotX||NaN,left:point.plotY||NaN,width:.1,height:.1});newQuadTreeNode.body=point;newQuadTreeNode.isInternal=false;this.nodes.push(newQuadTreeNode)}}}};QuadTreeNode.prototype.updateMassAndCenter=function(){var mass=0,plotX=0,plotY=0;if(this.isInternal){for(var _i=0,_a=this.nodes;_i<_a.length;_i++){var pointMass=_a[_i];if(!pointMass.isEmpty){mass+=pointMass.mass;plotX+=pointMass.plotX*pointMass.mass;plotY+=pointMass.plotY*pointMass.mass}}plotX/=mass;plotY/=mass}else if(this.body){mass=this.body.mass;plotX=this.body.plotX;plotY=this.body.plotY}this.mass=mass;this.plotX=plotX;this.plotY=plotY};return QuadTreeNode}();var Networkgraph_QuadTreeNode=QuadTreeNode;var QuadTree=function(){function QuadTree(x,y,width,height){this.box={left:x,top:y,width:width,height:height};this.maxDepth=25;this.root=new Networkgraph_QuadTreeNode(this.box);this.root.isInternal=true;this.root.isRoot=true;this.root.divideBox()}QuadTree.prototype.calculateMassAndCenter=function(){this.visitNodeRecursive(null,null,function(node){node.updateMassAndCenter()})};QuadTree.prototype.insertNodes=function(points){for(var _i=0,points_1=points;_i<points_1.length;_i++){var point=points_1[_i];this.root.insert(point,this.maxDepth)}};QuadTree.prototype.visitNodeRecursive=function(node,beforeCallback,afterCallback){var goFurther;if(!node){node=this.root}if(node===this.root&&beforeCallback){goFurther=beforeCallback(node)}if(goFurther===false){return}for(var _i=0,_a=node.nodes;_i<_a.length;_i++){var qtNode=_a[_i];if(qtNode.isInternal){if(beforeCallback){goFurther=beforeCallback(qtNode)}if(goFurther===false){continue}this.visitNodeRecursive(qtNode,beforeCallback,afterCallback)}else if(qtNode.body){if(beforeCallback){beforeCallback(qtNode.body)}}if(afterCallback){afterCallback(qtNode)}}if(node===this.root&&afterCallback){afterCallback(node)}};return QuadTree}();var Networkgraph_QuadTree=QuadTree;function VerletIntegration_attractive(link,force,distanceXY){var massFactor=link.getMass(),translatedX=-distanceXY.x*force*this.diffTemperature,translatedY=-distanceXY.y*force*this.diffTemperature;if(!link.fromNode.fixedPosition){link.fromNode.plotX-=translatedX*massFactor.fromNode/link.fromNode.degree;link.fromNode.plotY-=translatedY*massFactor.fromNode/link.fromNode.degree}if(!link.toNode.fixedPosition){link.toNode.plotX+=translatedX*massFactor.toNode/link.toNode.degree;link.toNode.plotY+=translatedY*massFactor.toNode/link.toNode.degree}}function VerletIntegration_attractiveForceFunction(d,k){return(k-d)/d}function VerletIntegration_barycenter(){var gravitationalConstant=this.options.gravitationalConstant||0,xFactor=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*gravitationalConstant,yFactor=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*gravitationalConstant;this.nodes.forEach(function(node){if(!node.fixedPosition){node.plotX-=xFactor/node.mass/node.degree;node.plotY-=yFactor/node.mass/node.degree}})}function VerletIntegration_getK(layout){return Math.pow(layout.box.width*layout.box.height/layout.nodes.length,.5)}function VerletIntegration_integrate(layout,node){var friction=-layout.options.friction,maxSpeed=layout.options.maxSpeed,prevX=node.prevX,prevY=node.prevY,frictionX=(node.plotX+node.dispX-prevX)*friction,frictionY=(node.plotY+node.dispY-prevY)*friction,abs=Math.abs,signX=abs(frictionX)/(frictionX||1),signY=abs(frictionY)/(frictionY||1),diffX=signX*Math.min(maxSpeed,Math.abs(frictionX)),diffY=signY*Math.min(maxSpeed,Math.abs(frictionY));node.prevX=node.plotX+node.dispX;node.prevY=node.plotY+node.dispY;node.plotX+=diffX;node.plotY+=diffY;node.temperature=layout.vectorLength({x:diffX,y:diffY})}function VerletIntegration_repulsive(node,force,distanceXY){var factor=force*this.diffTemperature/node.mass/node.degree;if(!node.fixedPosition){node.plotX+=distanceXY.x*factor;node.plotY+=distanceXY.y*factor}}function VerletIntegration_repulsiveForceFunction(d,k){return(k-d)/d*(k>d?1:0)}var VerletIntegration={attractive:VerletIntegration_attractive,attractiveForceFunction:VerletIntegration_attractiveForceFunction,barycenter:VerletIntegration_barycenter,getK:VerletIntegration_getK,integrate:VerletIntegration_integrate,repulsive:VerletIntegration_repulsive,repulsiveForceFunction:VerletIntegration_repulsiveForceFunction};var Networkgraph_VerletIntegration=VerletIntegration;var win=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().win;var clamp=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().clamp,ReingoldFruchtermanLayout_defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,isFunction=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isFunction,fireEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().fireEvent,ReingoldFruchtermanLayout_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;var ReingoldFruchtermanLayout=function(){function ReingoldFruchtermanLayout(){this.box={};this.currentStep=0;this.initialRendering=true;this.links=[];this.nodes=[];this.series=[];this.simulation=false}ReingoldFruchtermanLayout.compose=function(ChartClass){Series_GraphLayoutComposition.compose(ChartClass);Series_GraphLayoutComposition.integrations.euler=Networkgraph_EulerIntegration;Series_GraphLayoutComposition.integrations.verlet=Networkgraph_VerletIntegration;Series_GraphLayoutComposition.layouts["reingold-fruchterman"]=ReingoldFruchtermanLayout};ReingoldFruchtermanLayout.prototype.init=function(options){this.options=options;this.nodes=[];this.links=[];this.series=[];this.box={x:0,y:0,width:0,height:0};this.setInitialRendering(true);this.integration=Series_GraphLayoutComposition.integrations[options.integration];this.enableSimulation=options.enableSimulation;this.attractiveForce=ReingoldFruchtermanLayout_pick(options.attractiveForce,this.integration.attractiveForceFunction);this.repulsiveForce=ReingoldFruchtermanLayout_pick(options.repulsiveForce,this.integration.repulsiveForceFunction);this.approximation=options.approximation};ReingoldFruchtermanLayout.prototype.updateSimulation=function(enable){this.enableSimulation=ReingoldFruchtermanLayout_pick(enable,this.options.enableSimulation)};ReingoldFruchtermanLayout.prototype.start=function(){var layout=this,series=this.series,options=this.options;layout.currentStep=0;layout.forces=series[0]&&series[0].forces||[];layout.chart=series[0]&&series[0].chart;if(layout.initialRendering){layout.initPositions();series.forEach(function(s){s.finishedAnimating=true;s.render()})}layout.setK();layout.resetSimulation(options);if(layout.enableSimulation){layout.step()}};ReingoldFruchtermanLayout.prototype.step=function(){var _this=this;var anyLayout=this,allSeries=this.series;this.currentStep++;if(this.approximation==="barnes-hut"){this.createQuadTree();this.quadTree.calculateMassAndCenter()}for(var _i=0,_a=this.forces||[];_i<_a.length;_i++){var forceName=_a[_i];anyLayout[forceName+"Forces"](this.temperature)}this.applyLimits();this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep);this.prevSystemTemperature=this.systemTemperature;this.systemTemperature=this.getSystemTemperature();if(this.enableSimulation){for(var _b=0,allSeries_1=allSeries;_b<allSeries_1.length;_b++){var series=allSeries_1[_b];if(series.chart){series.render()}}if(this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()){if(this.simulation){win.cancelAnimationFrame(this.simulation)}this.simulation=win.requestAnimationFrame(function(){return _this.step()})}else{this.simulation=false;this.series.forEach(function(s){fireEvent(s,"afterSimulation")})}}};ReingoldFruchtermanLayout.prototype.stop=function(){if(this.simulation){win.cancelAnimationFrame(this.simulation)}};ReingoldFruchtermanLayout.prototype.setArea=function(x,y,w,h){this.box={left:x,top:y,width:w,height:h}};ReingoldFruchtermanLayout.prototype.setK=function(){this.k=this.options.linkLength||this.integration.getK(this)};ReingoldFruchtermanLayout.prototype.addElementsToCollection=function(elements,collection){for(var _i=0,elements_1=elements;_i<elements_1.length;_i++){var element=elements_1[_i];if(collection.indexOf(element)===-1){collection.push(element)}}};ReingoldFruchtermanLayout.prototype.removeElementFromCollection=function(element,collection){var index=collection.indexOf(element);if(index!==-1){collection.splice(index,1)}};ReingoldFruchtermanLayout.prototype.clear=function(){this.nodes.length=0;this.links.length=0;this.series.length=0;this.resetSimulation()};ReingoldFruchtermanLayout.prototype.resetSimulation=function(){this.forcedStop=false;this.systemTemperature=0;this.setMaxIterations();this.setTemperature();this.setDiffTemperature()};ReingoldFruchtermanLayout.prototype.restartSimulation=function(){if(!this.simulation){this.setInitialRendering(false);if(!this.enableSimulation){this.setMaxIterations(1)}else{this.start()}if(this.chart){this.chart.redraw()}this.setInitialRendering(true)}else{this.resetSimulation()}};ReingoldFruchtermanLayout.prototype.setMaxIterations=function(maxIterations){this.maxIterations=ReingoldFruchtermanLayout_pick(maxIterations,this.options.maxIterations)};ReingoldFruchtermanLayout.prototype.setTemperature=function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)};ReingoldFruchtermanLayout.prototype.setDiffTemperature=function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)};ReingoldFruchtermanLayout.prototype.setInitialRendering=function(enable){this.initialRendering=enable};ReingoldFruchtermanLayout.prototype.createQuadTree=function(){this.quadTree=new Networkgraph_QuadTree(this.box.left,this.box.top,this.box.width,this.box.height);this.quadTree.insertNodes(this.nodes)};ReingoldFruchtermanLayout.prototype.initPositions=function(){var initialPositions=this.options.initialPositions;if(isFunction(initialPositions)){initialPositions.call(this);for(var _i=0,_a=this.nodes;_i<_a.length;_i++){var node=_a[_i];if(!ReingoldFruchtermanLayout_defined(node.prevX)){node.prevX=node.plotX}if(!ReingoldFruchtermanLayout_defined(node.prevY)){node.prevY=node.plotY}node.dispX=0;node.dispY=0}}else if(initialPositions==="circle"){this.setCircularPositions()}else{this.setRandomPositions()}};ReingoldFruchtermanLayout.prototype.setCircularPositions=function(){var box=this.box,nodes=this.nodes,nodesLength=nodes.length+1,angle=2*Math.PI/nodesLength,rootNodes=nodes.filter(function(node){return node.linksTo.length===0}),visitedNodes={},radius=this.options.initialPositionRadius,addToNodes=function(node){for(var _i=0,_a=node.linksFrom||[];_i<_a.length;_i++){var link=_a[_i];if(!visitedNodes[link.toNode.id]){visitedNodes[link.toNode.id]=true;sortedNodes.push(link.toNode);addToNodes(link.toNode)}}};var sortedNodes=[];for(var _i=0,rootNodes_1=rootNodes;_i<rootNodes_1.length;_i++){var rootNode=rootNodes_1[_i];sortedNodes.push(rootNode);addToNodes(rootNode)}if(!sortedNodes.length){sortedNodes=nodes}else{for(var _a=0,nodes_1=nodes;_a<nodes_1.length;_a++){var node_1=nodes_1[_a];if(sortedNodes.indexOf(node_1)===-1){sortedNodes.push(node_1)}}}var node;for(var i=0,iEnd=sortedNodes.length;i<iEnd;++i){node=sortedNodes[i];node.plotX=node.prevX=ReingoldFruchtermanLayout_pick(node.plotX,box.width/2+radius*Math.cos(i*angle));node.plotY=node.prevY=ReingoldFruchtermanLayout_pick(node.plotY,box.height/2+radius*Math.sin(i*angle));node.dispX=0;node.dispY=0}};ReingoldFruchtermanLayout.prototype.setRandomPositions=function(){var box=this.box,nodes=this.nodes,nodesLength=nodes.length+1,unrandom=function(n){var rand=n*n/Math.PI;rand=rand-Math.floor(rand);return rand};var node;for(var i=0,iEnd=nodes.length;i<iEnd;++i){node=nodes[i];node.plotX=node.prevX=ReingoldFruchtermanLayout_pick(node.plotX,box.width*unrandom(i));node.plotY=node.prevY=ReingoldFruchtermanLayout_pick(node.plotY,box.height*unrandom(nodesLength+i));node.dispX=0;node.dispY=0}};ReingoldFruchtermanLayout.prototype.force=function(name){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}this.integration[name].apply(this,args)};ReingoldFruchtermanLayout.prototype.barycenterForces=function(){this.getBarycenter();this.force("barycenter")};ReingoldFruchtermanLayout.prototype.getBarycenter=function(){var systemMass=0,cx=0,cy=0;for(var _i=0,_a=this.nodes;_i<_a.length;_i++){var node=_a[_i];cx+=node.plotX*node.mass;cy+=node.plotY*node.mass;systemMass+=node.mass}this.barycenter={x:cx,y:cy,xFactor:cx/systemMass,yFactor:cy/systemMass};return this.barycenter};ReingoldFruchtermanLayout.prototype.barnesHutApproximation=function(node,quadNode){var distanceXY=this.getDistXY(node,quadNode),distanceR=this.vectorLength(distanceXY);var goDeeper,force;if(node!==quadNode&&distanceR!==0){if(quadNode.isInternal){if(quadNode.boxSize/distanceR<this.options.theta&&distanceR!==0){force=this.repulsiveForce(distanceR,this.k);this.force("repulsive",node,force*quadNode.mass,distanceXY,distanceR);goDeeper=false}else{goDeeper=true}}else{force=this.repulsiveForce(distanceR,this.k);this.force("repulsive",node,force*quadNode.mass,distanceXY,distanceR)}}return goDeeper};ReingoldFruchtermanLayout.prototype.repulsiveForces=function(){var _this=this;if(this.approximation==="barnes-hut"){var _loop_1=function(node){this_1.quadTree.visitNodeRecursive(null,function(quadNode){return _this.barnesHutApproximation(node,quadNode)})};var this_1=this;for(var _i=0,_a=this.nodes;_i<_a.length;_i++){var node=_a[_i];_loop_1(node)}}else{var force=void 0,distanceR=void 0,distanceXY=void 0;for(var _b=0,_c=this.nodes;_b<_c.length;_b++){var node=_c[_b];for(var _d=0,_e=this.nodes;_d<_e.length;_d++){var repNode=_e[_d];if(node!==repNode&&!node.fixedPosition){distanceXY=this.getDistXY(node,repNode);distanceR=this.vectorLength(distanceXY);if(distanceR!==0){force=this.repulsiveForce(distanceR,this.k);this.force("repulsive",node,force*repNode.mass,distanceXY,distanceR)}}}}}};ReingoldFruchtermanLayout.prototype.attractiveForces=function(){var distanceXY,distanceR,force;for(var _i=0,_a=this.links;_i<_a.length;_i++){var link=_a[_i];if(link.fromNode&&link.toNode){distanceXY=this.getDistXY(link.fromNode,link.toNode);distanceR=this.vectorLength(distanceXY);if(distanceR!==0){force=this.attractiveForce(distanceR,this.k);this.force("attractive",link,force,distanceXY,distanceR)}}}};ReingoldFruchtermanLayout.prototype.applyLimits=function(){var nodes=this.nodes;for(var _i=0,nodes_2=nodes;_i<nodes_2.length;_i++){var node=nodes_2[_i];if(node.fixedPosition){continue}this.integration.integrate(this,node);this.applyLimitBox(node,this.box);node.dispX=0;node.dispY=0}};ReingoldFruchtermanLayout.prototype.applyLimitBox=function(node,box){var radius=node.radius;node.plotX=clamp(node.plotX,box.left+radius,box.width-radius);node.plotY=clamp(node.plotY,box.top+radius,box.height-radius)};ReingoldFruchtermanLayout.prototype.coolDown=function(temperature,temperatureStep,currentStep){return temperature-temperatureStep*currentStep};ReingoldFruchtermanLayout.prototype.isStable=function(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0};ReingoldFruchtermanLayout.prototype.getSystemTemperature=function(){var value=0;for(var _i=0,_a=this.nodes;_i<_a.length;_i++){var node=_a[_i];value+=node.temperature}return value};ReingoldFruchtermanLayout.prototype.vectorLength=function(vector){return Math.sqrt(vector.x*vector.x+vector.y*vector.y)};ReingoldFruchtermanLayout.prototype.getDistR=function(nodeA,nodeB){var distance=this.getDistXY(nodeA,nodeB);return this.vectorLength(distance)};ReingoldFruchtermanLayout.prototype.getDistXY=function(nodeA,nodeB){var xDist=nodeA.plotX-nodeB.plotX,yDist=nodeA.plotY-nodeB.plotY;return{x:xDist,y:yDist,absX:Math.abs(xDist),absY:Math.abs(yDist)}};return ReingoldFruchtermanLayout}();var Networkgraph_ReingoldFruchtermanLayout=ReingoldFruchtermanLayout;var SimulationSeriesUtilities_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,syncTimeout=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().syncTimeout;var animObject=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().animObject;function initDataLabelsDefer(){var _this=this;var _a;var dlOptions=this.options.dataLabels;if(!(dlOptions===null||dlOptions===void 0?void 0:dlOptions.defer)||!((_a=this.options.layoutAlgorithm)===null||_a===void 0?void 0:_a.enableSimulation)){this.deferDataLabels=false}else{syncTimeout(function(){_this.deferDataLabels=false},dlOptions?animObject(dlOptions.animation).defer:0)}}function initDataLabels(){var series=this,dlOptions=series.options.dataLabels;if(!series.dataLabelsGroup){var dataLabelsGroup=this.initDataLabelsGroup();if(!series.chart.styledMode&&(dlOptions===null||dlOptions===void 0?void 0:dlOptions.style)){dataLabelsGroup.css(dlOptions.style)}dataLabelsGroup.attr({opacity:0});if(series.visible){dataLabelsGroup.show()}return dataLabelsGroup}series.dataLabelsGroup.attr(SimulationSeriesUtilities_merge({opacity:1},this.getPlotBox("data-labels")));return series.dataLabelsGroup}var DataLabelsDeferUtils={initDataLabels:initDataLabels,initDataLabelsDefer:initDataLabelsDefer};var SimulationSeriesUtilities=DataLabelsDeferUtils;var deg2rad=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().deg2rad;var TextPath_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,TextPath_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,uniqueKey=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().uniqueKey,TextPath_defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,TextPath_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend;function setTextPath(path,textPathOptions){var _this=this;textPathOptions=TextPath_merge(true,{enabled:true,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},textPathOptions);var url=this.renderer.url,textWrapper=this.text||this,textPath=textWrapper.textPath,attributes=textPathOptions.attributes,enabled=textPathOptions.enabled;path=path||textPath&&textPath.path;if(textPath){textPath.undo()}if(path&&enabled){var undo=TextPath_addEvent(textWrapper,"afterModifyTree",function(e){if(path&&enabled){var textPathId=path.attr("id");if(!textPathId){path.attr("id",textPathId=uniqueKey())}var textAttribs={x:0,y:0};if(TextPath_defined(attributes.dx)){textAttribs.dx=attributes.dx;delete attributes.dx}if(TextPath_defined(attributes.dy)){textAttribs.dy=attributes.dy;delete attributes.dy}textWrapper.attr(textAttribs);_this.attr({transform:""});if(_this.box){_this.box=_this.box.destroy()}var children=e.nodes.slice(0);e.nodes.length=0;e.nodes[0]={tagName:"textPath",attributes:TextPath_extend(attributes,{"text-anchor":attributes.textAnchor,href:""+url+"#".concat(textPathId)}),children:children}}});textWrapper.textPath={path:path,undo:undo}}else{textWrapper.attr({dx:0,dy:0});delete textWrapper.textPath}if(this.added){textWrapper.textCache="";this.renderer.buildText(textWrapper)}return this}function setPolygon(event){var _a;var bBox=event.bBox,tp=(_a=this.element)===null||_a===void 0?void 0:_a.querySelector("textPath");if(tp){var polygon=[],_b=this.renderer.fontMetrics(this.element),b_1=_b.b,h=_b.h,descender_1=h-b_1,lineCleanerRegex=new RegExp("(<tspan>|"+'<tspan(?!\\sclass="highcharts-br")[^>]*>|'+"<\\/tspan>)","g"),lines=tp.innerHTML.replace(lineCleanerRegex,"").split(/<tspan class="highcharts-br"[^>]*>/),numOfLines=lines.length;var appendTopAndBottom=function(charIndex,positionOfChar){var x=positionOfChar.x,y=positionOfChar.y,rotation=(tp.getRotationOfChar(charIndex)-90)*deg2rad,cosRot=Math.cos(rotation),sinRot=Math.sin(rotation);return[[x-descender_1*cosRot,y-descender_1*sinRot],[x+b_1*cosRot,y+b_1*sinRot]]};for(var i=0,lineIndex=0;lineIndex<numOfLines;lineIndex++){var line=lines[lineIndex],lineLen=line.length;for(var lineCharIndex=0;lineCharIndex<lineLen;lineCharIndex+=5){try{var srcCharIndex=i+lineCharIndex+lineIndex,_c=appendTopAndBottom(srcCharIndex,tp.getStartPositionOfChar(srcCharIndex)),lower=_c[0],upper=_c[1];if(lineCharIndex===0){polygon.push(upper);polygon.push(lower)}else{if(lineIndex===0){polygon.unshift(upper)}if(lineIndex===numOfLines-1){polygon.push(lower)}}}catch(e){break}}i+=lineLen-1;try{var srcCharIndex=i+lineIndex,charPos=tp.getEndPositionOfChar(srcCharIndex),_d=appendTopAndBottom(srcCharIndex,charPos),lower=_d[0],upper=_d[1];polygon.unshift(upper);polygon.unshift(lower)}catch(e){break}}if(polygon.length){polygon.push(polygon[0].slice())}bBox.polygon=polygon}return bBox}function drawTextPath(event){var _a;var labelOptions=event.labelOptions,point=event.point,textPathOptions=labelOptions[point.formatPrefix+"TextPath"]||labelOptions.textPath;if(textPathOptions&&!labelOptions.useHTML){this.setTextPath(((_a=point.getDataLabelPath)===null||_a===void 0?void 0:_a.call(point,this))||point.graphic,textPathOptions);if(point.dataLabelPath&&!textPathOptions.enabled){point.dataLabelPath=point.dataLabelPath.destroy()}}}function TextPath_compose(SVGElementClass){TextPath_addEvent(SVGElementClass,"afterGetBBox",setPolygon);TextPath_addEvent(SVGElementClass,"beforeAddingDataLabel",drawTextPath);var svgElementProto=SVGElementClass.prototype;if(!svgElementProto.setTextPath){svgElementProto.setTextPath=setTextPath}}var TextPath={compose:TextPath_compose};var Extensions_TextPath=TextPath;var NetworkgraphSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var noop=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().noop;var Series=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().series,NetworkgraphSeries_a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes,columnProto=NetworkgraphSeries_a.column.prototype,lineProto=NetworkgraphSeries_a.line.prototype;var NetworkgraphSeries_initDataLabels=SimulationSeriesUtilities.initDataLabels,NetworkgraphSeries_initDataLabelsDefer=SimulationSeriesUtilities.initDataLabelsDefer;var NetworkgraphSeries_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,NetworkgraphSeries_defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,NetworkgraphSeries_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,NetworkgraphSeries_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,NetworkgraphSeries_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;Extensions_TextPath.compose(highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_default());var NetworkgraphSeries=function(_super){NetworkgraphSeries_extends(NetworkgraphSeries,_super);function NetworkgraphSeries(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.deferDataLabels=true;return _this}NetworkgraphSeries.compose=function(ChartClass){Series_DragNodesComposition.compose(ChartClass);Networkgraph_ReingoldFruchtermanLayout.compose(ChartClass)};NetworkgraphSeries.prototype.deferLayout=function(){var layoutOptions=this.options.layoutAlgorithm,chartOptions=this.chart.options.chart;var layout,graphLayoutsStorage=this.chart.graphLayoutsStorage,graphLayoutsLookup=this.chart.graphLayoutsLookup;if(!this.visible){return}if(!graphLayoutsStorage){this.chart.graphLayoutsStorage=graphLayoutsStorage={};this.chart.graphLayoutsLookup=graphLayoutsLookup=[]}layout=graphLayoutsStorage[layoutOptions.type];if(!layout){layoutOptions.enableSimulation=!NetworkgraphSeries_defined(chartOptions.forExport)?layoutOptions.enableSimulation:!chartOptions.forExport;graphLayoutsStorage[layoutOptions.type]=layout=new Series_GraphLayoutComposition.layouts[layoutOptions.type];layout.init(layoutOptions);graphLayoutsLookup.splice(layout.index,0,layout)}this.layout=layout;layout.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight);layout.addElementsToCollection([this],layout.series);layout.addElementsToCollection(this.nodes,layout.nodes);layout.addElementsToCollection(this.points,layout.links)};NetworkgraphSeries.prototype.destroy=function(){if(this.layout){this.layout.removeElementFromCollection(this,this.layout.series)}Series_NodesComposition.destroy.call(this)};NetworkgraphSeries.prototype.drawDataLabels=function(){if(this.deferDataLabels){return}var dlOptions=this.options.dataLabels;var textPath;if(dlOptions===null||dlOptions===void 0?void 0:dlOptions.textPath){textPath=dlOptions.textPath}Series.prototype.drawDataLabels.call(this,this.nodes);if(dlOptions===null||dlOptions===void 0?void 0:dlOptions.linkTextPath){dlOptions.textPath=dlOptions.linkTextPath}Series.prototype.drawDataLabels.call(this,this.data);if(dlOptions===null||dlOptions===void 0?void 0:dlOptions.textPath){dlOptions.textPath=textPath}};NetworkgraphSeries.prototype.generatePoints=function(){var node,i;Series_NodesComposition.generatePoints.apply(this,arguments);if(this.options.nodes){this.options.nodes.forEach(function(nodeOptions){if(!this.nodeLookup[nodeOptions.id]){this.nodeLookup[nodeOptions.id]=this.createNode(nodeOptions.id)}},this)}for(i=this.nodes.length-1;i>=0;i--){node=this.nodes[i];node.degree=node.getDegree();node.radius=NetworkgraphSeries_pick(node.marker&&node.marker.radius,this.options.marker&&this.options.marker.radius,0);node.key=node.name;if(!this.nodeLookup[node.id]){node.remove()}}this.data.forEach(function(link){link.formatPrefix="link"});this.indexateNodes()};NetworkgraphSeries.prototype.getPointsCollection=function(){return this.nodes||[]};NetworkgraphSeries.prototype.indexateNodes=function(){this.nodes.forEach(function(node,index){node.index=index})};NetworkgraphSeries.prototype.init=function(chart,options){var _this=this;_super.prototype.init.call(this,chart,options);NetworkgraphSeries_initDataLabelsDefer.call(this);NetworkgraphSeries_addEvent(this,"updatedData",function(){if(_this.layout){_this.layout.stop()}});NetworkgraphSeries_addEvent(this,"afterUpdate",function(){_this.nodes.forEach(function(node){if(node&&node.series){node.resolveColor()}})});NetworkgraphSeries_addEvent(this,"afterSimulation",function(){this.deferDataLabels=false;this.drawDataLabels()});return this};NetworkgraphSeries.prototype.markerAttribs=function(point,state){var attribs=Series.prototype.markerAttribs.call(this,point,state);if(!NetworkgraphSeries_defined(point.plotY)){attribs.y=0}attribs.x=(point.plotX||0)-(attribs.width||0)/2;return attribs};NetworkgraphSeries.prototype.pointAttribs=function(point,state){var pointState=state||point&&point.state||"normal",stateOptions=this.options.states[pointState];var attribs=Series.prototype.pointAttribs.call(this,point,pointState);if(point&&!point.isNode){attribs=point.getLinkAttributes();if(stateOptions){attribs={stroke:stateOptions.linkColor||attribs.stroke,dashstyle:stateOptions.linkDashStyle||attribs.dashstyle,opacity:NetworkgraphSeries_pick(stateOptions.linkOpacity,attribs.opacity),"stroke-width":stateOptions.linkColor||attribs["stroke-width"]}}}return attribs};NetworkgraphSeries.prototype.render=function(){var series=this,points=series.points,hoverPoint=series.chart.hoverPoint,dataLabels=[];series.points=series.nodes;lineProto.render.call(this);series.points=points;points.forEach(function(point){if(point.fromNode&&point.toNode){point.renderLink();point.redrawLink()}});if(hoverPoint&&hoverPoint.series===series){series.redrawHalo(hoverPoint)}if(series.chart.hasRendered&&!series.options.dataLabels.allowOverlap){series.nodes.concat(series.points).forEach(function(node){if(node.dataLabel){dataLabels.push(node.dataLabel)}});series.chart.hideOverlappingLabels(dataLabels)}};NetworkgraphSeries.prototype.setState=function(state,inherit){if(inherit){this.points=this.nodes.concat(this.data);Series.prototype.setState.apply(this,arguments);this.points=this.data}else{Series.prototype.setState.apply(this,arguments)}if(!this.layout.simulation&&!state){this.render()}};NetworkgraphSeries.prototype.translate=function(){this.generatePoints();this.deferLayout();this.nodes.forEach(function(node){node.isInside=true;node.linksFrom.forEach(function(point){point.shapeType="path";point.y=1})})};NetworkgraphSeries.defaultOptions=NetworkgraphSeries_merge(Series.defaultOptions,Networkgraph_NetworkgraphSeriesDefaults);return NetworkgraphSeries}(Series);NetworkgraphSeries_extend(NetworkgraphSeries.prototype,{pointClass:Networkgraph_NetworkgraphPoint,animate:void 0,directTouch:true,drawGraph:void 0,forces:["barycenter","repulsive","attractive"],hasDraggableNodes:true,isCartesian:false,noSharedTooltip:true,pointArrayMap:["from","to"],requireSorting:false,trackerGroups:["group","markerGroup","dataLabelsGroup"],initDataLabels:NetworkgraphSeries_initDataLabels,buildKDTree:noop,createNode:Series_NodesComposition.createNode,drawTracker:columnProto.drawTracker,onMouseDown:Series_DragNodesComposition.onMouseDown,onMouseMove:Series_DragNodesComposition.onMouseMove,onMouseUp:Series_DragNodesComposition.onMouseUp,redrawHalo:Series_DragNodesComposition.redrawHalo});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("networkgraph",NetworkgraphSeries);var Networkgraph_NetworkgraphSeries=NetworkgraphSeries;"";var G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();Networkgraph_NetworkgraphSeries.compose(G.Chart);var networkgraph_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__}()});