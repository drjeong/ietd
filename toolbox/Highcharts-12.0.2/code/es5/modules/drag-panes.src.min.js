(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("highcharts"));else if(typeof define==="function"&&define.amd)define("highcharts/modules/drag-panes",[["highcharts/highcharts"]],factory);else if(typeof exports==="object")exports["highcharts/modules/drag-panes"]=factory(require("highcharts"));else root["Highcharts"]=factory(root["Highcharts"])})(this,function(__WEBPACK_EXTERNAL_MODULE__944__){return function(){"use strict";var __webpack_modules__={944:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,{a:getter});return getter}}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return drag_panes_src}});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var AxisResizerDefaults={minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:false,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}};var DragPanes_AxisResizerDefaults=AxisResizerDefaults;var addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,clamp=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().clamp,isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,relativeLength=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().relativeLength;var AxisResizer=function(){function AxisResizer(axis){this.init(axis)}AxisResizer.prototype.init=function(axis,update){this.axis=axis;this.options=axis.options.resize||{};this.render();if(!update){this.addMouseEvents()}};AxisResizer.prototype.render=function(){var resizer=this,axis=resizer.axis,chart=axis.chart,options=resizer.options,x=options.x||0,y=options.y,pos=clamp(axis.top+axis.height+y,chart.plotTop,chart.plotTop+chart.plotHeight);var attr={};if(!chart.styledMode){attr={cursor:options.cursor,stroke:options.lineColor,"stroke-width":options.lineWidth,dashstyle:options.lineDashStyle}}resizer.lastPos=pos-y;if(!resizer.controlLine){resizer.controlLine=chart.renderer.path().addClass("highcharts-axis-resizer")}resizer.controlLine.add(axis.axisGroup);var lineWidth=chart.styledMode?resizer.controlLine.strokeWidth():options.lineWidth;attr.d=chart.renderer.crispLine([["M",axis.left+x,pos],["L",axis.left+axis.width+x,pos]],lineWidth);resizer.controlLine.attr(attr)};AxisResizer.prototype.addMouseEvents=function(){var resizer=this,ctrlLineElem=resizer.controlLine.element,container=resizer.axis.chart.container,eventsToUnbind=[];var mouseMoveHandler,mouseUpHandler,mouseDownHandler;resizer.mouseMoveHandler=mouseMoveHandler=function(e){return resizer.onMouseMove(e)};resizer.mouseUpHandler=mouseUpHandler=function(e){return resizer.onMouseUp(e)};resizer.mouseDownHandler=mouseDownHandler=function(){return resizer.onMouseDown()};eventsToUnbind.push(addEvent(container,"mousemove",mouseMoveHandler),addEvent(container.ownerDocument,"mouseup",mouseUpHandler),addEvent(ctrlLineElem,"mousedown",mouseDownHandler),addEvent(container,"touchmove",mouseMoveHandler),addEvent(container.ownerDocument,"touchend",mouseUpHandler),addEvent(ctrlLineElem,"touchstart",mouseDownHandler));resizer.eventsToUnbind=eventsToUnbind};AxisResizer.prototype.onMouseMove=function(e){if(!e.touches||e.touches[0].pageX!==0){var pointer=this.axis.chart.pointer;if(this.grabbed&&pointer){this.hasDragged=true;this.updateAxes(pointer.normalize(e).chartY-(this.options.y||0))}}};AxisResizer.prototype.onMouseUp=function(e){var pointer=this.axis.chart.pointer;if(this.hasDragged&&pointer){this.updateAxes(pointer.normalize(e).chartY-(this.options.y||0))}this.grabbed=this.hasDragged=this.axis.chart.activeResizer=void 0};AxisResizer.prototype.onMouseDown=function(){var _a;(_a=this.axis.chart.pointer)===null||_a===void 0?void 0:_a.reset(false,0);this.grabbed=this.axis.chart.activeResizer=true};AxisResizer.prototype.updateAxes=function(chartY){var resizer=this,chart=resizer.axis.chart,axes=resizer.options.controlledAxis,nextAxes=axes.next.length===0?[chart.yAxis.indexOf(resizer.axis)+1]:axes.next,prevAxes=[resizer.axis].concat(axes.prev),axesConfigs=[],plotTop=chart.plotTop,plotHeight=chart.plotHeight,plotBottom=plotTop+plotHeight,calculatePercent=function(value){return value*100/plotHeight+"%"},normalize=function(val,min,max){return Math.round(clamp(val,min,max))};chartY=clamp(chartY,plotTop,plotBottom);var stopDrag=false,yDelta=chartY-resizer.lastPos;if(yDelta*yDelta<1){return}var isFirst=true;for(var _i=0,_a=[prevAxes,nextAxes];_i<_a.length;_i++){var axesGroup=_a[_i];for(var _b=0,axesGroup_1=axesGroup;_b<axesGroup_1.length;_b++){var axisInfo=axesGroup_1[_b];var axis=isNumber(axisInfo)?chart.yAxis[axisInfo]:isFirst?axisInfo:chart.get(axisInfo),axisOptions=axis&&axis.options,optionsToUpdate={};var height=void 0,top_1=void 0;if(!axisOptions||axisOptions.isInternal){isFirst=false;continue}top_1=axis.top;var minLength=Math.round(relativeLength(axisOptions.minLength||NaN,plotHeight)),maxLength=Math.round(relativeLength(axisOptions.maxLength||NaN,plotHeight));if(!isFirst){yDelta=chartY-resizer.lastPos;height=normalize(axis.len-yDelta,minLength,maxLength);top_1=axis.top+yDelta;if(top_1+height>plotBottom){var hDelta=plotBottom-height-top_1;chartY+=hDelta;top_1+=hDelta}if(top_1<plotTop){top_1=plotTop;if(top_1+height>plotBottom){height=plotHeight}}if(height===minLength){stopDrag=true}axesConfigs.push({axis:axis,options:{top:calculatePercent(top_1-plotTop),height:calculatePercent(height)}})}else{height=normalize(chartY-top_1,minLength,maxLength);if(height===maxLength){stopDrag=true}chartY=top_1+height;axesConfigs.push({axis:axis,options:{height:calculatePercent(height)}})}isFirst=false;optionsToUpdate.height=height}}if(!stopDrag){for(var _c=0,axesConfigs_1=axesConfigs;_c<axesConfigs_1.length;_c++){var config=axesConfigs_1[_c];config.axis.update(config.options,false)}chart.redraw(false)}};AxisResizer.prototype.destroy=function(){var resizer=this,axis=resizer.axis;delete axis.resizer;if(this.eventsToUnbind){this.eventsToUnbind.forEach(function(unbind){return unbind()})}resizer.controlLine.destroy();for(var _i=0,_a=Object.keys(resizer);_i<_a.length;_i++){var key=_a[_i];resizer[key]=null}};AxisResizer.resizerOptions=DragPanes_AxisResizerDefaults;return AxisResizer}();var DragPanes_AxisResizer=AxisResizer;var defaultOptions=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defaultOptions;var DragPanes_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,wrap=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().wrap;function compose(AxisClass,PointerClass){if(!AxisClass.keepProps.includes("resizer")){merge(true,defaultOptions.yAxis,DragPanes_AxisResizer.resizerOptions);AxisClass.keepProps.push("resizer");DragPanes_addEvent(AxisClass,"afterRender",onAxisAfterRender);DragPanes_addEvent(AxisClass,"destroy",onAxisDestroy);wrap(PointerClass.prototype,"runPointActions",wrapPointerRunPointActions);wrap(PointerClass.prototype,"drag",wrapPointerDrag)}}function onAxisAfterRender(){var axis=this,resizer=axis.resizer,resizerOptions=axis.options.resize;if(resizerOptions){var enabled=resizerOptions.enabled!==false;if(resizer){if(enabled){resizer.init(axis,true)}else{resizer.destroy()}}else{if(enabled){axis.resizer=new DragPanes_AxisResizer(axis)}}}}function onAxisDestroy(e){var axis=this;if(!e.keepEvents&&axis.resizer){axis.resizer.destroy()}}function wrapPointerDrag(proceed){var pointer=this;if(!pointer.chart.activeResizer){proceed.apply(pointer,[].slice.call(arguments,1))}}function wrapPointerRunPointActions(proceed){var pointer=this;if(!pointer.chart.activeResizer){proceed.apply(pointer,[].slice.call(arguments,1))}}var DragPanes={compose:compose};var DragPanes_DragPanes=DragPanes;var G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();G.AxisResizer=DragPanes_AxisResizer;DragPanes_DragPanes.compose(G.Axis,G.Pointer);var drag_panes_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__}()});