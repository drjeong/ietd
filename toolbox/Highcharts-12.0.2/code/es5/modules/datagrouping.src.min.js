(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("highcharts"),require("highcharts")["SeriesRegistry"],require("highcharts")["Templating"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/datagrouping",[["highcharts/highcharts"],["highcharts/highcharts","SeriesRegistry"],["highcharts/highcharts","Templating"]],factory);else if(typeof exports==="object")exports["highcharts/modules/datagrouping"]=factory(require("highcharts"),require("highcharts")["SeriesRegistry"],require("highcharts")["Templating"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["SeriesRegistry"],root["Highcharts"]["Templating"])})(this,function(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__512__,__WEBPACK_EXTERNAL_MODULE__984__){return function(){"use strict";var __webpack_modules__={512:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__512__},984:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__984__},944:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,{a:getter});return getter}}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return datagrouping_src}});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var ApproximationRegistry={};var DataGrouping_ApproximationRegistry=ApproximationRegistry;var arrayMax=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().arrayMax,arrayMin=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().arrayMin,correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber;function average(arr){var len=arr.length;var ret=sum(arr);if(isNumber(ret)&&len){ret=correctFloat(ret/len)}return ret}function averages(){var ret=[];[].forEach.call(arguments,function(arr){ret.push(average(arr))});return typeof ret[0]==="undefined"?void 0:ret}function ApproximationDefaults_close(arr){return arr.length?arr[arr.length-1]:arr.hasNulls?null:void 0}function high(arr){return arr.length?arrayMax(arr):arr.hasNulls?null:void 0}function hlc(high,low,close){high=DataGrouping_ApproximationRegistry.high(high);low=DataGrouping_ApproximationRegistry.low(low);close=DataGrouping_ApproximationRegistry.close(close);if(isNumber(high)||isNumber(low)||isNumber(close)){return[high,low,close]}}function low(arr){return arr.length?arrayMin(arr):arr.hasNulls?null:void 0}function ohlc(open,high,low,close){open=DataGrouping_ApproximationRegistry.open(open);high=DataGrouping_ApproximationRegistry.high(high);low=DataGrouping_ApproximationRegistry.low(low);close=DataGrouping_ApproximationRegistry.close(close);if(isNumber(open)||isNumber(high)||isNumber(low)||isNumber(close)){return[open,high,low,close]}}function ApproximationDefaults_open(arr){return arr.length?arr[0]:arr.hasNulls?null:void 0}function range(low,high){low=DataGrouping_ApproximationRegistry.low(low);high=DataGrouping_ApproximationRegistry.high(high);if(isNumber(low)||isNumber(high)){return[low,high]}if(low===null&&high===null){return null}}function sum(arr){var len=arr.length,ret;if(!len&&arr.hasNulls){ret=null}else if(len){ret=0;while(len--){ret+=arr[len]}}return ret}var ApproximationDefaults={average:average,averages:averages,close:ApproximationDefaults_close,high:high,hlc:hlc,low:low,ohlc:ohlc,open:ApproximationDefaults_open,range:range,sum:sum};extend(DataGrouping_ApproximationRegistry,ApproximationDefaults);var DataGrouping_ApproximationDefaults=ApproximationDefaults;var common={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["week from %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}};var seriesSpecific={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}};var units=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]];var DataGroupingDefaults={common:common,seriesSpecific:seriesSpecific,units:units};var DataGrouping_DataGroupingDefaults=DataGroupingDefaults;var addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,DataGroupingAxisComposition_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;var AxisConstructor;function applyGrouping(e){var axis=this,series=axis.series;series.forEach(function(series){series.groupPixelWidth=void 0});series.forEach(function(series){series.groupPixelWidth=axis.getGroupPixelWidth&&axis.getGroupPixelWidth();if(series.groupPixelWidth){series.hasProcessed=true}series.applyGrouping(!!e.hasExtremesChanged)})}function compose(AxisClass){AxisConstructor=AxisClass;var axisProto=AxisClass.prototype;if(!axisProto.applyGrouping){addEvent(AxisClass,"afterSetScale",onAfterSetScale);addEvent(AxisClass,"postProcessData",applyGrouping);DataGroupingAxisComposition_extend(axisProto,{applyGrouping:applyGrouping,getGroupPixelWidth:getGroupPixelWidth,setDataGrouping:setDataGrouping})}}function getGroupPixelWidth(){var series=this.series;var i=series.length,groupPixelWidth=0,doGrouping=false,dataLength,dgOptions;while(i--){dgOptions=series[i].options.dataGrouping;if(dgOptions){groupPixelWidth=Math.max(groupPixelWidth,pick(dgOptions.groupPixelWidth,DataGrouping_DataGroupingDefaults.common.groupPixelWidth));dataLength=(series[i].dataTable.modified||series[i].dataTable).rowCount;if(series[i].groupPixelWidth||dataLength>this.chart.plotSizeX/groupPixelWidth||dataLength&&dgOptions.forced){doGrouping=true}}}return doGrouping?groupPixelWidth:0}function onAfterSetScale(){this.series.forEach(function(series){series.hasProcessed=false})}function setDataGrouping(dataGrouping,redraw){var axis=this;var i;redraw=pick(redraw,true);if(!dataGrouping){dataGrouping={forced:false,units:null}}if(this instanceof AxisConstructor){i=this.series.length;while(i--){this.series[i].update({dataGrouping:dataGrouping},false)}}else{this.chart.options.series.forEach(function(seriesOptions){seriesOptions.dataGrouping=typeof dataGrouping==="boolean"?dataGrouping:merge(dataGrouping,seriesOptions.dataGrouping)})}if(axis.ordinal){axis.ordinal.slope=void 0}if(redraw){this.chart.redraw()}}var DataGroupingAxisComposition={compose:compose};var DataGrouping_DataGroupingAxisComposition=DataGroupingAxisComposition;var fireEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().fireEvent,isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,objectEach=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().objectEach,uniqueKey=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().uniqueKey;var DataTableCore=function(){function DataTableCore(options){if(options===void 0){options={}}var _this=this;this.autoId=!options.id;this.columns={};this.id=options.id||uniqueKey();this.modified=this;this.rowCount=0;this.versionTag=uniqueKey();var rowCount=0;objectEach(options.columns||{},function(column,columnName){_this.columns[columnName]=column.slice();rowCount=Math.max(rowCount,column.length)});this.applyRowCount(rowCount)}DataTableCore.prototype.applyRowCount=function(rowCount){this.rowCount=rowCount;objectEach(this.columns,function(column){if(isArray(column)){column.length=rowCount}})};DataTableCore.prototype.getColumn=function(columnName,asReference){return this.columns[columnName]};DataTableCore.prototype.getColumns=function(columnNames,asReference){var _this=this;return(columnNames||Object.keys(this.columns)).reduce(function(columns,columnName){columns[columnName]=_this.columns[columnName];return columns},{})};DataTableCore.prototype.getRow=function(rowIndex,columnNames){var _this=this;return(columnNames||Object.keys(this.columns)).map(function(key){var _a;return(_a=_this.columns[key])===null||_a===void 0?void 0:_a[rowIndex]})};DataTableCore.prototype.setColumn=function(columnName,column,rowIndex,eventDetail){var _a;if(column===void 0){column=[]}if(rowIndex===void 0){rowIndex=0}this.setColumns((_a={},_a[columnName]=column,_a),rowIndex,eventDetail)};DataTableCore.prototype.setColumns=function(columns,rowIndex,eventDetail){var _this=this;var rowCount=this.rowCount;objectEach(columns,function(column,columnName){_this.columns[columnName]=column.slice();rowCount=column.length});this.applyRowCount(rowCount);if(!(eventDetail===null||eventDetail===void 0?void 0:eventDetail.silent)){fireEvent(this,"afterSetColumns");this.versionTag=uniqueKey()}};DataTableCore.prototype.setRow=function(row,rowIndex,insert,eventDetail){if(rowIndex===void 0){rowIndex=this.rowCount}var columns=this.columns,indexRowCount=insert?this.rowCount+1:rowIndex+1;objectEach(row,function(cellValue,columnName){var column=columns[columnName]||(eventDetail===null||eventDetail===void 0?void 0:eventDetail.addColumns)!==false&&new Array(indexRowCount);if(column){if(insert){column.splice(rowIndex,0,cellValue)}else{column[rowIndex]=cellValue}columns[columnName]=column}});if(indexRowCount>this.rowCount){this.applyRowCount(indexRowCount)}if(!(eventDetail===null||eventDetail===void 0?void 0:eventDetail.silent)){fireEvent(this,"afterSetRows");this.versionTag=uniqueKey()}};return DataTableCore}();var Data_DataTableCore=DataTableCore;"";var DateTimeAxis_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,getMagnitude=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().getMagnitude,normalizeTickInterval=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().normalizeTickInterval,timeUnits=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().timeUnits;var DateTimeAxis;(function(DateTimeAxis){function compose(AxisClass){if(!AxisClass.keepProps.includes("dateTime")){AxisClass.keepProps.push("dateTime");var axisProto=AxisClass.prototype;axisProto.getTimeTicks=getTimeTicks;DateTimeAxis_addEvent(AxisClass,"afterSetType",onAfterSetType)}return AxisClass}DateTimeAxis.compose=compose;function getTimeTicks(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function onAfterSetType(){if(this.type!=="datetime"){this.dateTime=void 0;return}if(!this.dateTime){this.dateTime=new Additions(this)}}var Additions=function(){function Additions(axis){this.axis=axis}Additions.prototype.normalizeTimeTickInterval=function(tickInterval,unitsOption){var units=unitsOption||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];var unit=units[units.length-1],interval=timeUnits[unit[0]],multiples=unit[1],i;for(i=0;i<units.length;i++){unit=units[i];interval=timeUnits[unit[0]];multiples=unit[1];if(units[i+1]){var lessThan=(interval*multiples[multiples.length-1]+timeUnits[units[i+1][0]])/2;if(tickInterval<=lessThan){break}}}if(interval===timeUnits.year&&tickInterval<5*interval){multiples=[1,2,5]}var count=normalizeTickInterval(tickInterval/interval,multiples,unit[0]==="year"?Math.max(getMagnitude(tickInterval/interval),1):1);return{unitRange:interval,count:count,unitName:unit[0]}};Additions.prototype.getXDateFormat=function(x,dateTimeLabelFormats){var axis=this.axis,time=axis.chart.time;return axis.closestPointRange?time.getDateFormat(axis.closestPointRange,x,axis.options.startOfWeek,dateTimeLabelFormats)||time.resolveDTLFormat(dateTimeLabelFormats.year).main:time.resolveDTLFormat(dateTimeLabelFormats.day).main};return Additions}();DateTimeAxis.Additions=Additions})(DateTimeAxis||(DateTimeAxis={}));var Axis_DateTimeAxis=DateTimeAxis;var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);var seriesProto=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().series.prototype;var DataGroupingSeriesComposition_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,DataGroupingSeriesComposition_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,DataGroupingSeriesComposition_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,DataGroupingSeriesComposition_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,DataGroupingSeriesComposition_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,splat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().splat;var baseGeneratePoints=seriesProto.generatePoints;function adjustExtremes(xAxis,groupedXData){if(defined(groupedXData[0])&&DataGroupingSeriesComposition_isNumber(xAxis.min)&&DataGroupingSeriesComposition_isNumber(xAxis.dataMin)&&groupedXData[0]<xAxis.min){if(!defined(xAxis.options.min)&&xAxis.min<=xAxis.dataMin||xAxis.min===xAxis.dataMin){xAxis.min=Math.min(groupedXData[0],xAxis.min)}xAxis.dataMin=Math.min(groupedXData[0],xAxis.dataMin)}if(defined(groupedXData[groupedXData.length-1])&&DataGroupingSeriesComposition_isNumber(xAxis.max)&&DataGroupingSeriesComposition_isNumber(xAxis.dataMax)&&groupedXData[groupedXData.length-1]>xAxis.max){if(!defined(xAxis.options.max)&&DataGroupingSeriesComposition_isNumber(xAxis.dataMax)&&xAxis.max>=xAxis.dataMax||xAxis.max===xAxis.dataMax){xAxis.max=Math.max(groupedXData[groupedXData.length-1],xAxis.max)}xAxis.dataMax=Math.max(groupedXData[groupedXData.length-1],xAxis.dataMax)}}function anchorPoints(series,groupedXData,xMax){var options=series.options,dataGroupingOptions=options.dataGrouping,totalRange=series.currentDataGrouping&&series.currentDataGrouping.gapSize,xData=series.getColumn("x");if(!(dataGroupingOptions&&xData.length&&totalRange&&series.groupMap)){return}var groupedDataLastIndex=groupedXData.length-1,anchor=dataGroupingOptions.anchor,firstAnchor=dataGroupingOptions.firstAnchor,lastAnchor=dataGroupingOptions.lastAnchor;var anchorIndexIterator=groupedXData.length-1,anchorFirstIndex=0;if(firstAnchor&&xData[0]>=groupedXData[0]){anchorFirstIndex++;var groupStart=series.groupMap[0].start,groupLength=series.groupMap[0].length;var firstGroupEnd=void 0;if(DataGroupingSeriesComposition_isNumber(groupStart)&&DataGroupingSeriesComposition_isNumber(groupLength)){firstGroupEnd=groupStart+(groupLength-1)}groupedXData[0]={start:groupedXData[0],middle:groupedXData[0]+.5*totalRange,end:groupedXData[0]+totalRange,firstPoint:xData[0],lastPoint:firstGroupEnd&&xData[firstGroupEnd]}[firstAnchor]}if(groupedDataLastIndex>0&&lastAnchor&&totalRange&&groupedXData[groupedDataLastIndex]>=xMax-totalRange){anchorIndexIterator--;var lastGroupStart=series.groupMap[series.groupMap.length-1].start;groupedXData[groupedDataLastIndex]={start:groupedXData[groupedDataLastIndex],middle:groupedXData[groupedDataLastIndex]+.5*totalRange,end:groupedXData[groupedDataLastIndex]+totalRange,firstPoint:lastGroupStart&&xData[lastGroupStart],lastPoint:xData[xData.length-1]}[lastAnchor]}if(anchor&&anchor!=="start"){var shiftInterval=totalRange*{middle:.5,end:1}[anchor];while(anchorIndexIterator>=anchorFirstIndex){groupedXData[anchorIndexIterator]+=shiftInterval;anchorIndexIterator--}}}function DataGroupingSeriesComposition_applyGrouping(hasExtremesChanged){var series=this,chart=series.chart,options=series.options,dataGroupingOptions=options.dataGrouping,groupingEnabled=series.allowDG!==false&&dataGroupingOptions&&DataGroupingSeriesComposition_pick(dataGroupingOptions.enabled,chart.options.isStock),reserveSpace=series.reserveSpace(),lastDataGrouping=this.currentDataGrouping;var currentDataGrouping,croppedData,revertRequireSorting=false;if(groupingEnabled&&!series.requireSorting){series.requireSorting=revertRequireSorting=true}var skip=skipDataGrouping(series,hasExtremesChanged)===false||!groupingEnabled;if(revertRequireSorting){series.requireSorting=false}if(skip){return}series.destroyGroupedData();var table=dataGroupingOptions.groupAll?series.dataTable:series.dataTable.modified||series.dataTable,processedXData=series.getColumn("x",!dataGroupingOptions.groupAll),xData=processedXData,plotSizeX=chart.plotSizeX,xAxis=series.xAxis,extremes=xAxis.getExtremes(),ordinal=xAxis.options.ordinal,groupPixelWidth=series.groupPixelWidth;var i,hasGroupedData;if(groupPixelWidth&&xData&&table.rowCount&&plotSizeX&&DataGroupingSeriesComposition_isNumber(extremes.min)){hasGroupedData=true;series.isDirty=true;series.points=null;var xMin=extremes.min,xMax=extremes.max,groupIntervalFactor=ordinal&&xAxis.ordinal&&xAxis.ordinal.getGroupIntervalFactor(xMin,xMax,series)||1,interval=groupPixelWidth*(xMax-xMin)/plotSizeX*groupIntervalFactor,groupPositions=xAxis.getTimeTicks(Axis_DateTimeAxis.Additions.prototype.normalizeTimeTickInterval(interval,dataGroupingOptions.units||DataGrouping_DataGroupingDefaults.units),Math.min(xMin,xData[0]),Math.max(xMax,xData[xData.length-1]),xAxis.options.startOfWeek,processedXData,series.closestPointRange),groupedData=seriesProto.groupData.apply(series,[table,groupPositions,dataGroupingOptions.approximation]);var modified=groupedData.modified,groupedXData=modified.getColumn("x",true),gapSize=0;if((dataGroupingOptions===null||dataGroupingOptions===void 0?void 0:dataGroupingOptions.smoothed)&&modified.rowCount){dataGroupingOptions.firstAnchor="firstPoint";dataGroupingOptions.anchor="middle";dataGroupingOptions.lastAnchor="lastPoint";error(32,false,chart,{"dataGrouping.smoothed":"use dataGrouping.anchor"})}for(i=1;i<groupPositions.length;i++){if(!groupPositions.info.segmentStarts||groupPositions.info.segmentStarts.indexOf(i)===-1){gapSize=Math.max(groupPositions[i]-groupPositions[i-1],gapSize)}}currentDataGrouping=groupPositions.info;currentDataGrouping.gapSize=gapSize;series.closestPointRange=groupPositions.info.totalRange;series.groupMap=groupedData.groupMap;series.currentDataGrouping=currentDataGrouping;anchorPoints(series,groupedXData||[],xMax);if(reserveSpace&&groupedXData){adjustExtremes(xAxis,groupedXData)}if(dataGroupingOptions.groupAll){series.allGroupedTable=modified;croppedData=series.cropData(modified,xAxis.min||0,xAxis.max||0);modified=croppedData.modified;groupedXData=modified.getColumn("x");series.cropStart=croppedData.start}series.dataTable.modified=modified}else{series.groupMap=void 0;series.currentDataGrouping=void 0}series.hasGroupedData=hasGroupedData;series.preventGraphAnimation=(lastDataGrouping&&lastDataGrouping.totalRange)!==(currentDataGrouping&&currentDataGrouping.totalRange)}function DataGroupingSeriesComposition_compose(SeriesClass){var seriesProto=SeriesClass.prototype;if(!seriesProto.applyGrouping){var PointClass=SeriesClass.prototype.pointClass;DataGroupingSeriesComposition_addEvent(PointClass,"update",function(){if(this.dataGroup){error(24,false,this.series.chart);return false}});DataGroupingSeriesComposition_addEvent(SeriesClass,"afterSetOptions",onAfterSetOptions);DataGroupingSeriesComposition_addEvent(SeriesClass,"destroy",destroyGroupedData);DataGroupingSeriesComposition_extend(seriesProto,{applyGrouping:DataGroupingSeriesComposition_applyGrouping,destroyGroupedData:destroyGroupedData,generatePoints:generatePoints,getDGApproximation:getDGApproximation,groupData:groupData})}}function destroyGroupedData(){if(this.groupedData){this.groupedData.forEach(function(point,i){if(point){this.groupedData[i]=point.destroy?point.destroy():null}},this);this.groupedData.length=0;delete this.allGroupedTable}}function generatePoints(){baseGeneratePoints.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null}function getDGApproximation(){if(this.is("arearange")){return"range"}if(this.is("ohlc")){return"ohlc"}if(this.is("hlc")){return"hlc"}if(this.is("column")||this.options.cumulative){return"sum"}return"average"}function groupData(table,groupPositions,approximation){var xData=table.getColumn("x",true)||[],yData=table.getColumn("y",true),series=this,data=series.data,dataOptions=series.options&&series.options.data,groupedXData=[],modified=new Data_DataTableCore,groupMap=[],dataLength=table.rowCount,handleYData=!!yData,values=[],pointArrayMap=series.pointArrayMap,pointArrayMapLength=pointArrayMap&&pointArrayMap.length,extendedPointArrayMap=["x"].concat(pointArrayMap||["y"]),valueColumns=(pointArrayMap||["y"]).map(function(){return[]}),groupAll=this.options.dataGrouping&&this.options.dataGrouping.groupAll;var pointX,pointY,groupedY,pos=0,start=0;var approximationFn=typeof approximation==="function"?approximation:approximation&&DataGrouping_ApproximationRegistry[approximation]?DataGrouping_ApproximationRegistry[approximation]:DataGrouping_ApproximationRegistry[series.getDGApproximation&&series.getDGApproximation()||"average"];if(pointArrayMapLength){var len=pointArrayMap.length;while(len--){values.push([])}}else{values.push([])}var valuesLen=pointArrayMapLength||1;for(var i=0;i<=dataLength;i++){if(xData[i]<groupPositions[0]){continue}while(typeof groupPositions[pos+1]!=="undefined"&&xData[i]>=groupPositions[pos+1]||i===dataLength){pointX=groupPositions[pos];series.dataGroupInfo={start:groupAll?start:series.cropStart+start,length:values[0].length,groupStart:pointX};groupedY=approximationFn.apply(series,values);if(series.pointClass&&!defined(series.dataGroupInfo.options)){series.dataGroupInfo.options=DataGroupingSeriesComposition_merge(series.pointClass.prototype.optionsToObject.call({series:series},series.options.data[series.cropStart+start]));extendedPointArrayMap.forEach(function(key){delete series.dataGroupInfo.options[key]})}if(typeof groupedY!=="undefined"){groupedXData.push(pointX);var groupedValuesArr=splat(groupedY);for(var j=0;j<groupedValuesArr.length;j++){valueColumns[j].push(groupedValuesArr[j])}groupMap.push(series.dataGroupInfo)}start=i;for(var j=0;j<valuesLen;j++){values[j].length=0;values[j].hasNulls=false}pos+=1;if(i===dataLength){break}}if(i===dataLength){break}if(pointArrayMap){var index=groupAll?i:series.cropStart+i,point=data&&data[index]||series.pointClass.prototype.applyOptions.apply({series:series},[dataOptions[index]]);var val=void 0;for(var j=0;j<pointArrayMapLength;j++){val=point[pointArrayMap[j]];if(DataGroupingSeriesComposition_isNumber(val)){values[j].push(val)}else if(val===null){values[j].hasNulls=true}}}else{pointY=handleYData?yData[i]:null;if(DataGroupingSeriesComposition_isNumber(pointY)){values[0].push(pointY)}else if(pointY===null){values[0].hasNulls=true}}}var columns={x:groupedXData};(pointArrayMap||["y"]).forEach(function(key,i){columns[key]=valueColumns[i]});modified.setColumns(columns);return{groupMap:groupMap,modified:modified}}function onAfterSetOptions(e){var options=e.options,type=this.type,plotOptions=this.chart.options.plotOptions,baseOptions=this.useCommonDataGrouping&&DataGrouping_DataGroupingDefaults.common,seriesSpecific=DataGrouping_DataGroupingDefaults.seriesSpecific;var defaultOptions=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defaultOptions.plotOptions[type].dataGrouping;if(plotOptions&&(seriesSpecific[type]||baseOptions)){var rangeSelector=this.chart.rangeSelector;if(!defaultOptions){defaultOptions=DataGroupingSeriesComposition_merge(DataGrouping_DataGroupingDefaults.common,seriesSpecific[type])}options.dataGrouping=DataGroupingSeriesComposition_merge(baseOptions,defaultOptions,plotOptions.series&&plotOptions.series.dataGrouping,plotOptions[type].dataGrouping,this.userOptions.dataGrouping,!options.isInternal&&rangeSelector&&DataGroupingSeriesComposition_isNumber(rangeSelector.selected)&&rangeSelector.buttonOptions[rangeSelector.selected].dataGrouping)}}function skipDataGrouping(series,force){return!(series.isCartesian&&!series.isDirty&&!series.xAxis.isDirty&&!series.yAxis.isDirty&&!force)}var DataGroupingSeriesComposition={compose:DataGroupingSeriesComposition_compose,groupData:groupData};var DataGrouping_DataGroupingSeriesComposition=DataGroupingSeriesComposition;var highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_=__webpack_require__(984);var highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_default=__webpack_require__.n(highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_);var format=highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_default().format;var composed=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().composed;var DataGrouping_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,DataGrouping_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,DataGrouping_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,DataGrouping_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,pushUnique=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pushUnique;function DataGrouping_compose(AxisClass,SeriesClass,TooltipClass){DataGrouping_DataGroupingAxisComposition.compose(AxisClass);DataGrouping_DataGroupingSeriesComposition.compose(SeriesClass);if(TooltipClass&&pushUnique(composed,"DataGrouping")){DataGrouping_addEvent(TooltipClass,"headerFormatter",onTooltipHeaderFormatter)}}function onTooltipHeaderFormatter(e){var _a;var chart=this.chart,time=chart.time,point=e.point,series=point.series,options=series.options,tooltipOptions=series.tooltipOptions,dataGroupingOptions=options.dataGrouping,xAxis=series.xAxis;var xDateFormat=tooltipOptions.xDateFormat||"",xDateFormatEnd,currentDataGrouping,dateTimeLabelFormats,labelFormats,formattedKey,formatString=tooltipOptions[e.isFooter?"footerFormat":"headerFormat"];if(xAxis&&xAxis.options.type==="datetime"&&dataGroupingOptions&&DataGrouping_isNumber(point.key)){currentDataGrouping=series.currentDataGrouping;dateTimeLabelFormats=dataGroupingOptions.dateTimeLabelFormats||DataGrouping_DataGroupingDefaults.common.dateTimeLabelFormats;if(currentDataGrouping){labelFormats=dateTimeLabelFormats[currentDataGrouping.unitName];if(currentDataGrouping.count===1){xDateFormat=labelFormats[0]}else{xDateFormat=labelFormats[1];xDateFormatEnd=labelFormats[2]}}else if(!xDateFormat&&dateTimeLabelFormats&&xAxis.dateTime){xDateFormat=xAxis.dateTime.getXDateFormat(point.x,tooltipOptions.dateTimeLabelFormats)}var groupStart=DataGrouping_pick((_a=series.groupMap)===null||_a===void 0?void 0:_a[point.index].groupStart,point.key),groupEnd=groupStart+((currentDataGrouping===null||currentDataGrouping===void 0?void 0:currentDataGrouping.totalRange)||0)-1;formattedKey=time.dateFormat(xDateFormat,groupStart);if(xDateFormatEnd){formattedKey+=time.dateFormat(xDateFormatEnd,groupEnd)}if(series.chart.styledMode){formatString=this.styledModeFormat(formatString)}e.text=format(formatString,{point:DataGrouping_extend(point,{key:formattedKey}),series:series},chart);e.preventDefault()}}var DataGroupingComposition={compose:DataGrouping_compose,groupData:DataGrouping_DataGroupingSeriesComposition.groupData};var DataGrouping=DataGroupingComposition;"";"";var G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();G.dataGrouping=G.dataGrouping||{};G.dataGrouping.approximationDefaults=G.dataGrouping.approximationDefaults||DataGrouping_ApproximationDefaults;G.dataGrouping.approximations=G.dataGrouping.approximations||DataGrouping_ApproximationRegistry;DataGrouping.compose(G.Axis,G.Series,G.Tooltip);var datagrouping_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__}()});