(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("highcharts"));else if(typeof define==="function"&&define.amd)define("highcharts/modules/draggable-points",[["highcharts/highcharts"]],factory);else if(typeof exports==="object")exports["highcharts/modules/draggable-points"]=factory(require("highcharts"));else root["Highcharts"]=factory(root["Highcharts"])})(this,function(__WEBPACK_EXTERNAL_MODULE__944__){return function(){"use strict";var __webpack_modules__={944:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,{a:getter});return getter}}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return draggable_points_src}});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent;function addEvents(el,types,fn,options){var removeFuncs=types.map(function(type){return addEvent(el,type,fn,options)});return function(){for(var _i=0,removeFuncs_1=removeFuncs;_i<removeFuncs_1.length;_i++){var fn_1=removeFuncs_1[_i];fn_1()}}}function countProps(obj){return Object.keys(obj).length}function getFirstProp(obj){for(var p in obj){if(Object.hasOwnProperty.call(obj,p)){return obj[p]}}}function getNormalizedEvent(e,chart){var _a;return typeof e.chartX==="undefined"||typeof e.chartY==="undefined"?((_a=chart.pointer)===null||_a===void 0?void 0:_a.normalize(e))||e:e}var DragDropUtilities={addEvents:addEvents,countProps:countProps,getFirstProp:getFirstProp,getNormalizedEvent:getNormalizedEvent};var DraggablePoints_DragDropUtilities=DragDropUtilities;var DragDropDefaults={dragSensitivity:2,dragHandle:{className:"highcharts-drag-handle",color:"#fff",lineColor:"rgba(0, 0, 0, 0.6)",lineWidth:1,zIndex:901},guideBox:{default:{className:"highcharts-drag-box-default",lineWidth:1,lineColor:"#888",color:"rgba(0, 0, 0, 0.1)",cursor:"move",zIndex:900}}};var DraggablePoints_DragDropDefaults=DragDropDefaults;var animObject=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().animObject;var DraggableChart_addEvents=DraggablePoints_DragDropUtilities.addEvents,DraggableChart_countProps=DraggablePoints_DragDropUtilities.countProps,DraggableChart_getFirstProp=DraggablePoints_DragDropUtilities.getFirstProp,DraggableChart_getNormalizedEvent=DraggablePoints_DragDropUtilities.getNormalizedEvent;var doc=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().doc;var DraggableChart_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;function addDragDropEvents(chart){var container=chart.container;if(isChartDraggable(chart)){DraggableChart_addEvents(container,["mousedown","touchstart"],function(e){mouseDown(DraggableChart_getNormalizedEvent(e,chart),chart)});DraggableChart_addEvents(container,["mousemove","touchmove"],function(e){mouseMove(DraggableChart_getNormalizedEvent(e,chart),chart)},{passive:false});DraggableChart_addEvent(container,"mouseleave",function(e){mouseUp(DraggableChart_getNormalizedEvent(e,chart),chart)});chart.unbindDragDropMouseUp=DraggableChart_addEvents(doc,["mouseup","touchend"],function(e){mouseUp(DraggableChart_getNormalizedEvent(e,chart),chart)},{passive:false});chart.hasAddedDragDropEvents=true;DraggableChart_addEvent(chart,"destroy",function(){if(chart.unbindDragDropMouseUp){chart.unbindDragDropMouseUp()}})}}function chartHideDragHandles(){var chart=this,dragHandles=chart.dragHandles||{};if(dragHandles){for(var _i=0,_a=Object.keys(dragHandles);_i<_a.length;_i++){var key=_a[_i];if(dragHandles[key].destroy){dragHandles[key].destroy()}}delete chart.dragHandles}}function chartSetGuideBoxState(state,options){var guideBox=this.dragGuideBox,guideBoxOptions=merge(DraggablePoints_DragDropDefaults.guideBox,options),stateOptions=merge(guideBoxOptions["default"],guideBoxOptions[state]);return guideBox.attr({class:stateOptions.className,stroke:stateOptions.lineColor,strokeWidth:stateOptions.lineWidth,fill:stateOptions.color,cursor:stateOptions.cursor,zIndex:stateOptions.zIndex}).css({pointerEvents:"none"})}function chartZoomOrPanKeyPressed(e){var chart=this,chartOptions=chart.options.chart||{},panKey=chartOptions.panKey&&chartOptions.panKey+"Key",zoomKey=chart.zooming.key&&chart.zooming.key+"Key";return e[zoomKey]||e[panKey]}function compose(ChartClass){var chartProto=ChartClass.prototype;if(!chartProto.hideDragHandles){chartProto.hideDragHandles=chartHideDragHandles;chartProto.setGuideBoxState=chartSetGuideBoxState;chartProto.zoomOrPanKeyPressed=chartZoomOrPanKeyPressed;DraggableChart_addEvent(ChartClass,"render",onChartRender)}}function dragMove(e,point){var series=point.series,chart=series.chart,data=chart.dragDropData,options=merge(series.options.dragDrop,point.options.dragDrop),draggableX=options.draggableX,draggableY=options.draggableY,origin=data.origin,updateProp=data.updateProp;var dX=e.chartX-origin.chartX,dY=e.chartY-origin.chartY;var oldDx=dX;if(chart.inverted){dX=-dY;dY=-oldDx}if(pick(options.liveRedraw,true)){updatePoints(chart,false);point.showDragHandles()}else{if(updateProp){resizeGuideBox(point,dX,dY)}else{chart.dragGuideBox.translate(draggableX?dX:0,draggableY?dY:0)}}origin.prevdX=dX;origin.prevdY=dY}function flipResizeSide(side){return{left:"right",right:"left",top:"bottom",bottom:"top"}[side]}function getGroupedPoints(point){var series=point.series,data=series.options.data||[],groupKey=series.options.dragDrop.groupBy;var points=[];if(series.boosted&&isArray(data)){for(var i=0,iEnd=data.length;i<iEnd;++i){points.push(new series.pointClass(series,data[i]));points[points.length-1].index=i}}else{points=series.points}return point.options[groupKey]?points.filter(function(comparePoint){return comparePoint.options[groupKey]===point.options[groupKey]}):[point]}function getNewPoints(dragDropData,newPos){var point=dragDropData.point,series=point.series,chart=series.chart,options=merge(series.options.dragDrop,point.options.dragDrop),updateProps={},resizeProp=dragDropData.updateProp,hashmap={},dragDropProps=point.series.dragDropProps;for(var key in dragDropProps){var val=dragDropProps[key];if(resizeProp&&(resizeProp!==key||!val.resize||val.optionName&&options[val.optionName]===false)){continue}if(resizeProp||val.move&&(val.axis==="x"&&options.draggableX||val.axis==="y"&&options.draggableY)){if(chart.mapView){updateProps[key==="x"?"lon":"lat"]=val}else{updateProps[key]=val}}}for(var _i=0,_a=resizeProp?[point]:dragDropData.groupedPoints;_i<_a.length;_i++){var p=_a[_i];hashmap[p.id]={point:p,newValues:p.getDropValues(dragDropData.origin,newPos,updateProps)}}return hashmap}function getPositionSnapshot(e,points,guideBox){var res={chartX:e.chartX,chartY:e.chartY,guideBox:guideBox&&{x:guideBox.attr("x"),y:guideBox.attr("y"),width:guideBox.attr("width"),height:guideBox.attr("height")},points:{}};for(var _i=0,points_1=points;_i<points_1.length;_i++){var point=points_1[_i];var dragDropProps=point.series.dragDropProps||{},pointProps={};for(var _a=0,_b=Object.keys(dragDropProps);_a<_b.length;_a++){var key=_b[_a];var val=dragDropProps[key],axis=point.series[val.axis+"Axis"];pointProps[key]=point[key];if(point.series.chart.mapView&&point.plotX&&point.plotY){pointProps[key+"Offset"]=key==="x"?point.plotX:point.plotY}else{pointProps[key+"Offset"]=axis.toPixels(point[key])-(axis.horiz?e.chartX:e.chartY)}}pointProps.point=point;res.points[point.id]=pointProps}return res}function hasDraggedPastSensitivity(e,chart,sensitivity){var orig=chart.dragDropData.origin,oldX=orig.chartX,oldY=orig.chartY,newX=e.chartX,newY=e.chartY,distance=Math.sqrt((newX-oldX)*(newX-oldX)+(newY-oldY)*(newY-oldY));return distance>sensitivity}function initDragDrop(e,point){var groupedPoints=getGroupedPoints(point),series=point.series,chart=series.chart;var guideBox;if(!pick(series.options.dragDrop&&series.options.dragDrop.liveRedraw,true)){chart.dragGuideBox=guideBox=series.getGuideBox(groupedPoints);chart.setGuideBoxState("default",series.options.dragDrop.guideBox).add(series.group)}chart.dragDropData={origin:getPositionSnapshot(e,groupedPoints,guideBox),point:point,groupedPoints:groupedPoints,isDragging:true}}function isChartDraggable(chart){var i=chart.series?chart.series.length:0;if(chart.hasCartesianSeries&&!chart.polar||chart.mapView){while(i--){if(chart.series[i].options.dragDrop&&isSeriesDraggable(chart.series[i])){return true}}}return false}function isPointMovable(point){var series=point.series,chart=series.chart,seriesDragDropOptions=series.options.dragDrop||{},pointDragDropOptions=point.options&&point.options.dragDrop,updateProps=series.dragDropProps;var p,hasMovableX,hasMovableY;for(var key in updateProps){p=updateProps[key];if(p.axis==="x"&&p.move){hasMovableX=true}else if(p.axis==="y"&&p.move){hasMovableY=true}}return(seriesDragDropOptions.draggableX&&hasMovableX||seriesDragDropOptions.draggableY&&hasMovableY)&&!(pointDragDropOptions&&pointDragDropOptions.draggableX===false&&pointDragDropOptions.draggableY===false)&&(!!(series.yAxis&&series.xAxis)||chart.mapView)}function isSeriesDraggable(series){var props=["draggableX","draggableY"],dragDropProps=series.dragDropProps||{};var val;for(var _i=0,_a=Object.keys(dragDropProps);_i<_a.length;_i++){var key=_a[_i];val=dragDropProps[key];if(val.optionName){props.push(val.optionName)}}var i=props.length;while(i--){if(series.options.dragDrop[props[i]]){return true}}}function mouseDown(e,chart){var dragPoint=chart.hoverPoint,dragDropOptions=merge(dragPoint&&dragPoint.series.options.dragDrop,dragPoint&&dragPoint.options.dragDrop),draggableX=dragDropOptions.draggableX||false,draggableY=dragDropOptions.draggableY||false;chart.cancelClick=false;if(!(draggableX||draggableY)||chart.zoomOrPanKeyPressed(e)||chart.hasDraggedAnnotation){return}if(chart.dragDropData&&chart.dragDropData.isDragging){mouseUp(e,chart);return}if(dragPoint&&isPointMovable(dragPoint)){chart.mouseIsDown=false;initDragDrop(e,dragPoint);dragPoint.firePointEvent("dragStart",e)}}function mouseMove(e,chart){if(chart.zoomOrPanKeyPressed(e)){return}var dragDropData=chart.dragDropData;var point,seriesDragDropOpts,newPoints,numNewPoints=0,newPoint;if(dragDropData&&dragDropData.isDragging&&dragDropData.point.series){point=dragDropData.point;seriesDragDropOpts=point.series.options.dragDrop;e.preventDefault();if(!dragDropData.draggedPastSensitivity){dragDropData.draggedPastSensitivity=hasDraggedPastSensitivity(e,chart,pick(point.options.dragDrop&&point.options.dragDrop.dragSensitivity,seriesDragDropOpts&&seriesDragDropOpts.dragSensitivity,DraggablePoints_DragDropDefaults.dragSensitivity))}if(dragDropData.draggedPastSensitivity){dragDropData.newPoints=getNewPoints(dragDropData,e);newPoints=dragDropData.newPoints;numNewPoints=DraggableChart_countProps(newPoints);newPoint=numNewPoints===1?DraggableChart_getFirstProp(newPoints):null;point.firePointEvent("drag",{origin:dragDropData.origin,newPoints:dragDropData.newPoints,newPoint:newPoint&&newPoint.newValues,newPointId:newPoint&&newPoint.point.id,numNewPoints:numNewPoints,chartX:e.chartX,chartY:e.chartY},function(){dragMove(e,point)})}}}function mouseUp(e,chart){var dragDropData=chart.dragDropData;if(dragDropData&&dragDropData.isDragging&&dragDropData.draggedPastSensitivity&&dragDropData.point.series){var point=dragDropData.point,newPoints=dragDropData.newPoints,numNewPoints=DraggableChart_countProps(newPoints),newPoint=numNewPoints===1?DraggableChart_getFirstProp(newPoints):null;if(chart.dragHandles){chart.hideDragHandles()}e.preventDefault();chart.cancelClick=true;point.firePointEvent("drop",{origin:dragDropData.origin,chartX:e.chartX,chartY:e.chartY,newPoints:newPoints,numNewPoints:numNewPoints,newPoint:newPoint&&newPoint.newValues,newPointId:newPoint&&newPoint.point.id},function(){updatePoints(chart)})}delete chart.dragDropData;if(chart.dragGuideBox){chart.dragGuideBox.destroy();delete chart.dragGuideBox}}function onChartRender(){if(!this.hasAddedDragDropEvents){addDragDropEvents(this)}}function resizeGuideBox(point,dX,dY){var series=point.series,chart=series.chart,dragDropData=chart.dragDropData,resizeProp=series.dragDropProps[dragDropData.updateProp],newPoint=dragDropData.newPoints[point.id].newValues,resizeSide=typeof resizeProp.resizeSide==="function"?resizeProp.resizeSide(newPoint,point):resizeProp.resizeSide;if(resizeProp.beforeResize){resizeProp.beforeResize(chart.dragGuideBox,newPoint,point)}resizeRect(chart.dragGuideBox,resizeProp.axis==="x"&&series.xAxis.reversed||resizeProp.axis==="y"&&series.yAxis.reversed?flipResizeSide(resizeSide):resizeSide,{x:resizeProp.axis==="x"?dX-(dragDropData.origin.prevdX||0):0,y:resizeProp.axis==="y"?dY-(dragDropData.origin.prevdY||0):0})}function resizeRect(rect,updateSide,update){var resizeAttrs;switch(updateSide){case"left":resizeAttrs={x:rect.attr("x")+update.x,width:Math.max(1,rect.attr("width")-update.x)};break;case"right":resizeAttrs={width:Math.max(1,rect.attr("width")+update.x)};break;case"top":resizeAttrs={y:rect.attr("y")+update.y,height:Math.max(1,rect.attr("height")-update.y)};break;case"bottom":resizeAttrs={height:Math.max(1,rect.attr("height")+update.y)};break;default:}rect.attr(resizeAttrs)}function updatePoints(chart,animation){var newPoints=chart.dragDropData.newPoints,animOptions=animObject(animation);chart.isDragDropAnimating=true;var newPoint;for(var _i=0,_a=Object.keys(newPoints);_i<_a.length;_i++){var key=_a[_i];newPoint=newPoints[key];newPoint.point.update(newPoint.newValues,false)}chart.redraw(animOptions);setTimeout(function(){delete chart.isDragDropAnimating;if(chart.hoverPoint&&!chart.dragHandles){chart.hoverPoint.showDragHandles()}},animOptions.duration)}var DraggableChart={compose:compose,flipResizeSide:flipResizeSide,initDragDrop:initDragDrop};var DraggablePoints_DraggableChart=DraggableChart;var __assign=undefined&&undefined.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var DragDropProps_flipResizeSide=DraggablePoints_DraggableChart.flipResizeSide;var isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,DragDropProps_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,DragDropProps_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;var line={x:{axis:"x",move:true},y:{axis:"y",move:true}};var flags=line;var column={x:{axis:"x",move:true},y:{axis:"y",move:false,resize:true,beforeResize:function(guideBox,pointVals,point){var plotThreshold=DragDropProps_pick(point.yBottom,point.series.translatedThreshold),plotY=guideBox.attr("y"),threshold=isNumber(point.stackY)?point.stackY-(point.y||0):point.series.options.threshold||0,y=threshold+pointVals.y;var height,diff;if(point.series.yAxis.reversed?y<threshold:y>=threshold){height=guideBox.attr("height");diff=plotThreshold?plotThreshold-plotY-height:0;guideBox.attr({height:Math.max(0,Math.round(height+diff))})}else{guideBox.attr({y:Math.round(plotY+(plotThreshold?plotThreshold-plotY:0))})}},resizeSide:function(pointVals,point){var chart=point.series.chart,dragHandles=chart.dragHandles,side=pointVals.y>=(point.series.options.threshold||0)?"top":"bottom",flipSide=DragDropProps_flipResizeSide(side);if(dragHandles&&dragHandles[flipSide]){dragHandles[flipSide].destroy();delete dragHandles[flipSide]}return side},handlePositioner:function(point){var bBox=point.shapeArgs||point.graphic&&point.graphic.getBBox()||{},reversed=point.series.yAxis.reversed,threshold=point.series.options.threshold||0,y=point.y||0,bottom=!reversed&&y>=threshold||reversed&&y<threshold;return{x:bBox.x||0,y:bottom?bBox.y||0:(bBox.y||0)+(bBox.height||0)}},handleFormatter:function(point){var shapeArgs=point.shapeArgs||{},radius=shapeArgs.r||0,width=shapeArgs.width||0,centerX=width/2;return[["M",radius,0],["L",centerX-5,0],["A",1,1,0,0,0,centerX+5,0],["A",1,1,0,0,0,centerX-5,0],["M",centerX+5,0],["L",width-radius,0]]}}};var boxplot={x:column.x,low:{optionName:"draggableLow",axis:"y",move:true,resize:true,resizeSide:"bottom",handlePositioner:function(point){return{x:point.shapeArgs.x||0,y:point.lowPlot}},handleFormatter:column.y.handleFormatter,propValidate:function(val,point){return val<=point.q1}},q1:{optionName:"draggableQ1",axis:"y",move:true,resize:true,resizeSide:"bottom",handlePositioner:function(point){return{x:point.shapeArgs.x||0,y:point.q1Plot}},handleFormatter:column.y.handleFormatter,propValidate:function(val,point){return val<=point.median&&val>=point.low}},median:{axis:"y",move:true},q3:{optionName:"draggableQ3",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){return{x:point.shapeArgs.x||0,y:point.q3Plot}},handleFormatter:column.y.handleFormatter,propValidate:function(val,point){return val<=point.high&&val>=point.median}},high:{optionName:"draggableHigh",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){return{x:point.shapeArgs.x||0,y:point.highPlot}},handleFormatter:column.y.handleFormatter,propValidate:function(val,point){return val>=point.q3}}};var errorbar={x:column.x,low:__assign(__assign({},boxplot.low),{propValidate:function(val,point){return val<=point.high}}),high:__assign(__assign({},boxplot.high),{propValidate:function(val,point){return val>=point.low}})};var bullet={x:column.x,y:column.y,target:{optionName:"draggableTarget",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){var bBox=point.targetGraphic.getBBox();return{x:point.barX,y:bBox.y+bBox.height/2}},handleFormatter:column.y.handleFormatter}};var ohlc={x:column.x,low:{optionName:"draggableLow",axis:"y",move:true,resize:true,resizeSide:"bottom",handlePositioner:function(point){return{x:point.shapeArgs.x,y:point.plotLow}},handleFormatter:column.y.handleFormatter,propValidate:function(val,point){return val<=point.open&&val<=point.close}},high:{optionName:"draggableHigh",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){return{x:point.shapeArgs.x,y:point.plotHigh}},handleFormatter:column.y.handleFormatter,propValidate:function(val,point){return val>=point.open&&val>=point.close}},open:{optionName:"draggableOpen",axis:"y",move:true,resize:true,resizeSide:function(point){return point.open>=point.close?"top":"bottom"},handlePositioner:function(point){return{x:point.shapeArgs.x,y:point.plotOpen}},handleFormatter:column.y.handleFormatter,propValidate:function(val,point){return val<=point.high&&val>=point.low}},close:{optionName:"draggableClose",axis:"y",move:true,resize:true,resizeSide:function(point){return point.open>=point.close?"bottom":"top"},handlePositioner:function(point){return{x:point.shapeArgs.x,y:point.plotClose}},handleFormatter:column.y.handleFormatter,propValidate:function(val,point){return val<=point.high&&val>=point.low}}};var waterfall={x:column.x,y:DragDropProps_merge(column.y,{handleFormatter:function(point){var _a,_b;return point.isSum||point.isIntermediateSum?null:((_b=(_a=column===null||column===void 0?void 0:column.y)===null||_a===void 0?void 0:_a.handleFormatter)===null||_b===void 0?void 0:_b.call(_a,point))||null}})};var columnrange={x:{axis:"x",move:true},low:{optionName:"draggableLow",axis:"y",move:true,resize:true,resizeSide:"bottom",handlePositioner:function(point){var bBox=point.shapeArgs||point.graphic.getBBox();return{x:bBox.x||0,y:(bBox.y||0)+(bBox.height||0)}},handleFormatter:column.y.handleFormatter,propValidate:function(val,point){return val<=point.high}},high:{optionName:"draggableHigh",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){var bBox=point.shapeArgs||point.graphic.getBBox();return{x:bBox.x||0,y:bBox.y||0}},handleFormatter:column.y.handleFormatter,propValidate:function(val,point){return val>=point.low}}};var arearange={x:columnrange.x,low:{optionName:"draggableLow",axis:"y",move:true,resize:true,resizeSide:"bottom",handlePositioner:function(point){var bBox=point.graphics&&point.graphics[0]&&point.graphics[0].getBBox();return bBox?{x:bBox.x+bBox.width/2,y:bBox.y+bBox.height/2}:{x:-999,y:-999}},handleFormatter:arearangeHandleFormatter,propValidate:columnrange.low.propValidate},high:{optionName:"draggableHigh",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){var bBox=point.graphics&&point.graphics[1]&&point.graphics[1].getBBox();return bBox?{x:bBox.x+bBox.width/2,y:bBox.y+bBox.height/2}:{x:-999,y:-999}},handleFormatter:arearangeHandleFormatter,propValidate:columnrange.high.propValidate}};var xrange={y:{axis:"y",move:true},x:{optionName:"draggableX1",axis:"x",move:true,resize:true,resizeSide:"left",handlePositioner:function(point){return xrangeHandlePositioner(point,"x")},handleFormatter:horizHandleFormatter,propValidate:function(val,point){return val<=point.x2}},x2:{optionName:"draggableX2",axis:"x",move:true,resize:true,resizeSide:"right",handlePositioner:function(point){return xrangeHandlePositioner(point,"x2")},handleFormatter:horizHandleFormatter,propValidate:function(val,point){return val>=point.x}}};var gantt={y:xrange.y,start:DragDropProps_merge(xrange.x,{optionName:"draggableStart",validateIndividualDrag:function(point){return!point.milestone}}),end:DragDropProps_merge(xrange.x2,{optionName:"draggableEnd",validateIndividualDrag:function(point){return!point.milestone}})};function arearangeHandleFormatter(point){var radius=point.graphic?point.graphic.getBBox().width/2+1:4;return[["M",0-radius,0],["a",radius,radius,0,1,0,radius*2,0],["a",radius,radius,0,1,0,radius*-2,0]]}function horizHandleFormatter(point){var shapeArgs=point.shapeArgs||point.graphic.getBBox(),top=shapeArgs.r||0,bottom=shapeArgs.height-top,centerY=shapeArgs.height/2;return[["M",0,top],["L",0,centerY-5],["A",1,1,0,0,0,0,centerY+5],["A",1,1,0,0,0,0,centerY-5],["M",0,centerY+5],["L",0,bottom]]}function xrangeHandlePositioner(point,xProp){var series=point.series,xAxis=series.xAxis,yAxis=series.yAxis,inverted=series.chart.inverted,offsetY=series.columnMetrics?series.columnMetrics.offset:-point.shapeArgs.height/2;var newX=xAxis.toPixels(point[xProp],true),newY=yAxis.toPixels(point.y,true);if(inverted){newX=xAxis.len-newX;newY=yAxis.len-newY}newY+=offsetY;return{x:Math.round(newX),y:Math.round(newY)}}var DragDropProps={arearange:arearange,boxplot:boxplot,bullet:bullet,column:column,columnrange:columnrange,errorbar:errorbar,flags:flags,gantt:gantt,line:line,ohlc:ohlc,waterfall:waterfall,xrange:xrange};var DraggablePoints_DragDropProps=DragDropProps;var DraggablePoints_addEvents=DraggablePoints_DragDropUtilities.addEvents,DraggablePoints_getNormalizedEvent=DraggablePoints_DragDropUtilities.getNormalizedEvent;var DraggablePoints_initDragDrop=DraggablePoints_DraggableChart.initDragDrop;var DraggablePoints_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,clamp=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().clamp,DraggablePoints_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,DraggablePoints_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;function DraggablePoints_compose(ChartClass,SeriesClass){DraggablePoints_DraggableChart.compose(ChartClass);var seriesProto=SeriesClass.prototype;if(!seriesProto.dragDropProps){var PointClass=SeriesClass.prototype.pointClass,seriesTypes=SeriesClass.types,pointProto=PointClass.prototype;pointProto.getDropValues=pointGetDropValues;pointProto.showDragHandles=pointShowDragHandles;DraggablePoints_addEvent(PointClass,"mouseOut",onPointMouseOut);DraggablePoints_addEvent(PointClass,"mouseOver",onPointMouseOver);DraggablePoints_addEvent(PointClass,"remove",onPointRemove);seriesProto.dragDropProps=DraggablePoints_DragDropProps.line;seriesProto.getGuideBox=seriesGetGuideBox;var seriesWithDragDropProps=["arearange","boxplot","bullet","column","columnrange","errorbar","flags","gantt","ohlc","waterfall","xrange"];for(var _i=0,seriesWithDragDropProps_1=seriesWithDragDropProps;_i<seriesWithDragDropProps_1.length;_i++){var seriesType=seriesWithDragDropProps_1[_i];if(seriesTypes[seriesType]){seriesTypes[seriesType].prototype.dragDropProps=DraggablePoints_DragDropProps[seriesType]}}var seriesWithoutDragDropProps=["bellcurve","gauge","histogram","map","mapline","pareto","pie","sankey","sma","sunburst","treemap","vector","windbarb","wordcloud"];for(var _a=0,seriesWithoutDragDropProps_1=seriesWithoutDragDropProps;_a<seriesWithoutDragDropProps_1.length;_a++){var seriesType=seriesWithoutDragDropProps_1[_a];if(seriesTypes[seriesType]){seriesTypes[seriesType].prototype.dragDropProps=null}}}}function mouseOut(point){var chart=point.series&&point.series.chart,dragDropData=chart&&chart.dragDropData;if(chart&&chart.dragHandles&&!(dragDropData&&(dragDropData.isDragging&&dragDropData.draggedPastSensitivity||dragDropData.isHoveringHandle===point.id))){chart.hideDragHandles()}}function mouseOver(point){var series=point.series,chart=series&&series.chart,dragDropData=chart&&chart.dragDropData,is3d=chart&&chart.is3d&&chart.is3d();if(chart&&!(dragDropData&&dragDropData.isDragging&&dragDropData.draggedPastSensitivity)&&!chart.isDragDropAnimating&&series.options.dragDrop&&!is3d){if(chart.dragHandles){chart.hideDragHandles()}point.showDragHandles()}}function onPointMouseOut(){var point=this;setTimeout(function(){if(point.series){mouseOut(point)}},10)}function onPointMouseOver(){var point=this;setTimeout(function(){return mouseOver(point)},12)}function onPointRemove(){var chart=this.series.chart,dragHandles=chart.dragHandles;if(dragHandles&&dragHandles.point===this.id){chart.hideDragHandles()}}function onResizeHandleMouseOut(point){var chart=point.series.chart;if(chart.dragDropData&&point.id===chart.dragDropData.isHoveringHandle){delete chart.dragDropData.isHoveringHandle}if(!chart.hoverPoint){mouseOut(point)}}function onResizeHandleMouseDown(e,point,updateProp){var chart=point.series.chart;if(chart.zoomOrPanKeyPressed(e)){return}chart.mouseIsDown=false;DraggablePoints_initDragDrop(e,point);chart.dragDropData.updateProp=e.updateProp=updateProp;point.firePointEvent("dragStart",e);e.stopPropagation();e.preventDefault()}function pointGetDropValues(origin,newPos,updateProps){var point=this,series=point.series,chart=series.chart,mapView=chart.mapView,options=DraggablePoints_merge(series.options.dragDrop,point.options.dragDrop),result={},pointOrigin=origin.points[point.id],updateSingleProp=Object.keys(updateProps).length===1;var limitToRange=function(val,dir){var _a,_b,_c;var direction=dir.toUpperCase(),time=series.chart.time,defaultPrecision=series[""+dir+"Axis"].categories?1:0,precision=(_a=options["dragPrecision".concat(direction)])!==null&&_a!==void 0?_a:defaultPrecision,min=(_b=time.parse(options["dragMin".concat(direction)]))!==null&&_b!==void 0?_b:-Infinity,max=(_c=time.parse(options["dragMax".concat(direction)]))!==null&&_c!==void 0?_c:Infinity;var res=val;if(precision){res=Math.round(res/precision)*precision}return clamp(res,min,max)};var limitToMapRange=function(newPos,dir,key){var _a,_b,_c,_d,_e;if(mapView){var direction=dir.toUpperCase(),precision=(_a=options["dragPrecision".concat(direction)])!==null&&_a!==void 0?_a:0,lonLatMin=mapView.pixelsToLonLat({x:0,y:0}),lonLatMax=mapView.pixelsToLonLat({x:chart.plotBox.width,y:chart.plotBox.height});var min=(_c=(_b=options["dragMin".concat(direction)])!==null&&_b!==void 0?_b:lonLatMin===null||lonLatMin===void 0?void 0:lonLatMin[key])!==null&&_c!==void 0?_c:-Infinity,max=(_e=(_d=options["dragMax".concat(direction)])!==null&&_d!==void 0?_d:lonLatMax===null||lonLatMax===void 0?void 0:lonLatMax[key])!==null&&_e!==void 0?_e:Infinity,res=newPos[key];if(mapView.projection.options.name==="Orthographic"){return res}if(key==="lat"){if(isNaN(min)||min>mapView.projection.maxLatitude){min=mapView.projection.maxLatitude}if(isNaN(max)||max<-1*mapView.projection.maxLatitude){max=-1*mapView.projection.maxLatitude}var temp=max;max=min;min=temp}if(!mapView.projection.hasCoordinates){var lonLatRes=mapView.pixelsToLonLat({x:newPos.chartX-chart.plotLeft,y:chart.plotHeight-newPos.chartY+chart.plotTop});if(lonLatRes){res=lonLatRes[key]}}if(precision){res=Math.round(res/precision)*precision}return clamp(res,min,max)}};for(var _i=0,_a=Object.keys(updateProps);_i<_a.length;_i++){var key=_a[_i];var val=updateProps[key],oldVal=pointOrigin.point[key],axis=series[val.axis+"Axis"],newVal=mapView?limitToMapRange(newPos,val.axis,key):limitToRange(axis.toValue((axis.horiz?newPos.chartX:newPos.chartY)+pointOrigin[key+"Offset"]),val.axis);if(DraggablePoints_isNumber(newVal)&&!(updateSingleProp&&val.propValidate&&!val.propValidate(newVal,point))&&typeof oldVal!=="undefined"){result[key]=newVal}}return result}function pointShowDragHandles(){var point=this,series=point.series,chart=series.chart,inverted=chart.inverted,renderer=chart.renderer,options=DraggablePoints_merge(series.options.dragDrop,point.options.dragDrop),dragDropProps=series.dragDropProps||{};var dragHandles=chart.dragHandles;var _loop_1=function(key){var val=dragDropProps[key],handleOptions=DraggablePoints_merge(DraggablePoints_DragDropDefaults.dragHandle,val.handleOptions,options.dragHandle),handleAttrs={class:handleOptions.className,"stroke-width":handleOptions.lineWidth,fill:handleOptions.color,stroke:handleOptions.lineColor},pathFormatter=handleOptions.pathFormatter||val.handleFormatter,handlePositioner=val.handlePositioner,validate=val.validateIndividualDrag?val.validateIndividualDrag(point):true;var pos=void 0,handle=void 0,path=void 0;if(val.resize&&validate&&val.resizeSide&&pathFormatter&&(options["draggable"+val.axis.toUpperCase()]||options[val.optionName])&&options[val.optionName]!==false){if(!dragHandles){dragHandles=chart.dragHandles={group:renderer.g("drag-drop-handles").add(series.markerGroup||series.group),point:point.id}}else{dragHandles.point=point.id}pos=handlePositioner(point);handleAttrs.d=path=pathFormatter(point);var minEdge=point.series.xAxis.categories?-.5:0;if(!path||pos.x<minEdge||pos.y<0){return{value:void 0}}handleAttrs.cursor=handleOptions.cursor||(val.axis==="x"!==!!inverted?"ew-resize":"ns-resize");handle=dragHandles[val.optionName];if(!handle){handle=dragHandles[val.optionName]=renderer.path().add(dragHandles.group)}handleAttrs.translateX=inverted?series.yAxis.len-pos.y:pos.x;handleAttrs.translateY=inverted?series.xAxis.len-pos.x:pos.y;if(inverted){handleAttrs.rotation=-90}handle.attr(handleAttrs);DraggablePoints_addEvents(handle.element,["touchstart","mousedown"],function(e){onResizeHandleMouseDown(DraggablePoints_getNormalizedEvent(e,chart),point,key)},{passive:false});DraggablePoints_addEvent(dragHandles.group.element,"mouseover",function(){chart.dragDropData=chart.dragDropData||{};chart.dragDropData.isHoveringHandle=point.id});DraggablePoints_addEvents(dragHandles.group.element,["touchend","mouseout"],function(){onResizeHandleMouseOut(point)})}};for(var _i=0,_a=Object.keys(dragDropProps);_i<_a.length;_i++){var key=_a[_i];var state_1=_loop_1(key);if(typeof state_1==="object")return state_1.value}}function seriesGetGuideBox(points){var chart=this.chart;var minX=Infinity,maxX=-Infinity,minY=Infinity,maxY=-Infinity,changed;for(var _i=0,points_1=points;_i<points_1.length;_i++){var point=points_1[_i];var bBox=point.graphic&&point.graphic.getBBox()||point.shapeArgs;if(bBox){var plotX2=void 0;var x2=point.x2;if(DraggablePoints_isNumber(x2)){plotX2=point.series.xAxis.translate(x2,false,false,false,true)}var skipBBox=!(bBox.width||bBox.height||bBox.x||bBox.y);changed=true;minX=Math.min(point.plotX||0,plotX2||0,skipBBox?Infinity:bBox.x||0,minX);maxX=Math.max(point.plotX||0,plotX2||0,(bBox.x||0)+(bBox.width||0),maxX);minY=Math.min(point.plotY||0,skipBBox?Infinity:bBox.y||0,minY);maxY=Math.max((bBox.y||0)+(bBox.height||0),maxY)}}return changed?chart.renderer.rect(minX,minY,maxX-minX,maxY-minY):chart.renderer.g()}var DraggablePoints={compose:DraggablePoints_compose};var DraggablePoints_DraggablePoints=DraggablePoints;"";var G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();DraggablePoints_DraggablePoints.compose(G.Chart,G.Series);var draggable_points_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__}()});