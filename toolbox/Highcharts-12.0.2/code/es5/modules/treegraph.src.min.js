(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("highcharts"),require("highcharts")["SeriesRegistry"],require("highcharts")["SVGRenderer"],require("highcharts")["Point"],require("highcharts")["Color"],require("highcharts")["SVGElement"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/treegraph",[["highcharts/highcharts"],["highcharts/highcharts","SeriesRegistry"],["highcharts/highcharts","SVGRenderer"],["highcharts/highcharts","Point"],["highcharts/highcharts","Color"],["highcharts/highcharts","SVGElement"]],factory);else if(typeof exports==="object")exports["highcharts/modules/treegraph"]=factory(require("highcharts"),require("highcharts")["SeriesRegistry"],require("highcharts")["SVGRenderer"],require("highcharts")["Point"],require("highcharts")["Color"],require("highcharts")["SVGElement"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["SeriesRegistry"],root["Highcharts"]["SVGRenderer"],root["Highcharts"]["Point"],root["Highcharts"]["Color"],root["Highcharts"]["SVGElement"])})(this,function(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__512__,__WEBPACK_EXTERNAL_MODULE__540__,__WEBPACK_EXTERNAL_MODULE__260__,__WEBPACK_EXTERNAL_MODULE__620__,__WEBPACK_EXTERNAL_MODULE__28__){return function(){"use strict";var __webpack_modules__={620:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__620__},260:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__260__},28:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__28__},540:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__540__},512:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,{a:getter});return getter}}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return treegraph_src}});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var getLinkPath={default:getDefaultPath,straight:getStraightPath,curved:getCurvedPath};function getDefaultPath(pathParams){var x1=pathParams.x1,y1=pathParams.y1,x2=pathParams.x2,y2=pathParams.y2,_a=pathParams.width,width=_a===void 0?0:_a,_b=pathParams.inverted,inverted=_b===void 0?false:_b,radius=pathParams.radius,parentVisible=pathParams.parentVisible;var path=[["M",x1,y1],["L",x1,y1],["C",x1,y1,x1,y2,x1,y2],["L",x1,y2],["C",x1,y1,x1,y2,x1,y2],["L",x1,y2]];return parentVisible?applyRadius([["M",x1,y1],["L",x1+width*(inverted?-.5:.5),y1],["L",x1+width*(inverted?-.5:.5),y2],["L",x2,y2]],radius):path}function getStraightPath(pathParams){var x1=pathParams.x1,y1=pathParams.y1,x2=pathParams.x2,y2=pathParams.y2,_a=pathParams.width,width=_a===void 0?0:_a,_b=pathParams.inverted,inverted=_b===void 0?false:_b,parentVisible=pathParams.parentVisible;return parentVisible?[["M",x1,y1],["L",x1+width*(inverted?-1:1),y2],["L",x2,y2]]:[["M",x1,y1],["L",x1,y2],["L",x1,y2]]}function getCurvedPath(pathParams){var x1=pathParams.x1,y1=pathParams.y1,x2=pathParams.x2,y2=pathParams.y2,_a=pathParams.offset,offset=_a===void 0?0:_a,_b=pathParams.width,width=_b===void 0?0:_b,_c=pathParams.inverted,inverted=_c===void 0?false:_c,parentVisible=pathParams.parentVisible;return parentVisible?[["M",x1,y1],["C",x1+offset,y1,x1-offset+width*(inverted?-1:1),y2,x1+width*(inverted?-1:1),y2],["L",x2,y2]]:[["M",x1,y1],["C",x1,y1,x1,y2,x1,y2],["L",x2,y2]]}function applyRadius(path,r){var d=[];for(var i=0;i<path.length;i++){var x=path[i][1];var y=path[i][2];if(typeof x==="number"&&typeof y==="number"){if(i===0){d.push(["M",x,y])}else if(i===path.length-1){d.push(["L",x,y])}else if(r){var prevSeg=path[i-1];var nextSeg=path[i+1];if(prevSeg&&nextSeg){var x1=prevSeg[1],y1=prevSeg[2],x2=nextSeg[1],y2=nextSeg[2];if(typeof x1==="number"&&typeof x2==="number"&&typeof y1==="number"&&typeof y2==="number"&&x1!==x2&&y1!==y2){var directionX=x1<x2?1:-1,directionY=y1<y2?1:-1;d.push(["L",x-directionX*Math.min(Math.abs(x-x1),r),y-directionY*Math.min(Math.abs(y-y1),r)],["C",x,y,x,y,x+directionX*Math.min(Math.abs(x-x2),r),y+directionY*Math.min(Math.abs(y-y2),r)])}}}else{d.push(["L",x,y])}}}return d}var PathUtilities={applyRadius:applyRadius,getLinkPath:getLinkPath};var Series_PathUtilities=PathUtilities;var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);var highcharts_SVGRenderer_commonjs_highcharts_SVGRenderer_commonjs2_highcharts_SVGRenderer_root_Highcharts_SVGRenderer_=__webpack_require__(540);var highcharts_SVGRenderer_commonjs_highcharts_SVGRenderer_commonjs2_highcharts_SVGRenderer_root_Highcharts_SVGRenderer_default=__webpack_require__.n(highcharts_SVGRenderer_commonjs_highcharts_SVGRenderer_commonjs2_highcharts_SVGRenderer_root_Highcharts_SVGRenderer_);var __extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var TreemapNode=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.treemap.prototype.NodeClass;var TreegraphNode=function(_super){__extends(TreegraphNode,_super);function TreegraphNode(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.mod=0;_this.shift=0;_this.change=0;_this.children=[];_this.preX=0;_this.hidden=false;_this.wasVisited=false;_this.collapsed=false;return _this}TreegraphNode.prototype.nextLeft=function(){return this.getLeftMostChild()||this.thread};TreegraphNode.prototype.nextRight=function(){return this.getRightMostChild()||this.thread};TreegraphNode.prototype.getAncestor=function(leftIntNode,defaultAncestor){var leftAnc=leftIntNode.ancestor;if(leftAnc.children[0]===this.children[0]){return leftIntNode.ancestor}return defaultAncestor};TreegraphNode.prototype.getLeftMostSibling=function(){var parent=this.getParent();if(parent){for(var _i=0,_a=parent.children;_i<_a.length;_i++){var child=_a[_i];if(child&&child.point.visible){return child}}}};TreegraphNode.prototype.hasChildren=function(){var children=this.children;for(var i=0;i<children.length;i++){if(children[i].point.visible){return true}}return false};TreegraphNode.prototype.getLeftSibling=function(){var parent=this.getParent();if(parent){var children=parent.children;for(var i=this.relativeXPosition-1;i>=0;i--){if(children[i]&&children[i].point.visible){return children[i]}}}};TreegraphNode.prototype.getLeftMostChild=function(){var children=this.children;for(var i=0;i<children.length;i++){if(children[i].point.visible){return children[i]}}};TreegraphNode.prototype.getRightMostChild=function(){var children=this.children;for(var i=children.length-1;i>=0;i--){if(children[i].point.visible){return children[i]}}};TreegraphNode.prototype.getParent=function(){return this.parentNode};TreegraphNode.prototype.getFirstChild=function(){var children=this.children;for(var i=0;i<children.length;i++){if(children[i].point.visible){return children[i]}}};return TreegraphNode}(TreemapNode);var Treegraph_TreegraphNode=TreegraphNode;var highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_=__webpack_require__(260);var highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_default=__webpack_require__.n(highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_);var TreegraphPoint_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var TreemapPoint=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.treemap.prototype.pointClass;var addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,fireEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().fireEvent,merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge;var TreegraphPoint=function(_super){TreegraphPoint_extends(TreegraphPoint,_super);function TreegraphPoint(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.dataLabelOnHidden=true;_this.isLink=false;_this.setState=highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_default().prototype.setState;return _this}TreegraphPoint.prototype.draw=function(){_super.prototype.draw.apply(this,arguments);var graphic=this.graphic;if(graphic){graphic.animate({visibility:this.visible?"inherit":"hidden"})}this.renderCollapseButton()};TreegraphPoint.prototype.renderCollapseButton=function(){var point=this,series=point.series,parentGroup=point.graphic&&point.graphic.parentGroup,levelOptions=series.mapOptionsToLevel[point.node.level||0]||{},btnOptions=merge(series.options.collapseButton,levelOptions.collapseButton,point.options.collapseButton),width=btnOptions.width,height=btnOptions.height,shape=btnOptions.shape,style=btnOptions.style,padding=2,chart=this.series.chart,calculatedOpacity=point.visible&&(point.collapsed||!btnOptions.onlyOnHover||point.state==="hover")?1:0;if(!point.shapeArgs){return}this.collapseButtonOptions=btnOptions;if(!point.collapseButton){if(!point.node.children.length||!btnOptions.enabled){return}var _a=this.getCollapseBtnPosition(btnOptions),x=_a.x,y=_a.y,fill=btnOptions.fillColor||point.color||"#cccccc";point.collapseButton=chart.renderer.label(point.collapsed?"+":"-",x,y,shape).attr({height:height-2*padding,width:width-2*padding,padding:padding,fill:fill,rotation:chart.inverted?90:0,rotationOriginX:width/2,rotationOriginY:height/2,stroke:btnOptions.lineColor||"#ffffff","stroke-width":btnOptions.lineWidth,"text-align":"center",align:"center",zIndex:1,opacity:calculatedOpacity,visibility:point.visible?"inherit":"hidden"}).addClass("highcharts-tracker").addClass("highcharts-collapse-button").removeClass("highcharts-no-tooltip").css(merge({color:typeof fill==="string"?chart.renderer.getContrast(fill):"#333333"},style)).add(parentGroup);point.collapseButton.element.point=point}else{if(!point.node.children.length||!btnOptions.enabled){point.collapseButton.destroy();delete point.collapseButton}else{var _b=this.getCollapseBtnPosition(btnOptions),x=_b.x,y=_b.y;point.collapseButton.attr({text:point.collapsed?"+":"-",rotation:chart.inverted?90:0,rotationOriginX:width/2,rotationOriginY:height/2,visibility:point.visible?"inherit":"hidden"}).animate({x:x,y:y,opacity:calculatedOpacity})}}};TreegraphPoint.prototype.toggleCollapse=function(state){var series=this.series;this.update({collapsed:state!==null&&state!==void 0?state:!this.collapsed},false,void 0,false);fireEvent(series,"toggleCollapse");series.redraw()};TreegraphPoint.prototype.destroy=function(){if(this.collapseButton){this.collapseButton.destroy();delete this.collapseButton;this.collapseButton=void 0}if(this.linkToParent){this.linkToParent.destroy();delete this.linkToParent}_super.prototype.destroy.apply(this,arguments)};TreegraphPoint.prototype.getCollapseBtnPosition=function(btnOptions){var point=this,chart=point.series.chart,inverted=chart.inverted,btnWidth=btnOptions.width,btnHeight=btnOptions.height,_a=point.shapeArgs||{},_b=_a.x,x=_b===void 0?0:_b,_c=_a.y,y=_c===void 0?0:_c,_d=_a.width,width=_d===void 0?0:_d,_e=_a.height,height=_e===void 0?0:_e;return{x:x+btnOptions.x+(inverted?-btnHeight*.3:width+btnWidth*-.3),y:y+height/2-btnHeight/2+btnOptions.y}};return TreegraphPoint}(TreemapPoint);addEvent(TreegraphPoint,"mouseOut",function(){var btn=this.collapseButton,btnOptions=this.collapseButtonOptions;if(btn&&(btnOptions===null||btnOptions===void 0?void 0:btnOptions.onlyOnHover)&&!this.collapsed){btn.animate({opacity:0})}});addEvent(TreegraphPoint,"mouseOver",function(){var _a,_b;if(this.collapseButton&&this.visible){this.collapseButton.animate({opacity:1},(_b=(_a=this.series.options.states)===null||_a===void 0?void 0:_a.hover)===null||_b===void 0?void 0:_b.animation)}});addEvent(TreegraphPoint,"click",function(){this.toggleCollapse()});var Treegraph_TreegraphPoint=TreegraphPoint;var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_=__webpack_require__(620);var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default=__webpack_require__.n(highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_);var extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,isObject=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isObject,TreeUtilities_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,relativeLength=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().relativeLength;function getColor(node,options){var index=options.index,mapOptionsToLevel=options.mapOptionsToLevel,parentColor=options.parentColor,parentColorIndex=options.parentColorIndex,series=options.series,colors=options.colors,siblings=options.siblings,points=series.points,chartOptionsChart=series.chart.options.chart;var getColorByPoint,point,level,colorByPoint,colorIndexByPoint,color,colorIndex;var variateColor=function(color){var colorVariation=level&&level.colorVariation;if(colorVariation&&colorVariation.key==="brightness"&&index&&siblings){return highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default().parse(color).brighten(colorVariation.to*(index/siblings)).get()}return color};if(node){point=points[node.i];level=mapOptionsToLevel[node.level]||{};getColorByPoint=point&&level.colorByPoint;if(getColorByPoint){colorIndexByPoint=point.index%(colors?colors.length:chartOptionsChart.colorCount);colorByPoint=colors&&colors[colorIndexByPoint]}if(!series.chart.styledMode){color=pick(point&&point.options.color,level&&level.color,colorByPoint,parentColor&&variateColor(parentColor),series.color)}colorIndex=pick(point&&point.options.colorIndex,level&&level.colorIndex,colorIndexByPoint,parentColorIndex,options.colorIndex)}return{color:color,colorIndex:colorIndex}}function getLevelOptions(params){var result={};var defaults,converted,i,from,to,levels;if(isObject(params)){from=isNumber(params.from)?params.from:1;levels=params.levels;converted={};defaults=isObject(params.defaults)?params.defaults:{};if(isArray(levels)){converted=levels.reduce(function(obj,item){var level,levelIsConstant,options;if(isObject(item)&&isNumber(item.level)){options=TreeUtilities_merge({},item);levelIsConstant=pick(options.levelIsConstant,defaults.levelIsConstant);delete options.levelIsConstant;delete options.level;level=item.level+(levelIsConstant?0:from-1);if(isObject(obj[level])){TreeUtilities_merge(true,obj[level],options)}else{obj[level]=options}}return obj},{})}to=isNumber(params.to)?params.to:1;for(i=0;i<=to;i++){result[i]=TreeUtilities_merge({},defaults,isObject(converted[i])?converted[i]:{})}}return result}function setTreeValues(tree,options){var before=options.before,idRoot=options.idRoot,mapIdToNode=options.mapIdToNode,nodeRoot=mapIdToNode[idRoot],levelIsConstant=options.levelIsConstant!==false,points=options.points,point=points[tree.i],optionsPoint=point&&point.options||{},children=[];var childrenTotal=0;tree.levelDynamic=tree.level-(levelIsConstant?0:nodeRoot.level);tree.name=pick(point&&point.name,"");tree.visible=idRoot===tree.id||options.visible===true;if(typeof before==="function"){tree=before(tree,options)}tree.children.forEach(function(child,i){var newOptions=extend({},options);extend(newOptions,{index:i,siblings:tree.children.length,visible:tree.visible});child=setTreeValues(child,newOptions);children.push(child);if(child.visible){childrenTotal+=child.val}});var value=pick(optionsPoint.value,childrenTotal);tree.visible=value>=0&&(childrenTotal>0||tree.visible);tree.children=children;tree.childrenTotal=childrenTotal;tree.isLeaf=tree.visible&&!childrenTotal;tree.val=value;return tree}function updateRootId(series){var rootId,options;if(isObject(series)){options=isObject(series.options)?series.options:{};rootId=pick(series.rootNode,options.rootId,"");if(isObject(series.userOptions)){series.userOptions.rootId=rootId}series.rootNode=rootId}return rootId}function getNodeWidth(series,columnCount){var chart=series.chart,options=series.options,_a=options.nodeDistance,nodeDistance=_a===void 0?0:_a,_b=options.nodeWidth,nodeWidth=_b===void 0?0:_b,_c=chart.plotSizeX,plotSizeX=_c===void 0?1:_c;if(nodeWidth==="auto"){if(typeof nodeDistance==="string"&&/%$/.test(nodeDistance)){var fraction=parseFloat(nodeDistance)/100,total=columnCount+fraction*(columnCount-1);return plotSizeX/total}var nDistance=Number(nodeDistance);return(plotSizeX+nDistance)/(columnCount||1)-nDistance}return relativeLength(nodeWidth,plotSizeX)}var TreeUtilities={getColor:getColor,getLevelOptions:getLevelOptions,getNodeWidth:getNodeWidth,setTreeValues:setTreeValues,updateRootId:updateRootId};var Series_TreeUtilities=TreeUtilities;var TreegraphLink_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var TreegraphLink_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,TreegraphLink_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend;var ColumnPoint=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.column.prototype.pointClass;var LinkPoint=function(_super){TreegraphLink_extends(LinkPoint,_super);function LinkPoint(series,options,x,point){var _this=_super.call(this,series,options,x)||this;_this.dataLabelOnNull=true;_this.formatPrefix="link";_this.isLink=true;_this.node={};_this.formatPrefix="link";_this.dataLabelOnNull=true;if(point){_this.fromNode=point.node.parentNode.point;_this.visible=point.visible;_this.toNode=point;_this.id=_this.toNode.id+"-"+_this.fromNode.id}return _this}LinkPoint.prototype.update=function(options,redraw,animation,runEvent){var oldOptions={id:this.id,formatPrefix:this.formatPrefix};highcharts_Point_commonjs_highcharts_Point_commonjs2_highcharts_Point_root_Highcharts_Point_default().prototype.update.call(this,options,this.isLink?false:redraw,animation,runEvent);this.visible=this.toNode.visible;TreegraphLink_extend(this,oldOptions);if(TreegraphLink_pick(redraw,true)){this.series.chart.redraw(animation)}};return LinkPoint}(ColumnPoint);var TreegraphLink=LinkPoint;var TreegraphLayout=function(){function TreegraphLayout(){}TreegraphLayout.createDummyNode=function(parent,child,gapSize){var dummyNode=new Treegraph_TreegraphNode;dummyNode.id=parent.id+"-"+gapSize;dummyNode.ancestor=parent;dummyNode.children.push(child);dummyNode.parent=parent.id;dummyNode.parentNode=parent;dummyNode.point=child.point;dummyNode.level=child.level-gapSize;dummyNode.relativeXPosition=child.relativeXPosition;dummyNode.visible=child.visible;parent.children[child.relativeXPosition]=dummyNode;child.oldParentNode=parent;child.relativeXPosition=0;child.parentNode=dummyNode;child.parent=dummyNode.id;return dummyNode};TreegraphLayout.prototype.calculatePositions=function(series){var treeLayout=this;var nodes=series.nodeList;this.resetValues(nodes);var root=series.tree;if(root){treeLayout.calculateRelativeX(root,0);treeLayout.beforeLayout(nodes);treeLayout.firstWalk(root);treeLayout.secondWalk(root,-root.preX);treeLayout.afterLayout(nodes)}};TreegraphLayout.prototype.beforeLayout=function(nodes){for(var _i=0,nodes_1=nodes;_i<nodes_1.length;_i++){var node=nodes_1[_i];for(var _a=0,_b=node.children;_a<_b.length;_a++){var child=_b[_a];if(child&&child.level-node.level>1){var gapSize=child.level-node.level-1;while(gapSize>0){child=TreegraphLayout.createDummyNode(node,child,gapSize);gapSize--}}}}};TreegraphLayout.prototype.resetValues=function(nodes){for(var _i=0,nodes_2=nodes;_i<nodes_2.length;_i++){var node=nodes_2[_i];node.mod=0;node.ancestor=node;node.shift=0;node.thread=void 0;node.change=0;node.preX=0}};TreegraphLayout.prototype.calculateRelativeX=function(node,index){var treeLayout=this,children=node.children;for(var i=0,iEnd=children.length;i<iEnd;++i){treeLayout.calculateRelativeX(children[i],i)}node.relativeXPosition=index};TreegraphLayout.prototype.firstWalk=function(node){var treeLayout=this,siblingDistance=1;var leftSibling;if(!node.hasChildren()){leftSibling=node.getLeftSibling();if(leftSibling){node.preX=leftSibling.preX+siblingDistance;node.mod=node.preX}else{node.preX=0}}else{var defaultAncestor=node.getLeftMostChild();for(var _i=0,_a=node.children;_i<_a.length;_i++){var child=_a[_i];treeLayout.firstWalk(child);defaultAncestor=treeLayout.apportion(child,defaultAncestor)}treeLayout.executeShifts(node);var leftChild=node.getLeftMostChild(),rightChild=node.getRightMostChild(),midPoint=(leftChild.preX+rightChild.preX)/2;leftSibling=node.getLeftSibling();if(leftSibling){node.preX=leftSibling.preX+siblingDistance;node.mod=node.preX-midPoint}else{node.preX=midPoint}}};TreegraphLayout.prototype.secondWalk=function(node,modSum){var treeLayout=this;node.yPosition=node.preX+modSum;node.xPosition=node.level;for(var _i=0,_a=node.children;_i<_a.length;_i++){var child=_a[_i];treeLayout.secondWalk(child,modSum+node.mod)}};TreegraphLayout.prototype.executeShifts=function(node){var shift=0,change=0;for(var i=node.children.length-1;i>=0;i--){var childNode=node.children[i];childNode.preX+=shift;childNode.mod+=shift;change+=childNode.change;shift+=childNode.shift+change}};TreegraphLayout.prototype.apportion=function(node,defaultAncestor){var treeLayout=this,leftSibling=node.getLeftSibling();if(leftSibling){var rightIntNode=node,rightOutNode=node,leftIntNode=leftSibling,leftOutNode=rightIntNode.getLeftMostSibling(),rightIntMod=rightIntNode.mod,rightOutMod=rightOutNode.mod,leftIntMod=leftIntNode.mod,leftOutMod=leftOutNode.mod;while(leftIntNode&&leftIntNode.nextRight()&&rightIntNode&&rightIntNode.nextLeft()){leftIntNode=leftIntNode.nextRight();leftOutNode=leftOutNode.nextLeft();rightIntNode=rightIntNode.nextLeft();rightOutNode=rightOutNode.nextRight();rightOutNode.ancestor=node;var siblingDistance=1,shift=leftIntNode.preX+leftIntMod-(rightIntNode.preX+rightIntMod)+siblingDistance;if(shift>0){treeLayout.moveSubtree(node.getAncestor(leftIntNode,defaultAncestor),node,shift);rightIntMod+=shift;rightOutMod+=shift}leftIntMod+=leftIntNode.mod;rightIntMod+=rightIntNode.mod;leftOutMod+=leftOutNode.mod;rightOutMod+=rightOutNode.mod}if(leftIntNode&&leftIntNode.nextRight()&&!rightOutNode.nextRight()){rightOutNode.thread=leftIntNode.nextRight();rightOutNode.mod+=leftIntMod-rightOutMod}if(rightIntNode&&rightIntNode.nextLeft()&&!leftOutNode.nextLeft()){leftOutNode.thread=rightIntNode.nextLeft();leftOutNode.mod+=rightIntMod-leftOutMod}defaultAncestor=node}return defaultAncestor};TreegraphLayout.prototype.moveSubtree=function(leftNode,rightNode,shift){var subtrees=rightNode.relativeXPosition-leftNode.relativeXPosition;rightNode.change-=shift/subtrees;rightNode.shift+=shift;rightNode.preX+=shift;rightNode.mod+=shift;leftNode.change+=shift/subtrees};TreegraphLayout.prototype.afterLayout=function(nodes){for(var _i=0,nodes_3=nodes;_i<nodes_3.length;_i++){var node=nodes_3[_i];if(node.oldParentNode){node.relativeXPosition=node.parentNode.relativeXPosition;node.parent=node.oldParentNode.parent;node.parentNode=node.oldParentNode;delete node.oldParentNode.children[node.relativeXPosition];node.oldParentNode.children[node.relativeXPosition]=node;node.oldParentNode=void 0}}};return TreegraphLayout}();var Treegraph_TreegraphLayout=TreegraphLayout;var TreegraphSeriesDefaults={reversed:false,marker:{radius:10,lineWidth:0,symbol:"circle",fillOpacity:1,states:{}},link:{color:"#666666",lineWidth:1,radius:10,cursor:"default",type:"curved"},collapseButton:{onlyOnHover:true,enabled:true,lineWidth:1,x:0,y:0,height:18,width:18,shape:"circle",style:{cursor:"pointer",fontWeight:"bold",fontSize:"1em"}},fillSpace:false,tooltip:{linkFormat:"{point.fromNode.id} → {point.toNode.id}",pointFormat:"{point.id}"},dataLabels:{defer:true,linkTextPath:{attributes:{startOffset:"50%"}},enabled:true,linkFormatter:function(){return""},style:{textOverflow:"none"}},nodeDistance:30,nodeWidth:void 0};var Treegraph_TreegraphSeriesDefaults=TreegraphSeriesDefaults;var highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_=__webpack_require__(28);var highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_default=__webpack_require__.n(highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_);var deg2rad=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().deg2rad;var TextPath_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,TextPath_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,uniqueKey=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().uniqueKey,defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,TextPath_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend;function setTextPath(path,textPathOptions){var _this=this;textPathOptions=TextPath_merge(true,{enabled:true,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},textPathOptions);var url=this.renderer.url,textWrapper=this.text||this,textPath=textWrapper.textPath,attributes=textPathOptions.attributes,enabled=textPathOptions.enabled;path=path||textPath&&textPath.path;if(textPath){textPath.undo()}if(path&&enabled){var undo=TextPath_addEvent(textWrapper,"afterModifyTree",function(e){if(path&&enabled){var textPathId=path.attr("id");if(!textPathId){path.attr("id",textPathId=uniqueKey())}var textAttribs={x:0,y:0};if(defined(attributes.dx)){textAttribs.dx=attributes.dx;delete attributes.dx}if(defined(attributes.dy)){textAttribs.dy=attributes.dy;delete attributes.dy}textWrapper.attr(textAttribs);_this.attr({transform:""});if(_this.box){_this.box=_this.box.destroy()}var children=e.nodes.slice(0);e.nodes.length=0;e.nodes[0]={tagName:"textPath",attributes:TextPath_extend(attributes,{"text-anchor":attributes.textAnchor,href:""+url+"#".concat(textPathId)}),children:children}}});textWrapper.textPath={path:path,undo:undo}}else{textWrapper.attr({dx:0,dy:0});delete textWrapper.textPath}if(this.added){textWrapper.textCache="";this.renderer.buildText(textWrapper)}return this}function setPolygon(event){var _a;var bBox=event.bBox,tp=(_a=this.element)===null||_a===void 0?void 0:_a.querySelector("textPath");if(tp){var polygon=[],_b=this.renderer.fontMetrics(this.element),b_1=_b.b,h=_b.h,descender_1=h-b_1,lineCleanerRegex=new RegExp("(<tspan>|"+'<tspan(?!\\sclass="highcharts-br")[^>]*>|'+"<\\/tspan>)","g"),lines=tp.innerHTML.replace(lineCleanerRegex,"").split(/<tspan class="highcharts-br"[^>]*>/),numOfLines=lines.length;var appendTopAndBottom=function(charIndex,positionOfChar){var x=positionOfChar.x,y=positionOfChar.y,rotation=(tp.getRotationOfChar(charIndex)-90)*deg2rad,cosRot=Math.cos(rotation),sinRot=Math.sin(rotation);return[[x-descender_1*cosRot,y-descender_1*sinRot],[x+b_1*cosRot,y+b_1*sinRot]]};for(var i=0,lineIndex=0;lineIndex<numOfLines;lineIndex++){var line=lines[lineIndex],lineLen=line.length;for(var lineCharIndex=0;lineCharIndex<lineLen;lineCharIndex+=5){try{var srcCharIndex=i+lineCharIndex+lineIndex,_c=appendTopAndBottom(srcCharIndex,tp.getStartPositionOfChar(srcCharIndex)),lower=_c[0],upper=_c[1];if(lineCharIndex===0){polygon.push(upper);polygon.push(lower)}else{if(lineIndex===0){polygon.unshift(upper)}if(lineIndex===numOfLines-1){polygon.push(lower)}}}catch(e){break}}i+=lineLen-1;try{var srcCharIndex=i+lineIndex,charPos=tp.getEndPositionOfChar(srcCharIndex),_d=appendTopAndBottom(srcCharIndex,charPos),lower=_d[0],upper=_d[1];polygon.unshift(upper);polygon.unshift(lower)}catch(e){break}}if(polygon.length){polygon.push(polygon[0].slice())}bBox.polygon=polygon}return bBox}function drawTextPath(event){var _a;var labelOptions=event.labelOptions,point=event.point,textPathOptions=labelOptions[point.formatPrefix+"TextPath"]||labelOptions.textPath;if(textPathOptions&&!labelOptions.useHTML){this.setTextPath(((_a=point.getDataLabelPath)===null||_a===void 0?void 0:_a.call(point,this))||point.graphic,textPathOptions);if(point.dataLabelPath&&!textPathOptions.enabled){point.dataLabelPath=point.dataLabelPath.destroy()}}}function compose(SVGElementClass){TextPath_addEvent(SVGElementClass,"afterGetBBox",setPolygon);TextPath_addEvent(SVGElementClass,"beforeAddingDataLabel",drawTextPath);var svgElementProto=SVGElementClass.prototype;if(!svgElementProto.setTextPath){svgElementProto.setTextPath=setTextPath}}var TextPath={compose:compose};var Extensions_TextPath=TextPath;var TreegraphSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var TreegraphSeries_getLinkPath=Series_PathUtilities.getLinkPath;var seriesProto=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().series.prototype,_a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes,TreemapSeries=_a.treemap,ColumnSeries=_a.column;var symbols=highcharts_SVGRenderer_commonjs_highcharts_SVGRenderer_commonjs2_highcharts_SVGRenderer_root_Highcharts_SVGRenderer_default().prototype.symbols;var TreegraphSeries_getLevelOptions=Series_TreeUtilities.getLevelOptions,TreegraphSeries_getNodeWidth=Series_TreeUtilities.getNodeWidth;var arrayMax=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().arrayMax,crisp=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().crisp,TreegraphSeries_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,TreegraphSeries_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,TreegraphSeries_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,TreegraphSeries_relativeLength=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().relativeLength,splat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().splat;Extensions_TextPath.compose(highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_default());var TreegraphSeries=function(_super){TreegraphSeries_extends(TreegraphSeries,_super);function TreegraphSeries(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.nodeList=[];_this.links=[];return _this}TreegraphSeries.prototype.init=function(){_super.prototype.init.apply(this,arguments);this.layoutAlgorythm=new Treegraph_TreegraphLayout;var series=this,collectors=this.chart.labelCollectors,collectorFunc=function(){var linkLabels=[];if(series.options.dataLabels&&!splat(series.options.dataLabels)[0].allowOverlap){for(var _i=0,_a=series.links||[];_i<_a.length;_i++){var link=_a[_i];if(link.dataLabel){linkLabels.push(link.dataLabel)}}}return linkLabels};if(!collectors.some(function(f){return f.name==="collectorFunc"})){collectors.push(collectorFunc)}};TreegraphSeries.prototype.getLayoutModifiers=function(){var _this=this;var chart=this.chart,series=this,plotSizeX=chart.plotSizeX,plotSizeY=chart.plotSizeY,columnCount=arrayMax(this.points.map(function(p){return p.node.xPosition}));var minX=Infinity,maxX=-Infinity,minY=Infinity,maxY=-Infinity,maxXSize=0,minXSize=0,maxYSize=0,minYSize=0;this.points.forEach(function(point){var _a;if(_this.options.fillSpace&&!point.visible){return}var node=point.node,level=series.mapOptionsToLevel[point.node.level]||{},markerOptions=TreegraphSeries_merge(_this.options.marker,level.marker,point.options.marker),nodeWidth=(_a=markerOptions.width)!==null&&_a!==void 0?_a:TreegraphSeries_getNodeWidth(_this,columnCount),radius=TreegraphSeries_relativeLength(markerOptions.radius||0,Math.min(plotSizeX,plotSizeY)),symbol=markerOptions.symbol,nodeSizeY=symbol==="circle"||!markerOptions.height?radius*2:TreegraphSeries_relativeLength(markerOptions.height,plotSizeY),nodeSizeX=symbol==="circle"||!nodeWidth?radius*2:TreegraphSeries_relativeLength(nodeWidth,plotSizeX);node.nodeSizeX=nodeSizeX;node.nodeSizeY=nodeSizeY;var lineWidth;if(node.xPosition<=minX){minX=node.xPosition;lineWidth=markerOptions.lineWidth||0;minXSize=Math.max(nodeSizeX+lineWidth,minXSize)}if(node.xPosition>=maxX){maxX=node.xPosition;lineWidth=markerOptions.lineWidth||0;maxXSize=Math.max(nodeSizeX+lineWidth,maxXSize)}if(node.yPosition<=minY){minY=node.yPosition;lineWidth=markerOptions.lineWidth||0;minYSize=Math.max(nodeSizeY+lineWidth,minYSize)}if(node.yPosition>=maxY){maxY=node.yPosition;lineWidth=markerOptions.lineWidth||0;maxYSize=Math.max(nodeSizeY+lineWidth,maxYSize)}});var ay=maxY===minY?1:(plotSizeY-(minYSize+maxYSize)/2)/(maxY-minY),by=maxY===minY?plotSizeY/2:-ay*minY+minYSize/2,ax=maxX===minX?1:(plotSizeX-(maxXSize+maxXSize)/2)/(maxX-minX),bx=maxX===minX?plotSizeX/2:-ax*minX+minXSize/2;return{ax:ax,bx:bx,ay:ay,by:by}};TreegraphSeries.prototype.getLinks=function(){var _this=this;var series=this;var links=[];this.data.forEach(function(point){var levelOptions=series.mapOptionsToLevel[point.node.level||0]||{};if(point.node.parent){var pointOptions=TreegraphSeries_merge(levelOptions,point.options);if(!point.linkToParent||point.linkToParent.destroyed){var link=new series.LinkClass(series,pointOptions,void 0,point);point.linkToParent=link}else{point.collapsed=TreegraphSeries_pick(point.collapsed,(_this.mapOptionsToLevel[point.node.level]||{}).collapsed);point.linkToParent.visible=point.linkToParent.toNode.visible}point.linkToParent.index=links.push(point.linkToParent)-1}else{if(point.linkToParent){series.links.splice(point.linkToParent.index);point.linkToParent.destroy();delete point.linkToParent}}});return links};TreegraphSeries.prototype.buildTree=function(id,index,level,list,parent){var point=this.points[index];level=point&&point.level||level;return _super.prototype.buildTree.call(this,id,index,level,list,parent)};TreegraphSeries.prototype.markerAttribs=function(){return{}};TreegraphSeries.prototype.setCollapsedStatus=function(node,visibility){var _this=this;var point=node.point;if(point){point.collapsed=TreegraphSeries_pick(point.collapsed,(this.mapOptionsToLevel[node.level]||{}).collapsed);point.visible=visibility;visibility=visibility===false?false:!point.collapsed}node.children.forEach(function(childNode){_this.setCollapsedStatus(childNode,visibility)})};TreegraphSeries.prototype.drawTracker=function(){ColumnSeries.prototype.drawTracker.apply(this,arguments);ColumnSeries.prototype.drawTracker.call(this,this.links)};TreegraphSeries.prototype.translate=function(){var _this=this;var series=this,options=series.options;var rootId=Series_TreeUtilities.updateRootId(series),rootNode;seriesProto.translate.call(series);var tree=series.tree=series.getTree();rootNode=series.nodeMap[rootId];if(rootId!==""&&(!rootNode||!rootNode.children.length)){series.setRootNode("",false);rootId=series.rootNode;rootNode=series.nodeMap[rootId]}series.mapOptionsToLevel=TreegraphSeries_getLevelOptions({from:rootNode.level+1,levels:options.levels,to:tree.height,defaults:{levelIsConstant:series.options.levelIsConstant,colorByPoint:options.colorByPoint}});this.setCollapsedStatus(tree,true);series.links=series.getLinks();series.setTreeValues(tree);this.layoutAlgorythm.calculatePositions(series);series.layoutModifier=this.getLayoutModifiers();this.points.forEach(function(point){_this.translateNode(point)});this.points.forEach(function(point){if(point.linkToParent){_this.translateLink(point.linkToParent)}});if(!options.colorByPoint){series.setColorRecursive(series.tree)}};TreegraphSeries.prototype.translateLink=function(link){var _a,_b,_c,_d,_e;var fromNode=link.fromNode,toNode=link.toNode,linkWidth=((_a=this.options.link)===null||_a===void 0?void 0:_a.lineWidth)||0,factor=TreegraphSeries_pick((_b=this.options.link)===null||_b===void 0?void 0:_b.curveFactor,.5),type=TreegraphSeries_pick((_c=link.options.link)===null||_c===void 0?void 0:_c.type,(_d=this.options.link)===null||_d===void 0?void 0:_d.type,"default");if(fromNode.shapeArgs&&toNode.shapeArgs){var fromNodeWidth=fromNode.shapeArgs.width||0,inverted=this.chart.inverted,y1=crisp((fromNode.shapeArgs.y||0)+(fromNode.shapeArgs.height||0)/2,linkWidth),y2=crisp((toNode.shapeArgs.y||0)+(toNode.shapeArgs.height||0)/2,linkWidth);var x1=crisp((fromNode.shapeArgs.x||0)+fromNodeWidth,linkWidth),x2=crisp(toNode.shapeArgs.x||0,linkWidth);if(inverted){x1-=fromNodeWidth;x2+=toNode.shapeArgs.width||0}var diff=toNode.node.xPosition-fromNode.node.xPosition;link.shapeType="path";var fullWidth=Math.abs(x2-x1)+fromNodeWidth,width=fullWidth/diff-fromNodeWidth,offset=width*factor*(inverted?-1:1);var xMiddle=crisp((x2+x1)/2,linkWidth);link.plotX=xMiddle;link.plotY=y2;link.shapeArgs={d:TreegraphSeries_getLinkPath[type]({x1:x1,y1:y1,x2:x2,y2:y2,width:width,offset:offset,inverted:inverted,parentVisible:toNode.visible,radius:(_e=this.options.link)===null||_e===void 0?void 0:_e.radius})};link.dlBox={x:(x1+x2)/2,y:(y1+y2)/2,height:linkWidth,width:0};link.tooltipPos=inverted?[(this.chart.plotSizeY||0)-link.dlBox.y,(this.chart.plotSizeX||0)-link.dlBox.x]:[link.dlBox.x,link.dlBox.y]}};TreegraphSeries.prototype.drawNodeLabels=function(points){var _a;var _b,_c,_d;var series=this,mapOptionsToLevel=series.mapOptionsToLevel;var options,level;for(var _i=0,points_1=points;_i<points_1.length;_i++){var point=points_1[_i];level=mapOptionsToLevel[point.node.level];options={style:{}};if(level&&level.dataLabels){options=TreegraphSeries_merge(options,level.dataLabels);series.hasDataLabels=function(){return true}}if(point.shapeArgs&&series.options.dataLabels){var css={};var _e=point.shapeArgs,_f=_e.width,width=_f===void 0?0:_f,_g=_e.height,height=_g===void 0?0:_g;if(series.chart.inverted){_a=[height,width],width=_a[0],height=_a[1]}if(!((_b=splat(series.options.dataLabels)[0].style)===null||_b===void 0?void 0:_b.width)){css.width=""+width+"px"}if(!((_c=splat(series.options.dataLabels)[0].style)===null||_c===void 0?void 0:_c.lineClamp)){css.lineClamp=Math.floor(height/16)}TreegraphSeries_extend(options.style,css);(_d=point.dataLabel)===null||_d===void 0?void 0:_d.css(css)}point.dlOptions=TreegraphSeries_merge(options,point.options.dataLabels)}seriesProto.drawDataLabels.call(this,points)};TreegraphSeries.prototype.alignDataLabel=function(point,dataLabel){var visible=point.visible;point.visible=true;_super.prototype.alignDataLabel.apply(this,arguments);dataLabel.animate({opacity:visible===false?0:1},void 0,function(){visible||dataLabel.hide()});point.visible=visible};TreegraphSeries.prototype.drawDataLabels=function(){if(this.options.dataLabels){this.options.dataLabels=splat(this.options.dataLabels);this.drawNodeLabels(this.points);seriesProto.drawDataLabels.call(this,this.links)}};TreegraphSeries.prototype.destroy=function(){if(this.links){for(var _i=0,_a=this.links;_i<_a.length;_i++){var link=_a[_i];link.destroy()}this.links.length=0}return seriesProto.destroy.apply(this,arguments)};TreegraphSeries.prototype.pointAttribs=function(point,state){var series=this,levelOptions=point&&series.mapOptionsToLevel[point.node.level||0]||{},options=point&&point.options,stateOptions=levelOptions.states&&levelOptions.states[state]||{};if(point){point.options.marker=TreegraphSeries_merge(series.options.marker,levelOptions.marker,point.options.marker)}var linkColor=TreegraphSeries_pick(stateOptions&&stateOptions.link&&stateOptions.link.color,options&&options.link&&options.link.color,levelOptions&&levelOptions.link&&levelOptions.link.color,series.options.link&&series.options.link.color),linkLineWidth=TreegraphSeries_pick(stateOptions&&stateOptions.link&&stateOptions.link.lineWidth,options&&options.link&&options.link.lineWidth,levelOptions&&levelOptions.link&&levelOptions.link.lineWidth,series.options.link&&series.options.link.lineWidth),attribs=seriesProto.pointAttribs.call(series,point,state);if(point){if(point.isLink){attribs.stroke=linkColor;attribs["stroke-width"]=linkLineWidth;delete attribs.fill}if(!point.visible){attribs.opacity=0}}return attribs};TreegraphSeries.prototype.drawPoints=function(){TreemapSeries.prototype.drawPoints.apply(this,arguments);ColumnSeries.prototype.drawPoints.call(this,this.links)};TreegraphSeries.prototype.translateNode=function(point){var chart=this.chart,node=point.node,plotSizeY=chart.plotSizeY,plotSizeX=chart.plotSizeX,_a=this.layoutModifier,ax=_a.ax,bx=_a.bx,ay=_a.ay,by=_a.by,x=ax*node.xPosition+bx,y=ay*node.yPosition+by,level=this.mapOptionsToLevel[node.level]||{},markerOptions=TreegraphSeries_merge(this.options.marker,level.marker,point.options.marker),symbol=markerOptions.symbol,height=node.nodeSizeY,width=node.nodeSizeX,reversed=this.options.reversed,nodeX=node.x=chart.inverted?plotSizeX-width/2-x:x-width/2,nodeY=node.y=!reversed?plotSizeY-y-height/2:y-height/2,borderRadius=TreegraphSeries_pick(point.options.borderRadius,level.borderRadius,this.options.borderRadius),symbolFn=symbols[symbol||"circle"];if(symbolFn===void 0){point.hasImage=true;point.shapeType="image";point.imageUrl=symbol.match(/^url\((.*?)\)$/)[1]}else{point.shapeType="path"}if(!point.visible&&point.linkToParent){var parentNode=point.linkToParent.fromNode;if(parentNode){var parentShapeArgs=parentNode.shapeArgs||{},_b=parentShapeArgs.x,x_1=_b===void 0?0:_b,_c=parentShapeArgs.y,y_1=_c===void 0?0:_c,_d=parentShapeArgs.width,width_1=_d===void 0?0:_d,_e=parentShapeArgs.height,height_1=_e===void 0?0:_e;if(!point.shapeArgs){point.shapeArgs={}}if(!point.hasImage){TreegraphSeries_extend(point.shapeArgs,{d:symbolFn(x_1,y_1,width_1,height_1,borderRadius?{r:borderRadius}:void 0)})}TreegraphSeries_extend(point.shapeArgs,{x:x_1,y:y_1});point.plotX=parentNode.plotX;point.plotY=parentNode.plotY}}else{point.plotX=nodeX;point.plotY=nodeY;point.shapeArgs={x:nodeX,y:nodeY,width:width,height:height,cursor:!point.node.isLeaf?"pointer":"default"};if(!point.hasImage){point.shapeArgs.d=symbolFn(nodeX,nodeY,width,height,borderRadius?{r:borderRadius}:void 0)}}point.tooltipPos=chart.inverted?[plotSizeY-nodeY-height/2,plotSizeX-nodeX-width/2]:[nodeX+width/2,nodeY]};TreegraphSeries.defaultOptions=TreegraphSeries_merge(TreemapSeries.defaultOptions,Treegraph_TreegraphSeriesDefaults);return TreegraphSeries}(TreemapSeries);TreegraphSeries_extend(TreegraphSeries.prototype,{pointClass:Treegraph_TreegraphPoint,NodeClass:Treegraph_TreegraphNode,LinkClass:TreegraphLink});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("treegraph",TreegraphSeries);var Treegraph_TreegraphSeries=null&&TreegraphSeries;"";var treegraph_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__}()});