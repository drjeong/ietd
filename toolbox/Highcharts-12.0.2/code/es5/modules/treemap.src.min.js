(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("highcharts"),require("highcharts")["Templating"],require("highcharts")["Color"],require("highcharts")["SeriesRegistry"],require("highcharts")["SVGElement"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/treemap",[["highcharts/highcharts"],["highcharts/highcharts","Templating"],["highcharts/highcharts","Color"],["highcharts/highcharts","SeriesRegistry"],["highcharts/highcharts","SVGElement"]],factory);else if(typeof exports==="object")exports["highcharts/modules/treemap"]=factory(require("highcharts"),require("highcharts")["Templating"],require("highcharts")["Color"],require("highcharts")["SeriesRegistry"],require("highcharts")["SVGElement"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["Templating"],root["Highcharts"]["Color"],root["Highcharts"]["SeriesRegistry"],root["Highcharts"]["SVGElement"])})(this,function(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__984__,__WEBPACK_EXTERNAL_MODULE__620__,__WEBPACK_EXTERNAL_MODULE__512__,__WEBPACK_EXTERNAL_MODULE__28__){return function(){"use strict";var __webpack_modules__={620:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__620__},28:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__28__},512:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__512__},984:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__984__},944:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,{a:getter});return getter}}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return treemap_src}});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var lang={mainBreadcrumb:"Main"};var options={buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#334eff"}},buttonSpacing:5,floating:false,format:void 0,relativeTo:"plotBox",rtl:false,position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666",fontSize:"0.8em"}},showFullPath:true,style:{},useHTML:false,zIndex:7};var BreadcrumbsDefaults={lang:lang,options:options};var Breadcrumbs_BreadcrumbsDefaults=BreadcrumbsDefaults;var highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_=__webpack_require__(984);var highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_default=__webpack_require__.n(highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_);var format=highcharts_Templating_commonjs_highcharts_Templating_commonjs2_highcharts_Templating_root_Highcharts_Templating_default().format;var composed=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().composed;var addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,fireEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().fireEvent,isString=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isString,merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,objectEach=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().objectEach,pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,pushUnique=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pushUnique;function onChartAfterShowResetZoom(){var chart=this;if(chart.breadcrumbs){var bbox=chart.resetZoomButton&&chart.resetZoomButton.getBBox(),breadcrumbsOptions=chart.breadcrumbs.options;if(bbox&&breadcrumbsOptions.position.align==="right"&&breadcrumbsOptions.relativeTo==="plotBox"){chart.breadcrumbs.alignBreadcrumbsGroup(-bbox.width-breadcrumbsOptions.buttonSpacing)}}}function onChartDestroy(){if(this.breadcrumbs){this.breadcrumbs.destroy();this.breadcrumbs=void 0}}function onChartGetMargins(){var breadcrumbs=this.breadcrumbs;if(breadcrumbs&&!breadcrumbs.options.floating&&breadcrumbs.level){var breadcrumbsOptions=breadcrumbs.options,buttonTheme=breadcrumbsOptions.buttonTheme,breadcrumbsHeight=(buttonTheme.height||0)+2*(buttonTheme.padding||0)+breadcrumbsOptions.buttonSpacing,verticalAlign=breadcrumbsOptions.position.verticalAlign;if(verticalAlign==="bottom"){this.marginBottom=(this.marginBottom||0)+breadcrumbsHeight;breadcrumbs.yOffset=breadcrumbsHeight}else if(verticalAlign!=="middle"){this.plotTop+=breadcrumbsHeight;breadcrumbs.yOffset=-breadcrumbsHeight}else{breadcrumbs.yOffset=void 0}}}function onChartRedraw(){this.breadcrumbs&&this.breadcrumbs.redraw()}function onChartSelection(event){if(event.resetSelection===true&&this.breadcrumbs){this.breadcrumbs.alignBreadcrumbsGroup()}}var Breadcrumbs=function(){function Breadcrumbs(chart,userOptions){this.elementList={};this.isDirty=true;this.level=0;this.list=[];var chartOptions=merge(chart.options.drilldown&&chart.options.drilldown.drillUpButton,Breadcrumbs.defaultOptions,chart.options.navigation&&chart.options.navigation.breadcrumbs,userOptions);this.chart=chart;this.options=chartOptions||{}}Breadcrumbs.compose=function(ChartClass,highchartsDefaultOptions){if(pushUnique(composed,"Breadcrumbs")){addEvent(ChartClass,"destroy",onChartDestroy);addEvent(ChartClass,"afterShowResetZoom",onChartAfterShowResetZoom);addEvent(ChartClass,"getMargins",onChartGetMargins);addEvent(ChartClass,"redraw",onChartRedraw);addEvent(ChartClass,"selection",onChartSelection);extend(highchartsDefaultOptions.lang,Breadcrumbs_BreadcrumbsDefaults.lang)}};Breadcrumbs.prototype.updateProperties=function(list){this.setList(list);this.setLevel();this.isDirty=true};Breadcrumbs.prototype.setList=function(list){this.list=list};Breadcrumbs.prototype.setLevel=function(){this.level=this.list.length&&this.list.length-1};Breadcrumbs.prototype.getLevel=function(){return this.level};Breadcrumbs.prototype.getButtonText=function(breadcrumb){var breadcrumbs=this,chart=breadcrumbs.chart,breadcrumbsOptions=breadcrumbs.options,lang=chart.options.lang,textFormat=pick(breadcrumbsOptions.format,breadcrumbsOptions.showFullPath?"{level.name}":"← {level.name}"),defaultText=lang&&pick(lang.drillUpText,lang.mainBreadcrumb);var returnText=breadcrumbsOptions.formatter&&breadcrumbsOptions.formatter(breadcrumb)||format(textFormat,{level:breadcrumb.levelOptions},chart)||"";if((isString(returnText)&&!returnText.length||returnText==="← ")&&defined(defaultText)){returnText=!breadcrumbsOptions.showFullPath?"← "+defaultText:defaultText}return returnText};Breadcrumbs.prototype.redraw=function(){if(this.isDirty){this.render()}if(this.group){this.group.align()}this.isDirty=false};Breadcrumbs.prototype.render=function(){var breadcrumbs=this,chart=breadcrumbs.chart,breadcrumbsOptions=breadcrumbs.options;if(!breadcrumbs.group&&breadcrumbsOptions){breadcrumbs.group=chart.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:breadcrumbsOptions.zIndex}).add()}if(breadcrumbsOptions.showFullPath){this.renderFullPathButtons()}else{this.renderSingleButton()}this.alignBreadcrumbsGroup()};Breadcrumbs.prototype.renderFullPathButtons=function(){this.destroySingleButton();this.resetElementListState();this.updateListElements();this.destroyListElements()};Breadcrumbs.prototype.renderSingleButton=function(){var breadcrumbs=this,chart=breadcrumbs.chart,list=breadcrumbs.list,breadcrumbsOptions=breadcrumbs.options,buttonSpacing=breadcrumbsOptions.buttonSpacing;this.destroyListElements();var posX=breadcrumbs.group?breadcrumbs.group.getBBox().width:buttonSpacing,posY=buttonSpacing;var previousBreadcrumb=list[list.length-2];if(!chart.drillUpButton&&this.level>0){chart.drillUpButton=breadcrumbs.renderButton(previousBreadcrumb,posX,posY)}else if(chart.drillUpButton){if(this.level>0){this.updateSingleButton()}else{this.destroySingleButton()}}};Breadcrumbs.prototype.alignBreadcrumbsGroup=function(xOffset){var breadcrumbs=this;if(breadcrumbs.group){var breadcrumbsOptions=breadcrumbs.options,buttonTheme=breadcrumbsOptions.buttonTheme,positionOptions=breadcrumbsOptions.position,alignTo=breadcrumbsOptions.relativeTo==="chart"||breadcrumbsOptions.relativeTo==="spacingBox"?void 0:"plotBox",bBox=breadcrumbs.group.getBBox(),additionalSpace=2*(buttonTheme.padding||0)+breadcrumbsOptions.buttonSpacing;positionOptions.width=bBox.width+additionalSpace;positionOptions.height=bBox.height+additionalSpace;var newPositions=merge(positionOptions);if(xOffset){newPositions.x+=xOffset}if(breadcrumbs.options.rtl){newPositions.x+=positionOptions.width}newPositions.y=pick(newPositions.y,this.yOffset,0);breadcrumbs.group.align(newPositions,true,alignTo)}};Breadcrumbs.prototype.renderButton=function(breadcrumb,posX,posY){var breadcrumbs=this,chart=this.chart,breadcrumbsOptions=breadcrumbs.options,buttonTheme=merge(breadcrumbsOptions.buttonTheme);var button=chart.renderer.button(breadcrumbs.getButtonText(breadcrumb),posX,posY,function(e){var buttonEvents=breadcrumbsOptions.events&&breadcrumbsOptions.events.click;var callDefaultEvent;if(buttonEvents){callDefaultEvent=buttonEvents.call(breadcrumbs,e,breadcrumb)}if(callDefaultEvent!==false){if(!breadcrumbsOptions.showFullPath){e.newLevel=breadcrumbs.level-1}else{e.newLevel=breadcrumb.level}fireEvent(breadcrumbs,"up",e)}},buttonTheme).addClass("highcharts-breadcrumbs-button").add(breadcrumbs.group);if(!chart.styledMode){button.attr(breadcrumbsOptions.style)}return button};Breadcrumbs.prototype.renderSeparator=function(posX,posY){var breadcrumbs=this,chart=this.chart,breadcrumbsOptions=breadcrumbs.options,separatorOptions=breadcrumbsOptions.separator;var separator=chart.renderer.label(separatorOptions.text,posX,posY,void 0,void 0,void 0,false).addClass("highcharts-breadcrumbs-separator").add(breadcrumbs.group);if(!chart.styledMode){separator.css(separatorOptions.style)}return separator};Breadcrumbs.prototype.update=function(options){merge(true,this.options,options);this.destroy();this.isDirty=true};Breadcrumbs.prototype.updateSingleButton=function(){var chart=this.chart,currentBreadcrumb=this.list[this.level-1];if(chart.drillUpButton){chart.drillUpButton.attr({text:this.getButtonText(currentBreadcrumb)})}};Breadcrumbs.prototype.destroy=function(){this.destroySingleButton();this.destroyListElements(true);if(this.group){this.group.destroy()}this.group=void 0};Breadcrumbs.prototype.destroyListElements=function(force){var elementList=this.elementList;objectEach(elementList,function(element,level){if(force||!elementList[level].updated){element=elementList[level];element.button&&element.button.destroy();element.separator&&element.separator.destroy();delete element.button;delete element.separator;delete elementList[level]}});if(force){this.elementList={}}};Breadcrumbs.prototype.destroySingleButton=function(){if(this.chart.drillUpButton){this.chart.drillUpButton.destroy();this.chart.drillUpButton=void 0}};Breadcrumbs.prototype.resetElementListState=function(){objectEach(this.elementList,function(element){element.updated=false})};Breadcrumbs.prototype.updateListElements=function(){var breadcrumbs=this,elementList=breadcrumbs.elementList,buttonSpacing=breadcrumbs.options.buttonSpacing,posY=buttonSpacing,list=breadcrumbs.list,rtl=breadcrumbs.options.rtl,rtlFactor=rtl?-1:1,updateXPosition=function(element,spacing){return rtlFactor*element.getBBox().width+rtlFactor*spacing},adjustToRTL=function(element,posX,posY){element.translate(posX-element.getBBox().width,posY)};var posX=breadcrumbs.group?updateXPosition(breadcrumbs.group,buttonSpacing):buttonSpacing,currentBreadcrumb,breadcrumb;for(var i=0,iEnd=list.length;i<iEnd;++i){var isLast=i===iEnd-1;var button=void 0,separator=void 0;breadcrumb=list[i];if(elementList[breadcrumb.level]){currentBreadcrumb=elementList[breadcrumb.level];button=currentBreadcrumb.button;if(!currentBreadcrumb.separator&&!isLast){posX+=rtlFactor*buttonSpacing;currentBreadcrumb.separator=breadcrumbs.renderSeparator(posX,posY);if(rtl){adjustToRTL(currentBreadcrumb.separator,posX,posY)}posX+=updateXPosition(currentBreadcrumb.separator,buttonSpacing)}else if(currentBreadcrumb.separator&&isLast){currentBreadcrumb.separator.destroy();delete currentBreadcrumb.separator}elementList[breadcrumb.level].updated=true}else{button=breadcrumbs.renderButton(breadcrumb,posX,posY);if(rtl){adjustToRTL(button,posX,posY)}posX+=updateXPosition(button,buttonSpacing);if(!isLast){separator=breadcrumbs.renderSeparator(posX,posY);if(rtl){adjustToRTL(separator,posX,posY)}posX+=updateXPosition(separator,buttonSpacing)}elementList[breadcrumb.level]={button:button,separator:separator,updated:true}}if(button){button.setState(isLast?2:0)}}};Breadcrumbs.defaultOptions=Breadcrumbs_BreadcrumbsDefaults.options;return Breadcrumbs}();var Breadcrumbs_Breadcrumbs=Breadcrumbs;"";var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_=__webpack_require__(620);var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default=__webpack_require__.n(highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);var highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_=__webpack_require__(28);var highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_default=__webpack_require__.n(highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_);var columnProto=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.column.prototype;var ColorMapComposition_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,ColorMapComposition_defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined;var ColorMapComposition;(function(ColorMapComposition){ColorMapComposition.pointMembers={dataLabelOnNull:true,moveToTopOnHover:true,isValid:pointIsValid};ColorMapComposition.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:seriesColorAttribs,pointAttribs:columnProto.pointAttribs};function compose(SeriesClass){var PointClass=SeriesClass.prototype.pointClass;ColorMapComposition_addEvent(PointClass,"afterSetState",onPointAfterSetState);return SeriesClass}ColorMapComposition.compose=compose;function onPointAfterSetState(e){var point=this,series=point.series,renderer=series.chart.renderer;if(point.moveToTopOnHover&&point.graphic){if(!series.stateMarkerGraphic){series.stateMarkerGraphic=new(highcharts_SVGElement_commonjs_highcharts_SVGElement_commonjs2_highcharts_SVGElement_root_Highcharts_SVGElement_default())(renderer,"use").css({pointerEvents:"none"}).add(point.graphic.parentGroup)}if((e===null||e===void 0?void 0:e.state)==="hover"){point.graphic.attr({id:this.id});series.stateMarkerGraphic.attr({href:""+renderer.url+"#".concat(this.id),visibility:"visible"})}else{series.stateMarkerGraphic.attr({href:""})}}}function pointIsValid(){return this.value!==null&&this.value!==Infinity&&this.value!==-Infinity&&(this.value===void 0||!isNaN(this.value))}function seriesColorAttribs(point){var ret={};if(ColorMapComposition_defined(point.color)&&(!point.state||point.state==="normal")){ret[this.colorProp||"fill"]=point.color}return ret}})(ColorMapComposition||(ColorMapComposition={}));var Series_ColorMapComposition=ColorMapComposition;var TreemapAlgorithmGroup=function(){function TreemapAlgorithmGroup(h,w,d,p){this.height=h;this.width=w;this.plot=p;this.direction=d;this.startDirection=d;this.total=0;this.nW=0;this.lW=0;this.nH=0;this.lH=0;this.elArr=[];this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(w,h){return Math.max(w/h,h/w)}}}TreemapAlgorithmGroup.prototype.addElement=function(el){this.lP.total=this.elArr[this.elArr.length-1];this.total=this.total+el;if(this.direction===0){this.lW=this.nW;this.lP.lH=this.lP.total/this.lW;this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH);this.nW=this.total/this.height;this.lP.nH=this.lP.total/this.nW;this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)}else{this.lH=this.nH;this.lP.lW=this.lP.total/this.lH;this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH);this.nH=this.total/this.width;this.lP.nW=this.lP.total/this.nH;this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)}this.elArr.push(el)};TreemapAlgorithmGroup.prototype.reset=function(){this.nW=0;this.lW=0;this.elArr=[];this.total=0};return TreemapAlgorithmGroup}();var Treemap_TreemapAlgorithmGroup=TreemapAlgorithmGroup;var TreemapNode=function(){function TreemapNode(){this.childrenTotal=0;this.visible=false}TreemapNode.prototype.init=function(id,i,children,height,level,series,parent){this.id=id;this.i=i;this.children=children;this.height=height;this.level=level;this.series=series;this.parent=parent;return this};return TreemapNode}();var Treemap_TreemapNode=TreemapNode;var __assign=undefined&&undefined.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};function draw(point,params){var animatableAttribs=params.animatableAttribs,onComplete=params.onComplete,css=params.css,renderer=params.renderer;var animation=point.series&&point.series.chart.hasRendered?void 0:point.series&&point.series.options.animation;var graphic=point.graphic;params.attribs=__assign(__assign({},params.attribs),{class:point.getClassName()})||{};if(point.shouldDraw()){if(!graphic){if(params.shapeType==="text"){graphic=renderer.text()}else if(params.shapeType==="image"){graphic=renderer.image(params.imageUrl||"").attr(params.shapeArgs||{})}else{graphic=renderer[params.shapeType](params.shapeArgs||{})}point.graphic=graphic;graphic.add(params.group)}if(css){graphic.css(css)}graphic.attr(params.attribs).animate(animatableAttribs,params.isNew?false:animation,onComplete)}else if(graphic){var destroy_1=function(){point.graphic=graphic=graphic&&graphic.destroy();if(typeof onComplete==="function"){onComplete()}};if(Object.keys(animatableAttribs).length){graphic.animate(animatableAttribs,void 0,function(){return destroy_1()})}else{destroy_1()}}}var DrawPointUtilities={draw:draw};var Series_DrawPointUtilities=DrawPointUtilities;var __extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var _a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes,PiePoint=_a.pie.prototype.pointClass,ScatterPoint=_a.scatter.prototype.pointClass;var TreemapPoint_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,TreemapPoint_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;var TreemapPoint=function(_super){__extends(TreemapPoint,_super);function TreemapPoint(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.shapeType="rect";return _this}TreemapPoint.prototype.draw=function(params){Series_DrawPointUtilities.draw(this,params)};TreemapPoint.prototype.getClassName=function(){var series=this.series,options=series.options;var className=_super.prototype.getClassName.call(this);if(this.node.level<=series.nodeMap[series.rootNode].level&&this.node.children.length){className+=" highcharts-above-level"}else if(!this.node.isLeaf&&!TreemapPoint_pick(options.interactByLeaf,!options.allowTraversingTree)){className+=" highcharts-internal-node-interactive"}else if(!this.node.isLeaf){className+=" highcharts-internal-node"}return className};TreemapPoint.prototype.isValid=function(){return Boolean(this.id||isNumber(this.value))};TreemapPoint.prototype.setState=function(state){_super.prototype.setState.apply(this,arguments);if(this.graphic){this.graphic.attr({zIndex:state==="hover"?1:0})}};TreemapPoint.prototype.shouldDraw=function(){return isNumber(this.plotY)&&this.y!==null};return TreemapPoint}(ScatterPoint);TreemapPoint_extend(TreemapPoint.prototype,{setVisible:PiePoint.prototype.setVisible});var Treemap_TreemapPoint=TreemapPoint;var TreemapSeriesDefaults_isString=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isString;var TreemapSeriesDefaults={allowTraversingTree:false,animationLimit:250,borderRadius:0,showInLegend:false,marker:void 0,colorByPoint:false,dataLabels:{defer:false,enabled:true,formatter:function(){var point=this&&this.point?this.point:{},name=TreemapSeriesDefaults_isString(point.name)?point.name:"";return name},inside:true,verticalAlign:"middle"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:true,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:false,levelIsConstant:true,traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:"#999999",brightness:highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.heatmap?0:.1,halo:false,opacity:.75,shadow:false}},legendSymbol:"rectangle",traverseToLeaf:false};"";var Treemap_TreemapSeriesDefaults=TreemapSeriesDefaults;var TreemapUtilities;(function(TreemapUtilities){function recursive(item,func,context){var next=func.call(context||this,item);if(next!==false){recursive(next,func,context)}}TreemapUtilities.recursive=recursive})(TreemapUtilities||(TreemapUtilities={}));var Treemap_TreemapUtilities=TreemapUtilities;var TreeUtilities_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,TreeUtilities_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,isObject=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isObject,TreeUtilities_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,TreeUtilities_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,relativeLength=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().relativeLength;function getColor(node,options){var index=options.index,mapOptionsToLevel=options.mapOptionsToLevel,parentColor=options.parentColor,parentColorIndex=options.parentColorIndex,series=options.series,colors=options.colors,siblings=options.siblings,points=series.points,chartOptionsChart=series.chart.options.chart;var getColorByPoint,point,level,colorByPoint,colorIndexByPoint,color,colorIndex;var variateColor=function(color){var colorVariation=level&&level.colorVariation;if(colorVariation&&colorVariation.key==="brightness"&&index&&siblings){return highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default().parse(color).brighten(colorVariation.to*(index/siblings)).get()}return color};if(node){point=points[node.i];level=mapOptionsToLevel[node.level]||{};getColorByPoint=point&&level.colorByPoint;if(getColorByPoint){colorIndexByPoint=point.index%(colors?colors.length:chartOptionsChart.colorCount);colorByPoint=colors&&colors[colorIndexByPoint]}if(!series.chart.styledMode){color=TreeUtilities_pick(point&&point.options.color,level&&level.color,colorByPoint,parentColor&&variateColor(parentColor),series.color)}colorIndex=TreeUtilities_pick(point&&point.options.colorIndex,level&&level.colorIndex,colorIndexByPoint,parentColorIndex,options.colorIndex)}return{color:color,colorIndex:colorIndex}}function getLevelOptions(params){var result={};var defaults,converted,i,from,to,levels;if(isObject(params)){from=TreeUtilities_isNumber(params.from)?params.from:1;levels=params.levels;converted={};defaults=isObject(params.defaults)?params.defaults:{};if(isArray(levels)){converted=levels.reduce(function(obj,item){var level,levelIsConstant,options;if(isObject(item)&&TreeUtilities_isNumber(item.level)){options=TreeUtilities_merge({},item);levelIsConstant=TreeUtilities_pick(options.levelIsConstant,defaults.levelIsConstant);delete options.levelIsConstant;delete options.level;level=item.level+(levelIsConstant?0:from-1);if(isObject(obj[level])){TreeUtilities_merge(true,obj[level],options)}else{obj[level]=options}}return obj},{})}to=TreeUtilities_isNumber(params.to)?params.to:1;for(i=0;i<=to;i++){result[i]=TreeUtilities_merge({},defaults,isObject(converted[i])?converted[i]:{})}}return result}function setTreeValues(tree,options){var before=options.before,idRoot=options.idRoot,mapIdToNode=options.mapIdToNode,nodeRoot=mapIdToNode[idRoot],levelIsConstant=options.levelIsConstant!==false,points=options.points,point=points[tree.i],optionsPoint=point&&point.options||{},children=[];var childrenTotal=0;tree.levelDynamic=tree.level-(levelIsConstant?0:nodeRoot.level);tree.name=TreeUtilities_pick(point&&point.name,"");tree.visible=idRoot===tree.id||options.visible===true;if(typeof before==="function"){tree=before(tree,options)}tree.children.forEach(function(child,i){var newOptions=TreeUtilities_extend({},options);TreeUtilities_extend(newOptions,{index:i,siblings:tree.children.length,visible:tree.visible});child=setTreeValues(child,newOptions);children.push(child);if(child.visible){childrenTotal+=child.val}});var value=TreeUtilities_pick(optionsPoint.value,childrenTotal);tree.visible=value>=0&&(childrenTotal>0||tree.visible);tree.children=children;tree.childrenTotal=childrenTotal;tree.isLeaf=tree.visible&&!childrenTotal;tree.val=value;return tree}function updateRootId(series){var rootId,options;if(isObject(series)){options=isObject(series.options)?series.options:{};rootId=TreeUtilities_pick(series.rootNode,options.rootId,"");if(isObject(series.userOptions)){series.userOptions.rootId=rootId}series.rootNode=rootId}return rootId}function getNodeWidth(series,columnCount){var chart=series.chart,options=series.options,_a=options.nodeDistance,nodeDistance=_a===void 0?0:_a,_b=options.nodeWidth,nodeWidth=_b===void 0?0:_b,_c=chart.plotSizeX,plotSizeX=_c===void 0?1:_c;if(nodeWidth==="auto"){if(typeof nodeDistance==="string"&&/%$/.test(nodeDistance)){var fraction=parseFloat(nodeDistance)/100,total=columnCount+fraction*(columnCount-1);return plotSizeX/total}var nDistance=Number(nodeDistance);return(plotSizeX+nDistance)/(columnCount||1)-nDistance}return relativeLength(nodeWidth,plotSizeX)}var TreeUtilities={getColor:getColor,getLevelOptions:getLevelOptions,getNodeWidth:getNodeWidth,setTreeValues:setTreeValues,updateRootId:updateRootId};var Series_TreeUtilities=TreeUtilities;var TreemapSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var color=highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default().parse;var TreemapSeries_composed=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().composed,noop=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().noop;var TreemapSeries_a=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes,ColumnSeries=TreemapSeries_a.column,ScatterSeries=TreemapSeries_a.scatter;var TreemapSeries_getColor=Series_TreeUtilities.getColor,TreemapSeries_getLevelOptions=Series_TreeUtilities.getLevelOptions,TreemapSeries_updateRootId=Series_TreeUtilities.updateRootId;var TreemapSeries_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,correctFloat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().correctFloat,crisp=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().crisp,TreemapSeries_defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,error=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().error,TreemapSeries_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,TreemapSeries_fireEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().fireEvent,TreemapSeries_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,TreemapSeries_isObject=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isObject,TreemapSeries_isString=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isString,TreemapSeries_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,TreemapSeries_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,TreemapSeries_pushUnique=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pushUnique,stableSort=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().stableSort;var axisMax=100;var treemapAxisDefaultValues=false;function onSeriesAfterBindAxes(){var series=this,xAxis=series.xAxis,yAxis=series.yAxis;var treeAxis;if(xAxis&&yAxis){if(series.is("treemap")){treeAxis={endOnTick:false,gridLineWidth:0,lineWidth:0,min:0,minPadding:0,max:axisMax,maxPadding:0,startOnTick:false,title:void 0,tickPositions:[]};TreemapSeries_extend(yAxis.options,treeAxis);TreemapSeries_extend(xAxis.options,treeAxis);treemapAxisDefaultValues=true}else if(treemapAxisDefaultValues){yAxis.setOptions(yAxis.userOptions);xAxis.setOptions(xAxis.userOptions);treemapAxisDefaultValues=false}}}var TreemapSeries=function(_super){TreemapSeries_extends(TreemapSeries,_super);function TreemapSeries(){return _super!==null&&_super.apply(this,arguments)||this}TreemapSeries.compose=function(SeriesClass){if(TreemapSeries_pushUnique(TreemapSeries_composed,"TreemapSeries")){TreemapSeries_addEvent(SeriesClass,"afterBindAxes",onSeriesAfterBindAxes)}};TreemapSeries.prototype.algorithmCalcPoints=function(directionChange,last,group,childrenArea){var plot=group.plot,end=group.elArr.length-1;var pX,pY,pW,pH,gW=group.lW,gH=group.lH,keep,i=0;if(last){gW=group.nW;gH=group.nH}else{keep=group.elArr[end]}for(var _i=0,_a=group.elArr;_i<_a.length;_i++){var p=_a[_i];if(last||i<end){if(group.direction===0){pX=plot.x;pY=plot.y;pW=gW;pH=p/pW}else{pX=plot.x;pY=plot.y;pH=gH;pW=p/pH}childrenArea.push({x:pX,y:pY,width:pW,height:correctFloat(pH)});if(group.direction===0){plot.y=plot.y+pH}else{plot.x=plot.x+pW}}i=i+1}group.reset();if(group.direction===0){group.width=group.width-gW}else{group.height=group.height-gH}plot.y=plot.parent.y+(plot.parent.height-group.height);plot.x=plot.parent.x+(plot.parent.width-group.width);if(directionChange){group.direction=1-group.direction}if(!last){group.addElement(keep)}};TreemapSeries.prototype.algorithmFill=function(directionChange,parent,children){var childrenArea=[];var pTot,direction=parent.direction,x=parent.x,y=parent.y,width=parent.width,height=parent.height,pX,pY,pW,pH;for(var _i=0,children_1=children;_i<children_1.length;_i++){var child=children_1[_i];pTot=parent.width*parent.height*(child.val/parent.val);pX=x;pY=y;if(direction===0){pH=height;pW=pTot/pH;width=width-pW;x=x+pW}else{pW=width;pH=pTot/pW;height=height-pH;y=y+pH}childrenArea.push({x:pX,y:pY,width:pW,height:pH});if(directionChange){direction=1-direction}}return childrenArea};TreemapSeries.prototype.algorithmLowAspectRatio=function(directionChange,parent,children){var series=this,childrenArea=[],plot={x:parent.x,y:parent.y,parent:parent},direction=parent.direction,end=children.length-1,group=new Treemap_TreemapAlgorithmGroup(parent.height,parent.width,direction,plot);var pTot,i=0;for(var _i=0,children_2=children;_i<children_2.length;_i++){var child=children_2[_i];pTot=parent.width*parent.height*(child.val/parent.val);group.addElement(pTot);if(group.lP.nR>group.lP.lR){series.algorithmCalcPoints(directionChange,false,group,childrenArea,plot)}if(i===end){series.algorithmCalcPoints(directionChange,true,group,childrenArea,plot)}++i}return childrenArea};TreemapSeries.prototype.alignDataLabel=function(point,dataLabel,labelOptions){var style=labelOptions.style;if(style&&!TreemapSeries_defined(style.textOverflow)&&dataLabel.text&&dataLabel.getBBox().width>(dataLabel.text.textWidth||0)){dataLabel.css({textOverflow:"ellipsis",width:style.width+="px"})}ColumnSeries.prototype.alignDataLabel.apply(this,arguments);if(point.dataLabel){point.dataLabel.attr({zIndex:(point.node.zIndex||0)+1})}};TreemapSeries.prototype.calculateChildrenAreas=function(parent,area){var series=this,options=series.options,mapOptionsToLevel=series.mapOptionsToLevel,level=mapOptionsToLevel[parent.level+1],algorithm=TreemapSeries_pick(series[level&&level.layoutAlgorithm]&&level.layoutAlgorithm,options.layoutAlgorithm),alternate=options.alternateStartingDirection,children=parent.children.filter(function(n){return!n.ignore});var childrenValues=[];if(level&&level.layoutStartingDirection){area.direction=level.layoutStartingDirection==="vertical"?0:1}childrenValues=series[algorithm](area,children);var i=-1;for(var _i=0,children_3=children;_i<children_3.length;_i++){var child=children_3[_i];var values=childrenValues[++i];child.values=TreemapSeries_merge(values,{val:child.childrenTotal,direction:alternate?1-area.direction:area.direction});child.pointValues=TreemapSeries_merge(values,{x:values.x/series.axisRatio,y:axisMax-values.y-values.height,width:values.width/series.axisRatio});if(child.children.length){series.calculateChildrenAreas(child,child.values)}}};TreemapSeries.prototype.createList=function(e){var chart=this.chart,breadcrumbs=chart.breadcrumbs,list=[];if(breadcrumbs){var currentLevelNumber=0;list.push({level:currentLevelNumber,levelOptions:chart.series[0]});var node=e.target.nodeMap[e.newRootId];var extraNodes=[];while(node.parent||node.parent===""){extraNodes.push(node);node=e.target.nodeMap[node.parent]}for(var _i=0,_a=extraNodes.reverse();_i<_a.length;_i++){var node_1=_a[_i];list.push({level:++currentLevelNumber,levelOptions:node_1})}if(list.length<=1){list.length=0}}return list};TreemapSeries.prototype.drawDataLabels=function(){var _a;var series=this,mapOptionsToLevel=series.mapOptionsToLevel,points=series.points.filter(function(n){return n.node.visible});var options,level;for(var _i=0,points_1=points;_i<points_1.length;_i++){var point=points_1[_i];level=mapOptionsToLevel[point.node.level];options={style:{}};if(!point.node.isLeaf){options.enabled=false}if(level&&level.dataLabels){options=TreemapSeries_merge(options,level.dataLabels);series.hasDataLabels=function(){return true}}if(point.shapeArgs){var css={width:""+(point.shapeArgs.width||0)+"px",lineClamp:Math.floor((point.shapeArgs.height||0)/16)};TreemapSeries_extend(options.style,css);(_a=point.dataLabel)===null||_a===void 0?void 0:_a.css(css)}point.dlOptions=TreemapSeries_merge(options,point.options.dataLabels)}_super.prototype.drawDataLabels.call(this)};TreemapSeries.prototype.drawPoints=function(points){if(points===void 0){points=this.points}var series=this,chart=series.chart,renderer=chart.renderer,styledMode=chart.styledMode,options=series.options,shadow=styledMode?{}:options.shadow,borderRadius=options.borderRadius,withinAnimationLimit=chart.pointCount<options.animationLimit,allowTraversingTree=options.allowTraversingTree;for(var _i=0,points_2=points;_i<points_2.length;_i++){var point=points_2[_i];var levelDynamic=point.node.levelDynamic,animatableAttribs={},attribs={},css={},groupKey="level-group-"+point.node.level,hasGraphic=!!point.graphic,shouldAnimate=withinAnimationLimit&&hasGraphic,shapeArgs=point.shapeArgs;if(point.shouldDraw()){point.isInside=true;if(borderRadius){attribs.r=borderRadius}TreemapSeries_merge(true,shouldAnimate?animatableAttribs:attribs,hasGraphic?shapeArgs:{},styledMode?{}:series.pointAttribs(point,point.selected?"select":void 0));if(series.colorAttribs&&styledMode){TreemapSeries_extend(css,series.colorAttribs(point))}if(!series[groupKey]){series[groupKey]=renderer.g(groupKey).attr({zIndex:1e3-(levelDynamic||0)}).add(series.group);series[groupKey].survive=true}}point.draw({animatableAttribs:animatableAttribs,attribs:attribs,css:css,group:series[groupKey],imageUrl:point.imageUrl,renderer:renderer,shadow:shadow,shapeArgs:shapeArgs,shapeType:point.shapeType});if(allowTraversingTree&&point.graphic){point.drillId=options.interactByLeaf?series.drillToByLeaf(point):series.drillToByGroup(point)}}};TreemapSeries.prototype.drillToByGroup=function(point){var drillId=false;if(!point.node.isLeaf&&point.node.level-this.nodeMap[this.rootNode].level===1){drillId=point.id}return drillId};TreemapSeries.prototype.drillToByLeaf=function(point){var traverseToLeaf=point.series.options.traverseToLeaf;var drillId=false,nodeParent;if(point.node.parent!==this.rootNode&&point.node.isLeaf){if(traverseToLeaf){drillId=point.id}else{nodeParent=point.node;while(!drillId){if(typeof nodeParent.parent!=="undefined"){nodeParent=this.nodeMap[nodeParent.parent]}if(nodeParent.parent===this.rootNode){drillId=nodeParent.id}}}}return drillId};TreemapSeries.prototype.drillToNode=function(id,redraw){error(32,false,void 0,{"treemap.drillToNode":"use treemap.setRootNode"});this.setRootNode(id,redraw)};TreemapSeries.prototype.drillUp=function(){var series=this,node=series.nodeMap[series.rootNode];if(node&&TreemapSeries_isString(node.parent)){series.setRootNode(node.parent,true,{trigger:"traverseUpButton"})}};TreemapSeries.prototype.getExtremes=function(){var _a=_super.prototype.getExtremes.call(this,this.colorValueData),dataMin=_a.dataMin,dataMax=_a.dataMax;this.valueMin=dataMin;this.valueMax=dataMax;return _super.prototype.getExtremes.call(this)};TreemapSeries.prototype.getListOfParents=function(data,existingIds){var arr=TreemapSeries_isArray(data)?data:[],ids=TreemapSeries_isArray(existingIds)?existingIds:[],listOfParents=arr.reduce(function(prev,curr,i){var parent=TreemapSeries_pick(curr.parent,"");if(typeof prev[parent]==="undefined"){prev[parent]=[]}prev[parent].push(i);return prev},{"":[]});for(var _i=0,_a=Object.keys(listOfParents);_i<_a.length;_i++){var parent_1=_a[_i];var children=listOfParents[parent_1];if(parent_1!==""&&ids.indexOf(parent_1)===-1){for(var _b=0,children_4=children;_b<children_4.length;_b++){var child=children_4[_b];listOfParents[""].push(child)}delete listOfParents[parent_1]}}return listOfParents};TreemapSeries.prototype.getTree=function(){var series=this,allIds=this.data.map(function(d){return d.id}),parentList=series.getListOfParents(this.data,allIds);series.nodeMap={};series.nodeList=[];return series.buildTree("",-1,0,parentList)};TreemapSeries.prototype.buildTree=function(id,index,level,list,parent){var series=this,children=[],point=series.points[index];var height=0,child;for(var _i=0,_a=list[id]||[];_i<_a.length;_i++){var i=_a[_i];child=series.buildTree(series.points[i].id,i,level+1,list,id);height=Math.max(child.height+1,height);children.push(child)}var node=(new series.NodeClass).init(id,index,children,height,level,series,parent);for(var _b=0,children_5=children;_b<children_5.length;_b++){var child_1=children_5[_b];child_1.parentNode=node}series.nodeMap[node.id]=node;series.nodeList.push(node);if(point){point.node=node;node.point=point}return node};TreemapSeries.prototype.hasData=function(){return!!this.dataTable.rowCount};TreemapSeries.prototype.init=function(chart,options){var series=this,breadcrumbsOptions=TreemapSeries_merge(options.drillUpButton,options.breadcrumbs),setOptionsEvent=TreemapSeries_addEvent(series,"setOptions",function(event){var options=event.userOptions;if(TreemapSeries_defined(options.allowDrillToNode)&&!TreemapSeries_defined(options.allowTraversingTree)){options.allowTraversingTree=options.allowDrillToNode;delete options.allowDrillToNode}if(TreemapSeries_defined(options.drillUpButton)&&!TreemapSeries_defined(options.traverseUpButton)){options.traverseUpButton=options.drillUpButton;delete options.drillUpButton}});_super.prototype.init.call(this,chart,options);delete series.opacity;series.eventsToUnbind.push(setOptionsEvent);if(series.options.allowTraversingTree){series.eventsToUnbind.push(TreemapSeries_addEvent(series,"click",series.onClickDrillToNode));series.eventsToUnbind.push(TreemapSeries_addEvent(series,"setRootNode",function(e){var chart=series.chart;if(chart.breadcrumbs){chart.breadcrumbs.updateProperties(series.createList(e))}}));series.eventsToUnbind.push(TreemapSeries_addEvent(series,"update",function(e,redraw){var breadcrumbs=this.chart.breadcrumbs;if(breadcrumbs&&e.options.breadcrumbs){breadcrumbs.update(e.options.breadcrumbs)}}));series.eventsToUnbind.push(TreemapSeries_addEvent(series,"destroy",function destroyEvents(e){var chart=this.chart;if(chart.breadcrumbs&&!e.keepEventsForUpdate){chart.breadcrumbs.destroy();chart.breadcrumbs=void 0}}))}if(!chart.breadcrumbs){chart.breadcrumbs=new Breadcrumbs_Breadcrumbs(chart,breadcrumbsOptions)}series.eventsToUnbind.push(TreemapSeries_addEvent(chart.breadcrumbs,"up",function(e){var drillUpsNumber=this.level-e.newLevel;for(var i=0;i<drillUpsNumber;i++){series.drillUp()}}))};TreemapSeries.prototype.onClickDrillToNode=function(event){var series=this,point=event.point,drillId=point&&point.drillId;if(TreemapSeries_isString(drillId)){point.setState("");series.setRootNode(drillId,true,{trigger:"click"})}};TreemapSeries.prototype.pointAttribs=function(point,state){var series=this,mapOptionsToLevel=TreemapSeries_isObject(series.mapOptionsToLevel)?series.mapOptionsToLevel:{},level=point&&mapOptionsToLevel[point.node.level]||{},options=this.options,stateOptions=state&&options.states&&options.states[state]||{},className=point&&point.getClassName()||"",attr={stroke:point&&point.borderColor||level.borderColor||stateOptions.borderColor||options.borderColor,"stroke-width":TreemapSeries_pick(point&&point.borderWidth,level.borderWidth,stateOptions.borderWidth,options.borderWidth),dashstyle:point&&point.borderDashStyle||level.borderDashStyle||stateOptions.borderDashStyle||options.borderDashStyle,fill:point&&point.color||this.color};var opacity;if(className.indexOf("highcharts-above-level")!==-1){attr.fill="none";attr["stroke-width"]=0}else if(className.indexOf("highcharts-internal-node-interactive")!==-1){opacity=TreemapSeries_pick(stateOptions.opacity,options.opacity);attr.fill=color(attr.fill).setOpacity(opacity).get();attr.cursor="pointer"}else if(className.indexOf("highcharts-internal-node")!==-1){attr.fill="none"}else if(state){attr.fill=color(attr.fill).brighten(stateOptions.brightness).get()}return attr};TreemapSeries.prototype.setColorRecursive=function(node,parentColor,colorIndex,index,siblings){var series=this,chart=series&&series.chart,colors=chart&&chart.options&&chart.options.colors;if(node){var colorInfo=TreemapSeries_getColor(node,{colors:colors,index:index,mapOptionsToLevel:series.mapOptionsToLevel,parentColor:parentColor,parentColorIndex:colorIndex,series:series,siblings:siblings}),point=series.points[node.i];if(point){point.color=colorInfo.color;point.colorIndex=colorInfo.colorIndex}var i=-1;for(var _i=0,_a=node.children||[];_i<_a.length;_i++){var child=_a[_i];series.setColorRecursive(child,colorInfo.color,colorInfo.colorIndex,++i,node.children.length)}}};TreemapSeries.prototype.setPointValues=function(){var series=this;var points=series.points,xAxis=series.xAxis,yAxis=series.yAxis;var styledMode=series.chart.styledMode;var getStrokeWidth=function(point){return styledMode?0:series.pointAttribs(point)["stroke-width"]||0};for(var _i=0,points_3=points;_i<points_3.length;_i++){var point=points_3[_i];var _a=point.node,values=_a.pointValues,visible=_a.visible;if(values&&visible){var height=values.height,width=values.width,x=values.x,y=values.y;var strokeWidth=getStrokeWidth(point);var x1=crisp(xAxis.toPixels(x,true),strokeWidth,true);var x2=crisp(xAxis.toPixels(x+width,true),strokeWidth,true);var y1=crisp(yAxis.toPixels(y,true),strokeWidth,true);var y2=crisp(yAxis.toPixels(y+height,true),strokeWidth,true);var shapeArgs={x:Math.min(x1,x2),y:Math.min(y1,y2),width:Math.abs(x2-x1),height:Math.abs(y2-y1)};point.plotX=shapeArgs.x+shapeArgs.width/2;point.plotY=shapeArgs.y+shapeArgs.height/2;point.shapeArgs=shapeArgs}else{delete point.plotX;delete point.plotY}}};TreemapSeries.prototype.setRootNode=function(id,redraw,eventArguments){var series=this,eventArgs=TreemapSeries_extend({newRootId:id,previousRootId:series.rootNode,redraw:TreemapSeries_pick(redraw,true),series:series},eventArguments);var defaultFn=function(args){var series=args.series;series.idPreviousRoot=args.previousRootId;series.rootNode=args.newRootId;series.isDirty=true;if(args.redraw){series.chart.redraw()}};TreemapSeries_fireEvent(series,"setRootNode",eventArgs,defaultFn)};TreemapSeries.prototype.setState=function(state){this.options.inactiveOtherPoints=true;_super.prototype.setState.call(this,state,false);this.options.inactiveOtherPoints=false};TreemapSeries.prototype.setTreeValues=function(tree){var series=this,options=series.options,idRoot=series.rootNode,mapIdToNode=series.nodeMap,nodeRoot=mapIdToNode[idRoot],levelIsConstant=typeof options.levelIsConstant==="boolean"?options.levelIsConstant:true,children=[],point=series.points[tree.i];var childrenTotal=0;for(var _i=0,_a=tree.children;_i<_a.length;_i++){var child=_a[_i];child=series.setTreeValues(child);children.push(child);if(!child.ignore){childrenTotal+=child.val}}stableSort(children,function(a,b){return(a.sortIndex||0)-(b.sortIndex||0)});var val=TreemapSeries_pick(point&&point.options.value,childrenTotal);if(point){point.value=val}TreemapSeries_extend(tree,{children:children,childrenTotal:childrenTotal,ignore:!(TreemapSeries_pick(point&&point.visible,true)&&val>0),isLeaf:tree.visible&&!childrenTotal,levelDynamic:tree.level-(levelIsConstant?0:nodeRoot.level),name:TreemapSeries_pick(point&&point.name,""),sortIndex:TreemapSeries_pick(point&&point.sortIndex,-val),val:val});return tree};TreemapSeries.prototype.sliceAndDice=function(parent,children){return this.algorithmFill(true,parent,children)};TreemapSeries.prototype.squarified=function(parent,children){return this.algorithmLowAspectRatio(true,parent,children)};TreemapSeries.prototype.strip=function(parent,children){return this.algorithmLowAspectRatio(false,parent,children)};TreemapSeries.prototype.stripes=function(parent,children){return this.algorithmFill(false,parent,children)};TreemapSeries.prototype.translate=function(){var series=this,options=series.options;var rootId=TreemapSeries_updateRootId(series),rootNode,pointValues,seriesArea,val;_super.prototype.translate.call(this);var tree=series.tree=series.getTree();rootNode=series.nodeMap[rootId];if(rootId!==""&&!rootNode){series.setRootNode("",false);rootId=series.rootNode;rootNode=series.nodeMap[rootId]}series.mapOptionsToLevel=TreemapSeries_getLevelOptions({from:rootNode.level+1,levels:options.levels,to:tree.height,defaults:{levelIsConstant:series.options.levelIsConstant,colorByPoint:options.colorByPoint}});Treemap_TreemapUtilities.recursive(series.nodeMap[series.rootNode],function(node){var p=node.parent;var next=false;node.visible=true;if(p||p===""){next=series.nodeMap[p]}return next});Treemap_TreemapUtilities.recursive(series.nodeMap[series.rootNode].children,function(children){var next=false;for(var _i=0,children_6=children;_i<children_6.length;_i++){var child=children_6[_i];child.visible=true;if(child.children.length){next=(next||[]).concat(child.children)}}return next});series.setTreeValues(tree);series.axisRatio=series.xAxis.len/series.yAxis.len;series.nodeMap[""].pointValues=pointValues={x:0,y:0,width:axisMax,height:axisMax};series.nodeMap[""].values=seriesArea=TreemapSeries_merge(pointValues,{width:pointValues.width*series.axisRatio,direction:options.layoutStartingDirection==="vertical"?0:1,val:tree.val});series.calculateChildrenAreas(tree,seriesArea);if(!series.colorAxis&&!options.colorByPoint){series.setColorRecursive(series.tree)}if(options.allowTraversingTree){val=rootNode.pointValues;series.xAxis.setExtremes(val.x,val.x+val.width,false);series.yAxis.setExtremes(val.y,val.y+val.height,false);series.xAxis.setScale();series.yAxis.setScale()}series.setPointValues()};TreemapSeries.defaultOptions=TreemapSeries_merge(ScatterSeries.defaultOptions,Treemap_TreemapSeriesDefaults);return TreemapSeries}(ScatterSeries);TreemapSeries_extend(TreemapSeries.prototype,{buildKDTree:noop,colorAttribs:Series_ColorMapComposition.seriesMembers.colorAttribs,colorKey:"colorValue",directTouch:true,getExtremesFromAll:true,getSymbol:noop,optionalAxis:"colorAxis",parallelArrays:["x","y","value","colorValue"],pointArrayMap:["value","colorValue"],pointClass:Treemap_TreemapPoint,NodeClass:Treemap_TreemapNode,trackerGroups:["group","dataLabelsGroup"],utils:Treemap_TreemapUtilities});Series_ColorMapComposition.compose(TreemapSeries);highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("treemap",TreemapSeries);var Treemap_TreemapSeries=TreemapSeries;var G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();G.Breadcrumbs=G.Breadcrumbs||Breadcrumbs_Breadcrumbs;G.Breadcrumbs.compose(G.Chart,G.defaultOptions);Treemap_TreemapSeries.compose(G.Series);var treemap_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__}()});