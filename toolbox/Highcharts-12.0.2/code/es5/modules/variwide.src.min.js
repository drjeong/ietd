(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("highcharts"),require("highcharts")["SeriesRegistry"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/variwide",[["highcharts/highcharts"],["highcharts/highcharts","SeriesRegistry"]],factory);else if(typeof exports==="object")exports["highcharts/modules/variwide"]=factory(require("highcharts"),require("highcharts")["SeriesRegistry"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["SeriesRegistry"])})(this,function(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__512__){return function(){"use strict";var __webpack_modules__={512:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__512__},944:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,{a:getter});return getter}}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return variwide_src}});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_=__webpack_require__(512);var highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default=__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);var composed=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().composed;var addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,pushUnique=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pushUnique,wrap=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().wrap;function compose(AxisClass,TickClass){if(pushUnique(composed,"Variwide")){var tickProto=TickClass.prototype;addEvent(AxisClass,"afterDrawCrosshair",onAxisAfterDrawCrosshair);addEvent(AxisClass,"afterRender",onAxisAfterRender);addEvent(TickClass,"afterGetPosition",onTickAfterGetPosition);tickProto.postTranslate=tickPostTranslate;wrap(tickProto,"getLabelPosition",wrapTickGetLabelPosition)}}function onAxisAfterDrawCrosshair(e){if(this.variwide&&this.cross){this.cross.attr("stroke-width",e.point&&e.point.crosshairWidth)}}function onAxisAfterRender(){var axis=this;if(this.variwide){this.chart.labelCollectors.push(function(){return axis.tickPositions.filter(function(pos){return!!axis.ticks[pos].label}).map(function(pos,i){var label=axis.ticks[pos].label;label.labelrank=axis.zData[i];return label})})}}function onTickAfterGetPosition(e){var axis=this.axis,xOrY=axis.horiz?"x":"y";if(axis.variwide){this[xOrY+"Orig"]=e.pos[xOrY];this.postTranslate(e.pos,xOrY,this.pos)}}function tickPostTranslate(xy,xOrY,index){var axis=this.axis;var pos=xy[xOrY]-axis.pos;if(!axis.horiz){pos=axis.len-pos}pos=axis.series[0].postTranslate(index,pos);if(!axis.horiz){pos=axis.len-pos}xy[xOrY]=axis.pos+pos}function wrapTickGetLabelPosition(proceed,_x,_y,_label,horiz,_labelOptions,_tickmarkOffset,_index){var args=Array.prototype.slice.call(arguments,1),xOrY=horiz?"x":"y";if(this.axis.variwide&&typeof this[xOrY+"Orig"]==="number"){args[horiz?0:1]=this[xOrY+"Orig"]}var xy=proceed.apply(this,args);if(this.axis.variwide&&this.axis.categories){this.postTranslate(xy,xOrY,this.pos)}return xy}var VariwideComposition={compose:compose};var Variwide_VariwideComposition=VariwideComposition;var __extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var ColumnPoint=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.column.prototype.pointClass;var isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber;var VariwidePoint=function(_super){__extends(VariwidePoint,_super);function VariwidePoint(){return _super!==null&&_super.apply(this,arguments)||this}VariwidePoint.prototype.isValid=function(){return isNumber(this.y)&&isNumber(this.z)};return VariwidePoint}(ColumnPoint);var Variwide_VariwidePoint=VariwidePoint;var VariwideSeriesDefaults={pointPadding:0,groupPadding:0};"";var Variwide_VariwideSeriesDefaults=VariwideSeriesDefaults;var VariwideSeries_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var ColumnSeries=highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.column;var VariwideSeries_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,crisp=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().crisp,extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;var VariwideSeries=function(_super){VariwideSeries_extends(VariwideSeries,_super);function VariwideSeries(){return _super!==null&&_super.apply(this,arguments)||this}VariwideSeries.prototype.processData=function(force){this.totalZ=0;this.relZ=[];highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().seriesTypes.column.prototype.processData.call(this,force);var zData=this.getColumn("z");(this.xAxis.reversed?zData.slice().reverse():zData).forEach(function(z,i){this.relZ[i]=this.totalZ;this.totalZ+=z},this);if(this.xAxis.categories){this.xAxis.variwide=true;this.xAxis.zData=zData}return};VariwideSeries.prototype.postTranslate=function(index,x,point){var axis=this.xAxis,relZ=this.relZ,i=axis.reversed?relZ.length-index:index,goRight=axis.reversed?-1:1,minPx=axis.toPixels(axis.reversed?(axis.dataMax||0)+axis.pointRange:axis.dataMin||0),maxPx=axis.toPixels(axis.reversed?axis.dataMin||0:(axis.dataMax||0)+axis.pointRange),len=Math.abs(maxPx-minPx),totalZ=this.totalZ,left=this.chart.inverted?maxPx-(this.chart.plotTop-goRight*axis.minPixelPadding):minPx-this.chart.plotLeft-goRight*axis.minPixelPadding,linearSlotLeft=i/relZ.length*len,linearSlotRight=(i+goRight)/relZ.length*len,slotLeft=pick(relZ[i],totalZ)/totalZ*len,slotRight=pick(relZ[i+goRight],totalZ)/totalZ*len,xInsideLinearSlot=x-(left+linearSlotLeft);if(point){point.crosshairWidth=slotRight-slotLeft}return left+slotLeft+xInsideLinearSlot*(slotRight-slotLeft)/(linearSlotRight-linearSlotLeft)};VariwideSeries.prototype.translate=function(){this.crispOption=this.options.crisp;this.options.crisp=false;_super.prototype.translate.call(this);this.options.crisp=this.crispOption};VariwideSeries.prototype.correctStackLabels=function(){var series=this,options=series.options,yAxis=series.yAxis;var pointStack,pointWidth,stack,xValue;for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];xValue=point.x;pointWidth=point.shapeArgs.width;stack=yAxis.stacking.stacks[(series.negStacks&&point.y<(options.startFromThreshold?0:options.threshold)?"-":"")+series.stackKey];if(stack){pointStack=stack[xValue];if(pointStack&&!point.isNull){pointStack.setOffset(-(pointWidth/2)||0,pointWidth||0,void 0,void 0,point.plotX,series.xAxis)}}}};VariwideSeries.compose=Variwide_VariwideComposition.compose;VariwideSeries.defaultOptions=merge(ColumnSeries.defaultOptions,Variwide_VariwideSeriesDefaults);return VariwideSeries}(ColumnSeries);VariwideSeries_addEvent(VariwideSeries,"afterColumnTranslate",function(){var xAxis=this.xAxis,inverted=this.chart.inverted;var i=-1;for(var _i=0,_a=this.points;_i<_a.length;_i++){var point=_a[_i];++i;var shapeArgs=point.shapeArgs||{},_b=shapeArgs.x,x=_b===void 0?0:_b,_c=shapeArgs.width,width=_c===void 0?0:_c,_d=point.plotX,plotX=_d===void 0?0:_d,tooltipPos=point.tooltipPos,_e=point.z,z=_e===void 0?0:_e;var left=void 0,right=void 0;if(xAxis.variwide){left=this.postTranslate(i,x,point);right=this.postTranslate(i,x+width)}else{left=plotX;right=xAxis.translate(point.x+z,false,false,false,true)}if(this.crispOption){left=crisp(left,this.borderWidth);right=crisp(right,this.borderWidth)}shapeArgs.x=left;shapeArgs.width=Math.max(right-left,1);point.plotX=(left+right)/2;if(tooltipPos){if(!inverted){tooltipPos[0]=shapeArgs.x+shapeArgs.width/2}else{tooltipPos[1]=xAxis.len-shapeArgs.x-shapeArgs.width/2}}}if(this.options.stacking){this.correctStackLabels()}},{order:2});extend(VariwideSeries.prototype,{irregularWidths:true,keysAffectYAxis:["y"],pointArrayMap:["y","z"],parallelArrays:["x","y","z"],pointClass:Variwide_VariwidePoint});highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType("variwide",VariwideSeries);var Variwide_VariwideSeries=VariwideSeries;var G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();Variwide_VariwideSeries.compose(G.Axis,G.Tick);var variwide_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__}()});