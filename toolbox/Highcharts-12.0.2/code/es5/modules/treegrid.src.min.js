(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("highcharts"),require("highcharts")["StackItem"],require("highcharts")["Axis"],require("highcharts")["Color"]);else if(typeof define==="function"&&define.amd)define("highcharts/modules/treegrid",[["highcharts/highcharts"],["highcharts/highcharts","StackItem"],["highcharts/highcharts","Axis"],["highcharts/highcharts","Color"]],factory);else if(typeof exports==="object")exports["highcharts/modules/treegrid"]=factory(require("highcharts"),require("highcharts")["StackItem"],require("highcharts")["Axis"],require("highcharts")["Color"]);else root["Highcharts"]=factory(root["Highcharts"],root["Highcharts"]["StackItem"],root["Highcharts"]["Axis"],root["Highcharts"]["Color"])})(this,function(__WEBPACK_EXTERNAL_MODULE__944__,__WEBPACK_EXTERNAL_MODULE__184__,__WEBPACK_EXTERNAL_MODULE__532__,__WEBPACK_EXTERNAL_MODULE__620__){return function(){"use strict";var __webpack_modules__={532:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__532__},620:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__620__},184:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__184__},944:function(module){module.exports=__WEBPACK_EXTERNAL_MODULE__944__}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports}!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,{a:getter});return getter}}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{default:function(){return treegrid_src}});var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_=__webpack_require__(944);var highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default=__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);var highcharts_StackItem_commonjs_highcharts_StackItem_commonjs2_highcharts_StackItem_root_Highcharts_StackItem_=__webpack_require__(184);var highcharts_StackItem_commonjs_highcharts_StackItem_commonjs2_highcharts_StackItem_root_Highcharts_StackItem_default=__webpack_require__.n(highcharts_StackItem_commonjs_highcharts_StackItem_commonjs2_highcharts_StackItem_root_Highcharts_StackItem_);var addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,find=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().find,fireEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().fireEvent,isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;var BrokenAxis;(function(BrokenAxis){function compose(AxisClass,SeriesClass){if(!AxisClass.keepProps.includes("brokenAxis")){AxisClass.keepProps.push("brokenAxis");addEvent(AxisClass,"init",onAxisInit);addEvent(AxisClass,"afterInit",onAxisAfterInit);addEvent(AxisClass,"afterSetTickPositions",onAxisAfterSetTickPositions);addEvent(AxisClass,"afterSetOptions",onAxisAfterSetOptions);var seriesProto=SeriesClass.prototype;seriesProto.drawBreaks=seriesDrawBreaks;seriesProto.gappedPath=seriesGappedPath;addEvent(SeriesClass,"afterGeneratePoints",onSeriesAfterGeneratePoints);addEvent(SeriesClass,"afterRender",onSeriesAfterRender)}return AxisClass}BrokenAxis.compose=compose;function onAxisAfterInit(){if(typeof this.brokenAxis!=="undefined"){this.brokenAxis.setBreaks(this.options.breaks,false)}}function onAxisAfterSetOptions(){var _a;var axis=this;if((_a=axis.brokenAxis)===null||_a===void 0?void 0:_a.hasBreaks){axis.options.ordinal=false}}function onAxisAfterSetTickPositions(){var axis=this,brokenAxis=axis.brokenAxis;if(brokenAxis===null||brokenAxis===void 0?void 0:brokenAxis.hasBreaks){var tickPositions=axis.tickPositions,info=axis.tickPositions.info,newPositions=[];for(var i=0;i<tickPositions.length;i++){if(!brokenAxis.isInAnyBreak(tickPositions[i])){newPositions.push(tickPositions[i])}}axis.tickPositions=newPositions;axis.tickPositions.info=info}}function onAxisInit(){var axis=this;if(!axis.brokenAxis){axis.brokenAxis=new Additions(axis)}}function onSeriesAfterGeneratePoints(){var _a,_b;var _c=this,isDirty=_c.isDirty,connectNulls=_c.options.connectNulls,points=_c.points,xAxis=_c.xAxis,yAxis=_c.yAxis;if(isDirty){var i=points.length;while(i--){var point=points[i];var nullGap=point.y===null&&connectNulls===false;var isPointInBreak=!nullGap&&(((_a=xAxis===null||xAxis===void 0?void 0:xAxis.brokenAxis)===null||_a===void 0?void 0:_a.isInAnyBreak(point.x,true))||((_b=yAxis===null||yAxis===void 0?void 0:yAxis.brokenAxis)===null||_b===void 0?void 0:_b.isInAnyBreak(point.y,true)));point.visible=isPointInBreak?false:point.options.visible!==false}}}function onSeriesAfterRender(){this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,pick(this.pointArrayMap,["y"]))}function seriesDrawBreaks(axis,keys){var _a;var series=this,points=series.points;var breaks,threshold,y;if((_a=axis===null||axis===void 0?void 0:axis.brokenAxis)===null||_a===void 0?void 0:_a.hasBreaks){var brokenAxis_1=axis.brokenAxis;keys.forEach(function(key){var _a,_b;breaks=(brokenAxis_1===null||brokenAxis_1===void 0?void 0:brokenAxis_1.breakArray)||[];threshold=axis.isXAxis?axis.min:pick(series.options.threshold,axis.min);var breaksOutOfRange=(_b=(_a=axis===null||axis===void 0?void 0:axis.options)===null||_a===void 0?void 0:_a.breaks)===null||_b===void 0?void 0:_b.filter(function(brk){var isOut=true;for(var i=0;i<breaks.length;i++){var otherBreak=breaks[i];if(otherBreak.from===brk.from&&otherBreak.to===brk.to){isOut=false;break}}return isOut});points.forEach(function(point){y=pick(point["stack"+key.toUpperCase()],point[key]);breaks.forEach(function(brk){if(isNumber(threshold)&&isNumber(y)){var eventName="";if(threshold<brk.from&&y>brk.to||threshold>brk.from&&y<brk.from){eventName="pointBreak"}else if(threshold<brk.from&&y>brk.from&&y<brk.to||threshold>brk.from&&y>brk.to&&y<brk.from){eventName="pointInBreak"}if(eventName){fireEvent(axis,eventName,{point:point,brk:brk})}}});breaksOutOfRange===null||breaksOutOfRange===void 0?void 0:breaksOutOfRange.forEach(function(brk){fireEvent(axis,"pointOutsideOfBreak",{point:point,brk:brk})})})})}}function seriesGappedPath(){var currentDataGrouping=this.currentDataGrouping,groupingSize=currentDataGrouping===null||currentDataGrouping===void 0?void 0:currentDataGrouping.gapSize,points=this.points.slice(),yAxis=this.yAxis;var gapSize=this.options.gapSize,i=points.length-1,stack;if(gapSize&&i>0){if(this.options.gapUnit!=="value"){gapSize*=this.basePointRange}if(groupingSize&&groupingSize>gapSize&&groupingSize>=this.basePointRange){gapSize=groupingSize}var current=void 0,next=void 0;while(i--){if(!(next&&next.visible!==false)){next=points[i+1]}current=points[i];if(next.visible===false||current.visible===false){continue}if(next.x-current.x>gapSize){var xRange=(current.x+next.x)/2;points.splice(i+1,0,{isNull:true,x:xRange});if(yAxis.stacking&&this.options.stacking){stack=yAxis.stacking.stacks[this.stackKey][xRange]=new(highcharts_StackItem_commonjs_highcharts_StackItem_commonjs2_highcharts_StackItem_root_Highcharts_StackItem_default())(yAxis,yAxis.options.stackLabels,false,xRange,this.stack);stack.total=0}}next=current}}return this.getGraphPath(points)}var Additions=function(){function Additions(axis){this.hasBreaks=false;this.axis=axis}Additions.isInBreak=function(brk,val){var repeat=brk.repeat||Infinity,from=brk.from,length=brk.to-brk.from,test=val>=from?(val-from)%repeat:repeat-(from-val)%repeat;var ret;if(!brk.inclusive){ret=test<length&&test!==0}else{ret=test<=length}return ret};Additions.lin2Val=function(val){var axis=this;var brokenAxis=axis.brokenAxis;var breakArray=brokenAxis&&brokenAxis.breakArray;if(!breakArray||!isNumber(val)){return val}var nval=val,brk,i;for(i=0;i<breakArray.length;i++){brk=breakArray[i];if(brk.from>=nval){break}else if(brk.to<nval){nval+=brk.len}else if(Additions.isInBreak(brk,nval)){nval+=brk.len}}return nval};Additions.val2Lin=function(val){var axis=this;var brokenAxis=axis.brokenAxis;var breakArray=brokenAxis&&brokenAxis.breakArray;if(!breakArray||!isNumber(val)){return val}var nval=val,brk,i;for(i=0;i<breakArray.length;i++){brk=breakArray[i];if(brk.to<=val){nval-=brk.len}else if(brk.from>=val){break}else if(Additions.isInBreak(brk,val)){nval-=val-brk.from;break}}return nval};Additions.prototype.findBreakAt=function(x,breaks){return find(breaks,function(b){return b.from<x&&x<b.to})};Additions.prototype.isInAnyBreak=function(val,testKeep){var brokenAxis=this,axis=brokenAxis.axis,breaks=axis.options.breaks||[];var i=breaks.length,inbrk,keep,ret;if(i&&isNumber(val)){while(i--){if(Additions.isInBreak(breaks[i],val)){inbrk=true;if(!keep){keep=pick(breaks[i].showPoints,!axis.isXAxis)}}}if(inbrk&&testKeep){ret=inbrk&&!keep}else{ret=inbrk}}return ret};Additions.prototype.setBreaks=function(breaks,redraw){var brokenAxis=this,axis=brokenAxis.axis,time=axis.chart.time,hasBreaks=isArray(breaks)&&!!breaks.length&&!!Object.keys(breaks[0]).length;axis.isDirty=brokenAxis.hasBreaks!==hasBreaks;brokenAxis.hasBreaks=hasBreaks;breaks===null||breaks===void 0?void 0:breaks.forEach(function(brk){brk.from=time.parse(brk.from)||0;brk.to=time.parse(brk.to)||0});if(breaks!==axis.options.breaks){axis.options.breaks=axis.userOptions.breaks=breaks}axis.forceRedraw=true;axis.series.forEach(function(series){series.isDirty=true});if(!hasBreaks&&axis.val2lin===Additions.val2Lin){delete axis.val2lin;delete axis.lin2val}if(hasBreaks){axis.userOptions.ordinal=false;axis.lin2val=Additions.lin2Val;axis.val2lin=Additions.val2Lin;axis.setExtremes=function(newMin,newMax,redraw,animation,eventArguments){if(brokenAxis.hasBreaks){var breaks_1=this.options.breaks||[];var axisBreak=void 0;while(axisBreak=brokenAxis.findBreakAt(newMin,breaks_1)){newMin=axisBreak.to}while(axisBreak=brokenAxis.findBreakAt(newMax,breaks_1)){newMax=axisBreak.from}if(newMax<newMin){newMax=newMin}}axis.constructor.prototype.setExtremes.call(this,newMin,newMax,redraw,animation,eventArguments)};axis.setAxisTranslation=function(){axis.constructor.prototype.setAxisTranslation.call(this);brokenAxis.unitLength=void 0;if(brokenAxis.hasBreaks){var breaks_2=axis.options.breaks||[],breakArrayT_1=[],breakArray_1=[],pointRangePadding=pick(axis.pointRangePadding,0);var length_1=0,inBrk_1,repeat_1,min_1=axis.userMin||axis.min,max_1=axis.userMax||axis.max,start_1,i_1;breaks_2.forEach(function(brk){repeat_1=brk.repeat||Infinity;if(isNumber(min_1)&&isNumber(max_1)){if(Additions.isInBreak(brk,min_1)){min_1+=brk.to%repeat_1-min_1%repeat_1}if(Additions.isInBreak(brk,max_1)){max_1-=max_1%repeat_1-brk.from%repeat_1}}});breaks_2.forEach(function(brk){start_1=brk.from;repeat_1=brk.repeat||Infinity;if(isNumber(min_1)&&isNumber(max_1)){while(start_1-repeat_1>min_1){start_1-=repeat_1}while(start_1<min_1){start_1+=repeat_1}for(i_1=start_1;i_1<max_1;i_1+=repeat_1){breakArrayT_1.push({value:i_1,move:"in"});breakArrayT_1.push({value:i_1+brk.to-brk.from,move:"out",size:brk.breakSize})}}});breakArrayT_1.sort(function(a,b){return a.value===b.value?(a.move==="in"?0:1)-(b.move==="in"?0:1):a.value-b.value});inBrk_1=0;start_1=min_1;breakArrayT_1.forEach(function(brk){inBrk_1+=brk.move==="in"?1:-1;if(inBrk_1===1&&brk.move==="in"){start_1=brk.value}if(inBrk_1===0&&isNumber(start_1)){breakArray_1.push({from:start_1,to:brk.value,len:brk.value-start_1-(brk.size||0)});length_1+=brk.value-start_1-(brk.size||0)}});brokenAxis.breakArray=breakArray_1;if(isNumber(min_1)&&isNumber(max_1)&&isNumber(axis.min)){brokenAxis.unitLength=max_1-min_1-length_1+pointRangePadding;fireEvent(axis,"afterBreaks");if(axis.staticScale){axis.transA=axis.staticScale}else if(brokenAxis.unitLength){axis.transA*=(max_1-axis.min+pointRangePadding)/brokenAxis.unitLength}if(pointRangePadding){axis.minPixelPadding=axis.transA*(axis.minPointOffset||0)}axis.min=min_1;axis.max=max_1}}}}if(pick(redraw,true)){axis.chart.redraw()}};return Additions}();BrokenAxis.Additions=Additions})(BrokenAxis||(BrokenAxis={}));var Axis_BrokenAxis=BrokenAxis;var highcharts_Axis_commonjs_highcharts_Axis_commonjs2_highcharts_Axis_root_Highcharts_Axis_=__webpack_require__(532);var highcharts_Axis_commonjs_highcharts_Axis_commonjs2_highcharts_Axis_root_Highcharts_Axis_default=__webpack_require__.n(highcharts_Axis_commonjs_highcharts_Axis_commonjs2_highcharts_Axis_root_Highcharts_Axis_);var dateFormats=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().dateFormats;var GridAxis_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,defined=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().defined,erase=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().erase,GridAxis_find=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().find,GridAxis_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,GridAxis_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,GridAxis_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,timeUnits=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().timeUnits,wrap=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().wrap;var GridAxisSide;(function(GridAxisSide){GridAxisSide[GridAxisSide["top"]=0]="top";GridAxisSide[GridAxisSide["right"]=1]="right";GridAxisSide[GridAxisSide["bottom"]=2]="bottom";GridAxisSide[GridAxisSide["left"]=3]="left"})(GridAxisSide||(GridAxisSide={}));function argsToArray(args){return Array.prototype.slice.call(args,1)}function isObject(x){return highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isObject(x,true)}function applyGridOptions(axis){var options=axis.options;options.labels.align=GridAxis_pick(options.labels.align,"center");if(!axis.categories){options.showLastLabel=false}axis.labelRotation=0;options.labels.rotation=0;options.minTickInterval=1}function compose(AxisClass,ChartClass,TickClass){if(!AxisClass.keepProps.includes("grid")){AxisClass.keepProps.push("grid");AxisClass.prototype.getMaxLabelDimensions=getMaxLabelDimensions;wrap(AxisClass.prototype,"unsquish",wrapUnsquish);wrap(AxisClass.prototype,"getOffset",wrapGetOffset);GridAxis_addEvent(AxisClass,"init",onInit);GridAxis_addEvent(AxisClass,"afterGetTitlePosition",onAfterGetTitlePosition);GridAxis_addEvent(AxisClass,"afterInit",onAfterInit);GridAxis_addEvent(AxisClass,"afterRender",onAfterRender);GridAxis_addEvent(AxisClass,"afterSetAxisTranslation",onAfterSetAxisTranslation);GridAxis_addEvent(AxisClass,"afterSetOptions",onAfterSetOptions);GridAxis_addEvent(AxisClass,"afterSetOptions",onAfterSetOptions2);GridAxis_addEvent(AxisClass,"afterSetScale",onAfterSetScale);GridAxis_addEvent(AxisClass,"afterTickSize",onAfterTickSize);GridAxis_addEvent(AxisClass,"trimTicks",onTrimTicks);GridAxis_addEvent(AxisClass,"destroy",onDestroy);GridAxis_addEvent(ChartClass,"afterSetChartSize",onChartAfterSetChartSize);GridAxis_addEvent(TickClass,"afterGetLabelPosition",onTickAfterGetLabelPosition);GridAxis_addEvent(TickClass,"labelFormat",onTickLabelFormat)}return AxisClass}function getMaxLabelDimensions(ticks,tickPositions){var dimensions={width:0,height:0};tickPositions.forEach(function(pos){var tick=ticks[pos];var labelHeight=0,labelWidth=0,label;if(isObject(tick)){label=isObject(tick.label)?tick.label:{};labelHeight=label.getBBox?label.getBBox().height:0;if(label.textStr&&!GridAxis_isNumber(label.textPxLength)){label.textPxLength=label.getBBox().width}labelWidth=GridAxis_isNumber(label.textPxLength)?Math.round(label.textPxLength):0;if(label.textStr){labelWidth=Math.round(label.getBBox().width)}dimensions.height=Math.max(labelHeight,dimensions.height);dimensions.width=Math.max(labelWidth,dimensions.width)}});if(this.type==="treegrid"&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode){var treeDepth=this.treeGrid.mapOfPosToGridNode[-1].height||0;dimensions.width+=this.options.labels.indentation*(treeDepth-1)}return dimensions}function wrapGetOffset(proceed){var grid=this.grid,columnsFirst=this.side===3;if(!columnsFirst){proceed.apply(this)}if(!(grid===null||grid===void 0?void 0:grid.isColumn)){var columns=(grid===null||grid===void 0?void 0:grid.columns)||[];if(columnsFirst){columns=columns.slice().reverse()}columns.forEach(function(column){column.getOffset()})}if(columnsFirst){proceed.apply(this)}}function onAfterGetTitlePosition(e){var axis=this;var options=axis.options;var gridOptions=options.grid||{};if(gridOptions.enabled===true){var axisTitle=axis.axisTitle,axisHeight=axis.height,horiz=axis.horiz,axisLeft=axis.left,offset=axis.offset,opposite=axis.opposite,options_1=axis.options,axisTop=axis.top,axisWidth=axis.width;var tickSize=axis.tickSize();var titleWidth=axisTitle&&axisTitle.getBBox().width;var xOption=options_1.title.x;var yOption=options_1.title.y;var titleMargin=GridAxis_pick(options_1.title.margin,horiz?5:10);var titleFontSize=axisTitle?axis.chart.renderer.fontMetrics(axisTitle).f:0;var crispCorr=tickSize?tickSize[0]/2:0;var offAxis=(horiz?axisTop+axisHeight:axisLeft)+(horiz?1:-1)*(opposite?-1:1)*crispCorr+(axis.side===GridAxisSide.bottom?titleFontSize:0);e.titlePosition.x=horiz?axisLeft-(titleWidth||0)/2-titleMargin+xOption:offAxis+(opposite?axisWidth:0)+offset+xOption;e.titlePosition.y=horiz?offAxis-(opposite?axisHeight:0)+(opposite?titleFontSize:-titleFontSize)/2+offset+yOption:axisTop-titleMargin+yOption}}function onAfterInit(){var axis=this;var chart=axis.chart,_a=axis.options.grid,gridOptions=_a===void 0?{}:_a,userOptions=axis.userOptions;if(gridOptions.enabled){applyGridOptions(axis)}if(gridOptions.columns){var columns=axis.grid.columns=[];var columnIndex=axis.grid.columnIndex=0;while(++columnIndex<gridOptions.columns.length){var columnOptions=merge(userOptions,gridOptions.columns[columnIndex],{isInternal:true,linkedTo:0,scrollbar:{enabled:false}},{grid:{columns:void 0}});var column=new(highcharts_Axis_commonjs_highcharts_Axis_commonjs2_highcharts_Axis_root_Highcharts_Axis_default())(axis.chart,columnOptions,"yAxis");column.grid.isColumn=true;column.grid.columnIndex=columnIndex;erase(chart.axes,column);erase(chart[axis.coll]||[],column);columns.push(column)}}}function onAfterRender(){var axis=this,axisTitle=axis.axisTitle,grid=axis.grid,options=axis.options,gridOptions=options.grid||{};if(gridOptions.enabled===true){var min=axis.min||0,max=axis.max||0,firstTick=axis.ticks[axis.tickPositions[0]];if(axisTitle&&!axis.chart.styledMode&&(firstTick===null||firstTick===void 0?void 0:firstTick.slotWidth)&&!axis.options.title.style.width){axisTitle.css({width:""+firstTick.slotWidth+"px"})}axis.maxLabelDimensions=axis.getMaxLabelDimensions(axis.ticks,axis.tickPositions);if(axis.rightWall){axis.rightWall.destroy()}if(axis.grid&&axis.grid.isOuterAxis()&&axis.axisLine){var lineWidth=options.lineWidth;if(lineWidth){var linePath=axis.getLinePath(lineWidth),startPoint=linePath[0],endPoint=linePath[1],tickLength=(axis.tickSize("tick")||[1])[0],distance=tickLength*(axis.side===GridAxisSide.top||axis.side===GridAxisSide.left?-1:1);if(startPoint[0]==="M"&&endPoint[0]==="L"){if(axis.horiz){startPoint[2]+=distance;endPoint[2]+=distance}else{startPoint[1]+=distance;endPoint[1]+=distance}}if(!axis.horiz&&axis.chart.marginRight){var upperBorderStartPoint=startPoint,upperBorderEndPoint=["L",axis.left,startPoint[2]||0],upperBorderPath=[upperBorderStartPoint,upperBorderEndPoint],lowerBorderEndPoint=["L",axis.chart.chartWidth-axis.chart.marginRight,axis.toPixels(max+axis.tickmarkOffset)],lowerBorderStartPoint=["M",endPoint[1]||0,axis.toPixels(max+axis.tickmarkOffset)],lowerBorderPath=[lowerBorderStartPoint,lowerBorderEndPoint];if(!axis.grid.upperBorder&&min%1!==0){axis.grid.upperBorder=axis.grid.renderBorder(upperBorderPath)}if(axis.grid.upperBorder){axis.grid.upperBorder.attr({stroke:options.lineColor,"stroke-width":options.lineWidth});axis.grid.upperBorder.animate({d:upperBorderPath})}if(!axis.grid.lowerBorder&&max%1!==0){axis.grid.lowerBorder=axis.grid.renderBorder(lowerBorderPath)}if(axis.grid.lowerBorder){axis.grid.lowerBorder.attr({stroke:options.lineColor,"stroke-width":options.lineWidth});axis.grid.lowerBorder.animate({d:lowerBorderPath})}}if(!axis.grid.axisLineExtra){axis.grid.axisLineExtra=axis.grid.renderBorder(linePath)}else{axis.grid.axisLineExtra.attr({stroke:options.lineColor,"stroke-width":options.lineWidth});axis.grid.axisLineExtra.animate({d:linePath})}axis.axisLine[axis.showAxis?"show":"hide"]()}}(grid&&grid.columns||[]).forEach(function(column){return column.render()});if(!axis.horiz&&axis.chart.hasRendered&&(axis.scrollbar||axis.linkedParent&&axis.linkedParent.scrollbar)&&axis.tickPositions.length){var tickmarkOffset=axis.tickmarkOffset,lastTick=axis.tickPositions[axis.tickPositions.length-1],firstTick_1=axis.tickPositions[0];var label=void 0,tickMark=void 0;while((label=axis.hiddenLabels.pop())&&label.element){label.show()}while((tickMark=axis.hiddenMarks.pop())&&tickMark.element){tickMark.show()}label=axis.ticks[firstTick_1].label;if(label){if(min-firstTick_1>tickmarkOffset){axis.hiddenLabels.push(label.hide())}else{label.show()}}label=axis.ticks[lastTick].label;if(label){if(lastTick-max>tickmarkOffset){axis.hiddenLabels.push(label.hide())}else{label.show()}}var mark=axis.ticks[lastTick].mark;if(mark&&lastTick-max<tickmarkOffset&&lastTick-max>0&&axis.ticks[lastTick].isLast){axis.hiddenMarks.push(mark.hide())}}}}function onAfterSetAxisTranslation(){var axis=this;var tickInfo=axis.tickPositions&&axis.tickPositions.info;var options=axis.options;var gridOptions=options.grid||{};var userLabels=axis.userOptions.labels||{};if(gridOptions.enabled){if(axis.horiz){axis.series.forEach(function(series){series.options.pointRange=0});if(tickInfo&&options.dateTimeLabelFormats&&options.labels&&!defined(userLabels.align)&&(options.dateTimeLabelFormats[tickInfo.unitName].range===false||tickInfo.count>1)){options.labels.align="left";if(!defined(userLabels.x)){options.labels.x=3}}}else{if(this.type!=="treegrid"&&axis.grid&&axis.grid.columns){this.minPointOffset=this.tickInterval}}}}function onAfterSetOptions(e){var options=this.options,userOptions=e.userOptions,gridOptions=options&&isObject(options.grid)?options.grid:{};var gridAxisOptions;if(gridOptions.enabled===true){gridAxisOptions=merge(true,{className:"highcharts-grid-axis "+(userOptions.className||""),dateTimeLabelFormats:{hour:{list:["%[HM]","%[H]"]},day:{list:["%[AeB]","%[aeb]","%[E]"]},week:{list:["Week %W","W%W"]},month:{list:["%[B]","%[b]","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:false,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},userOptions);if(this.coll==="xAxis"){if(defined(userOptions.linkedTo)&&!defined(userOptions.tickPixelInterval)){gridAxisOptions.tickPixelInterval=350}if(!defined(userOptions.tickPixelInterval)&&defined(userOptions.linkedTo)&&!defined(userOptions.tickPositioner)&&!defined(userOptions.tickInterval)&&!defined(userOptions.units)){gridAxisOptions.tickPositioner=function(min,max){var parentInfo=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(parentInfo){var units=gridAxisOptions.units||[];var unitIdx=void 0,count=1,unitName="year";for(var i=0;i<units.length;i++){var unit_1=units[i];if(unit_1&&unit_1[0]===parentInfo.unitName){unitIdx=i;break}}var unit=GridAxis_isNumber(unitIdx)&&units[unitIdx+1];if(unit){unitName=unit[0]||"year";var counts=unit[1];count=counts&&counts[0]||1}else if(parentInfo.unitName==="year"){count=parentInfo.count*10}var unitRange=timeUnits[unitName];this.tickInterval=unitRange*count;return this.chart.time.getTimeTicks({unitRange:unitRange,count:count,unitName:unitName},min,max,this.options.startOfWeek)}}}}merge(true,this.options,gridAxisOptions);if(this.horiz){options.minPadding=GridAxis_pick(userOptions.minPadding,0);options.maxPadding=GridAxis_pick(userOptions.maxPadding,0)}if(GridAxis_isNumber(options.grid.borderWidth)){options.tickWidth=options.lineWidth=gridOptions.borderWidth}}}function onAfterSetOptions2(e){var axis=this;var userOptions=e.userOptions;var gridOptions=userOptions&&userOptions.grid||{};var columns=gridOptions.columns;if(gridOptions.enabled&&columns){merge(true,axis.options,columns[0])}}function onAfterSetScale(){var axis=this;(axis.grid.columns||[]).forEach(function(column){return column.setScale()})}function onAfterTickSize(e){var _a=this,horiz=_a.horiz,maxLabelDimensions=_a.maxLabelDimensions,_b=_a.options.grid,gridOptions=_b===void 0?{}:_b;if(gridOptions.enabled&&maxLabelDimensions){var labelPadding=this.options.labels.distance*2;var distance=horiz?gridOptions.cellHeight||labelPadding+maxLabelDimensions.height:labelPadding+maxLabelDimensions.width;if(GridAxis_isArray(e.tickSize)){e.tickSize[0]=distance}else{e.tickSize=[distance,0]}}}function onChartAfterSetChartSize(){this.axes.forEach(function(axis){(axis.grid&&axis.grid.columns||[]).forEach(function(column){column.setAxisSize();column.setAxisTranslation()})})}function onDestroy(e){var grid=this.grid;(grid.columns||[]).forEach(function(column){return column.destroy(e.keepEvents)});grid.columns=void 0}function onInit(e){var axis=this;var userOptions=e.userOptions||{};var gridOptions=userOptions.grid||{};if(gridOptions.enabled&&defined(gridOptions.borderColor)){userOptions.tickColor=userOptions.lineColor=gridOptions.borderColor}if(!axis.grid){axis.grid=new GridAxisAdditions(axis)}axis.hiddenLabels=[];axis.hiddenMarks=[]}function onTickAfterGetLabelPosition(e){var tick=this,label=tick.label,axis=tick.axis,reversed=axis.reversed,chart=axis.chart,options=axis.options,gridOptions=options.grid||{},labelOpts=axis.options.labels,align=labelOpts.align,verticalAlign="middle",side=GridAxisSide[axis.side],tickmarkOffset=e.tickmarkOffset,tickPositions=axis.tickPositions,tickPos=tick.pos-tickmarkOffset,nextTickPos=GridAxis_isNumber(tickPositions[e.index+1])?tickPositions[e.index+1]-tickmarkOffset:(axis.max||0)+tickmarkOffset,tickSize=axis.tickSize("tick"),tickWidth=tickSize?tickSize[0]:0,crispCorr=tickSize?tickSize[1]/2:0;if(gridOptions.enabled===true){var bottom=void 0,top_1,left=void 0,right=void 0;if(side==="top"){bottom=axis.top+axis.offset;top_1=bottom-tickWidth}else if(side==="bottom"){top_1=chart.chartHeight-axis.bottom+axis.offset;bottom=top_1+tickWidth}else{bottom=axis.top+axis.len-(axis.translate(reversed?nextTickPos:tickPos)||0);top_1=axis.top+axis.len-(axis.translate(reversed?tickPos:nextTickPos)||0)}if(side==="right"){left=chart.chartWidth-axis.right+axis.offset;right=left+tickWidth}else if(side==="left"){right=axis.left+axis.offset;left=right-tickWidth}else{left=Math.round(axis.left+(axis.translate(reversed?nextTickPos:tickPos)||0))-crispCorr;right=Math.min(Math.round(axis.left+(axis.translate(reversed?tickPos:nextTickPos)||0))-crispCorr,axis.left+axis.len)}tick.slotWidth=right-left;e.pos.x=align==="left"?left:align==="right"?right:left+(right-left)/2;e.pos.y=verticalAlign==="top"?top_1:verticalAlign==="bottom"?bottom:top_1+(bottom-top_1)/2;if(label){var lblMetrics=chart.renderer.fontMetrics(label),labelHeight=label.getBBox().height;if(!labelOpts.useHTML){var lines=Math.round(labelHeight/lblMetrics.h);e.pos.y+=(lblMetrics.b-(lblMetrics.h-lblMetrics.f))/2+-((lines-1)*lblMetrics.h/2)}else{e.pos.y+=lblMetrics.b+-(labelHeight/2)}}e.pos.x+=axis.horiz&&labelOpts.x||0}}function onTickLabelFormat(ctx){var axis=ctx.axis,value=ctx.value;if(axis.options.grid&&axis.options.grid.enabled){var tickPos=axis.tickPositions;var series=(axis.linkedParent||axis).series[0];var isFirst=value===tickPos[0];var isLast=value===tickPos[tickPos.length-1];var point=series&&GridAxis_find(series.options.data,function(p){return p[axis.isXAxis?"x":"y"]===value});var pointCopy=void 0;if(point&&series.is("gantt")){pointCopy=merge(point);highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(pointCopy,axis.chart)}ctx.isFirst=isFirst;ctx.isLast=isLast;ctx.point=pointCopy}}function onTrimTicks(){var axis=this,options=axis.options,gridOptions=options.grid||{},categoryAxis=axis.categories,tickPositions=axis.tickPositions,firstPos=tickPositions[0],secondPos=tickPositions[1],lastPos=tickPositions[tickPositions.length-1],beforeLastPos=tickPositions[tickPositions.length-2],linkedMin=axis.linkedParent&&axis.linkedParent.min,linkedMax=axis.linkedParent&&axis.linkedParent.max,min=linkedMin||axis.min,max=linkedMax||axis.max,tickInterval=axis.tickInterval,startLessThanMin=GridAxis_isNumber(min)&&min>=firstPos+tickInterval&&min<secondPos,endMoreThanMin=GridAxis_isNumber(min)&&firstPos<min&&firstPos+tickInterval>min,startLessThanMax=GridAxis_isNumber(max)&&lastPos>max&&lastPos-tickInterval<max,endMoreThanMax=GridAxis_isNumber(max)&&max<=lastPos-tickInterval&&max>beforeLastPos;if(gridOptions.enabled===true&&!categoryAxis&&(axis.isXAxis||axis.isLinked)){if((endMoreThanMin||startLessThanMin)&&!options.startOnTick){tickPositions[0]=min}if((startLessThanMax||endMoreThanMax)&&!options.endOnTick){tickPositions[tickPositions.length-1]=max}}}function wrapUnsquish(proceed){var axis=this;var _a=axis.options.grid,gridOptions=_a===void 0?{}:_a;if(gridOptions.enabled===true&&axis.categories){return axis.tickInterval}return proceed.apply(axis,argsToArray(arguments))}var GridAxisAdditions=function(){function GridAxisAdditions(axis){this.axis=axis}GridAxisAdditions.prototype.isOuterAxis=function(){var _a;var axis=this.axis;var chart=axis.chart;var columnIndex=axis.grid.columnIndex;var columns=((_a=axis.linkedParent)===null||_a===void 0?void 0:_a.grid.columns)||axis.grid.columns||[];var parentAxis=columnIndex?axis.linkedParent:axis;var thisIndex=-1,lastIndex=0;if(axis.side===3&&!chart.inverted&&columns.length){return!axis.linkedParent}(chart[axis.coll]||[]).forEach(function(otherAxis,index){if(otherAxis.side===axis.side&&!otherAxis.options.isInternal){lastIndex=index;if(otherAxis===parentAxis){thisIndex=index}}});return lastIndex===thisIndex&&(GridAxis_isNumber(columnIndex)?columns.length===columnIndex:true)};GridAxisAdditions.prototype.renderBorder=function(path){var axis=this.axis,renderer=axis.chart.renderer,options=axis.options,extraBorderLine=renderer.path(path).addClass("highcharts-axis-line").add(axis.axisGroup);if(!renderer.styledMode){extraBorderLine.attr({stroke:options.lineColor,"stroke-width":options.lineWidth,zIndex:7})}return extraBorderLine};return GridAxisAdditions}();dateFormats.E=function(timestamp){return this.dateFormat("%a",timestamp,true).charAt(0)};dateFormats.W=function(timestamp){var d=this.toParts(timestamp),firstDay=(d[7]+6)%7,thursday=d.slice(0);thursday[2]=d[2]-firstDay+3;var firstThursday=this.toParts(this.makeTime(thursday[0],0,1));if(firstThursday[7]!==4){d[1]=0;d[2]=1+(11-firstThursday[7])%7}var thursdayTS=this.makeTime(thursday[0],thursday[1],thursday[2]),firstThursdayTS=this.makeTime(firstThursday[0],firstThursday[1],firstThursday[2]);return(1+Math.floor((thursdayTS-firstThursdayTS)/6048e5)).toString()};var GridAxis={compose:compose};var Axis_GridAxis=GridAxis;"";var __rest=undefined&&undefined.__rest||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]]}return t};var extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,Tree_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,Tree_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick;function getListOfParents(data){var root="",ids=[],listOfParents=data.reduce(function(prev,curr){var _a=curr.parent,parent=_a===void 0?"":_a,id=curr.id;if(typeof prev[parent]==="undefined"){prev[parent]=[]}prev[parent].push(curr);if(id){ids.push(id)}return prev},{});Object.keys(listOfParents).forEach(function(node){var _a;if(node!==root&&ids.indexOf(node)===-1){var adoptedByRoot=listOfParents[node].map(function(orphan){var parentExcluded=__rest(orphan,[]);return parentExcluded});(_a=listOfParents[root]).push.apply(_a,adoptedByRoot);delete listOfParents[node]}});return listOfParents}function getNode(id,parent,level,data,mapOfIdToChildren,options){var after=options&&options.after,before=options&&options.before,node={data:data,depth:level-1,id:id,level:level,parent:parent||""};var descendants=0,height=0,start,end;if(typeof before==="function"){before(node,options)}var children=(mapOfIdToChildren[id]||[]).map(function(child){var node=getNode(child.id,id,level+1,child,mapOfIdToChildren,options),childStart=child.start||NaN,childEnd=child.milestone===true?childStart:child.end||NaN;start=!Tree_isNumber(start)||childStart<start?childStart:start;end=!Tree_isNumber(end)||childEnd>end?childEnd:end;descendants=descendants+1+node.descendants;height=Math.max(node.height+1,height);return node});if(data){data.start=Tree_pick(data.start,start);data.end=Tree_pick(data.end,end)}extend(node,{children:children,descendants:descendants,height:height});if(typeof after==="function"){after(node,options)}return node}function getTree(data,options){return getNode("",null,1,null,getListOfParents(data),options)}var Tree={getNode:getNode,getTree:getTree};var Gantt_Tree=Tree;var TreeGridTick_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,removeEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().removeEvent,TreeGridTick_isObject=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isObject,TreeGridTick_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,TreeGridTick_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,TreeGridTick_wrap=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().wrap;function onTickInit(){var tick=this;if(!tick.treeGrid){tick.treeGrid=new TreeGridTickAdditions(tick)}}function onTickHover(label){label.addClass("highcharts-treegrid-node-active");if(!label.renderer.styledMode){label.css({textDecoration:"underline"})}}function onTickHoverExit(label,options){var css=TreeGridTick_isObject(options.style)?options.style:{};label.removeClass("highcharts-treegrid-node-active");if(!label.renderer.styledMode){label.css({textDecoration:css.textDecoration||"none"})}}function renderLabelIcon(tick,params){var _a;var treeGrid=tick.treeGrid,isNew=!treeGrid.labelIcon,renderer=params.renderer,labelBox=params.xy,options=params.options,width=options.width||0,height=options.height||0,padding=((_a=options.padding)!==null&&_a!==void 0?_a:tick.axis.linkedParent)?0:5,iconCenter={x:labelBox.x-width/2-padding,y:labelBox.y-height/2},rotation=params.collapsed?90:180,shouldRender=params.show&&TreeGridTick_isNumber(iconCenter.y);var icon=treeGrid.labelIcon;if(!icon){treeGrid.labelIcon=icon=renderer.path(renderer.symbols[options.type](options.x||0,options.y||0,width,height)).addClass("highcharts-label-icon").add(params.group)}icon[shouldRender?"show":"hide"]();if(!renderer.styledMode){icon.attr({cursor:"pointer",fill:TreeGridTick_pick(params.color,"#666666"),"stroke-width":1,stroke:options.lineColor,strokeWidth:options.lineWidth||0})}icon[isNew?"attr":"animate"]({translateX:iconCenter.x,translateY:iconCenter.y,rotation:rotation})}function wrapGetLabelPosition(proceed,x,y,label,horiz,labelOptions,tickmarkOffset,index,step){var tick=this,lbOptions=TreeGridTick_pick(tick.options&&tick.options.labels,labelOptions),pos=tick.pos,axis=tick.axis,isTreeGrid=axis.type==="treegrid",result=proceed.apply(tick,[x,y,label,horiz,lbOptions,tickmarkOffset,index,step]);var mapOfPosToGridNode,node,level;if(isTreeGrid){var _a=lbOptions&&TreeGridTick_isObject(lbOptions.symbol,true)?lbOptions.symbol:{},_b=_a.width,width=_b===void 0?0:_b,_c=_a.padding,padding=_c===void 0?axis.linkedParent?0:5:_c,indentation=lbOptions&&TreeGridTick_isNumber(lbOptions.indentation)?lbOptions.indentation:0;mapOfPosToGridNode=axis.treeGrid.mapOfPosToGridNode;node=mapOfPosToGridNode&&mapOfPosToGridNode[pos];level=node&&node.depth||1;result.x+=width+padding*2+(level-1)*indentation}return result}function wrapRenderLabel(proceed){var tick=this,pos=tick.pos,axis=tick.axis,label=tick.label,tickGrid=tick.treeGrid,tickOptions=tick.options,icon=tickGrid===null||tickGrid===void 0?void 0:tickGrid.labelIcon,labelElement=label===null||label===void 0?void 0:label.element,axisGrid=axis.treeGrid,axisOptions=axis.options,chart=axis.chart,tickPositions=axis.tickPositions,mapOfPosToGridNode=axisGrid.mapOfPosToGridNode,labelOptions=TreeGridTick_pick(tickOptions===null||tickOptions===void 0?void 0:tickOptions.labels,axisOptions===null||axisOptions===void 0?void 0:axisOptions.labels),symbolOptions=labelOptions&&TreeGridTick_isObject(labelOptions.symbol,true)?labelOptions.symbol:{},node=mapOfPosToGridNode&&mapOfPosToGridNode[pos],_a=node||{},descendants=_a.descendants,depth=_a.depth,hasDescendants=node&&descendants&&descendants>0,level=depth,isTreeGridElement=axis.type==="treegrid"&&labelElement,shouldRender=tickPositions.indexOf(pos)>-1,prefixClassName="highcharts-treegrid-node-",prefixLevelClass=prefixClassName+"level-",styledMode=chart.styledMode;var collapsed,addClassName,removeClassName;if(isTreeGridElement&&node){label.removeClass(new RegExp(prefixLevelClass+".*")).addClass(prefixLevelClass+level)}proceed.apply(tick,Array.prototype.slice.call(arguments,1));if(isTreeGridElement&&hasDescendants){collapsed=axisGrid.isCollapsed(node);renderLabelIcon(tick,{color:!styledMode&&label.styles.color||"",collapsed:collapsed,group:label.parentGroup,options:symbolOptions,renderer:label.renderer,show:shouldRender,xy:label.xy});addClassName=prefixClassName+(collapsed?"collapsed":"expanded");removeClassName=prefixClassName+(collapsed?"expanded":"collapsed");label.addClass(addClassName).removeClass(removeClassName);if(!styledMode){label.css({cursor:"pointer"})}[label,icon].forEach(function(object){if(object&&!object.attachedTreeGridEvents){TreeGridTick_addEvent(object.element,"mouseover",function(){onTickHover(label)});TreeGridTick_addEvent(object.element,"mouseout",function(){onTickHoverExit(label,labelOptions)});TreeGridTick_addEvent(object.element,"click",function(){tickGrid.toggleCollapse()});object.attachedTreeGridEvents=true}})}else if(icon){removeEvent(labelElement);label===null||label===void 0?void 0:label.css({cursor:"default"});icon.destroy()}}var TreeGridTickAdditions=function(){function TreeGridTickAdditions(tick){this.tick=tick}TreeGridTickAdditions.compose=function(TickClass){var tickProto=TickClass.prototype;if(!tickProto.toggleCollapse){TreeGridTick_addEvent(TickClass,"init",onTickInit);TreeGridTick_wrap(tickProto,"getLabelPosition",wrapGetLabelPosition);TreeGridTick_wrap(tickProto,"renderLabel",wrapRenderLabel);tickProto.collapse=function(redraw){this.treeGrid.collapse(redraw)};tickProto.expand=function(redraw){this.treeGrid.expand(redraw)};tickProto.toggleCollapse=function(redraw){this.treeGrid.toggleCollapse(redraw)}}};TreeGridTickAdditions.prototype.collapse=function(redraw){var tick=this.tick,axis=tick.axis,brokenAxis=axis.brokenAxis;if(brokenAxis&&axis.treeGrid.mapOfPosToGridNode){var pos=tick.pos,node=axis.treeGrid.mapOfPosToGridNode[pos],breaks=axis.treeGrid.collapse(node);brokenAxis.setBreaks(breaks,TreeGridTick_pick(redraw,true))}};TreeGridTickAdditions.prototype.destroy=function(){if(this.labelIcon){this.labelIcon.destroy()}};TreeGridTickAdditions.prototype.expand=function(redraw){var _a=this.tick,pos=_a.pos,axis=_a.axis,treeGrid=axis.treeGrid,brokenAxis=axis.brokenAxis,posMappedNodes=treeGrid.mapOfPosToGridNode;if(brokenAxis&&posMappedNodes){var node=posMappedNodes[pos],breaks=treeGrid.expand(node);brokenAxis.setBreaks(breaks,TreeGridTick_pick(redraw,true))}};TreeGridTickAdditions.prototype.toggleCollapse=function(redraw){var tick=this.tick,axis=tick.axis,brokenAxis=axis.brokenAxis;if(brokenAxis&&axis.treeGrid.mapOfPosToGridNode){var pos=tick.pos,node=axis.treeGrid.mapOfPosToGridNode[pos],breaks=axis.treeGrid.toggleCollapse(node);brokenAxis.setBreaks(breaks,TreeGridTick_pick(redraw,true))}};return TreeGridTickAdditions}();var TreeGridTick=TreeGridTickAdditions;var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_=__webpack_require__(620);var highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default=__webpack_require__.n(highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_);var TreeUtilities_extend=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().extend,TreeUtilities_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,TreeUtilities_isNumber=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isNumber,TreeUtilities_isObject=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isObject,TreeUtilities_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,TreeUtilities_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,relativeLength=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().relativeLength;function getColor(node,options){var index=options.index,mapOptionsToLevel=options.mapOptionsToLevel,parentColor=options.parentColor,parentColorIndex=options.parentColorIndex,series=options.series,colors=options.colors,siblings=options.siblings,points=series.points,chartOptionsChart=series.chart.options.chart;var getColorByPoint,point,level,colorByPoint,colorIndexByPoint,color,colorIndex;var variateColor=function(color){var colorVariation=level&&level.colorVariation;if(colorVariation&&colorVariation.key==="brightness"&&index&&siblings){return highcharts_Color_commonjs_highcharts_Color_commonjs2_highcharts_Color_root_Highcharts_Color_default().parse(color).brighten(colorVariation.to*(index/siblings)).get()}return color};if(node){point=points[node.i];level=mapOptionsToLevel[node.level]||{};getColorByPoint=point&&level.colorByPoint;if(getColorByPoint){colorIndexByPoint=point.index%(colors?colors.length:chartOptionsChart.colorCount);colorByPoint=colors&&colors[colorIndexByPoint]}if(!series.chart.styledMode){color=TreeUtilities_pick(point&&point.options.color,level&&level.color,colorByPoint,parentColor&&variateColor(parentColor),series.color)}colorIndex=TreeUtilities_pick(point&&point.options.colorIndex,level&&level.colorIndex,colorIndexByPoint,parentColorIndex,options.colorIndex)}return{color:color,colorIndex:colorIndex}}function getLevelOptions(params){var result={};var defaults,converted,i,from,to,levels;if(TreeUtilities_isObject(params)){from=TreeUtilities_isNumber(params.from)?params.from:1;levels=params.levels;converted={};defaults=TreeUtilities_isObject(params.defaults)?params.defaults:{};if(TreeUtilities_isArray(levels)){converted=levels.reduce(function(obj,item){var level,levelIsConstant,options;if(TreeUtilities_isObject(item)&&TreeUtilities_isNumber(item.level)){options=TreeUtilities_merge({},item);levelIsConstant=TreeUtilities_pick(options.levelIsConstant,defaults.levelIsConstant);delete options.levelIsConstant;delete options.level;level=item.level+(levelIsConstant?0:from-1);if(TreeUtilities_isObject(obj[level])){TreeUtilities_merge(true,obj[level],options)}else{obj[level]=options}}return obj},{})}to=TreeUtilities_isNumber(params.to)?params.to:1;for(i=0;i<=to;i++){result[i]=TreeUtilities_merge({},defaults,TreeUtilities_isObject(converted[i])?converted[i]:{})}}return result}function setTreeValues(tree,options){var before=options.before,idRoot=options.idRoot,mapIdToNode=options.mapIdToNode,nodeRoot=mapIdToNode[idRoot],levelIsConstant=options.levelIsConstant!==false,points=options.points,point=points[tree.i],optionsPoint=point&&point.options||{},children=[];var childrenTotal=0;tree.levelDynamic=tree.level-(levelIsConstant?0:nodeRoot.level);tree.name=TreeUtilities_pick(point&&point.name,"");tree.visible=idRoot===tree.id||options.visible===true;if(typeof before==="function"){tree=before(tree,options)}tree.children.forEach(function(child,i){var newOptions=TreeUtilities_extend({},options);TreeUtilities_extend(newOptions,{index:i,siblings:tree.children.length,visible:tree.visible});child=setTreeValues(child,newOptions);children.push(child);if(child.visible){childrenTotal+=child.val}});var value=TreeUtilities_pick(optionsPoint.value,childrenTotal);tree.visible=value>=0&&(childrenTotal>0||tree.visible);tree.children=children;tree.childrenTotal=childrenTotal;tree.isLeaf=tree.visible&&!childrenTotal;tree.val=value;return tree}function updateRootId(series){var rootId,options;if(TreeUtilities_isObject(series)){options=TreeUtilities_isObject(series.options)?series.options:{};rootId=TreeUtilities_pick(series.rootNode,options.rootId,"");if(TreeUtilities_isObject(series.userOptions)){series.userOptions.rootId=rootId}series.rootNode=rootId}return rootId}function getNodeWidth(series,columnCount){var chart=series.chart,options=series.options,_a=options.nodeDistance,nodeDistance=_a===void 0?0:_a,_b=options.nodeWidth,nodeWidth=_b===void 0?0:_b,_c=chart.plotSizeX,plotSizeX=_c===void 0?1:_c;if(nodeWidth==="auto"){if(typeof nodeDistance==="string"&&/%$/.test(nodeDistance)){var fraction=parseFloat(nodeDistance)/100,total=columnCount+fraction*(columnCount-1);return plotSizeX/total}var nDistance=Number(nodeDistance);return(plotSizeX+nDistance)/(columnCount||1)-nDistance}return relativeLength(nodeWidth,plotSizeX)}var TreeUtilities={getColor:getColor,getLevelOptions:getLevelOptions,getNodeWidth:getNodeWidth,setTreeValues:setTreeValues,updateRootId:updateRootId};var Series_TreeUtilities=TreeUtilities;var TreeGridAxis_getLevelOptions=Series_TreeUtilities.getLevelOptions;var TreeGridAxis_addEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().addEvent,TreeGridAxis_isArray=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isArray,splat=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().splat,TreeGridAxis_find=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().find,TreeGridAxis_fireEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().fireEvent,TreeGridAxis_isObject=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isObject,isString=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().isString,TreeGridAxis_merge=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().merge,TreeGridAxis_pick=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().pick,TreeGridAxis_removeEvent=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().removeEvent,TreeGridAxis_wrap=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default().wrap;var TickConstructor;function getBreakFromNode(node,max){var to=node.collapseEnd||0;var from=node.collapseStart||0;if(to>=max){from-=.5}return{from:from,to:to,showPoints:false}}function getTreeGridFromData(data,uniqueNames,numberOfSeries){var categories=[],collapsedNodes=[],mapOfIdToNode={},uniqueNamesEnabled=uniqueNames||false;var mapOfPosToGridNode={},posIterator=-1;var treeParams={after:function(node){var gridNode=mapOfPosToGridNode[node.pos];var height=0,descendants=0;gridNode.children.forEach(function(child){descendants+=(child.descendants||0)+1;height=Math.max((child.height||0)+1,height)});gridNode.descendants=descendants;gridNode.height=height;if(gridNode.collapsed){collapsedNodes.push(gridNode)}},before:function(node){var data=TreeGridAxis_isObject(node.data,true)?node.data:{},name=isString(data.name)?data.name:"",parentNode=mapOfIdToNode[node.parent],parentGridNode=TreeGridAxis_isObject(parentNode,true)?mapOfPosToGridNode[parentNode.pos]:null,hasSameName=function(x){return x.name===name};var gridNode,pos;if(uniqueNamesEnabled&&TreeGridAxis_isObject(parentGridNode,true)&&!!(gridNode=TreeGridAxis_find(parentGridNode.children,hasSameName))){pos=gridNode.pos;gridNode.nodes.push(node)}else{pos=posIterator++}if(!mapOfPosToGridNode[pos]){mapOfPosToGridNode[pos]=gridNode={depth:parentGridNode?parentGridNode.depth+1:0,name:name,id:data.id,nodes:[node],children:[],pos:pos};if(pos!==-1){categories.push(name)}if(TreeGridAxis_isObject(parentGridNode,true)){parentGridNode.children.push(gridNode)}}if(isString(node.id)){mapOfIdToNode[node.id]=node}if(gridNode&&data.collapsed===true){gridNode.collapsed=true}node.pos=pos}};var updateYValuesAndTickPos=function(map,numberOfSeries){var setValues=function(gridNode,start,result){var nodes=gridNode.nodes,padding=.5;var end=start+(start===-1?0:numberOfSeries-1);var diff=(end-start)/2,pos=start+diff;nodes.forEach(function(node){var data=node.data;if(TreeGridAxis_isObject(data,true)){data.y=start+(data.seriesIndex||0);delete data.seriesIndex}node.pos=pos});result[pos]=gridNode;gridNode.pos=pos;gridNode.tickmarkOffset=diff+padding;gridNode.collapseStart=end+padding;gridNode.children.forEach(function(child){setValues(child,end+1,result);end=(child.collapseEnd||0)-padding});gridNode.collapseEnd=end+padding;return result};return setValues(map["-1"],-1,{})};var tree=Gantt_Tree.getTree(data,treeParams);mapOfPosToGridNode=updateYValuesAndTickPos(mapOfPosToGridNode,numberOfSeries);return{categories:categories,mapOfIdToNode:mapOfIdToNode,mapOfPosToGridNode:mapOfPosToGridNode,collapsedNodes:collapsedNodes,tree:tree}}function onBeforeRender(e){var chart=e.target,axes=chart.axes;axes.filter(function(axis){return axis.type==="treegrid"}).forEach(function(axis){var options=axis.options||{},labelOptions=options.labels,uniqueNames=axis.uniqueNames,max=chart.time.parse(options.max),isDirty=!axis.treeGrid.mapOfPosToGridNode||axis.series.some(function(series){return!series.hasRendered||series.isDirtyData||series.isDirty});var numberOfSeries=0,data,treeGrid;if(isDirty){var seriesHasPrimitivePoints_1=[];data=axis.series.reduce(function(arr,s){var seriesData=s.options.data||[],firstPoint=seriesData[0],foundPrimitivePoint=Array.isArray(firstPoint)&&!firstPoint.find(function(value){return typeof value==="object"});seriesHasPrimitivePoints_1.push(foundPrimitivePoint);if(s.visible){seriesData.forEach(function(pointOptions){if(foundPrimitivePoint||s.options.keys&&s.options.keys.length){pointOptions=s.pointClass.prototype.optionsToObject.call({series:s},pointOptions);s.pointClass.setGanttPointAliases(pointOptions,chart)}if(TreeGridAxis_isObject(pointOptions,true)){pointOptions.seriesIndex=numberOfSeries;arr.push(pointOptions)}});if(uniqueNames===true){numberOfSeries++}}return arr},[]);if(max&&data.length<max){for(var i=data.length;i<=max;i++){data.push({name:i+"​"})}}treeGrid=getTreeGridFromData(data,uniqueNames||false,uniqueNames===true?numberOfSeries:1);axis.categories=treeGrid.categories;axis.treeGrid.mapOfPosToGridNode=treeGrid.mapOfPosToGridNode;axis.hasNames=true;axis.treeGrid.tree=treeGrid.tree;axis.series.forEach(function(series,index){var axisData=(series.options.data||[]).map(function(d){if(seriesHasPrimitivePoints_1[index]||TreeGridAxis_isArray(d)&&series.options.keys&&series.options.keys.length){data.forEach(function(point){var toArray=splat(d);if(toArray.indexOf(point.x||0)>=0&&toArray.indexOf(point.x2||0)>=0){d=point}})}return TreeGridAxis_isObject(d,true)?TreeGridAxis_merge(d):d});if(series.visible){series.setData(axisData,false)}});axis.treeGrid.mapOptionsToLevel=TreeGridAxis_getLevelOptions({defaults:labelOptions,from:1,levels:labelOptions&&labelOptions.levels,to:axis.treeGrid.tree&&axis.treeGrid.tree.height});if(e.type==="beforeRender"){axis.treeGrid.collapsedNodes=treeGrid.collapsedNodes}}})}function wrapGenerateTick(proceed,pos){var axis=this,mapOptionsToLevel=axis.treeGrid.mapOptionsToLevel||{},isTreeGrid=axis.type==="treegrid",ticks=axis.ticks;var tick=ticks[pos],levelOptions,options,gridNode;if(isTreeGrid&&axis.treeGrid.mapOfPosToGridNode){gridNode=axis.treeGrid.mapOfPosToGridNode[pos];levelOptions=mapOptionsToLevel[gridNode.depth];if(levelOptions){options={labels:levelOptions}}if(!tick&&TickConstructor){ticks[pos]=tick=new TickConstructor(axis,pos,void 0,void 0,{category:gridNode.name,tickmarkOffset:gridNode.tickmarkOffset,options:options})}else{tick.parameters.category=gridNode.name;tick.options=options;tick.addLabel()}}else{proceed.apply(axis,Array.prototype.slice.call(arguments,1))}}function wrapInit(proceed,chart,userOptions,coll){var axis=this,isTreeGrid=userOptions.type==="treegrid";if(!axis.treeGrid){axis.treeGrid=new TreeGridAxisAdditions(axis)}if(isTreeGrid){TreeGridAxis_addEvent(chart,"beforeRender",onBeforeRender);TreeGridAxis_addEvent(chart,"beforeRedraw",onBeforeRender);TreeGridAxis_addEvent(chart,"addSeries",function(e){if(e.options.data){var treeGrid=getTreeGridFromData(e.options.data,userOptions.uniqueNames||false,1);axis.treeGrid.collapsedNodes=(axis.treeGrid.collapsedNodes||[]).concat(treeGrid.collapsedNodes)}});TreeGridAxis_addEvent(axis,"foundExtremes",function(){if(axis.treeGrid.collapsedNodes){axis.treeGrid.collapsedNodes.forEach(function(node){var breaks=axis.treeGrid.collapse(node);if(axis.brokenAxis){axis.brokenAxis.setBreaks(breaks,false);if(axis.treeGrid.collapsedNodes){axis.treeGrid.collapsedNodes=axis.treeGrid.collapsedNodes.filter(function(n){return node.collapseStart!==n.collapseStart||node.collapseEnd!==n.collapseEnd})}}})}});TreeGridAxis_addEvent(axis,"afterBreaks",function(){if(axis.coll==="yAxis"&&!axis.staticScale&&axis.chart.options.chart.height){axis.isDirty=true}});userOptions=TreeGridAxis_merge({grid:{enabled:true},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10}},uniqueNames:false},userOptions,{reversed:true})}proceed.apply(axis,[chart,userOptions,coll]);if(isTreeGrid){axis.hasNames=true;axis.options.showLastLabel=true}}function wrapSetTickInterval(proceed){var _a,_b,_c,_d,_e;var axis=this,options=axis.options,time=axis.chart.time,linkedParent=typeof options.linkedTo==="number"?(_a=this.chart[axis.coll])===null||_a===void 0?void 0:_a[options.linkedTo]:void 0,isTreeGrid=axis.type==="treegrid";if(isTreeGrid){axis.min=(_c=(_b=axis.userMin)!==null&&_b!==void 0?_b:time.parse(options.min))!==null&&_c!==void 0?_c:axis.dataMin;axis.max=(_e=(_d=axis.userMax)!==null&&_d!==void 0?_d:time.parse(options.max))!==null&&_e!==void 0?_e:axis.dataMax;TreeGridAxis_fireEvent(axis,"foundExtremes");axis.setAxisTranslation();axis.tickInterval=1;axis.tickmarkOffset=.5;axis.tickPositions=axis.treeGrid.mapOfPosToGridNode?axis.treeGrid.getTickPositions():[];if(linkedParent){var linkedParentExtremes=linkedParent.getExtremes();axis.min=TreeGridAxis_pick(linkedParentExtremes.min,linkedParentExtremes.dataMin);axis.max=TreeGridAxis_pick(linkedParentExtremes.max,linkedParentExtremes.dataMax);axis.tickPositions=linkedParent.tickPositions}axis.linkedParent=linkedParent}else{proceed.apply(axis,Array.prototype.slice.call(arguments,1))}}function wrapRedraw(proceed){var axis=this,isTreeGrid=this.type==="treegrid";if(isTreeGrid&&axis.visible){axis.tickPositions.forEach(function(pos){var tick=axis.ticks[pos];if(tick.label&&tick.label.attachedTreeGridEvents){TreeGridAxis_removeEvent(tick.label.element);tick.label.attachedTreeGridEvents=false}})}proceed.apply(axis,Array.prototype.slice.call(arguments,1))}var TreeGridAxisAdditions=function(){function TreeGridAxisAdditions(axis){this.axis=axis}TreeGridAxisAdditions.compose=function(AxisClass,ChartClass,SeriesClass,TickClass){if(!AxisClass.keepProps.includes("treeGrid")){var axisProps=AxisClass.prototype;AxisClass.keepProps.push("treeGrid");TreeGridAxis_wrap(axisProps,"generateTick",wrapGenerateTick);TreeGridAxis_wrap(axisProps,"init",wrapInit);TreeGridAxis_wrap(axisProps,"setTickInterval",wrapSetTickInterval);TreeGridAxis_wrap(axisProps,"redraw",wrapRedraw);axisProps.utils={getNode:Gantt_Tree.getNode};if(!TickConstructor){TickConstructor=TickClass}}Axis_GridAxis.compose(AxisClass,ChartClass,TickClass);Axis_BrokenAxis.compose(AxisClass,SeriesClass);TreeGridTick.compose(TickClass);return AxisClass};TreeGridAxisAdditions.prototype.setCollapsedStatus=function(node){var axis=this.axis,chart=axis.chart;axis.series.forEach(function(series){var data=series.options.data;if(node.id&&data){var point=chart.get(node.id),dataPoint=data[series.data.indexOf(point)];if(point&&dataPoint){point.collapsed=node.collapsed;dataPoint.collapsed=node.collapsed}}})};TreeGridAxisAdditions.prototype.collapse=function(node){var axis=this.axis,breaks=axis.options.breaks||[],obj=getBreakFromNode(node,axis.max);breaks.push(obj);node.collapsed=true;axis.treeGrid.setCollapsedStatus(node);return breaks};TreeGridAxisAdditions.prototype.expand=function(node){var axis=this.axis,breaks=axis.options.breaks||[],obj=getBreakFromNode(node,axis.max);node.collapsed=false;axis.treeGrid.setCollapsedStatus(node);return breaks.reduce(function(arr,b){if(b.to!==obj.to||b.from!==obj.from){arr.push(b)}return arr},[])};TreeGridAxisAdditions.prototype.getTickPositions=function(){var axis=this.axis,roundedMin=Math.floor(axis.min/axis.tickInterval)*axis.tickInterval,roundedMax=Math.ceil(axis.max/axis.tickInterval)*axis.tickInterval;return Object.keys(axis.treeGrid.mapOfPosToGridNode||{}).reduce(function(arr,key){var pos=+key;if(pos>=roundedMin&&pos<=roundedMax&&!(axis.brokenAxis&&axis.brokenAxis.isInAnyBreak(pos))){arr.push(pos)}return arr},[])};TreeGridAxisAdditions.prototype.isCollapsed=function(node){var axis=this.axis,breaks=axis.options.breaks||[],obj=getBreakFromNode(node,axis.max);return breaks.some(function(b){return b.from===obj.from&&b.to===obj.to})};TreeGridAxisAdditions.prototype.toggleCollapse=function(node){return this.isCollapsed(node)?this.expand(node):this.collapse(node)};return TreeGridAxisAdditions}();var TreeGridAxis=TreeGridAxisAdditions;var G=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();TreeGridAxis.compose(G.Axis,G.Chart,G.Series,G.Tick);var treegrid_src=highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__}()});